function s1(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function kd(e){return s1(e)&&typeof e._ref=="string"}function g9e(e){return s1(e)&&kd(e.asset)&&e.asset._ref.startsWith("image-")}function xbe(e){return s1(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function v9e(e){return s1(e)&&typeof e._id=="string"&&typeof e._type=="string"}function O6(e){return s1(e)&&typeof e._type=="string"}function Ul(e){return s1(e)&&typeof e._key=="string"}function y9e(e){return e.level==="error"}const b9e=/_key\s*==\s*['"](.*)['"]/,x9e=/^\d*:\d*$/;function Bl(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Lr(e){return typeof e=="string"?b9e.test(e.trim()):typeof e=="object"&&"_key"in e}function mm(e){if(typeof e=="string"&&x9e.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function MS(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Xu(e){return MS(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>MS(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>MS(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function aa(e){return MS(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function w9e(e){return Xu(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function Ym(e){return!!e&&(typeof e=="object"||typeof e=="function")}function ul(e){return Ym(e)?e.jsonType==="object":!1}function tc(e){return Ym(e)?e.jsonType==="array":!1}function $6(e){return tc(e)&&e.of.every(t=>ul(t))}function C9e(e){return tc(e)&&e.of.every(t=>Cbe(t))}function aC(e){return Ym(e)?e.jsonType==="boolean":!1}function wbe(e){return Ym(e)?e.jsonType==="string":!1}function gm(e){return Ym(e)?e.jsonType==="number":!1}function Cbe(e){return aC(e)||wbe(e)||gm(e)}function Qu(e){return Ym(e)&&(e.name==="reference"||Qu(e.type))}function R6(e){return Ym(e)&&(e.name==="crossDatasetReference"||R6(e.type))}function M6(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function lT(e,t){return e}function _9e(e,t){return e}function S9e(e){return e.level==="error"}function E9e(e){return e.level==="warning"}var Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function k9e(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var _be={exports:{}},cT={},Sbe={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC=Symbol.for("react.element"),j9e=Symbol.for("react.portal"),T9e=Symbol.for("react.fragment"),A9e=Symbol.for("react.strict_mode"),D9e=Symbol.for("react.profiler"),P9e=Symbol.for("react.provider"),I9e=Symbol.for("react.context"),O9e=Symbol.for("react.forward_ref"),$9e=Symbol.for("react.suspense"),R9e=Symbol.for("react.memo"),M9e=Symbol.for("react.lazy"),DU=Symbol.iterator;function F9e(e){return e===null||typeof e!="object"?null:(e=DU&&e[DU]||e["@@iterator"],typeof e=="function"?e:null)}var Ebe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kbe=Object.assign,jbe={};function a1(e,t,n){this.props=e,this.context=t,this.refs=jbe,this.updater=n||Ebe}a1.prototype.isReactComponent={};a1.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};a1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tbe(){}Tbe.prototype=a1.prototype;function F6(e,t,n){this.props=e,this.context=t,this.refs=jbe,this.updater=n||Ebe}var L6=F6.prototype=new Tbe;L6.constructor=F6;kbe(L6,a1.prototype);L6.isPureReactComponent=!0;var PU=Array.isArray,Abe=Object.prototype.hasOwnProperty,B6={current:null},Dbe={key:!0,ref:!0,__self:!0,__source:!0};function Pbe(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Abe.call(t,r)&&!Dbe.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:lC,type:e,key:i,ref:s,props:o,_owner:B6.current}}function L9e(e,t){return{$$typeof:lC,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function N6(e){return typeof e=="object"&&e!==null&&e.$$typeof===lC}function B9e(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var IU=/\/+/g;function hI(e,t){return typeof e=="object"&&e!==null&&e.key!=null?B9e(""+e.key):t.toString(36)}function FS(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case lC:case j9e:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+hI(s,0):r,PU(o)?(n="",e!=null&&(n=e.replace(IU,"$&/")+"/"),FS(o,t,n,"",function(u){return u})):o!=null&&(N6(o)&&(o=L9e(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(IU,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",PU(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+hI(i,a);s+=FS(i,t,n,l,o)}else if(l=F9e(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+hI(i,a++),s+=FS(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function z_(e,t,n){if(e==null)return e;var r=[],o=0;return FS(e,r,"","",function(i){return t.call(n,i,o++)}),r}function N9e(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ds={current:null},LS={transition:null},z9e={ReactCurrentDispatcher:ds,ReactCurrentBatchConfig:LS,ReactCurrentOwner:B6};qt.Children={map:z_,forEach:function(e,t,n){z_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return z_(e,function(){t++}),t},toArray:function(e){return z_(e,function(t){return t})||[]},only:function(e){if(!N6(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qt.Component=a1;qt.Fragment=T9e;qt.Profiler=D9e;qt.PureComponent=F6;qt.StrictMode=A9e;qt.Suspense=$9e;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z9e;qt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kbe({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=B6.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Abe.call(t,l)&&!Dbe.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:lC,type:e.type,key:o,ref:i,props:r,_owner:s}};qt.createContext=function(e){return e={$$typeof:I9e,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:P9e,_context:e},e.Consumer=e};qt.createElement=Pbe;qt.createFactory=function(e){var t=Pbe.bind(null,e);return t.type=e,t};qt.createRef=function(){return{current:null}};qt.forwardRef=function(e){return{$$typeof:O9e,render:e}};qt.isValidElement=N6;qt.lazy=function(e){return{$$typeof:M9e,_payload:{_status:-1,_result:e},_init:N9e}};qt.memo=function(e,t){return{$$typeof:R9e,type:e,compare:t===void 0?null:t}};qt.startTransition=function(e){var t=LS.transition;LS.transition={};try{e()}finally{LS.transition=t}};qt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};qt.useCallback=function(e,t){return ds.current.useCallback(e,t)};qt.useContext=function(e){return ds.current.useContext(e)};qt.useDebugValue=function(){};qt.useDeferredValue=function(e){return ds.current.useDeferredValue(e)};qt.useEffect=function(e,t){return ds.current.useEffect(e,t)};qt.useId=function(){return ds.current.useId()};qt.useImperativeHandle=function(e,t,n){return ds.current.useImperativeHandle(e,t,n)};qt.useInsertionEffect=function(e,t){return ds.current.useInsertionEffect(e,t)};qt.useLayoutEffect=function(e,t){return ds.current.useLayoutEffect(e,t)};qt.useMemo=function(e,t){return ds.current.useMemo(e,t)};qt.useReducer=function(e,t,n){return ds.current.useReducer(e,t,n)};qt.useRef=function(e){return ds.current.useRef(e)};qt.useState=function(e){return ds.current.useState(e)};qt.useSyncExternalStore=function(e,t,n){return ds.current.useSyncExternalStore(e,t,n)};qt.useTransition=function(){return ds.current.useTransition()};qt.version="18.2.0";Sbe.exports=qt;var h=Sbe.exports;const ne=Pe(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V9e=h,H9e=Symbol.for("react.element"),U9e=Symbol.for("react.fragment"),W9e=Object.prototype.hasOwnProperty,Y9e=V9e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q9e={key:!0,ref:!0,__self:!0,__source:!0};function Ibe(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)W9e.call(t,r)&&!q9e.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:H9e,type:e,key:i,ref:s,props:o,_owner:Y9e.current}}cT.Fragment=U9e;cT.jsx=Ibe;cT.jsxs=Ibe;_be.exports=cT;var c=_be.exports;const G9e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K9e=/_key\s*==\s*['"](.*)['"]/,Obe=[],$be="$";function qm(e,t,n){const r=typeof t=="string"?Wl(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let o=e;for(let i=0;i<r.length;i++){const s=r[i];if(Bl(s)){if(!Array.isArray(o))return n;o=o[s]}if(Lr(s)){if(!Array.isArray(o))return n;o=o.find(a=>a._key===s._key)}if(typeof s=="string"&&(o=typeof o=="object"&&o!==null?o[s]:void 0),typeof o>"u")return n}return o}const pI=new Map;function qc(e){if(e.length===0)return Obe;const t=Ur(e);return pI.has(t)?pI.get(t):(pI.set(t,e),Object.freeze(e),e)}function Cn(e,t){return e.length===t.length&&e.every((n,r)=>uT(n,t[r]))}function Z9e(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!uT(e[r],t[r]))return r;return n}function uT(e,t){return Lr(e)&&Lr(t)?e._key===t._key:Bl(e)?Number(e)===Number(t):mm(e)&&mm(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function Ii(e,t){return e.every((n,r)=>uT(n,t[r]))}function Bb(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[o,...i]=t;return uT(n,o)?qc(Bb(r,i)):t}function z6(e,t){return Ii(e,t)?Bb(e,t):Obe}function Ur(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Lr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function jR(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const i=e[n];return[typeof(i==null?void 0:i._key)=="string"?{_key:i._key}:n,...jR(i,r)]}const o=qm(e,[n]);return[n,...jR(o,r)]}function X9e(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return qc(jR(e,t))}function Wl(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(G9e);if(!t)throw new Error("Invalid path string");return t.map(Q9e)}function Q9e(e){return Bl(e)?J9e(e):Lr(e)?e7e(e):mm(e)?t7e(e):e}function J9e(e){return Number(e.replace(/[^\d]/g,""))}function e7e(e){return{_key:e.match(K9e)[1]}}function t7e(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var n7e=typeof Element<"u",r7e=typeof Map=="function",o7e=typeof Set=="function",i7e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function BS(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!BS(e[r],t[r]))return!1;return!0}var i;if(r7e&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!BS(r.value[1],t.get(r.value[0])))return!1;return!0}if(o7e&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(i7e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(n7e&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!BS(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var s7e=function(t,n){try{return BS(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const V6=Pe(s7e);function a7e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var dl=a7e;const cC=Pe(dl);var l7e=typeof Ds=="object"&&Ds&&Ds.Object===Object&&Ds,Rbe=l7e,c7e=Rbe,u7e=typeof self=="object"&&self&&self.Object===Object&&self,d7e=c7e||u7e||Function("return this")(),nc=d7e,f7e=nc,h7e=function(){return f7e.Date.now()},p7e=h7e,m7e=/\s/;function g7e(e){for(var t=e.length;t--&&m7e.test(e.charAt(t)););return t}var v7e=g7e,y7e=v7e,b7e=/^\s+/;function x7e(e){return e&&e.slice(0,y7e(e)+1).replace(b7e,"")}var Mbe=x7e,w7e=nc,C7e=w7e.Symbol,l1=C7e,OU=l1,Fbe=Object.prototype,_7e=Fbe.hasOwnProperty,S7e=Fbe.toString,vy=OU?OU.toStringTag:void 0;function E7e(e){var t=_7e.call(e,vy),n=e[vy];try{e[vy]=void 0;var r=!0}catch{}var o=S7e.call(e);return r&&(t?e[vy]=n:delete e[vy]),o}var k7e=E7e,j7e=Object.prototype,T7e=j7e.toString;function A7e(e){return T7e.call(e)}var D7e=A7e,$U=l1,P7e=k7e,I7e=D7e,O7e="[object Null]",$7e="[object Undefined]",RU=$U?$U.toStringTag:void 0;function R7e(e){return e==null?e===void 0?$7e:O7e:RU&&RU in Object(e)?P7e(e):I7e(e)}var _h=R7e;function M7e(e){return e!=null&&typeof e=="object"}var fl=M7e,F7e=_h,L7e=fl,B7e="[object Symbol]";function N7e(e){return typeof e=="symbol"||L7e(e)&&F7e(e)==B7e}var Gm=N7e,z7e=Mbe,MU=dl,V7e=Gm,FU=0/0,H7e=/^[-+]0x[0-9a-f]+$/i,U7e=/^0b[01]+$/i,W7e=/^0o[0-7]+$/i,Y7e=parseInt;function q7e(e){if(typeof e=="number")return e;if(V7e(e))return FU;if(MU(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=MU(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=z7e(e);var n=U7e.test(e);return n||W7e.test(e)?Y7e(e.slice(2),n?2:8):H7e.test(e)?FU:+e}var Lbe=q7e,G7e=dl,mI=p7e,LU=Lbe,K7e="Expected a function",Z7e=Math.max,X7e=Math.min;function Q7e(e,t,n){var r,o,i,s,a,l,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(K7e);t=LU(t)||0,G7e(n)&&(d=!!n.leading,f="maxWait"in n,i=f?Z7e(LU(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function m(S){var E=r,j=o;return r=o=void 0,u=S,s=e.apply(j,E),s}function v(S){return u=S,a=setTimeout(x,t),d?m(S):s}function g(S){var E=S-l,j=S-u,k=t-E;return f?X7e(k,i-j):k}function y(S){var E=S-l,j=S-u;return l===void 0||E>=t||E<0||f&&j>=i}function x(){var S=mI();if(y(S))return b(S);a=setTimeout(x,g(S))}function b(S){return a=void 0,p&&r?m(S):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=o=a=void 0}function C(){return a===void 0?s:b(mI())}function _(){var S=mI(),E=y(S);if(r=arguments,o=this,l=S,E){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(x,t),m(l)}return a===void 0&&(a=setTimeout(x,t)),s}return _.cancel=w,_.flush=C,_}var Bbe=Q7e;const uC=Pe(Bbe);function H6(){var e=Object.create(null),t=0;function n(o){var i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(var i in e)e[i](o)}return{publish:r,subscribe:n}}var Nbe={exports:{}},jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=typeof Symbol=="function"&&Symbol.for,U6=Zo?Symbol.for("react.element"):60103,W6=Zo?Symbol.for("react.portal"):60106,dT=Zo?Symbol.for("react.fragment"):60107,fT=Zo?Symbol.for("react.strict_mode"):60108,hT=Zo?Symbol.for("react.profiler"):60114,pT=Zo?Symbol.for("react.provider"):60109,mT=Zo?Symbol.for("react.context"):60110,Y6=Zo?Symbol.for("react.async_mode"):60111,gT=Zo?Symbol.for("react.concurrent_mode"):60111,vT=Zo?Symbol.for("react.forward_ref"):60112,yT=Zo?Symbol.for("react.suspense"):60113,J7e=Zo?Symbol.for("react.suspense_list"):60120,bT=Zo?Symbol.for("react.memo"):60115,xT=Zo?Symbol.for("react.lazy"):60116,eBe=Zo?Symbol.for("react.block"):60121,tBe=Zo?Symbol.for("react.fundamental"):60117,nBe=Zo?Symbol.for("react.responder"):60118,rBe=Zo?Symbol.for("react.scope"):60119;function xa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case U6:switch(e=e.type,e){case Y6:case gT:case dT:case hT:case fT:case yT:return e;default:switch(e=e&&e.$$typeof,e){case mT:case vT:case xT:case bT:case pT:return e;default:return t}}case W6:return t}}}function zbe(e){return xa(e)===gT}jn.AsyncMode=Y6;jn.ConcurrentMode=gT;jn.ContextConsumer=mT;jn.ContextProvider=pT;jn.Element=U6;jn.ForwardRef=vT;jn.Fragment=dT;jn.Lazy=xT;jn.Memo=bT;jn.Portal=W6;jn.Profiler=hT;jn.StrictMode=fT;jn.Suspense=yT;jn.isAsyncMode=function(e){return zbe(e)||xa(e)===Y6};jn.isConcurrentMode=zbe;jn.isContextConsumer=function(e){return xa(e)===mT};jn.isContextProvider=function(e){return xa(e)===pT};jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===U6};jn.isForwardRef=function(e){return xa(e)===vT};jn.isFragment=function(e){return xa(e)===dT};jn.isLazy=function(e){return xa(e)===xT};jn.isMemo=function(e){return xa(e)===bT};jn.isPortal=function(e){return xa(e)===W6};jn.isProfiler=function(e){return xa(e)===hT};jn.isStrictMode=function(e){return xa(e)===fT};jn.isSuspense=function(e){return xa(e)===yT};jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===dT||e===gT||e===hT||e===fT||e===yT||e===J7e||typeof e=="object"&&e!==null&&(e.$$typeof===xT||e.$$typeof===bT||e.$$typeof===pT||e.$$typeof===mT||e.$$typeof===vT||e.$$typeof===tBe||e.$$typeof===nBe||e.$$typeof===rBe||e.$$typeof===eBe)};jn.typeOf=xa;Nbe.exports=jn;var da=Nbe.exports;const oBe=Pe(da);var TR=function(e,t){return TR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},TR(e,t)};function wa(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");TR(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Po=function(){return Po=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Po.apply(this,arguments)};function iBe(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function l(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function Vbe(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function vm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function fi(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function zv(e){return this instanceof zv?(this.v=e,this):new zv(e)}function sBe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){r[p]&&(o[p]=function(m){return new Promise(function(v,g){i.push([p,m,v,g])>1||a(p,m)})})}function a(p,m){try{l(r[p](m))}catch(v){f(i[0][3],v)}}function l(p){p.value instanceof zv?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function aBe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof vm=="function"?vm(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){s=e[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},s)}}var ir="-ms-",Nb="-moz-",xn="-webkit-",Hbe="comm",wT="rule",q6="decl",lBe="@import",Ube="@keyframes",cBe="@layer",uBe=Math.abs,G6=String.fromCharCode,AR=Object.assign;function dBe(e,t){return Vo(e,0)^45?(((t<<2^Vo(e,0))<<2^Vo(e,1))<<2^Vo(e,2))<<2^Vo(e,3):0}function Wbe(e){return e.trim()}function Eu(e,t){return(e=t.exec(e))?e[0]:e}function Tt(e,t,n){return e.replace(t,n)}function NS(e,t){return e.indexOf(t)}function Vo(e,t){return e.charCodeAt(t)|0}function x0(e,t,n){return e.slice(t,n)}function kc(e){return e.length}function Ybe(e){return e.length}function ub(e,t){return t.push(e),e}function fBe(e,t){return e.map(t).join("")}function BU(e,t){return e.filter(function(n){return!Eu(n,t)})}var CT=1,w0=1,qbe=0,ol=0,mo=0,c1="";function _T(e,t,n,r,o,i,s,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:CT,column:w0,length:s,return:"",siblings:a}}function Gd(e,t){return AR(_T("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Pg(e){for(;e.root;)e=Gd(e.root,{children:[e]});ub(e,e.siblings)}function hBe(){return mo}function pBe(){return mo=ol>0?Vo(c1,--ol):0,w0--,mo===10&&(w0=1,CT--),mo}function Nl(){return mo=ol<qbe?Vo(c1,ol++):0,w0++,mo===10&&(w0=1,CT++),mo}function em(){return Vo(c1,ol)}function zS(){return ol}function ST(e,t){return x0(c1,e,t)}function DR(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mBe(e){return CT=w0=1,qbe=kc(c1=e),ol=0,[]}function gBe(e){return c1="",e}function gI(e){return Wbe(ST(ol-1,PR(e===91?e+2:e===40?e+1:e)))}function vBe(e){for(;(mo=em())&&mo<33;)Nl();return DR(e)>2||DR(mo)>3?"":" "}function yBe(e,t){for(;--t&&Nl()&&!(mo<48||mo>102||mo>57&&mo<65||mo>70&&mo<97););return ST(e,zS()+(t<6&&em()==32&&Nl()==32))}function PR(e){for(;Nl();)switch(mo){case e:return ol;case 34:case 39:e!==34&&e!==39&&PR(mo);break;case 40:e===41&&PR(e);break;case 92:Nl();break}return ol}function bBe(e,t){for(;Nl()&&e+mo!==47+10;)if(e+mo===42+42&&em()===47)break;return"/*"+ST(t,ol-1)+"*"+G6(e===47?e:Nl())}function xBe(e){for(;!DR(em());)Nl();return ST(e,ol)}function wBe(e){return gBe(VS("",null,null,null,[""],e=mBe(e),0,[0],e))}function VS(e,t,n,r,o,i,s,a,l){for(var u=0,d=0,f=s,p=0,m=0,v=0,g=1,y=1,x=1,b=0,w="",C=o,_=i,S=r,E=w;y;)switch(v=b,b=Nl()){case 40:if(v!=108&&Vo(E,f-1)==58){NS(E+=Tt(gI(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:E+=gI(b);break;case 9:case 10:case 13:case 32:E+=vBe(v);break;case 92:E+=yBe(zS()-1,7);continue;case 47:switch(em()){case 42:case 47:ub(CBe(bBe(Nl(),zS()),t,n,l),l);break;default:E+="/"}break;case 123*g:a[u++]=kc(E)*x;case 125*g:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+d:x==-1&&(E=Tt(E,/\f/g,"")),m>0&&kc(E)-f&&ub(m>32?zU(E+";",r,n,f-1,l):zU(Tt(E," ","")+";",r,n,f-2,l),l);break;case 59:E+=";";default:if(ub(S=NU(E,t,n,u,d,o,a,w,C=[],_=[],f,i),i),b===123)if(d===0)VS(E,t,S,S,C,i,f,a,_);else switch(p===99&&Vo(E,3)===110?100:p){case 100:case 108:case 109:case 115:VS(e,S,S,r&&ub(NU(e,S,S,0,0,o,a,w,o,C=[],f,_),_),o,_,f,a,r?C:_);break;default:VS(E,S,S,S,[""],_,0,a,_)}}u=d=m=0,g=x=1,w=E="",f=s;break;case 58:f=1+kc(E),m=v;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&pBe()==125)continue}switch(E+=G6(b),b*g){case 38:x=d>0?1:(E+="\f",-1);break;case 44:a[u++]=(kc(E)-1)*x,x=1;break;case 64:em()===45&&(E+=gI(Nl())),p=em(),d=f=kc(w=E+=xBe(zS())),b++;break;case 45:v===45&&kc(E)==2&&(g=0)}}return i}function NU(e,t,n,r,o,i,s,a,l,u,d,f){for(var p=o-1,m=o===0?i:[""],v=Ybe(m),g=0,y=0,x=0;g<r;++g)for(var b=0,w=x0(e,p+1,p=uBe(y=s[g])),C=e;b<v;++b)(C=Wbe(y>0?m[b]+" "+w:Tt(w,/&\f/g,m[b])))&&(l[x++]=C);return _T(e,t,n,o===0?wT:a,l,u,d,f)}function CBe(e,t,n,r){return _T(e,t,n,Hbe,G6(hBe()),x0(e,2,-2),0,r)}function zU(e,t,n,r,o){return _T(e,t,n,q6,x0(e,0,r),x0(e,r+1,-1),r,o)}function Gbe(e,t,n){switch(dBe(e,t)){case 5103:return xn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xn+e+e;case 4789:return Nb+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return xn+e+Nb+e+ir+e+e;case 5936:switch(Vo(e,t+11)){case 114:return xn+e+ir+Tt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return xn+e+ir+Tt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return xn+e+ir+Tt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return xn+e+ir+e+e;case 6165:return xn+e+ir+"flex-"+e+e;case 5187:return xn+e+Tt(e,/(\w+).+(:[^]+)/,xn+"box-$1$2"+ir+"flex-$1$2")+e;case 5443:return xn+e+ir+"flex-item-"+Tt(e,/flex-|-self/g,"")+(Eu(e,/flex-|baseline/)?"":ir+"grid-row-"+Tt(e,/flex-|-self/g,""))+e;case 4675:return xn+e+ir+"flex-line-pack"+Tt(e,/align-content|flex-|-self/g,"")+e;case 5548:return xn+e+ir+Tt(e,"shrink","negative")+e;case 5292:return xn+e+ir+Tt(e,"basis","preferred-size")+e;case 6060:return xn+"box-"+Tt(e,"-grow","")+xn+e+ir+Tt(e,"grow","positive")+e;case 4554:return xn+Tt(e,/([^-])(transform)/g,"$1"+xn+"$2")+e;case 6187:return Tt(Tt(Tt(e,/(zoom-|grab)/,xn+"$1"),/(image-set)/,xn+"$1"),e,"")+e;case 5495:case 3959:return Tt(e,/(image-set\([^]*)/,xn+"$1$`$1");case 4968:return Tt(Tt(e,/(.+:)(flex-)?(.*)/,xn+"box-pack:$3"+ir+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xn+e+e;case 4200:if(!Eu(e,/flex-|baseline/))return ir+"grid-column-align"+x0(e,t)+e;break;case 2592:case 3360:return ir+Tt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,Eu(r.props,/grid-\w+-end/)})?~NS(e+(n=n[t].value),"span")?e:ir+Tt(e,"-start","")+e+ir+"grid-row-span:"+(~NS(n,"span")?Eu(n,/\d+/):+Eu(n,/\d+/)-+Eu(e,/\d+/))+";":ir+Tt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Eu(r.props,/grid-\w+-start/)})?e:ir+Tt(Tt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Tt(e,/(.+)-inline(.+)/,xn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kc(e)-1-t>6)switch(Vo(e,t+1)){case 109:if(Vo(e,t+4)!==45)break;case 102:return Tt(e,/(.+:)(.+)-([^]+)/,"$1"+xn+"$2-$3$1"+Nb+(Vo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~NS(e,"stretch")?Gbe(Tt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Tt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,i,s,a,l,u){return ir+o+":"+i+u+(s?ir+o+"-span:"+(a?l:+l-+i)+u:"")+e});case 4949:if(Vo(e,t+6)===121)return Tt(e,":",":"+xn)+e;break;case 6444:switch(Vo(e,Vo(e,14)===45?18:11)){case 120:return Tt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+xn+(Vo(e,14)===45?"inline-":"")+"box$3$1"+xn+"$2$3$1"+ir+"$2box$3")+e;case 100:return Tt(e,":",":"+ir)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Tt(e,"scroll-","scroll-snap-")+e}return e}function ck(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function _Be(e,t,n,r){switch(e.type){case cBe:if(e.children.length)break;case lBe:case q6:return e.return=e.return||e.value;case Hbe:return"";case Ube:return e.return=e.value+"{"+ck(e.children,r)+"}";case wT:if(!kc(e.value=e.props.join(",")))return""}return kc(n=ck(e.children,r))?e.return=e.value+"{"+n+"}":""}function SBe(e){var t=Ybe(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}function EBe(e){return function(t){t.root||(t=t.return)&&e(t)}}function kBe(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case q6:e.return=Gbe(e.value,e.length,n);return;case Ube:return ck([Gd(e,{value:Tt(e.value,"@","@"+xn)})],r);case wT:if(e.length)return fBe(n=e.props,function(o){switch(Eu(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Pg(Gd(e,{props:[Tt(o,/:(read-\w+)/,":"+Nb+"$1")]})),Pg(Gd(e,{props:[o]})),AR(e,{props:BU(n,r)});break;case"::placeholder":Pg(Gd(e,{props:[Tt(o,/:(plac\w+)/,":"+xn+"input-$1")]})),Pg(Gd(e,{props:[Tt(o,/:(plac\w+)/,":"+Nb+"$1")]})),Pg(Gd(e,{props:[Tt(o,/:(plac\w+)/,ir+"input-$1")]})),Pg(Gd(e,{props:[o]})),AR(e,{props:BU(n,r)});break}return""})}}var jBe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},C0=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",K6=typeof window<"u"&&"HTMLElement"in window,TBe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),ABe={},ET=Object.freeze([]),_0=Object.freeze({});function Kbe(e,t,n){return n===void 0&&(n=_0),e.theme!==n.theme&&e.theme||t||n.theme}var Zbe=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),DBe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,PBe=/(^-|-$)/g;function VU(e){return e.replace(DBe,"-").replace(PBe,"")}var IBe=/(a)(d)/gi,HU=function(e){return String.fromCharCode(e+(e>25?39:97))};function IR(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=HU(t%52)+n;return(HU(t%52)+n).replace(IBe,"$1-$2")}var vI,uv=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Xbe=function(e){return uv(5381,e)};function Z6(e){return IR(Xbe(e)>>>0)}function OBe(e){return e.displayName||e.name||"Component"}function yI(e){return typeof e=="string"&&!0}var Qbe=typeof Symbol=="function"&&Symbol.for,Jbe=Qbe?Symbol.for("react.memo"):60115,$Be=Qbe?Symbol.for("react.forward_ref"):60112,RBe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},MBe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},exe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},FBe=((vI={})[$Be]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vI[Jbe]=exe,vI);function UU(e){return("type"in(t=e)&&t.type.$$typeof)===Jbe?exe:"$$typeof"in e?FBe[e.$$typeof]:RBe;var t}var LBe=Object.defineProperty,BBe=Object.getOwnPropertyNames,WU=Object.getOwnPropertySymbols,NBe=Object.getOwnPropertyDescriptor,zBe=Object.getPrototypeOf,YU=Object.prototype;function txe(e,t,n){if(typeof t!="string"){if(YU){var r=zBe(t);r&&r!==YU&&txe(e,r,n)}var o=BBe(t);WU&&(o=o.concat(WU(t)));for(var i=UU(e),s=UU(t),a=0;a<o.length;++a){var l=o[a];if(!(l in MBe||n&&n[l]||s&&l in s||i&&l in i)){var u=NBe(t,l);try{LBe(e,l,u)}catch{}}}}return e}function ym(e){return typeof e=="function"}function X6(e){return typeof e=="object"&&"styledComponentId"in e}function Mp(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function uk(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function $x(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function OR(e,t,n){if(n===void 0&&(n=!1),!n&&!$x(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=OR(e[r],t[r]);else if($x(t))for(var r in t)e[r]=OR(e[r],t[r]);return e}function Q6(e,t){Object.defineProperty(e,"toString",{value:t})}function nh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var VBe=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,i=o;t>=i;)if((i<<=1)<0)throw nh(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var s=o;s<i;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(t+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var i=r;i<o;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),i=o+r,s=o;s<i;s++)n+="".concat(this.tag.getRule(s)).concat(`/*!sc*/
`);return n},e}(),HS=new Map,dk=new Map,US=1,V_=function(e){if(HS.has(e))return HS.get(e);for(;dk.has(US);)US++;var t=US++;return HS.set(e,t),dk.set(t,e),t},HBe=function(e,t){US=t+1,HS.set(e,t),dk.set(t,e)},UBe="style[".concat(C0,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),WBe=new RegExp("^".concat(C0,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),YBe=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},qBe=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),o=[],i=0,s=r.length;i<s;i++){var a=r[i].trim();if(a){var l=a.match(WBe);if(l){var u=0|parseInt(l[1],10),d=l[2];u!==0&&(HBe(d,u),YBe(e,d,l[3]),e.getTag().insertRules(u,o)),o.length=0}else o.push(a)}}};function GBe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var nxe=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(a){var l=Array.from(a.querySelectorAll("style[".concat(C0,"]")));return l[l.length-1]}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(C0,"active"),r.setAttribute("data-styled-version","6.1.1");var s=GBe();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},KBe=function(){function e(t){this.element=nxe(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,i=r.length;o<i;o++){var s=r[o];if(s.ownerNode===n)return s}throw nh(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),ZBe=function(){function e(t){this.element=nxe(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),XBe=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),qU=K6,QBe={isServer:!K6,useCSSOMInjection:!TBe},fk=function(){function e(t,n,r){t===void 0&&(t=_0),n===void 0&&(n={});var o=this;this.options=Po(Po({},QBe),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&K6&&qU&&(qU=!1,function(i){for(var s=document.querySelectorAll(UBe),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(C0)!=="active"&&(qBe(i,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),Q6(this,function(){return function(i){for(var s=i.getTag(),a=s.length,l="",u=function(f){var p=function(x){return dk.get(x)}(f);if(p===void 0)return"continue";var m=i.names.get(p),v=s.getGroup(f);if(m===void 0||v.length===0)return"continue";var g="".concat(C0,".g").concat(f,'[id="').concat(p,'"]'),y="";m!==void 0&&m.forEach(function(x){x.length>0&&(y+="".concat(x,","))}),l+="".concat(v).concat(g,'{content:"').concat(y,'"}').concat(`/*!sc*/
`)},d=0;d<a;d++)u(d);return l}(o)})}return e.registerId=function(t){return V_(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Po(Po({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new XBe(o):r?new KBe(o):new ZBe(o)}(this.options),new VBe(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(V_(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(V_(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(V_(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),JBe=/&/g,eNe=/^\s*\/\/.*$/gm;function rxe(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=rxe(n.children,t)),n})}function tNe(e){var t,n,r,o=e===void 0?_0:e,i=o.options,s=i===void 0?_0:i,a=o.plugins,l=a===void 0?ET:a,u=function(p,m,v){return v===n||v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(t):p},d=l.slice();d.push(function(p){p.type===wT&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(JBe,n).replace(r,u))}),s.prefix&&d.push(kBe),d.push(_Be);var f=function(p,m,v,g){m===void 0&&(m=""),v===void 0&&(v=""),g===void 0&&(g="&"),t=g,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var y=p.replace(eNe,""),x=wBe(v||m?"".concat(v," ").concat(m," { ").concat(y," }"):y);s.namespace&&(x=rxe(x,s.namespace));var b=[];return ck(x,SBe(d.concat(EBe(function(w){return b.push(w)})))),b};return f.hash=l.length?l.reduce(function(p,m){return m.name||nh(15),uv(p,m.name)},5381).toString():"",f}var nNe=new fk,$R=tNe(),oxe=ne.createContext({shouldForwardProp:void 0,styleSheet:nNe,stylis:$R});oxe.Consumer;ne.createContext(void 0);function RR(){return h.useContext(oxe)}var ixe=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=$R);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Q6(this,function(){throw nh(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=$R),this.name+t.hash},e}(),rNe=function(e){return e>="A"&&e<="Z"};function GU(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;rNe(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var sxe=function(e){return e==null||e===!1||e===""},axe=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!sxe(i)&&(Array.isArray(i)&&i.isCss||ym(i)?r.push("".concat(GU(o),":"),i,";"):$x(i)?r.push.apply(r,fi(fi(["".concat(o," {")],axe(i),!1),["}"],!1)):r.push("".concat(GU(o),": ").concat((t=o,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in jBe||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function $f(e,t,n,r){if(sxe(e))return[];if(X6(e))return[".".concat(e.styledComponentId)];if(ym(e)){if(!ym(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return $f(o,t,n,r)}var i;return e instanceof ixe?n?(e.inject(n,r),[e.getName(r)]):[e]:$x(e)?axe(e):Array.isArray(e)?Array.prototype.concat.apply(ET,e.map(function(s){return $f(s,t,n,r)})):[e.toString()]}function lxe(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ym(n)&&!X6(n))return!1}return!0}var oNe=Xbe("6.1.1"),iNe=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&lxe(t),this.componentId=n,this.baseHash=uv(oNe,n),this.baseStyle=r,fk.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=Mp(o,this.staticRulesId);else{var i=uk($f(this.rules,t,n,r)),s=IR(uv(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(i,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}o=Mp(o,s),this.staticRulesId=s}else{for(var l=uv(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")u+=f;else if(f){var p=uk($f(f,t,n,r));l=uv(l,p+d),u+=p}}if(u){var m=IR(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(u,".".concat(m),void 0,this.componentId)),o=Mp(o,m)}}return o},e}(),S0=ne.createContext(void 0);S0.Consumer;function cxe(){var e=h.useContext(S0);if(!e)throw nh(18);return e}function sNe(e){var t=ne.useContext(S0),n=h.useMemo(function(){return function(r,o){if(!r)throw nh(14);if(ym(r)){var i=r(o);return i}if(Array.isArray(r)||typeof r!="object")throw nh(8);return o?Po(Po({},o),r):r}(e.theme,t)},[e.theme,t]);return e.children?ne.createElement(S0.Provider,{value:n},e.children):null}var bI={};function aNe(e,t,n){var r=X6(e),o=e,i=!yI(e),s=t.attrs,a=s===void 0?ET:s,l=t.componentId,u=l===void 0?function(C,_){var S=typeof C!="string"?"sc":VU(C);bI[S]=(bI[S]||0)+1;var E="".concat(S,"-").concat(Z6("6.1.1"+S+bI[S]));return _?"".concat(_,"-").concat(E):E}(t.displayName,t.parentComponentId):l,d=t.displayName,f=d===void 0?function(C){return yI(C)?"styled.".concat(C):"Styled(".concat(OBe(C),")")}(e):d,p=t.displayName&&t.componentId?"".concat(VU(t.displayName),"-").concat(t.componentId):t.componentId||u,m=r&&o.attrs?o.attrs.concat(a).filter(Boolean):a,v=t.shouldForwardProp;if(r&&o.shouldForwardProp){var g=o.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;v=function(C,_){return g(C,_)&&y(C,_)}}else v=g}var x=new iNe(n,p,r?o.componentStyle:void 0);function b(C,_){return function(S,E,j){var k=S.attrs,T=S.componentStyle,A=S.defaultProps,D=S.foldedComponentIds,P=S.styledComponentId,I=S.target,R=ne.useContext(S0),O=RR(),V=S.shouldForwardProp||O.shouldForwardProp,B=function(N,Y,q){for(var Z,ie=Po(Po({},Y),{className:void 0,theme:q}),re=0;re<N.length;re+=1){var K=ym(Z=N[re])?Z(ie):Z;for(var X in K)ie[X]=X==="className"?Mp(ie[X],K[X]):X==="style"?Po(Po({},ie[X]),K[X]):K[X]}return Y.className&&(ie.className=Mp(ie.className,Y.className)),ie}(k,E,Kbe(E,R,A)||_0),H=B.as||I,W={};for(var z in B)B[z]===void 0||z[0]==="$"||z==="as"||z==="theme"||(z==="forwardedAs"?W.as=B.forwardedAs:V&&!V(z,H)||(W[z]=B[z]));var G=function(N,Y){var q=RR(),Z=N.generateAndInjectStyles(Y,q.styleSheet,q.stylis);return Z}(T,B),ee=Mp(D,P);return G&&(ee+=" "+G),B.className&&(ee+=" "+B.className),W[yI(H)&&!Zbe.has(H)?"class":"className"]=ee,W.ref=j,h.createElement(H,W)}(w,C,_)}b.displayName=f;var w=ne.forwardRef(b);return w.attrs=m,w.componentStyle=x,w.displayName=f,w.shouldForwardProp=v,w.foldedComponentIds=r?Mp(o.foldedComponentIds,o.styledComponentId):"",w.styledComponentId=p,w.target=r?o.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=r?function(_){for(var S=[],E=1;E<arguments.length;E++)S[E-1]=arguments[E];for(var j=0,k=S;j<k.length;j++)OR(_,k[j],!0);return _}({},o.defaultProps,C):C}}),Q6(w,function(){return".".concat(w.styledComponentId)}),i&&txe(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function KU(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var ZU=function(e){return Object.assign(e,{isCss:!0})};function de(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ym(e)||$x(e)){var r=e;return ZU($f(KU(ET,fi([r],t,!0))))}var o=e;return t.length===0&&o.length===1&&typeof o[0]=="string"?$f(o):ZU($f(KU(o,t)))}function MR(e,t,n){if(n===void 0&&(n=_0),!t)throw nh(1,t);var r=function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,de.apply(void 0,fi([o],i,!1)))};return r.attrs=function(o){return MR(e,t,Po(Po({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return MR(e,t,Po(Po({},n),o))},r}var uxe=function(e){return MR(aNe,e)},$=uxe;Zbe.forEach(function(e){$[e]=uxe(e)});var lNe=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=lxe(t),fk.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,o){var i=o(uk($f(this.rules,n,r,o)),""),s=this.componentId+t;r.insertRules(s,s,i)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,o){t>2&&fk.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,o)},e}();function dxe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=de.apply(void 0,fi([e],t,!1)),o="sc-global-".concat(Z6(JSON.stringify(r))),i=new lNe(r,o),s=function(l){var u=RR(),d=ne.useContext(S0),f=ne.useRef(u.styleSheet.allocateGSInstance(o)).current;return u.styleSheet.server&&a(f,l,u.styleSheet,d,u.stylis),ne.useLayoutEffect(function(){if(!u.styleSheet.server)return a(f,l,u.styleSheet,d,u.stylis),function(){return i.removeStyles(f,u.styleSheet)}},[f,l,u.styleSheet,d,u.stylis]),null};function a(l,u,d,f,p){if(i.isStatic)i.renderStyles(l,ABe,d,p);else{var m=Po(Po({},u),{theme:Kbe(u,f,s.defaultProps)});i.renderStyles(l,m,d,p)}}return ne.memo(s)}function Km(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=uk(de.apply(void 0,fi([e],t,!1))),o=Z6(r);return new ixe(o,r)}const cNe="#101112",uNe="#fff",WS={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},db={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},dNe={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},fNe={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},FR={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},hNe={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},LR={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},BR={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},pNe={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},fe={gray:WS,blue:db,purple:dNe,magenta:fNe,red:FR,orange:hNe,yellow:LR,green:BR,cyan:pNe},fxe=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],Ec={title:"Black",hex:cNe},Ba={title:"White",hex:uNe},rh=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),NR=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ro=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),c.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),vNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),hxe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),dC=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),pxe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),yNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),bNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),CNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_Ne=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u1=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),mxe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),c.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),gxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),SNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),ENe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),TNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),c.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),kT=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),dv=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ANe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jT=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fa=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hl=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),TT=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Jc=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),PNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),INe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ONe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$Ne=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Bi=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),RNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),AT=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wxe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),MNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Cxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),FNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),LNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DT=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ju=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),BNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_xe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),NNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),zNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),VNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Sxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oh=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),HNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),UNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),WNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),YNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),qNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),GNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),KNe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),J6=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ZNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),XNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),QNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),e8=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),JNe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t8=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Exe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),c.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),eze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kxe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),tze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ed=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),Fo=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),rze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),oze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ize=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),sze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),aze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),Ca=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jxe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),lze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n8=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),cze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),Txe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),dze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),c.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),c.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),fze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E0=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Yl=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),Zm=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Axe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Dxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),Pxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),Ixe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),xze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Sh=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),r8=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Cze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ih=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_ze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Sze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Eze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),kze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),Oxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o8=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),i8=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$xe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),c.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),c.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),c.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),Tze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Aze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Dze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Pze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ize=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Oze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),$ze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Rze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Mxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Fxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Mze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d1=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),fC=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Fze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Lze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Bze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Lxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),td=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),s8=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Nze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),zze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),a8=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Vze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Hze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Uze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ui=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rc=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Wze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),l8=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Yze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),hC=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Gze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Bxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Kze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Nxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zxe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Zze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Xze=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Vxe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),c.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),c.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),Zg=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),c.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),c8=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f1=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Qze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Jze=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),eVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),iVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),PT=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),sVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),aVe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),lVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),Co=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cVe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),uVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),zb=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Hxe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),c.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),hk=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),zl=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pk=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),IT=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),mVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),OT=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),zr=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vVe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),yVe={"access-denied":rh,activity:mNe,"add-circle":NR,add:Ro,api:gNe,archive:vNe,"arrow-down":hxe,"arrow-left":dC,"arrow-right":pxe,"arrow-top-right":yNe,"arrow-up":bNe,"bar-chart":xNe,basket:wNe,bell:CNe,bill:_Ne,"binary-document":u1,"block-content":mxe,"block-element":gxe,blockquote:SNe,bold:vxe,bolt:ENe,book:kNe,bottle:jNe,"bulb-filled":TNe,"bulb-outline":kT,calendar:dv,case:ANe,"chart-upward":DNe,"checkmark-circle":jT,checkmark:fa,"chevron-down":hl,"chevron-left":TT,"chevron-right":Jc,"chevron-up":yxe,circle:PNe,clipboard:INe,"clipboard-image":ONe,clock:bxe,"close-circle":$Ne,close:Bi,"code-block":RNe,code:xxe,cog:AT,collapse:wxe,"color-wheel":MNe,comment:Cxe,component:FNe,compose:LNe,controls:DT,copy:Ju,"credit-card":BNe,crop:_xe,cube:NNe,dashboard:zNe,database:VNe,desktop:Sxe,document:oh,"document-pdf":HNe,"document-remove":UNe,"document-sheet":WNe,"document-text":YNe,"document-video":qNe,"document-word":GNe,"document-zip":KNe,documents:J6,dot:ZNe,"double-chevron-down":XNe,"double-chevron-left":QNe,"double-chevron-right":e8,"double-chevron-up":JNe,download:t8,"drag-handle":Exe,drop:eze,"earth-americas":kxe,"earth-globe":tze,edit:ed,"ellipsis-horizontal":nze,"ellipsis-vertical":Fo,enter:rze,"enter-right":oze,envelope:ize,equal:sze,"error-filled":aze,"error-outline":Ca,expand:jxe,"eye-closed":lze,"eye-open":n8,filter:cze,folder:Txe,generate:uze,groq:dze,"heart-filled":fze,heart:hze,"help-circle":E0,home:pze,"ice-cream":mze,image:Yl,"image-remove":gze,images:vze,"info-filled":yze,"info-outline":Zm,"inline-element":Axe,inline:bze,"insert-above":Dxe,"insert-below":Pxe,italic:Ixe,joystick:xze,json:wze,launch:Sh,leave:r8,lemon:Cze,link:ih,"link-removed":_ze,lock:Sze,"logo-js":Eze,"logo-ts":kze,"master-detail":Oxe,menu:o8,"mobile-device":jze,moon:i8,number:$xe,"ok-hand":Tze,olist:Rxe,overage:Aze,package:Dze,"panel-left":Pze,"panel-right":Ize,pause:Oze,pin:$ze,"pin-removed":Rze,play:Mxe,plug:Fxe,presentation:Mze,publish:d1,"read-only":fC,redo:Fze,refresh:Lze,"remove-circle":Bze,remove:Lxe,reset:td,restore:s8,retrieve:Nze,retry:zze,revert:a8,robot:Vze,rocket:Hze,schema:Uze,search:ui,select:rc,share:Wze,sort:l8,sparkle:Yze,sparkles:qze,spinner:hC,"split-horizontal":Gze,"split-vertical":Bxe,square:Kze,"stack-compact":Nxe,stack:zxe,star:Zze,stop:Xze,strikethrough:Vxe,string:Zg,sun:c8,sync:f1,"tablet-device":Qze,tag:Jze,tags:eVe,terminal:tVe,text:nVe,"th-large":rVe,"th-list":oVe,tiers:iVe,"toggle-arrow-right":PT,token:sVe,transfer:aVe,translate:lVe,trash:Co,"trend-upward":cVe,"triangle-outline":uVe,trolley:dVe,truncate:fVe,twitter:hVe,ulist:zb,underline:Hxe,undo:hk,unknown:zl,unlock:pVe,unpublish:pk,upload:IT,user:mVe,users:OT,"warning-filled":gVe,"warning-outline":zr,wrench:vVe};h.forwardRef(function(t,n){const{symbol:r,...o}=t,i=yVe[r];return i?h.createElement(i,{...o,ref:n}):null});var Uxe={exports:{}},bVe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xVe=bVe,wVe=xVe;function Wxe(){}function Yxe(){}Yxe.resetWarningCache=Wxe;var CVe=function(){function e(r,o,i,s,a,l){if(l!==wVe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Yxe,resetWarningCache:Wxe};return n.PropTypes=n,n};Uxe.exports=CVe();var qxe=Uxe.exports;const INn=Pe(qxe);var _Ve=EVe,SVe=Object.prototype.hasOwnProperty;function EVe(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)SVe.call(n,r)&&(e[r]=n[r])}return e}var Gxe=Kxe,u8=Kxe.prototype;u8.space=null;u8.normal={};u8.property={};function Kxe(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var XU=_Ve,kVe=Gxe,jVe=TVe;function TVe(e){for(var t=e.length,n=[],r=[],o=-1,i,s;++o<t;)i=e[o],n.push(i.property),r.push(i.normal),s=i.space;return new kVe(XU.apply(null,n),XU.apply(null,r),s)}var d8=AVe;function AVe(e){return e.toLowerCase()}var Zxe=Xxe,pl=Xxe.prototype;pl.space=null;pl.attribute=null;pl.property=null;pl.boolean=!1;pl.booleanish=!1;pl.overloadedBoolean=!1;pl.number=!1;pl.commaSeparated=!1;pl.spaceSeparated=!1;pl.commaOrSpaceSeparated=!1;pl.mustUseProperty=!1;pl.defined=!1;function Xxe(e,t){this.property=e,this.attribute=t}var eu={},DVe=0;eu.boolean=Xm();eu.booleanish=Xm();eu.overloadedBoolean=Xm();eu.number=Xm();eu.spaceSeparated=Xm();eu.commaSeparated=Xm();eu.commaOrSpaceSeparated=Xm();function Xm(){return Math.pow(2,++DVe)}var Qxe=Zxe,QU=eu,Jxe=f8;f8.prototype=new Qxe;f8.prototype.defined=!0;var ewe=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],PVe=ewe.length;function f8(e,t,n,r){var o=-1,i;for(JU(this,"space",r),Qxe.call(this,e,t);++o<PVe;)i=ewe[o],JU(this,i,(n&QU[i])===QU[i])}function JU(e,t,n){n&&(e[t]=n)}var eW=d8,IVe=Gxe,OVe=Jxe,pC=$Ve;function $Ve(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},o=e.properties,i=e.transform,s={},a={},l,u;for(l in o)u=new OVe(l,i(r,l),o[l],t),n.indexOf(l)!==-1&&(u.mustUseProperty=!0),s[l]=u,a[eW(l)]=l,a[eW(u.attribute)]=l;return new IVe(s,a,t)}var RVe=pC,MVe=RVe({space:"xlink",transform:FVe,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function FVe(e,t){return"xlink:"+t.slice(5).toLowerCase()}var LVe=pC,BVe=LVe({space:"xml",transform:NVe,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function NVe(e,t){return"xml:"+t.slice(3).toLowerCase()}var zVe=VVe;function VVe(e,t){return t in e?e[t]:t}var HVe=zVe,twe=UVe;function UVe(e,t){return HVe(e,t.toLowerCase())}var WVe=pC,YVe=twe,qVe=WVe({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:YVe,properties:{xmlns:null,xmlnsXLink:null}}),h8=eu,GVe=pC,ys=h8.booleanish,Aa=h8.number,Zh=h8.spaceSeparated,KVe=GVe({transform:ZVe,properties:{ariaActiveDescendant:null,ariaAtomic:ys,ariaAutoComplete:null,ariaBusy:ys,ariaChecked:ys,ariaColCount:Aa,ariaColIndex:Aa,ariaColSpan:Aa,ariaControls:Zh,ariaCurrent:null,ariaDescribedBy:Zh,ariaDetails:null,ariaDisabled:ys,ariaDropEffect:Zh,ariaErrorMessage:null,ariaExpanded:ys,ariaFlowTo:Zh,ariaGrabbed:ys,ariaHasPopup:null,ariaHidden:ys,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Zh,ariaLevel:Aa,ariaLive:null,ariaModal:ys,ariaMultiLine:ys,ariaMultiSelectable:ys,ariaOrientation:null,ariaOwns:Zh,ariaPlaceholder:null,ariaPosInSet:Aa,ariaPressed:ys,ariaReadOnly:ys,ariaRelevant:null,ariaRequired:ys,ariaRoleDescription:Zh,ariaRowCount:Aa,ariaRowIndex:Aa,ariaRowSpan:Aa,ariaSelected:ys,ariaSetSize:Aa,ariaSort:null,ariaValueMax:Aa,ariaValueMin:Aa,ariaValueNow:Aa,ariaValueText:null,role:null}});function ZVe(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var h1=eu,XVe=pC,QVe=twe,Mt=h1.boolean,JVe=h1.overloadedBoolean,yy=h1.booleanish,or=h1.number,Zi=h1.spaceSeparated,H_=h1.commaSeparated,eHe=XVe({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:QVe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:H_,acceptCharset:Zi,accessKey:Zi,action:null,allow:null,allowFullScreen:Mt,allowPaymentRequest:Mt,allowUserMedia:Mt,alt:null,as:null,async:Mt,autoCapitalize:null,autoComplete:Zi,autoFocus:Mt,autoPlay:Mt,capture:Mt,charSet:null,checked:Mt,cite:null,className:Zi,cols:or,colSpan:null,content:null,contentEditable:yy,controls:Mt,controlsList:Zi,coords:or|H_,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Mt,defer:Mt,dir:null,dirName:null,disabled:Mt,download:JVe,draggable:yy,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Mt,formTarget:null,headers:Zi,height:or,hidden:Mt,high:or,href:null,hrefLang:null,htmlFor:Zi,httpEquiv:Zi,id:null,imageSizes:null,imageSrcSet:H_,inputMode:null,integrity:null,is:null,isMap:Mt,itemId:null,itemProp:Zi,itemRef:Zi,itemScope:Mt,itemType:Zi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Mt,low:or,manifest:null,max:null,maxLength:or,media:null,method:null,min:null,minLength:or,multiple:Mt,muted:Mt,name:null,nonce:null,noModule:Mt,noValidate:Mt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Mt,optimum:or,pattern:null,ping:Zi,placeholder:null,playsInline:Mt,poster:null,preload:null,readOnly:Mt,referrerPolicy:null,rel:Zi,required:Mt,reversed:Mt,rows:or,rowSpan:or,sandbox:Zi,scope:null,scoped:Mt,seamless:Mt,selected:Mt,shape:null,size:or,sizes:null,slot:null,span:or,spellCheck:yy,src:null,srcDoc:null,srcLang:null,srcSet:H_,start:or,step:null,style:null,tabIndex:or,target:null,title:null,translate:null,type:null,typeMustMatch:Mt,useMap:null,value:yy,width:or,wrap:null,align:null,aLink:null,archive:Zi,axis:null,background:null,bgColor:null,border:or,borderColor:null,bottomMargin:or,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Mt,declare:Mt,event:null,face:null,frame:null,frameBorder:null,hSpace:or,leftMargin:or,link:null,longDesc:null,lowSrc:null,marginHeight:or,marginWidth:or,noResize:Mt,noHref:Mt,noShade:Mt,noWrap:Mt,object:null,profile:null,prompt:null,rev:null,rightMargin:or,rules:null,scheme:null,scrolling:yy,standby:null,summary:null,text:null,topMargin:or,valueType:null,version:null,vAlign:null,vLink:null,vSpace:or,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Mt,disableRemotePlayback:Mt,prefix:null,property:null,results:or,security:null,unselectable:null}}),tHe=jVe,nHe=MVe,rHe=BVe,oHe=qVe,iHe=KVe,sHe=eHe,aHe=tHe([rHe,nHe,oHe,iHe,sHe]),lHe=d8,cHe=Jxe,uHe=Zxe,p8="data",dHe=pHe,fHe=/^data[-\w.:]+$/i,nwe=/-[a-z]/g,hHe=/[A-Z]/g;function pHe(e,t){var n=lHe(t),r=t,o=uHe;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===p8&&fHe.test(t)&&(t.charAt(4)==="-"?r=mHe(t):t=gHe(t),o=cHe),new o(r,t))}function mHe(e){var t=e.slice(5).replace(nwe,yHe);return p8+t.charAt(0).toUpperCase()+t.slice(1)}function gHe(e){var t=e.slice(4);return nwe.test(t)?e:(t=t.replace(hHe,vHe),t.charAt(0)!=="-"&&(t="-"+t),p8+t)}function vHe(e){return"-"+e.toLowerCase()}function yHe(e){return e.charAt(1).toUpperCase()}var bHe=xHe,tW=/[#.]/g;function xHe(e,t){for(var n=e||"",r=t||"div",o={},i=0,s,a,l;i<n.length;)tW.lastIndex=i,l=tW.exec(n),s=n.slice(i,l?l.index:n.length),s&&(a?a==="#"?o.id=s:o.className?o.className.push(s):o.className=[s]:r=s,i+=s.length),l&&(a=l[0],i++);return{type:"element",tagName:r,properties:o,children:[]}}var m8={};m8.parse=_He;m8.stringify=SHe;var nW="",wHe=" ",CHe=/[ \t\n\r\f]+/g;function _He(e){var t=String(e||nW).trim();return t===nW?[]:t.split(CHe)}function SHe(e){return e.join(wHe).trim()}var g8={};g8.parse=EHe;g8.stringify=kHe;var zR=",",rW=" ",fb="";function EHe(e){for(var t=[],n=String(e||fb),r=n.indexOf(zR),o=0,i=!1,s;!i;)r===-1&&(r=n.length,i=!0),s=n.slice(o,r).trim(),(s||!i)&&t.push(s),o=r+1,r=n.indexOf(zR,o);return t}function kHe(e,t){var n=t||{},r=n.padLeft===!1?fb:rW,o=n.padRight?rW:fb;return e[e.length-1]===fb&&(e=e.concat(fb)),e.join(o+zR+r).trim()}var jHe=dHe,oW=d8,THe=bHe,iW=m8.parse,sW=g8.parse,AHe=PHe,DHe={}.hasOwnProperty;function PHe(e,t,n){var r=n?MHe(n):null;return o;function o(s,a){var l=THe(s,t),u=Array.prototype.slice.call(arguments,2),d=l.tagName.toLowerCase(),f;if(l.tagName=r&&DHe.call(r,d)?r[d]:d,a&&IHe(a,l)&&(u.unshift(a),a=null),a)for(f in a)i(l.properties,f,a[f]);return rwe(l.children,u),l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}function i(s,a,l){var u,d,f;l==null||l!==l||(u=jHe(e,a),d=u.property,f=l,typeof f=="string"&&(u.spaceSeparated?f=iW(f):u.commaSeparated?f=sW(f):u.commaOrSpaceSeparated&&(f=iW(sW(f).join(" ")))),d==="style"&&typeof l!="string"&&(f=RHe(f)),d==="className"&&s.className&&(f=s.className.concat(f)),s[d]=$He(u,d,f))}}function IHe(e,t){return typeof e=="string"||"length"in e||OHe(t.tagName,e)}function OHe(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function rwe(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)rwe(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function $He(e,t,n){var r,o,i;if(typeof n!="object"||!("length"in n))return aW(e,t,n);for(o=n.length,r=-1,i=[];++r<o;)i[r]=aW(e,t,n[r]);return i}function aW(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||oW(n)===oW(t))&&(r=!0),r}function RHe(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function MHe(e){for(var t=e.length,n=-1,r={},o;++n<t;)o=e[n],r[o.toLowerCase()]=o;return r}var FHe=aHe,LHe=AHe,owe=LHe(FHe,"div");owe.displayName="html";var BHe=owe,NHe=BHe;const zHe="Æ",VHe="&",HHe="Á",UHe="Â",WHe="À",YHe="Å",qHe="Ã",GHe="Ä",KHe="©",ZHe="Ç",XHe="Ð",QHe="É",JHe="Ê",eUe="È",tUe="Ë",nUe=">",rUe="Í",oUe="Î",iUe="Ì",sUe="Ï",aUe="<",lUe="Ñ",cUe="Ó",uUe="Ô",dUe="Ò",fUe="Ø",hUe="Õ",pUe="Ö",mUe='"',gUe="®",vUe="Þ",yUe="Ú",bUe="Û",xUe="Ù",wUe="Ü",CUe="Ý",_Ue="á",SUe="â",EUe="´",kUe="æ",jUe="à",TUe="&",AUe="å",DUe="ã",PUe="ä",IUe="¦",OUe="ç",$Ue="¸",RUe="¢",MUe="©",FUe="¤",LUe="°",BUe="÷",NUe="é",zUe="ê",VUe="è",HUe="ð",UUe="ë",WUe="½",YUe="¼",qUe="¾",GUe=">",KUe="í",ZUe="î",XUe="¡",QUe="ì",JUe="¿",eWe="ï",tWe="«",nWe="<",rWe="¯",oWe="µ",iWe="·",sWe=" ",aWe="¬",lWe="ñ",cWe="ó",uWe="ô",dWe="ò",fWe="ª",hWe="º",pWe="ø",mWe="õ",gWe="ö",vWe="¶",yWe="±",bWe="£",xWe='"',wWe="»",CWe="®",_We="§",SWe="­",EWe="¹",kWe="²",jWe="³",TWe="ß",AWe="þ",DWe="×",PWe="ú",IWe="û",OWe="ù",$We="¨",RWe="ü",MWe="ý",FWe="¥",LWe="ÿ",BWe={AElig:zHe,AMP:VHe,Aacute:HHe,Acirc:UHe,Agrave:WHe,Aring:YHe,Atilde:qHe,Auml:GHe,COPY:KHe,Ccedil:ZHe,ETH:XHe,Eacute:QHe,Ecirc:JHe,Egrave:eUe,Euml:tUe,GT:nUe,Iacute:rUe,Icirc:oUe,Igrave:iUe,Iuml:sUe,LT:aUe,Ntilde:lUe,Oacute:cUe,Ocirc:uUe,Ograve:dUe,Oslash:fUe,Otilde:hUe,Ouml:pUe,QUOT:mUe,REG:gUe,THORN:vUe,Uacute:yUe,Ucirc:bUe,Ugrave:xUe,Uuml:wUe,Yacute:CUe,aacute:_Ue,acirc:SUe,acute:EUe,aelig:kUe,agrave:jUe,amp:TUe,aring:AUe,atilde:DUe,auml:PUe,brvbar:IUe,ccedil:OUe,cedil:$Ue,cent:RUe,copy:MUe,curren:FUe,deg:LUe,divide:BUe,eacute:NUe,ecirc:zUe,egrave:VUe,eth:HUe,euml:UUe,frac12:WUe,frac14:YUe,frac34:qUe,gt:GUe,iacute:KUe,icirc:ZUe,iexcl:XUe,igrave:QUe,iquest:JUe,iuml:eWe,laquo:tWe,lt:nWe,macr:rWe,micro:oWe,middot:iWe,nbsp:sWe,not:aWe,ntilde:lWe,oacute:cWe,ocirc:uWe,ograve:dWe,ordf:fWe,ordm:hWe,oslash:pWe,otilde:mWe,ouml:gWe,para:vWe,plusmn:yWe,pound:bWe,quot:xWe,raquo:wWe,reg:CWe,sect:_We,shy:SWe,sup1:EWe,sup2:kWe,sup3:jWe,szlig:TWe,thorn:AWe,times:DWe,uacute:PWe,ucirc:IWe,ugrave:OWe,uml:$We,uuml:RWe,yacute:MWe,yen:FWe,yuml:LWe},NWe={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var iwe=zWe;function zWe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var VWe=HWe;function HWe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var UWe=WWe;function WWe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var YWe=UWe,qWe=iwe,GWe=KWe;function KWe(e){return YWe(e)||qWe(e)}var U_,ZWe=59,XWe=QWe;function QWe(e){var t="&"+e+";",n;return U_=U_||document.createElement("i"),U_.innerHTML=t,n=U_.textContent,n.charCodeAt(n.length-1)===ZWe&&e!=="semi"||n===t?!1:n}var lW=BWe,cW=NWe,JWe=iwe,eYe=VWe,swe=GWe,tYe=XWe,nYe=mYe,rYe={}.hasOwnProperty,Ig=String.fromCharCode,oYe=Function.prototype,uW={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},iYe=9,dW=10,sYe=12,aYe=32,fW=38,lYe=59,cYe=60,uYe=61,dYe=35,fYe=88,hYe=120,pYe=65533,Xg="named",v8="hexadecimal",y8="decimal",b8={};b8[v8]=16;b8[y8]=10;var $T={};$T[Xg]=swe;$T[y8]=JWe;$T[v8]=eYe;var awe=1,lwe=2,cwe=3,uwe=4,dwe=5,VR=6,fwe=7,Eh={};Eh[awe]="Named character references must be terminated by a semicolon";Eh[lwe]="Numeric character references must be terminated by a semicolon";Eh[cwe]="Named character references cannot be empty";Eh[uwe]="Numeric character references cannot be empty";Eh[dwe]="Named character references must be known";Eh[VR]="Numeric character references cannot be disallowed";Eh[fwe]="Numeric character references cannot be outside the permissible Unicode range";function mYe(e,t){var n={},r,o;t||(t={});for(o in uW)r=t[o],n[o]=r??uW[o];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),gYe(e,n)}function gYe(e,t){var n=t.additional,r=t.nonTerminated,o=t.text,i=t.reference,s=t.warning,a=t.textContext,l=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],p=e.length,m=0,v=-1,g=d.column||1,y=d.line||1,x="",b=[],w,C,_,S,E,j,k,T,A,D,P,I,R,O,V,B,H,W,z;for(typeof n=="string"&&(n=n.charCodeAt(0)),B=G(),T=s?ee:oYe,m--,p++;++m<p;)if(E===dW&&(g=f[v]||1),E=e.charCodeAt(m),E===fW){if(k=e.charCodeAt(m+1),k===iYe||k===dW||k===sYe||k===aYe||k===fW||k===cYe||k!==k||n&&k===n){x+=Ig(E),g++;continue}for(R=m+1,I=R,z=R,k===dYe?(z=++I,k=e.charCodeAt(z),k===fYe||k===hYe?(O=v8,z=++I):O=y8):O=Xg,w="",P="",S="",V=$T[O],z--;++z<p&&(k=e.charCodeAt(z),!!V(k));)S+=Ig(k),O===Xg&&rYe.call(lW,S)&&(w=S,P=lW[S]);_=e.charCodeAt(z)===lYe,_&&(z++,C=O===Xg?tYe(S):!1,C&&(w=S,P=C)),W=1+z-R,!_&&!r||(S?O===Xg?(_&&!P?T(dwe,1):(w!==S&&(z=I+w.length,W=1+z-I,_=!1),_||(A=w?awe:cwe,t.attribute?(k=e.charCodeAt(z),k===uYe?(T(A,W),P=null):swe(k)?P=null:T(A,W)):T(A,W))),j=P):(_||T(lwe,W),j=parseInt(S,b8[O]),vYe(j)?(T(fwe,W),j=Ig(pYe)):j in cW?(T(VR,W),j=cW[j]):(D="",yYe(j)&&T(VR,W),j>65535&&(j-=65536,D+=Ig(j>>>10|55296),j=56320|j&1023),j=D+Ig(j))):O!==Xg&&T(uwe,W)),j?(N(),B=G(),m=z-1,g+=z-R+1,b.push(j),H=G(),H.offset++,i&&i.call(l,j,{start:B,end:H},e.slice(R-1,z)),B=H):(S=e.slice(R-1,z),x+=S,g+=S.length,m=z-1)}else E===10&&(y++,v++,g=0),E===E?(x+=Ig(E),g++):N();return b.join("");function G(){return{line:y,column:g,offset:m+(d.offset||0)}}function ee(Y,q){var Z=G();Z.column+=q,Z.offset+=q,s.call(u,Eh[Y],Z,Y)}function N(){x&&(b.push(x),o&&o.call(a,x,{start:B,end:G()}),x="")}}function vYe(e){return e>=55296&&e<=57343||e>1114111}function yYe(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var hwe={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function b(w){return w instanceof l?new l(w.type,b(w.content),w.alias):Array.isArray(w)?w.map(b):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(b){return Object.prototype.toString.call(b).slice(8,-1)},objId:function(b){return b.__id||Object.defineProperty(b,"__id",{value:++i}),b.__id},clone:function b(w,C){C=C||{};var _,S;switch(a.util.type(w)){case"Object":if(S=a.util.objId(w),C[S])return C[S];_={},C[S]=_;for(var E in w)w.hasOwnProperty(E)&&(_[E]=b(w[E],C));return _;case"Array":return S=a.util.objId(w),C[S]?C[S]:(_=[],C[S]=_,w.forEach(function(j,k){_[k]=b(j,C)}),_);default:return w}},getLanguage:function(b){for(;b;){var w=o.exec(b.className);if(w)return w[1].toLowerCase();b=b.parentElement}return"none"},setLanguage:function(b,w){b.className=b.className.replace(RegExp(o,"gi"),""),b.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(_){var b=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_.stack)||[])[1];if(b){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==b)return w[C]}return null}},isActive:function(b,w,C){for(var _="no-"+w;b;){var S=b.classList;if(S.contains(w))return!0;if(S.contains(_))return!1;b=b.parentElement}return!!C}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(b,w){var C=a.util.clone(a.languages[b]);for(var _ in w)C[_]=w[_];return C},insertBefore:function(b,w,C,_){_=_||a.languages;var S=_[b],E={};for(var j in S)if(S.hasOwnProperty(j)){if(j==w)for(var k in C)C.hasOwnProperty(k)&&(E[k]=C[k]);C.hasOwnProperty(j)||(E[j]=S[j])}var T=_[b];return _[b]=E,a.languages.DFS(a.languages,function(A,D){D===T&&A!=b&&(this[A]=E)}),E},DFS:function b(w,C,_,S){S=S||{};var E=a.util.objId;for(var j in w)if(w.hasOwnProperty(j)){C.call(w,j,w[j],_||j);var k=w[j],T=a.util.type(k);T==="Object"&&!S[E(k)]?(S[E(k)]=!0,b(k,C,null,S)):T==="Array"&&!S[E(k)]&&(S[E(k)]=!0,b(k,C,j,S))}}},plugins:{},highlightAll:function(b,w){a.highlightAllUnder(document,b,w)},highlightAllUnder:function(b,w,C){var _={callback:C,container:b,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",_),_.elements=Array.prototype.slice.apply(_.container.querySelectorAll(_.selector)),a.hooks.run("before-all-elements-highlight",_);for(var S=0,E;E=_.elements[S++];)a.highlightElement(E,w===!0,_.callback)},highlightElement:function(b,w,C){var _=a.util.getLanguage(b),S=a.languages[_];a.util.setLanguage(b,_);var E=b.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,_);var j=b.textContent,k={element:b,language:_,grammar:S,code:j};function T(D){k.highlightedCode=D,a.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,a.hooks.run("after-highlight",k),a.hooks.run("complete",k),C&&C.call(k.element)}if(a.hooks.run("before-sanity-check",k),E=k.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!k.code){a.hooks.run("complete",k),C&&C.call(k.element);return}if(a.hooks.run("before-highlight",k),!k.grammar){T(a.util.encode(k.code));return}if(w&&r.Worker){var A=new Worker(a.filename);A.onmessage=function(D){T(D.data)},A.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else T(a.highlight(k.code,k.grammar,k.language))},highlight:function(b,w,C){var _={code:b,grammar:w,language:C};if(a.hooks.run("before-tokenize",_),!_.grammar)throw new Error('The language "'+_.language+'" has no grammar.');return _.tokens=a.tokenize(_.code,_.grammar),a.hooks.run("after-tokenize",_),l.stringify(a.util.encode(_.tokens),_.language)},tokenize:function(b,w){var C=w.rest;if(C){for(var _ in C)w[_]=C[_];delete w.rest}var S=new f;return p(S,S.head,b),d(b,S,w,S.head,0),v(S)},hooks:{all:{},add:function(b,w){var C=a.hooks.all;C[b]=C[b]||[],C[b].push(w)},run:function(b,w){var C=a.hooks.all[b];if(!(!C||!C.length))for(var _=0,S;S=C[_++];)S(w)}},Token:l};r.Prism=a;function l(b,w,C,_){this.type=b,this.content=w,this.alias=C,this.length=(_||"").length|0}l.stringify=function b(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var _="";return w.forEach(function(T){_+=b(T,C)}),_}var S={type:w.type,content:b(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(S.classes,E):S.classes.push(E)),a.hooks.run("wrap",S);var j="";for(var k in S.attributes)j+=" "+k+'="'+(S.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+j+">"+S.content+"</"+S.tag+">"};function u(b,w,C,_){b.lastIndex=w;var S=b.exec(C);if(S&&_&&S[1]){var E=S[1].length;S.index+=E,S[0]=S[0].slice(E)}return S}function d(b,w,C,_,S,E){for(var j in C)if(!(!C.hasOwnProperty(j)||!C[j])){var k=C[j];k=Array.isArray(k)?k:[k];for(var T=0;T<k.length;++T){if(E&&E.cause==j+","+T)return;var A=k[T],D=A.inside,P=!!A.lookbehind,I=!!A.greedy,R=A.alias;if(I&&!A.pattern.global){var O=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,O+"g")}for(var V=A.pattern||A,B=_.next,H=S;B!==w.tail&&!(E&&H>=E.reach);H+=B.value.length,B=B.next){var W=B.value;if(w.length>b.length)return;if(!(W instanceof l)){var z=1,G;if(I){if(G=u(V,H,b,P),!G||G.index>=b.length)break;var q=G.index,ee=G.index+G[0].length,N=H;for(N+=B.value.length;q>=N;)B=B.next,N+=B.value.length;if(N-=B.value.length,H=N,B.value instanceof l)continue;for(var Y=B;Y!==w.tail&&(N<ee||typeof Y.value=="string");Y=Y.next)z++,N+=Y.value.length;z--,W=b.slice(H,N),G.index-=H}else if(G=u(V,0,W,P),!G)continue;var q=G.index,Z=G[0],ie=W.slice(0,q),re=W.slice(q+Z.length),K=H+W.length;E&&K>E.reach&&(E.reach=K);var X=B.prev;ie&&(X=p(w,X,ie),H+=ie.length),m(w,X,z);var ce=new l(j,D?a.tokenize(Z,D):Z,R,Z);if(B=p(w,X,ce),re&&p(w,B,re),z>1){var me={cause:j+","+T,reach:K};d(b,w,C,B.prev,H,me),E&&me.reach>E.reach&&(E.reach=me.reach)}}}}}}function f(){var b={value:null,prev:null,next:null},w={value:null,prev:b,next:null};b.next=w,this.head=b,this.tail=w,this.length=0}function p(b,w,C){var _=w.next,S={value:C,prev:w,next:_};return w.next=S,_.prev=S,b.length++,S}function m(b,w,C){for(var _=w.next,S=0;S<C&&_!==b.tail;S++)_=_.next;w.next=_,_.prev=w,b.length-=S}function v(b){for(var w=[],C=b.head.next;C!==b.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(b){var w=JSON.parse(b.data),C=w.language,_=w.code,S=w.immediateClose;r.postMessage(a.highlight(_,a.languages[C],C)),S&&r.close()},!1)),a;var g=a.util.currentScript();g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0));function y(){a.manual||a.highlightAll()}if(!a.manual){var x=document.readyState;x==="loading"||x==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",y):window.requestAnimationFrame?window.requestAnimationFrame(y):window.setTimeout(y,16)}return a}(t);e.exports&&(e.exports=n),typeof Ds<"u"&&(Ds.Prism=n)})(hwe);var bYe=hwe.exports,xYe=x8;x8.displayName="markup";x8.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function x8(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var wYe=w8;w8.displayName="css";w8.aliases=[];function w8(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var CYe=C8;C8.displayName="clike";C8.aliases=[];function C8(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var pwe=_8;_8.displayName="javascript";_8.aliases=["js"];function _8(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const _Ye=Pe(pwe);var hb=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof Ds=="object"?Ds:{},SYe=NYe();hb.Prism={manual:!0,disableWorkerMessageHandler:!0};var EYe=NHe,kYe=nYe,mwe=bYe,jYe=xYe,TYe=wYe,AYe=CYe,DYe=pwe;SYe();var S8={}.hasOwnProperty;function gwe(){}gwe.prototype=mwe;var bo=new gwe,PYe=bo;bo.highlight=OYe;bo.register=mC;bo.alias=IYe;bo.registered=$Ye;bo.listLanguages=RYe;mC(jYe);mC(TYe);mC(AYe);mC(DYe);bo.util.encode=LYe;bo.Token.stringify=MYe;function mC(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");bo.languages[e.displayName]===void 0&&e(bo)}function IYe(e,t){var n=bo.languages,r=e,o,i,s,a;t&&(r={},r[e]=t);for(o in r)for(i=r[o],i=typeof i=="string"?[i]:i,s=i.length,a=-1;++a<s;)n[i[a]]=n[o]}function OYe(e,t){var n=mwe.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(bo.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(S8.call(bo.languages,t))r=bo.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function $Ye(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return S8.call(bo.languages,e)}function RYe(){var e=bo.languages,t=[],n;for(n in e)S8.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function MYe(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:bo.util.type(e)==="Array"?FYe(e,t):(r={type:e.type,content:bo.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),bo.hooks.run("wrap",r),EYe(r.tag+"."+r.classes.join("."),BYe(r.attributes),r.content))}function FYe(e,t){for(var n=[],r=e.length,o=-1,i;++o<r;)i=e[o],i!==""&&i!==null&&i!==void 0&&n.push(i);for(o=-1,r=n.length;++o<r;)i=n[o],n[o]=bo.Token.stringify(i,t,n);return n}function LYe(e){return e}function BYe(e){var t;for(t in e)e[t]=kYe(e[t]);return e}function NYe(){var e="Prism"in hb,t=e?hb.Prism:void 0;return n;function n(){e?hb.Prism=t:delete hb.Prism,e=void 0,t=void 0}}var vwe={},zYe=h;function VYe(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return zYe.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(ywe(n+1)))}return e.value}function ywe(e){return function(n,r){return VYe(n,r,e)}}vwe.depth=ywe;var bwe=xwe;function xwe(e){if(e==null)return YYe;if(typeof e=="string")return WYe(e);if(typeof e=="object")return"length"in e?UYe(e):HYe(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function HYe(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function UYe(e){for(var t=[],n=-1;++n<e.length;)t[n]=xwe(e[n]);return r;function r(){for(var o=-1;++o<t.length;)if(t[o].apply(this,arguments))return!0;return!1}}function WYe(e){return t;function t(n){return!!(n&&n.type===e)}}function YYe(){return!0}var qYe=bwe,GYe=ZYe,KYe={}.hasOwnProperty;function ZYe(e,t,n){var r=qYe(n||t),o=t.cascade==null?!0:t.cascade;return i(e,null,null);function i(s,a,l){var u,d,f,p,m;if(!r(s,a,l))return null;if(s.children){for(u=[],d=-1;++d<s.children.length;)f=i(s.children[d],d,s),f&&u.push(f);if(o&&s.children.length&&!u.length)return null}p={};for(m in s)KYe.call(s,m)&&(p[m]=m==="children"?u:s[m]);return p}}var XYe=QYe;function QYe(e){return e}var JYe=RT,eqe=bwe,tqe=XYe,wwe=!0,Cwe="skip",HR=!1;RT.CONTINUE=wwe;RT.SKIP=Cwe;RT.EXIT=HR;function RT(e,t,n,r){var o,i;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),i=eqe(t),o=r?-1:1,s(e,null,[])();function s(a,l,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+tqe(d.type+(f?"<"+f+">":""))+")"),p;function p(){var m=u.concat(a),v=[],g,y;if((!t||i(a,l,u[u.length-1]||null))&&(v=nqe(n(a,u)),v[0]===HR))return v;if(a.children&&v[0]!==Cwe)for(y=(r?a.children.length:-1)+o;y>-1&&y<a.children.length;){if(g=s(a.children[y],y,m)(),g[0]===HR)return g;y=typeof g[1]=="number"?g[1]:y+o}return v}}}function nqe(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[wwe,e]:[e]}var rqe=typeof WeakMap=="function"?gC:vC;function gC(){this.map=new WeakMap}gC.prototype.has=function(e){return this.map.has(e)};gC.prototype.set=function(e,t){return this.map.set(e,t),this};gC.prototype.get=function(e){return this.map.get(e)};gC.prototype.clear=function(){};function vC(){this.keys=[],this.values=[]}vC.prototype.has=function(e){return this.keys.indexOf(e)!==-1};vC.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};vC.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};vC.prototype.clear=function(){this.keys=[],this.values=[]};var oqe=GYe,hW=JYe,xI=rqe;function _we(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var o=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=o,r.lineEnd=o,n.nodes.push(r),n;for(var i=r.value.split(`
`),s=0;s<i.length;s++){var a=s===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:s===i.length-1?i[s]:"".concat(i[s],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=t.lineNumber,n}if(r.children){var l=_we(r.children,t),u=l.nodes[0],d=l.nodes[l.nodes.length-1];return r.lineStart=u?u.lineStart:o,r.lineEnd=d?d.lineEnd:o,r.children=l.nodes,n.lineNumber=l.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function iqe(e,t){var n={type:"root",children:t},r=new xI,o=new xI,i=new xI,s=[];function a(f,p,m){s.push(p),m.forEach(function(b){f.has(b)||(f.set(b,Object.assign({},b,{children:[]})),b!==n&&s.push(b))});for(var v=m.length;v--;){var g=f.get(m[v]),y=m[v+1],x=f.get(y)||p;g.children.indexOf(x)===-1&&g.children.push(x)}}hW(n,function(f,p){if(!f.children){if(f.lineStart<e){a(r,f,p);return}if(f.lineStart===e){a(o,f,p);return}f.lineEnd>e&&s.some(function(m){return p.indexOf(m)!==-1})&&a(i,f,p)}});var l=oqe(n,function(f){return s.indexOf(f)===-1}),u=function(p){var m=p.get(n);return m?(hW(m,function(v,g){if(v.children){v.lineStart=0,v.lineEnd=0;return}g.forEach(function(y){y.lineStart=Math.max(y.lineStart,v.lineStart),y.lineEnd=Math.max(y.lineEnd,v.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(o),u(i),l?l.children:[]);return r.clear(),o.clear(),i.clear(),d}function sqe(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function aqe(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,p){return iqe(p.line,f)},e),o=[],i=0,s=0;s<t.length;s++){for(var a=t[s],l=r[i];l&&l.lineEnd<a.line;l=r[++i])o.push(l);for(var u=[],d=r[i];d&&d.lineEnd===a.line;d=r[++i])u.push(d);u.length>0&&o.push(sqe(u,a,n))}for(;i<r.length;)o.push(r[i++]);return o}function lqe(e,t){var n=t.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,i){return o.line-i.line}),r=_we(e).nodes;return aqe(r,n,t)}var cqe=lqe,uqe=h,Ws=qxe,E8=PYe,dqe=vwe,fqe=cqe,pW=uqe.createElement;function yC(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className,t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className);var o=E8.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(o=fqe(o,{markers:e.markers}));var i=o.length===0?e.value:o.map(dqe.depth(0)),s=pW("code",n,i);return e.inline?s:pW("pre",r,s)}yC.propTypes={className:Ws.string,inline:Ws.bool,language:Ws.string.isRequired,value:Ws.string.isRequired,markers:Ws.arrayOf(Ws.oneOfType([Ws.number,Ws.shape({line:Ws.number.isRequired,className:Ws.string,component:Ws.oneOfType([Ws.node,Ws.func])})]))};yC.defaultProps={className:"refractor",inline:!1};yC.registerLanguage=function(e){return E8.register(e)};yC.hasLanguage=function(e){return E8.registered(e)};var hqe=yC;const bm=Pe(hqe),pqe=["top","right","bottom","left"],k0=Math.min,tm=Math.max,mk=Math.round,W_=Math.floor,sh=e=>({x:e,y:e}),mqe={left:"right",right:"left",bottom:"top",top:"bottom"},gqe={start:"end",end:"start"};function UR(e,t,n){return tm(e,k0(t,n))}function p1(e,t){return typeof e=="function"?e(t):e}function xm(e){return e.split("-")[0]}function bC(e){return e.split("-")[1]}function Swe(e){return e==="x"?"y":"x"}function k8(e){return e==="y"?"height":"width"}function MT(e){return["top","bottom"].includes(xm(e))?"y":"x"}function j8(e){return Swe(MT(e))}function vqe(e,t,n){n===void 0&&(n=!1);const r=bC(e),o=j8(e),i=k8(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=gk(s)),[s,gk(s)]}function yqe(e){const t=gk(e);return[WR(e),t,WR(t)]}function WR(e){return e.replace(/start|end/g,t=>gqe[t])}function bqe(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function xqe(e,t,n,r){const o=bC(e);let i=bqe(xm(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(WR)))),i}function gk(e){return e.replace(/left|right|bottom|top/g,t=>mqe[t])}function wqe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ewe(e){return typeof e!="number"?wqe(e):{top:e,right:e,bottom:e,left:e}}function vk(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function mW(e,t,n){let{reference:r,floating:o}=e;const i=MT(t),s=j8(t),a=k8(s),l=xm(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(bC(t)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const Cqe=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=mW(u,r,l),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:x}=a[g],{x:b,y:w,data:C,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=b??d,f=w??f,m={...m,[y]:{...m[y],...C}},_&&v<=50){v++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:d,y:f}=mW(u,p,l)),g=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:m}};async function Rx(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=p1(t,e),v=Ewe(m),y=a[p?f==="floating"?"reference":"floating":f],x=vk(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),b=f==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=vk(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:w,strategy:l}):b);return{top:(x.top-_.top+v.top)/C.y,bottom:(_.bottom-x.bottom+v.bottom)/C.y,left:(x.left-_.left+v.left)/C.x,right:(_.right-x.right+v.right)/C.x}}const gW=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=p1(e,t)||{};if(u==null)return{};const f=Ewe(d),p={x:n,y:r},m=j8(o),v=k8(m),g=await s.getDimensions(u),y=m==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[m]-p[m]-i.floating[v],_=p[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=S?S[w]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[w]||i.floating[v]);const j=C/2-_/2,k=E/2-g[v]/2-1,T=k0(f[x],k),A=k0(f[b],k),D=T,P=E-g[v]-A,I=E/2-g[v]/2+j,R=UR(D,I,P),O=!l.arrow&&bC(o)!=null&&I!=R&&i.reference[v]/2-(I<D?T:A)-g[v]/2<0,V=O?I<D?I-D:I-P:0;return{[m]:p[m]+V,data:{[m]:R,centerOffset:I-R-V,...O&&{alignmentOffset:V}},reset:O}}}),kwe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=p1(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=xm(o),b=xm(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=p||(b||!g?[gk(a)]:yqe(a));!p&&v!=="none"&&C.push(...xqe(a,g,v,w));const _=[a,...C],S=await Rx(t,y),E=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(S[x]),f){const D=vqe(o,s,w);E.push(S[D[0]],S[D[1]])}if(j=[...j,{placement:o,overflows:E}],!E.every(D=>D<=0)){var k,T;const D=(((k=i.flip)==null?void 0:k.index)||0)+1,P=_[D];if(P)return{data:{index:D,overflows:j},reset:{placement:P}};let I=(T=j.filter(R=>R.overflows[0]<=0).sort((R,O)=>R.overflows[1]-O.overflows[1])[0])==null?void 0:T.placement;if(!I)switch(m){case"bestFit":{var A;const R=(A=j.map(O=>[O.placement,O.overflows.filter(V=>V>0).reduce((V,B)=>V+B,0)]).sort((O,V)=>O[1]-V[1])[0])==null?void 0:A[0];R&&(I=R);break}case"initialPlacement":I=a;break}if(o!==I)return{reset:{placement:I}}}return{}}}};function vW(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yW(e){return pqe.some(t=>e[t]>=0)}const _qe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=p1(e,t);switch(r){case"referenceHidden":{const i=await Rx(t,{...o,elementContext:"reference"}),s=vW(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:yW(s)}}}case"escaped":{const i=await Rx(t,{...o,altBoundary:!0}),s=vW(i,n.floating);return{data:{escapedOffsets:s,escaped:yW(s)}}}default:return{}}}}};async function Sqe(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=xm(n),a=bC(n),l=MT(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&l?-1:1,f=p1(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const jwe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await Sqe(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},Twe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...l}=p1(e,t),u={x:n,y:r},d=await Rx(t,l),f=MT(xm(o)),p=Swe(f);let m=u[p],v=u[f];if(i){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",b=m+d[y],w=m-d[x];m=UR(b,m,w)}if(s){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=v+d[y],w=v-d[x];v=UR(b,v,w)}const g=a.fn({...t,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}};function ah(e){return Awe(e)?(e.nodeName||"").toLowerCase():"#document"}function la(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jd(e){var t;return(t=(Awe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Awe(e){return e instanceof Node||e instanceof la(e).Node}function nd(e){return e instanceof Element||e instanceof la(e).Element}function Gc(e){return e instanceof HTMLElement||e instanceof la(e).HTMLElement}function bW(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof la(e).ShadowRoot}function xC(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=il(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Eqe(e){return["table","td","th"].includes(ah(e))}function T8(e){const t=A8(),n=il(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function kqe(e){let t=j0(e);for(;Gc(t)&&!FT(t);){if(T8(t))return t;t=j0(t)}return null}function A8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function FT(e){return["html","body","#document"].includes(ah(e))}function il(e){return la(e).getComputedStyle(e)}function LT(e){return nd(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function j0(e){if(ah(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bW(e)&&e.host||jd(e);return bW(t)?t.host:t}function Dwe(e){const t=j0(e);return FT(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gc(t)&&xC(t)?t:Dwe(t)}function Mx(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Dwe(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=la(o);return i?t.concat(s,s.visualViewport||[],xC(o)?o:[],s.frameElement&&n?Mx(s.frameElement):[]):t.concat(o,Mx(o,[],n))}function Pwe(e){const t=il(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Gc(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=mk(n)!==i||mk(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function D8(e){return nd(e)?e:e.contextElement}function Vv(e){const t=D8(e);if(!Gc(t))return sh(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Pwe(t);let s=(i?mk(n.width):n.width)/r,a=(i?mk(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const jqe=sh(0);function Iwe(e){const t=la(e);return!A8()||!t.visualViewport?jqe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Tqe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==la(e)?!1:t}function wm(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=D8(e);let s=sh(1);t&&(r?nd(r)&&(s=Vv(r)):s=Vv(e));const a=Tqe(i,n,r)?Iwe(i):sh(0);let l=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const p=la(i),m=r&&nd(r)?la(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const g=Vv(v),y=v.getBoundingClientRect(),x=il(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,w=y.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,f*=g.y,l+=b,u+=w,v=la(v).frameElement}}return vk({width:d,height:f,x:l,y:u})}function Aqe(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Gc(n),i=jd(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=sh(1);const l=sh(0);if((o||!o&&r!=="fixed")&&((ah(n)!=="body"||xC(i))&&(s=LT(n)),Gc(n))){const u=wm(n);a=Vv(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+l.x,y:t.y*a.y-s.scrollTop*a.y+l.y}}function Dqe(e){return Array.from(e.getClientRects())}function Owe(e){return wm(jd(e)).left+LT(e).scrollLeft}function Pqe(e){const t=jd(e),n=LT(e),r=e.ownerDocument.body,o=tm(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=tm(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Owe(e);const a=-n.scrollTop;return il(r).direction==="rtl"&&(s+=tm(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function Iqe(e,t){const n=la(e),r=jd(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const u=A8();(!u||u&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function Oqe(e,t){const n=wm(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Gc(e)?Vv(e):sh(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,u=r*i.y;return{width:s,height:a,x:l,y:u}}function xW(e,t,n){let r;if(t==="viewport")r=Iqe(e,n);else if(t==="document")r=Pqe(jd(e));else if(nd(t))r=Oqe(t,n);else{const o=Iwe(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return vk(r)}function $we(e,t){const n=j0(e);return n===t||!nd(n)||FT(n)?!1:il(n).position==="fixed"||$we(n,t)}function $qe(e,t){const n=t.get(e);if(n)return n;let r=Mx(e,[],!1).filter(a=>nd(a)&&ah(a)!=="body"),o=null;const i=il(e).position==="fixed";let s=i?j0(e):e;for(;nd(s)&&!FT(s);){const a=il(s),l=T8(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||xC(s)&&!l&&$we(e,s))?r=r.filter(d=>d!==s):o=a,s=j0(s)}return t.set(e,r),r}function Rqe(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?$qe(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{const f=xW(t,d,o);return u.top=tm(f.top,u.top),u.right=k0(f.right,u.right),u.bottom=k0(f.bottom,u.bottom),u.left=tm(f.left,u.left),u},xW(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Mqe(e){return Pwe(e)}function Fqe(e,t,n){const r=Gc(t),o=jd(t),i=n==="fixed",s=wm(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=sh(0);if(r||!r&&!i)if((ah(t)!=="body"||xC(o))&&(a=LT(t)),r){const u=wm(t,!0,i,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else o&&(l.x=Owe(o));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function wW(e,t){return!Gc(e)||il(e).position==="fixed"?null:t?t(e):e.offsetParent}function Rwe(e,t){const n=la(e);if(!Gc(e))return n;let r=wW(e,t);for(;r&&Eqe(r)&&il(r).position==="static";)r=wW(r,t);return r&&(ah(r)==="html"||ah(r)==="body"&&il(r).position==="static"&&!T8(r))?n:r||kqe(e)||n}const Lqe=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||Rwe,i=this.getDimensions;return{reference:Fqe(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function Bqe(e){return il(e).direction==="rtl"}const Nqe={convertOffsetParentRelativeRectToViewportRelativeRect:Aqe,getDocumentElement:jd,getClippingRect:Rqe,getOffsetParent:Rwe,getElementRects:Lqe,getClientRects:Dqe,getDimensions:Mqe,getScale:Vv,isElement:nd,isRTL:Bqe};function zqe(e,t){let n=null,r;const o=jd(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const m=W_(d),v=W_(o.clientWidth-(u+f)),g=W_(o.clientHeight-(d+p)),y=W_(u),b={rootMargin:-m+"px "+-v+"px "+-g+"px "+-y+"px",threshold:tm(0,k0(1,l))||1};let w=!0;function C(_){const S=_[0].intersectionRatio;if(S!==l){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(C,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return s(!0),i}function Mwe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=D8(e),d=o||i?[...u?Mx(u):[],...Mx(t)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?zqe(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let v,g=l?wm(e):null;l&&y();function y(){const x=wm(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,v=requestAnimationFrame(y)}return n(),()=>{d.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const Vqe=(e,t,n)=>{const r=new Map,o={platform:Nqe,...n},i={...o.platform,_c:r};return Cqe(e,t,{...o,platform:i})};var Fwe={exports:{}},_a={},Lwe={exports:{}},Bwe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,H){var W=B.length;B.push(H);e:for(;0<W;){var z=W-1>>>1,G=B[z];if(0<o(G,H))B[z]=H,B[W]=G,W=z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var H=B[0],W=B.pop();if(W!==H){B[0]=W;e:for(var z=0,G=B.length,ee=G>>>1;z<ee;){var N=2*(z+1)-1,Y=B[N],q=N+1,Z=B[q];if(0>o(Y,W))q<G&&0>o(Z,Y)?(B[z]=Z,B[q]=W,z=q):(B[z]=Y,B[N]=W,z=N);else if(q<G&&0>o(Z,W))B[z]=Z,B[q]=W,z=q;else break e}}return H}function o(B,H){var W=B.sortIndex-H.sortIndex;return W!==0?W:B.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=B)r(u),H.sortIndex=H.expirationTime,t(l,H);else break;H=n(u)}}function C(B){if(g=!1,w(B),!v)if(n(l)!==null)v=!0,O(_);else{var H=n(u);H!==null&&V(C,H.startTime-B)}}function _(B,H){v=!1,g&&(g=!1,x(j),j=-1),m=!0;var W=p;try{for(w(H),f=n(l);f!==null&&(!(f.expirationTime>H)||B&&!A());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var G=z(f.expirationTime<=H);H=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),w(H)}else r(l);f=n(l)}if(f!==null)var ee=!0;else{var N=n(u);N!==null&&V(C,N.startTime-H),ee=!1}return ee}finally{f=null,p=W,m=!1}}var S=!1,E=null,j=-1,k=5,T=-1;function A(){return!(e.unstable_now()-T<k)}function D(){if(E!==null){var B=e.unstable_now();T=B;var H=!0;try{H=E(!0,B)}finally{H?P():(S=!1,E=null)}}else S=!1}var P;if(typeof b=="function")P=function(){b(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,R=I.port2;I.port1.onmessage=D,P=function(){R.postMessage(null)}}else P=function(){y(D,0)};function O(B){E=B,S||(S=!0,P())}function V(B,H){j=y(function(){B(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,O(_))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var W=p;p=H;try{return B()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=p;p=B;try{return H()}finally{p=W}},e.unstable_scheduleCallback=function(B,H,W){var z=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?z+W:z):W=z,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=W+G,B={id:d++,callback:H,priorityLevel:B,startTime:W,expirationTime:G,sortIndex:-1},W>z?(B.sortIndex=W,t(u,B),n(l)===null&&B===n(u)&&(g?(x(j),j=-1):g=!0,V(C,W-z))):(B.sortIndex=G,t(l,B),v||m||(v=!0,O(_))),B},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(B){var H=p;return function(){var W=p;p=H;try{return B.apply(this,arguments)}finally{p=W}}}})(Bwe);Lwe.exports=Bwe;var Hqe=Lwe.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nwe=h,ha=Hqe;function je(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zwe=new Set,Fx={};function Qm(e,t){T0(e,t),T0(e+"Capture",t)}function T0(e,t){for(Fx[e]=t,e=0;e<t.length;e++)zwe.add(t[e])}var rd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),YR=Object.prototype.hasOwnProperty,Uqe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CW={},_W={};function Wqe(e){return YR.call(_W,e)?!0:YR.call(CW,e)?!1:Uqe.test(e)?_W[e]=!0:(CW[e]=!0,!1)}function Yqe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qqe(e,t,n,r){if(t===null||typeof t>"u"||Yqe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fs(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var hi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hi[e]=new fs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hi[t]=new fs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hi[e]=new fs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hi[e]=new fs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hi[e]=new fs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hi[e]=new fs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hi[e]=new fs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hi[e]=new fs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hi[e]=new fs(e,5,!1,e.toLowerCase(),null,!1,!1)});var P8=/[\-:]([a-z])/g;function I8(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(P8,I8);hi[t]=new fs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(P8,I8);hi[t]=new fs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(P8,I8);hi[t]=new fs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hi[e]=new fs(e,1,!1,e.toLowerCase(),null,!1,!1)});hi.xlinkHref=new fs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hi[e]=new fs(e,1,!1,e.toLowerCase(),null,!0,!0)});function O8(e,t,n,r){var o=hi.hasOwnProperty(t)?hi[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qqe(t,n,o,r)&&(n=null),r||o===null?Wqe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Td=Nwe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y_=Symbol.for("react.element"),fv=Symbol.for("react.portal"),hv=Symbol.for("react.fragment"),$8=Symbol.for("react.strict_mode"),qR=Symbol.for("react.profiler"),Vwe=Symbol.for("react.provider"),Hwe=Symbol.for("react.context"),R8=Symbol.for("react.forward_ref"),GR=Symbol.for("react.suspense"),KR=Symbol.for("react.suspense_list"),M8=Symbol.for("react.memo"),ef=Symbol.for("react.lazy"),Uwe=Symbol.for("react.offscreen"),SW=Symbol.iterator;function by(e){return e===null||typeof e!="object"?null:(e=SW&&e[SW]||e["@@iterator"],typeof e=="function"?e:null)}var Br=Object.assign,wI;function pb(e){if(wI===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wI=t&&t[1]||""}return`
`+wI+e}var CI=!1;function _I(e,t){if(!e||CI)return"";CI=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{CI=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pb(e):""}function Gqe(e){switch(e.tag){case 5:return pb(e.type);case 16:return pb("Lazy");case 13:return pb("Suspense");case 19:return pb("SuspenseList");case 0:case 2:case 15:return e=_I(e.type,!1),e;case 11:return e=_I(e.type.render,!1),e;case 1:return e=_I(e.type,!0),e;default:return""}}function ZR(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hv:return"Fragment";case fv:return"Portal";case qR:return"Profiler";case $8:return"StrictMode";case GR:return"Suspense";case KR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hwe:return(e.displayName||"Context")+".Consumer";case Vwe:return(e._context.displayName||"Context")+".Provider";case R8:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M8:return t=e.displayName||null,t!==null?t:ZR(e.type)||"Memo";case ef:t=e._payload,e=e._init;try{return ZR(e(t))}catch{}}return null}function Kqe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ZR(t);case 8:return t===$8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wwe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zqe(e){var t=Wwe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function q_(e){e._valueTracker||(e._valueTracker=Zqe(e))}function Ywe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wwe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function yk(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function XR(e,t){var n=t.checked;return Br({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function EW(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=lh(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qwe(e,t){t=t.checked,t!=null&&O8(e,"checked",t,!1)}function QR(e,t){qwe(e,t);var n=lh(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?JR(e,t.type,n):t.hasOwnProperty("defaultValue")&&JR(e,t.type,lh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kW(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function JR(e,t,n){(t!=="number"||yk(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mb=Array.isArray;function Hv(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lh(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function eM(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(je(91));return Br({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jW(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(je(92));if(mb(n)){if(1<n.length)throw Error(je(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:lh(n)}}function Gwe(e,t){var n=lh(t.value),r=lh(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function TW(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kwe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tM(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kwe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var G_,Zwe=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(G_=G_||document.createElement("div"),G_.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=G_.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lx(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xqe=["Webkit","ms","Moz","O"];Object.keys(Vb).forEach(function(e){Xqe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vb[t]=Vb[e]})});function Xwe(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vb.hasOwnProperty(e)&&Vb[e]?(""+t).trim():t+"px"}function Qwe(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Xwe(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Qqe=Br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nM(e,t){if(t){if(Qqe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(je(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(je(62))}}function rM(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oM=null;function F8(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var iM=null,Uv=null,Wv=null;function AW(e){if(e=_C(e)){if(typeof iM!="function")throw Error(je(280));var t=e.stateNode;t&&(t=HT(t),iM(e.stateNode,e.type,t))}}function Jwe(e){Uv?Wv?Wv.push(e):Wv=[e]:Uv=e}function eCe(){if(Uv){var e=Uv,t=Wv;if(Wv=Uv=null,AW(e),t)for(e=0;e<t.length;e++)AW(t[e])}}function tCe(e,t){return e(t)}function nCe(){}var SI=!1;function rCe(e,t,n){if(SI)return e(t,n);SI=!0;try{return tCe(e,t,n)}finally{SI=!1,(Uv!==null||Wv!==null)&&(nCe(),eCe())}}function Bx(e,t){var n=e.stateNode;if(n===null)return null;var r=HT(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(je(231,t,typeof n));return n}var sM=!1;if(rd)try{var xy={};Object.defineProperty(xy,"passive",{get:function(){sM=!0}}),window.addEventListener("test",xy,xy),window.removeEventListener("test",xy,xy)}catch{sM=!1}function Jqe(e,t,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Hb=!1,bk=null,xk=!1,aM=null,eGe={onError:function(e){Hb=!0,bk=e}};function tGe(e,t,n,r,o,i,s,a,l){Hb=!1,bk=null,Jqe.apply(eGe,arguments)}function nGe(e,t,n,r,o,i,s,a,l){if(tGe.apply(this,arguments),Hb){if(Hb){var u=bk;Hb=!1,bk=null}else throw Error(je(198));xk||(xk=!0,aM=u)}}function Jm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oCe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function DW(e){if(Jm(e)!==e)throw Error(je(188))}function rGe(e){var t=e.alternate;if(!t){if(t=Jm(e),t===null)throw Error(je(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return DW(o),e;if(i===r)return DW(o),t;i=i.sibling}throw Error(je(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?e:t}function iCe(e){return e=rGe(e),e!==null?sCe(e):null}function sCe(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sCe(e);if(t!==null)return t;e=e.sibling}return null}var aCe=ha.unstable_scheduleCallback,PW=ha.unstable_cancelCallback,oGe=ha.unstable_shouldYield,iGe=ha.unstable_requestPaint,to=ha.unstable_now,sGe=ha.unstable_getCurrentPriorityLevel,L8=ha.unstable_ImmediatePriority,lCe=ha.unstable_UserBlockingPriority,wk=ha.unstable_NormalPriority,aGe=ha.unstable_LowPriority,cCe=ha.unstable_IdlePriority,BT=null,Bc=null;function lGe(e){if(Bc&&typeof Bc.onCommitFiberRoot=="function")try{Bc.onCommitFiberRoot(BT,e,void 0,(e.current.flags&128)===128)}catch{}}var Vl=Math.clz32?Math.clz32:dGe,cGe=Math.log,uGe=Math.LN2;function dGe(e){return e>>>=0,e===0?32:31-(cGe(e)/uGe|0)|0}var K_=64,Z_=4194304;function gb(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ck(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=gb(a):(i&=s,i!==0&&(r=gb(i)))}else s=n&~o,s!==0?r=gb(s):i!==0&&(r=gb(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vl(t),o=1<<n,r|=e[n],t&=~o;return r}function fGe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hGe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Vl(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=fGe(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function lM(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uCe(){var e=K_;return K_<<=1,!(K_&4194240)&&(K_=64),e}function EI(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wC(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vl(t),e[t]=n}function pGe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Vl(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function B8(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vl(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var En=0;function dCe(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fCe,N8,hCe,pCe,mCe,cM=!1,X_=[],Rf=null,Mf=null,Ff=null,Nx=new Map,zx=new Map,df=[],mGe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IW(e,t){switch(e){case"focusin":case"focusout":Rf=null;break;case"dragenter":case"dragleave":Mf=null;break;case"mouseover":case"mouseout":Ff=null;break;case"pointerover":case"pointerout":Nx.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zx.delete(t.pointerId)}}function wy(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=_C(t),t!==null&&N8(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function gGe(e,t,n,r,o){switch(t){case"focusin":return Rf=wy(Rf,e,t,n,r,o),!0;case"dragenter":return Mf=wy(Mf,e,t,n,r,o),!0;case"mouseover":return Ff=wy(Ff,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Nx.set(i,wy(Nx.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,zx.set(i,wy(zx.get(i)||null,e,t,n,r,o)),!0}return!1}function gCe(e){var t=Fp(e.target);if(t!==null){var n=Jm(t);if(n!==null){if(t=n.tag,t===13){if(t=oCe(n),t!==null){e.blockedOn=t,mCe(e.priority,function(){hCe(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function YS(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uM(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);oM=r,n.target.dispatchEvent(r),oM=null}else return t=_C(n),t!==null&&N8(t),e.blockedOn=n,!1;t.shift()}return!0}function OW(e,t,n){YS(e)&&n.delete(t)}function vGe(){cM=!1,Rf!==null&&YS(Rf)&&(Rf=null),Mf!==null&&YS(Mf)&&(Mf=null),Ff!==null&&YS(Ff)&&(Ff=null),Nx.forEach(OW),zx.forEach(OW)}function Cy(e,t){e.blockedOn===t&&(e.blockedOn=null,cM||(cM=!0,ha.unstable_scheduleCallback(ha.unstable_NormalPriority,vGe)))}function Vx(e){function t(o){return Cy(o,e)}if(0<X_.length){Cy(X_[0],e);for(var n=1;n<X_.length;n++){var r=X_[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rf!==null&&Cy(Rf,e),Mf!==null&&Cy(Mf,e),Ff!==null&&Cy(Ff,e),Nx.forEach(t),zx.forEach(t),n=0;n<df.length;n++)r=df[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<df.length&&(n=df[0],n.blockedOn===null);)gCe(n),n.blockedOn===null&&df.shift()}var Yv=Td.ReactCurrentBatchConfig,_k=!0;function yGe(e,t,n,r){var o=En,i=Yv.transition;Yv.transition=null;try{En=1,z8(e,t,n,r)}finally{En=o,Yv.transition=i}}function bGe(e,t,n,r){var o=En,i=Yv.transition;Yv.transition=null;try{En=4,z8(e,t,n,r)}finally{En=o,Yv.transition=i}}function z8(e,t,n,r){if(_k){var o=uM(e,t,n,r);if(o===null)RI(e,t,r,Sk,n),IW(e,r);else if(gGe(o,e,t,n,r))r.stopPropagation();else if(IW(e,r),t&4&&-1<mGe.indexOf(e)){for(;o!==null;){var i=_C(o);if(i!==null&&fCe(i),i=uM(e,t,n,r),i===null&&RI(e,t,r,Sk,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else RI(e,t,r,null,n)}}var Sk=null;function uM(e,t,n,r){if(Sk=null,e=F8(r),e=Fp(e),e!==null)if(t=Jm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oCe(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sk=e,null}function vCe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sGe()){case L8:return 1;case lCe:return 4;case wk:case aGe:return 16;case cCe:return 536870912;default:return 16}default:return 16}}var gf=null,V8=null,qS=null;function yCe(){if(qS)return qS;var e,t=V8,n=t.length,r,o="value"in gf?gf.value:gf.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return qS=o.slice(e,1<r?1-r:void 0)}function GS(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Q_(){return!0}function $W(){return!1}function Sa(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Q_:$W,this.isPropagationStopped=$W,this}return Br(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Q_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Q_)},persist:function(){},isPersistent:Q_}),t}var m1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H8=Sa(m1),CC=Br({},m1,{view:0,detail:0}),xGe=Sa(CC),kI,jI,_y,NT=Br({},CC,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U8,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_y&&(_y&&e.type==="mousemove"?(kI=e.screenX-_y.screenX,jI=e.screenY-_y.screenY):jI=kI=0,_y=e),kI)},movementY:function(e){return"movementY"in e?e.movementY:jI}}),RW=Sa(NT),wGe=Br({},NT,{dataTransfer:0}),CGe=Sa(wGe),_Ge=Br({},CC,{relatedTarget:0}),TI=Sa(_Ge),SGe=Br({},m1,{animationName:0,elapsedTime:0,pseudoElement:0}),EGe=Sa(SGe),kGe=Br({},m1,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jGe=Sa(kGe),TGe=Br({},m1,{data:0}),MW=Sa(TGe),AGe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DGe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PGe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IGe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PGe[e])?!!t[e]:!1}function U8(){return IGe}var OGe=Br({},CC,{key:function(e){if(e.key){var t=AGe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=GS(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DGe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U8,charCode:function(e){return e.type==="keypress"?GS(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?GS(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$Ge=Sa(OGe),RGe=Br({},NT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FW=Sa(RGe),MGe=Br({},CC,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U8}),FGe=Sa(MGe),LGe=Br({},m1,{propertyName:0,elapsedTime:0,pseudoElement:0}),BGe=Sa(LGe),NGe=Br({},NT,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zGe=Sa(NGe),VGe=[9,13,27,32],W8=rd&&"CompositionEvent"in window,Ub=null;rd&&"documentMode"in document&&(Ub=document.documentMode);var HGe=rd&&"TextEvent"in window&&!Ub,bCe=rd&&(!W8||Ub&&8<Ub&&11>=Ub),LW=String.fromCharCode(32),BW=!1;function xCe(e,t){switch(e){case"keyup":return VGe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wCe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pv=!1;function UGe(e,t){switch(e){case"compositionend":return wCe(t);case"keypress":return t.which!==32?null:(BW=!0,LW);case"textInput":return e=t.data,e===LW&&BW?null:e;default:return null}}function WGe(e,t){if(pv)return e==="compositionend"||!W8&&xCe(e,t)?(e=yCe(),qS=V8=gf=null,pv=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bCe&&t.locale!=="ko"?null:t.data;default:return null}}var YGe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NW(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YGe[e.type]:t==="textarea"}function CCe(e,t,n,r){Jwe(r),t=Ek(t,"onChange"),0<t.length&&(n=new H8("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wb=null,Hx=null;function qGe(e){OCe(e,0)}function zT(e){var t=vv(e);if(Ywe(t))return e}function GGe(e,t){if(e==="change")return t}var _Ce=!1;if(rd){var AI;if(rd){var DI="oninput"in document;if(!DI){var zW=document.createElement("div");zW.setAttribute("oninput","return;"),DI=typeof zW.oninput=="function"}AI=DI}else AI=!1;_Ce=AI&&(!document.documentMode||9<document.documentMode)}function VW(){Wb&&(Wb.detachEvent("onpropertychange",SCe),Hx=Wb=null)}function SCe(e){if(e.propertyName==="value"&&zT(Hx)){var t=[];CCe(t,Hx,e,F8(e)),rCe(qGe,t)}}function KGe(e,t,n){e==="focusin"?(VW(),Wb=t,Hx=n,Wb.attachEvent("onpropertychange",SCe)):e==="focusout"&&VW()}function ZGe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zT(Hx)}function XGe(e,t){if(e==="click")return zT(t)}function QGe(e,t){if(e==="input"||e==="change")return zT(t)}function JGe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ql=typeof Object.is=="function"?Object.is:JGe;function Ux(e,t){if(ql(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!YR.call(t,o)||!ql(e[o],t[o]))return!1}return!0}function HW(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function UW(e,t){var n=HW(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HW(n)}}function ECe(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ECe(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kCe(){for(var e=window,t=yk();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yk(e.document)}return t}function Y8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eKe(e){var t=kCe(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ECe(n.ownerDocument.documentElement,n)){if(r!==null&&Y8(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=UW(n,i);var s=UW(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tKe=rd&&"documentMode"in document&&11>=document.documentMode,mv=null,dM=null,Yb=null,fM=!1;function WW(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fM||mv==null||mv!==yk(r)||(r=mv,"selectionStart"in r&&Y8(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yb&&Ux(Yb,r)||(Yb=r,r=Ek(dM,"onSelect"),0<r.length&&(t=new H8("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mv)))}function J_(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gv={animationend:J_("Animation","AnimationEnd"),animationiteration:J_("Animation","AnimationIteration"),animationstart:J_("Animation","AnimationStart"),transitionend:J_("Transition","TransitionEnd")},PI={},jCe={};rd&&(jCe=document.createElement("div").style,"AnimationEvent"in window||(delete gv.animationend.animation,delete gv.animationiteration.animation,delete gv.animationstart.animation),"TransitionEvent"in window||delete gv.transitionend.transition);function VT(e){if(PI[e])return PI[e];if(!gv[e])return e;var t=gv[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jCe)return PI[e]=t[n];return e}var TCe=VT("animationend"),ACe=VT("animationiteration"),DCe=VT("animationstart"),PCe=VT("transitionend"),ICe=new Map,YW="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kh(e,t){ICe.set(e,t),Qm(t,[e])}for(var II=0;II<YW.length;II++){var OI=YW[II],nKe=OI.toLowerCase(),rKe=OI[0].toUpperCase()+OI.slice(1);kh(nKe,"on"+rKe)}kh(TCe,"onAnimationEnd");kh(ACe,"onAnimationIteration");kh(DCe,"onAnimationStart");kh("dblclick","onDoubleClick");kh("focusin","onFocus");kh("focusout","onBlur");kh(PCe,"onTransitionEnd");T0("onMouseEnter",["mouseout","mouseover"]);T0("onMouseLeave",["mouseout","mouseover"]);T0("onPointerEnter",["pointerout","pointerover"]);T0("onPointerLeave",["pointerout","pointerover"]);Qm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oKe=new Set("cancel close invalid load scroll toggle".split(" ").concat(vb));function qW(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nGe(r,t,void 0,e),e.currentTarget=null}function OCe(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;qW(o,a,u),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;qW(o,a,u),i=l}}}if(xk)throw e=aM,xk=!1,aM=null,e}function sr(e,t){var n=t[vM];n===void 0&&(n=t[vM]=new Set);var r=e+"__bubble";n.has(r)||($Ce(t,e,2,!1),n.add(r))}function $I(e,t,n){var r=0;t&&(r|=4),$Ce(n,e,r,t)}var e2="_reactListening"+Math.random().toString(36).slice(2);function Wx(e){if(!e[e2]){e[e2]=!0,zwe.forEach(function(n){n!=="selectionchange"&&(oKe.has(n)||$I(n,!1,e),$I(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[e2]||(t[e2]=!0,$I("selectionchange",!1,t))}}function $Ce(e,t,n,r){switch(vCe(t)){case 1:var o=yGe;break;case 4:o=bGe;break;default:o=z8}n=o.bind(null,t,n,e),o=void 0,!sM||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function RI(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Fp(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}rCe(function(){var u=i,d=F8(n),f=[];e:{var p=ICe.get(e);if(p!==void 0){var m=H8,v=e;switch(e){case"keypress":if(GS(n)===0)break e;case"keydown":case"keyup":m=$Ge;break;case"focusin":v="focus",m=TI;break;case"focusout":v="blur",m=TI;break;case"beforeblur":case"afterblur":m=TI;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=RW;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=CGe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=FGe;break;case TCe:case ACe:case DCe:m=EGe;break;case PCe:m=BGe;break;case"scroll":m=xGe;break;case"wheel":m=zGe;break;case"copy":case"cut":case"paste":m=jGe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=FW}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var b=u,w;b!==null;){w=b;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,x!==null&&(C=Bx(b,x),C!=null&&g.push(Yx(b,C,w)))),y)break;b=b.return}0<g.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==oM&&(v=n.relatedTarget||n.fromElement)&&(Fp(v)||v[od]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Fp(v):null,v!==null&&(y=Jm(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=RW,C="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=FW,C="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?p:vv(m),w=v==null?p:vv(v),p=new g(C,b+"leave",m,n,d),p.target=y,p.relatedTarget=w,C=null,Fp(d)===u&&(g=new g(x,b+"enter",v,n,d),g.target=w,g.relatedTarget=y,C=g),y=C,m&&v)t:{for(g=m,x=v,b=0,w=g;w;w=Og(w))b++;for(w=0,C=x;C;C=Og(C))w++;for(;0<b-w;)g=Og(g),b--;for(;0<w-b;)x=Og(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=Og(g),x=Og(x)}g=null}else g=null;m!==null&&GW(f,p,m,g,!1),v!==null&&y!==null&&GW(f,y,v,g,!0)}}e:{if(p=u?vv(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=GGe;else if(NW(p))if(_Ce)_=QGe;else{_=ZGe;var S=KGe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=XGe);if(_&&(_=_(e,u))){CCe(f,_,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&JR(p,"number",p.value)}switch(S=u?vv(u):window,e){case"focusin":(NW(S)||S.contentEditable==="true")&&(mv=S,dM=u,Yb=null);break;case"focusout":Yb=dM=mv=null;break;case"mousedown":fM=!0;break;case"contextmenu":case"mouseup":case"dragend":fM=!1,WW(f,n,d);break;case"selectionchange":if(tKe)break;case"keydown":case"keyup":WW(f,n,d)}var E;if(W8)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else pv?xCe(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(bCe&&n.locale!=="ko"&&(pv||j!=="onCompositionStart"?j==="onCompositionEnd"&&pv&&(E=yCe()):(gf=d,V8="value"in gf?gf.value:gf.textContent,pv=!0)),S=Ek(u,j),0<S.length&&(j=new MW(j,e,null,n,d),f.push({event:j,listeners:S}),E?j.data=E:(E=wCe(n),E!==null&&(j.data=E)))),(E=HGe?UGe(e,n):WGe(e,n))&&(u=Ek(u,"onBeforeInput"),0<u.length&&(d=new MW("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}OCe(f,t)})}function Yx(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ek(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Bx(e,n),i!=null&&r.unshift(Yx(e,i,o)),i=Bx(e,t),i!=null&&r.push(Yx(e,i,o))),e=e.return}return r}function Og(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function GW(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=Bx(n,i),l!=null&&s.unshift(Yx(n,l,a))):o||(l=Bx(n,i),l!=null&&s.push(Yx(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var iKe=/\r\n?/g,sKe=/\u0000|\uFFFD/g;function KW(e){return(typeof e=="string"?e:""+e).replace(iKe,`
`).replace(sKe,"")}function t2(e,t,n){if(t=KW(t),KW(e)!==t&&n)throw Error(je(425))}function kk(){}var hM=null,pM=null;function mM(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gM=typeof setTimeout=="function"?setTimeout:void 0,aKe=typeof clearTimeout=="function"?clearTimeout:void 0,ZW=typeof Promise=="function"?Promise:void 0,lKe=typeof queueMicrotask=="function"?queueMicrotask:typeof ZW<"u"?function(e){return ZW.resolve(null).then(e).catch(cKe)}:gM;function cKe(e){setTimeout(function(){throw e})}function MI(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Vx(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Vx(t)}function Lf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function XW(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var g1=Math.random().toString(36).slice(2),Dc="__reactFiber$"+g1,qx="__reactProps$"+g1,od="__reactContainer$"+g1,vM="__reactEvents$"+g1,uKe="__reactListeners$"+g1,dKe="__reactHandles$"+g1;function Fp(e){var t=e[Dc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[od]||n[Dc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=XW(e);e!==null;){if(n=e[Dc])return n;e=XW(e)}return t}e=n,n=e.parentNode}return null}function _C(e){return e=e[Dc]||e[od],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vv(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(je(33))}function HT(e){return e[qx]||null}var yM=[],yv=-1;function jh(e){return{current:e}}function ur(e){0>yv||(e.current=yM[yv],yM[yv]=null,yv--)}function Zn(e,t){yv++,yM[yv]=e.current,e.current=t}var ch={},Ni=jh(ch),$s=jh(!1),Cm=ch;function A0(e,t){var n=e.type.contextTypes;if(!n)return ch;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Rs(e){return e=e.childContextTypes,e!=null}function jk(){ur($s),ur(Ni)}function QW(e,t,n){if(Ni.current!==ch)throw Error(je(168));Zn(Ni,t),Zn($s,n)}function RCe(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(je(108,Kqe(e)||"Unknown",o));return Br({},n,r)}function Tk(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ch,Cm=Ni.current,Zn(Ni,e),Zn($s,$s.current),!0}function JW(e,t,n){var r=e.stateNode;if(!r)throw Error(je(169));n?(e=RCe(e,t,Cm),r.__reactInternalMemoizedMergedChildContext=e,ur($s),ur(Ni),Zn(Ni,e)):ur($s),Zn($s,n)}var Au=null,UT=!1,FI=!1;function MCe(e){Au===null?Au=[e]:Au.push(e)}function fKe(e){UT=!0,MCe(e)}function Th(){if(!FI&&Au!==null){FI=!0;var e=0,t=En;try{var n=Au;for(En=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Au=null,UT=!1}catch(o){throw Au!==null&&(Au=Au.slice(e+1)),aCe(L8,Th),o}finally{En=t,FI=!1}}return null}var bv=[],xv=0,Ak=null,Dk=0,za=[],Va=0,_m=null,Ou=1,$u="";function cp(e,t){bv[xv++]=Dk,bv[xv++]=Ak,Ak=e,Dk=t}function FCe(e,t,n){za[Va++]=Ou,za[Va++]=$u,za[Va++]=_m,_m=e;var r=Ou;e=$u;var o=32-Vl(r)-1;r&=~(1<<o),n+=1;var i=32-Vl(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Ou=1<<32-Vl(t)+o|n<<o|r,$u=i+e}else Ou=1<<i|n<<o|r,$u=e}function q8(e){e.return!==null&&(cp(e,1),FCe(e,1,0))}function G8(e){for(;e===Ak;)Ak=bv[--xv],bv[xv]=null,Dk=bv[--xv],bv[xv]=null;for(;e===_m;)_m=za[--Va],za[Va]=null,$u=za[--Va],za[Va]=null,Ou=za[--Va],za[Va]=null}var ca=null,ia=null,Sr=!1,Dl=null;function LCe(e,t){var n=Ga(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eY(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ca=e,ia=Lf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ca=e,ia=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_m!==null?{id:Ou,overflow:$u}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ga(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ca=e,ia=null,!0):!1;default:return!1}}function bM(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xM(e){if(Sr){var t=ia;if(t){var n=t;if(!eY(e,t)){if(bM(e))throw Error(je(418));t=Lf(n.nextSibling);var r=ca;t&&eY(e,t)?LCe(r,n):(e.flags=e.flags&-4097|2,Sr=!1,ca=e)}}else{if(bM(e))throw Error(je(418));e.flags=e.flags&-4097|2,Sr=!1,ca=e}}}function tY(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ca=e}function n2(e){if(e!==ca)return!1;if(!Sr)return tY(e),Sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mM(e.type,e.memoizedProps)),t&&(t=ia)){if(bM(e))throw BCe(),Error(je(418));for(;t;)LCe(e,t),t=Lf(t.nextSibling)}if(tY(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ia=Lf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ia=null}}else ia=ca?Lf(e.stateNode.nextSibling):null;return!0}function BCe(){for(var e=ia;e;)e=Lf(e.nextSibling)}function D0(){ia=ca=null,Sr=!1}function K8(e){Dl===null?Dl=[e]:Dl.push(e)}var hKe=Td.ReactCurrentBatchConfig;function Tl(e,t){if(e&&e.defaultProps){t=Br({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Pk=jh(null),Ik=null,wv=null,Z8=null;function X8(){Z8=wv=Ik=null}function Q8(e){var t=Pk.current;ur(Pk),e._currentValue=t}function wM(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qv(e,t){Ik=e,Z8=wv=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ps=!0),e.firstContext=null)}function sl(e){var t=e._currentValue;if(Z8!==e)if(e={context:e,memoizedValue:t,next:null},wv===null){if(Ik===null)throw Error(je(308));wv=e,Ik.dependencies={lanes:0,firstContext:e}}else wv=wv.next=e;return t}var Lp=null;function J8(e){Lp===null?Lp=[e]:Lp.push(e)}function NCe(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,J8(t)):(n.next=o.next,o.next=n),t.interleaved=n,id(e,r)}function id(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tf=!1;function e9(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zCe(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,an&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,id(e,n)}return o=r.interleaved,o===null?(t.next=t,J8(r)):(t.next=o.next,o.next=t),r.interleaved=t,id(e,n)}function KS(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,B8(e,n)}}function nY(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ok(e,t,n,r){var o=e.updateQueue;tf=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=o.baseState;s=0,d=u=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(p=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Br({},f,p);break e;case 2:tf=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(l=f),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Em|=s,e.lanes=s,e.memoizedState=f}}function rY(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(je(191,o));o.call(r)}}}var VCe=new Nwe.Component().refs;function CM(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Br({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var WT={isMounted:function(e){return(e=e._reactInternals)?Jm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=as(),o=zf(e),i=Vu(r,o);i.payload=t,n!=null&&(i.callback=n),t=Bf(e,i,o),t!==null&&(Hl(t,e,o,r),KS(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=as(),o=zf(e),i=Vu(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Bf(e,i,o),t!==null&&(Hl(t,e,o,r),KS(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=as(),r=zf(e),o=Vu(n,r);o.tag=2,t!=null&&(o.callback=t),t=Bf(e,o,r),t!==null&&(Hl(t,e,r,n),KS(t,e,r))}};function oY(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Ux(n,r)||!Ux(o,i):!0}function HCe(e,t,n){var r=!1,o=ch,i=t.contextType;return typeof i=="object"&&i!==null?i=sl(i):(o=Rs(t)?Cm:Ni.current,r=t.contextTypes,i=(r=r!=null)?A0(e,o):ch),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=WT,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function iY(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&WT.enqueueReplaceState(t,t.state,null)}function _M(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=VCe,e9(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=sl(i):(i=Rs(t)?Cm:Ni.current,o.context=A0(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(CM(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&WT.enqueueReplaceState(o,o.state,null),Ok(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Sy(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===VCe&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,e))}return e}function r2(e,t){throw e=Object.prototype.toString.call(t),Error(je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sY(e){var t=e._init;return t(e._payload)}function UCe(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function o(x,b){return x=Vf(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,b,w,C){return b===null||b.tag!==6?(b=UI(w,x.mode,C),b.return=x,b):(b=o(b,w),b.return=x,b)}function l(x,b,w,C){var _=w.type;return _===hv?d(x,b,w.props.children,C,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ef&&sY(_)===b.type)?(C=o(b,w.props),C.ref=Sy(x,b,w),C.return=x,C):(C=tE(w.type,w.key,w.props,null,x.mode,C),C.ref=Sy(x,b,w),C.return=x,C)}function u(x,b,w,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=WI(w,x.mode,C),b.return=x,b):(b=o(b,w.children||[]),b.return=x,b)}function d(x,b,w,C,_){return b===null||b.tag!==7?(b=rm(w,x.mode,C,_),b.return=x,b):(b=o(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=UI(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Y_:return w=tE(b.type,b.key,b.props,null,x.mode,w),w.ref=Sy(x,null,b),w.return=x,w;case fv:return b=WI(b,x.mode,w),b.return=x,b;case ef:var C=b._init;return f(x,C(b._payload),w)}if(mb(b)||by(b))return b=rm(b,x.mode,w,null),b.return=x,b;r2(x,b)}return null}function p(x,b,w,C){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,b,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Y_:return w.key===_?l(x,b,w,C):null;case fv:return w.key===_?u(x,b,w,C):null;case ef:return _=w._init,p(x,b,_(w._payload),C)}if(mb(w)||by(w))return _!==null?null:d(x,b,w,C,null);r2(x,w)}return null}function m(x,b,w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(w)||null,a(b,x,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Y_:return x=x.get(C.key===null?w:C.key)||null,l(b,x,C,_);case fv:return x=x.get(C.key===null?w:C.key)||null,u(b,x,C,_);case ef:var S=C._init;return m(x,b,w,S(C._payload),_)}if(mb(C)||by(C))return x=x.get(w)||null,d(b,x,C,_,null);r2(b,C)}return null}function v(x,b,w,C){for(var _=null,S=null,E=b,j=b=0,k=null;E!==null&&j<w.length;j++){E.index>j?(k=E,E=null):k=E.sibling;var T=p(x,E,w[j],C);if(T===null){E===null&&(E=k);break}e&&E&&T.alternate===null&&t(x,E),b=i(T,b,j),S===null?_=T:S.sibling=T,S=T,E=k}if(j===w.length)return n(x,E),Sr&&cp(x,j),_;if(E===null){for(;j<w.length;j++)E=f(x,w[j],C),E!==null&&(b=i(E,b,j),S===null?_=E:S.sibling=E,S=E);return Sr&&cp(x,j),_}for(E=r(x,E);j<w.length;j++)k=m(E,x,j,w[j],C),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?j:k.key),b=i(k,b,j),S===null?_=k:S.sibling=k,S=k);return e&&E.forEach(function(A){return t(x,A)}),Sr&&cp(x,j),_}function g(x,b,w,C){var _=by(w);if(typeof _!="function")throw Error(je(150));if(w=_.call(w),w==null)throw Error(je(151));for(var S=_=null,E=b,j=b=0,k=null,T=w.next();E!==null&&!T.done;j++,T=w.next()){E.index>j?(k=E,E=null):k=E.sibling;var A=p(x,E,T.value,C);if(A===null){E===null&&(E=k);break}e&&E&&A.alternate===null&&t(x,E),b=i(A,b,j),S===null?_=A:S.sibling=A,S=A,E=k}if(T.done)return n(x,E),Sr&&cp(x,j),_;if(E===null){for(;!T.done;j++,T=w.next())T=f(x,T.value,C),T!==null&&(b=i(T,b,j),S===null?_=T:S.sibling=T,S=T);return Sr&&cp(x,j),_}for(E=r(x,E);!T.done;j++,T=w.next())T=m(E,x,j,T.value,C),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),b=i(T,b,j),S===null?_=T:S.sibling=T,S=T);return e&&E.forEach(function(D){return t(x,D)}),Sr&&cp(x,j),_}function y(x,b,w,C){if(typeof w=="object"&&w!==null&&w.type===hv&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Y_:e:{for(var _=w.key,S=b;S!==null;){if(S.key===_){if(_=w.type,_===hv){if(S.tag===7){n(x,S.sibling),b=o(S,w.props.children),b.return=x,x=b;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ef&&sY(_)===S.type){n(x,S.sibling),b=o(S,w.props),b.ref=Sy(x,S,w),b.return=x,x=b;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===hv?(b=rm(w.props.children,x.mode,C,w.key),b.return=x,x=b):(C=tE(w.type,w.key,w.props,null,x.mode,C),C.ref=Sy(x,b,w),C.return=x,x=C)}return s(x);case fv:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=o(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=WI(w,x.mode,C),b.return=x,x=b}return s(x);case ef:return S=w._init,y(x,b,S(w._payload),C)}if(mb(w))return v(x,b,w,C);if(by(w))return g(x,b,w,C);r2(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=o(b,w),b.return=x,x=b):(n(x,b),b=UI(w,x.mode,C),b.return=x,x=b),s(x)):n(x,b)}return y}var P0=UCe(!0),WCe=UCe(!1),SC={},Nc=jh(SC),Gx=jh(SC),Kx=jh(SC);function Bp(e){if(e===SC)throw Error(je(174));return e}function t9(e,t){switch(Zn(Kx,t),Zn(Gx,e),Zn(Nc,SC),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tM(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tM(t,e)}ur(Nc),Zn(Nc,t)}function I0(){ur(Nc),ur(Gx),ur(Kx)}function YCe(e){Bp(Kx.current);var t=Bp(Nc.current),n=tM(t,e.type);t!==n&&(Zn(Gx,e),Zn(Nc,n))}function n9(e){Gx.current===e&&(ur(Nc),ur(Gx))}var Ir=jh(0);function $k(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var LI=[];function r9(){for(var e=0;e<LI.length;e++)LI[e]._workInProgressVersionPrimary=null;LI.length=0}var ZS=Td.ReactCurrentDispatcher,BI=Td.ReactCurrentBatchConfig,Sm=0,Fr=null,Ao=null,Ho=null,Rk=!1,qb=!1,Zx=0,pKe=0;function wi(){throw Error(je(321))}function o9(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ql(e[n],t[n]))return!1;return!0}function i9(e,t,n,r,o,i){if(Sm=i,Fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ZS.current=e===null||e.memoizedState===null?yKe:bKe,e=n(r,o),qb){i=0;do{if(qb=!1,Zx=0,25<=i)throw Error(je(301));i+=1,Ho=Ao=null,t.updateQueue=null,ZS.current=xKe,e=n(r,o)}while(qb)}if(ZS.current=Mk,t=Ao!==null&&Ao.next!==null,Sm=0,Ho=Ao=Fr=null,Rk=!1,t)throw Error(je(300));return e}function s9(){var e=Zx!==0;return Zx=0,e}function Cc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ho===null?Fr.memoizedState=Ho=e:Ho=Ho.next=e,Ho}function al(){if(Ao===null){var e=Fr.alternate;e=e!==null?e.memoizedState:null}else e=Ao.next;var t=Ho===null?Fr.memoizedState:Ho.next;if(t!==null)Ho=t,Ao=e;else{if(e===null)throw Error(je(310));Ao=e,e={memoizedState:Ao.memoizedState,baseState:Ao.baseState,baseQueue:Ao.baseQueue,queue:Ao.queue,next:null},Ho===null?Fr.memoizedState=Ho=e:Ho=Ho.next=e}return Ho}function Xx(e,t){return typeof t=="function"?t(e):t}function NI(e){var t=al(),n=t.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=e;var r=Ao,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,u=i;do{var d=u.lane;if((Sm&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Fr.lanes|=d,Em|=d}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=a,ql(r,t.memoizedState)||(Ps=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Fr.lanes|=i,Em|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zI(e){var t=al(),n=t.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);ql(i,t.memoizedState)||(Ps=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function qCe(){}function GCe(e,t){var n=Fr,r=al(),o=t(),i=!ql(r.memoizedState,o);if(i&&(r.memoizedState=o,Ps=!0),r=r.queue,a9(XCe.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ho!==null&&Ho.memoizedState.tag&1){if(n.flags|=2048,Qx(9,ZCe.bind(null,n,r,o,t),void 0,null),qo===null)throw Error(je(349));Sm&30||KCe(n,t,o)}return o}function KCe(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fr.updateQueue,t===null?(t={lastEffect:null,stores:null},Fr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ZCe(e,t,n,r){t.value=n,t.getSnapshot=r,QCe(t)&&JCe(e)}function XCe(e,t,n){return n(function(){QCe(t)&&JCe(e)})}function QCe(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ql(e,n)}catch{return!0}}function JCe(e){var t=id(e,1);t!==null&&Hl(t,e,1,-1)}function aY(e){var t=Cc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xx,lastRenderedState:e},t.queue=e,e=e.dispatch=vKe.bind(null,Fr,e),[t.memoizedState,e]}function Qx(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Fr.updateQueue,t===null?(t={lastEffect:null,stores:null},Fr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function e_e(){return al().memoizedState}function XS(e,t,n,r){var o=Cc();Fr.flags|=e,o.memoizedState=Qx(1|t,n,void 0,r===void 0?null:r)}function YT(e,t,n,r){var o=al();r=r===void 0?null:r;var i=void 0;if(Ao!==null){var s=Ao.memoizedState;if(i=s.destroy,r!==null&&o9(r,s.deps)){o.memoizedState=Qx(t,n,i,r);return}}Fr.flags|=e,o.memoizedState=Qx(1|t,n,i,r)}function lY(e,t){return XS(8390656,8,e,t)}function a9(e,t){return YT(2048,8,e,t)}function t_e(e,t){return YT(4,2,e,t)}function n_e(e,t){return YT(4,4,e,t)}function r_e(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o_e(e,t,n){return n=n!=null?n.concat([e]):null,YT(4,4,r_e.bind(null,t,e),n)}function l9(){}function i_e(e,t){var n=al();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&o9(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function s_e(e,t){var n=al();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&o9(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function a_e(e,t,n){return Sm&21?(ql(n,t)||(n=uCe(),Fr.lanes|=n,Em|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ps=!0),e.memoizedState=n)}function mKe(e,t){var n=En;En=n!==0&&4>n?n:4,e(!0);var r=BI.transition;BI.transition={};try{e(!1),t()}finally{En=n,BI.transition=r}}function l_e(){return al().memoizedState}function gKe(e,t,n){var r=zf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},c_e(e))u_e(t,n);else if(n=NCe(e,t,n,r),n!==null){var o=as();Hl(n,e,r,o),d_e(n,t,r)}}function vKe(e,t,n){var r=zf(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(c_e(e))u_e(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ql(a,s)){var l=t.interleaved;l===null?(o.next=o,J8(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=NCe(e,t,o,r),n!==null&&(o=as(),Hl(n,e,r,o),d_e(n,t,r))}}function c_e(e){var t=e.alternate;return e===Fr||t!==null&&t===Fr}function u_e(e,t){qb=Rk=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function d_e(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,B8(e,n)}}var Mk={readContext:sl,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useInsertionEffect:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useSyncExternalStore:wi,useId:wi,unstable_isNewReconciler:!1},yKe={readContext:sl,useCallback:function(e,t){return Cc().memoizedState=[e,t===void 0?null:t],e},useContext:sl,useEffect:lY,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,XS(4194308,4,r_e.bind(null,t,e),n)},useLayoutEffect:function(e,t){return XS(4194308,4,e,t)},useInsertionEffect:function(e,t){return XS(4,2,e,t)},useMemo:function(e,t){var n=Cc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gKe.bind(null,Fr,e),[r.memoizedState,e]},useRef:function(e){var t=Cc();return e={current:e},t.memoizedState=e},useState:aY,useDebugValue:l9,useDeferredValue:function(e){return Cc().memoizedState=e},useTransition:function(){var e=aY(!1),t=e[0];return e=mKe.bind(null,e[1]),Cc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Fr,o=Cc();if(Sr){if(n===void 0)throw Error(je(407));n=n()}else{if(n=t(),qo===null)throw Error(je(349));Sm&30||KCe(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,lY(XCe.bind(null,r,i,e),[e]),r.flags|=2048,Qx(9,ZCe.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Cc(),t=qo.identifierPrefix;if(Sr){var n=$u,r=Ou;n=(r&~(1<<32-Vl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zx++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pKe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bKe={readContext:sl,useCallback:i_e,useContext:sl,useEffect:a9,useImperativeHandle:o_e,useInsertionEffect:t_e,useLayoutEffect:n_e,useMemo:s_e,useReducer:NI,useRef:e_e,useState:function(){return NI(Xx)},useDebugValue:l9,useDeferredValue:function(e){var t=al();return a_e(t,Ao.memoizedState,e)},useTransition:function(){var e=NI(Xx)[0],t=al().memoizedState;return[e,t]},useMutableSource:qCe,useSyncExternalStore:GCe,useId:l_e,unstable_isNewReconciler:!1},xKe={readContext:sl,useCallback:i_e,useContext:sl,useEffect:a9,useImperativeHandle:o_e,useInsertionEffect:t_e,useLayoutEffect:n_e,useMemo:s_e,useReducer:zI,useRef:e_e,useState:function(){return zI(Xx)},useDebugValue:l9,useDeferredValue:function(e){var t=al();return Ao===null?t.memoizedState=e:a_e(t,Ao.memoizedState,e)},useTransition:function(){var e=zI(Xx)[0],t=al().memoizedState;return[e,t]},useMutableSource:qCe,useSyncExternalStore:GCe,useId:l_e,unstable_isNewReconciler:!1};function O0(e,t){try{var n="",r=t;do n+=Gqe(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function VI(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function SM(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wKe=typeof WeakMap=="function"?WeakMap:Map;function f_e(e,t,n){n=Vu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lk||(Lk=!0,$M=r),SM(e,t)},n}function h_e(e,t,n){n=Vu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){SM(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){SM(e,t),typeof r!="function"&&(Nf===null?Nf=new Set([this]):Nf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function cY(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wKe;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=RKe.bind(null,e,t,n),t.then(e,e))}function uY(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dY(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vu(-1,1),t.tag=2,Bf(n,t,1))),n.lanes|=1),e)}var CKe=Td.ReactCurrentOwner,Ps=!1;function ns(e,t,n,r){t.child=e===null?WCe(t,null,n,r):P0(t,e.child,n,r)}function fY(e,t,n,r,o){n=n.render;var i=t.ref;return qv(t,o),r=i9(e,t,n,r,i,o),n=s9(),e!==null&&!Ps?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,sd(e,t,o)):(Sr&&n&&q8(t),t.flags|=1,ns(e,t,r,o),t.child)}function hY(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!g9(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,p_e(e,t,i,r,o)):(e=tE(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ux,n(s,r)&&e.ref===t.ref)return sd(e,t,o)}return t.flags|=1,e=Vf(i,r),e.ref=t.ref,e.return=t,t.child=e}function p_e(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Ux(i,r)&&e.ref===t.ref)if(Ps=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ps=!0);else return t.lanes=e.lanes,sd(e,t,o)}return EM(e,t,n,r,o)}function m_e(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zn(_v,Xs),Xs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Zn(_v,Xs),Xs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Zn(_v,Xs),Xs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Zn(_v,Xs),Xs|=r;return ns(e,t,o,n),t.child}function g_e(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function EM(e,t,n,r,o){var i=Rs(n)?Cm:Ni.current;return i=A0(t,i),qv(t,o),n=i9(e,t,n,r,i,o),r=s9(),e!==null&&!Ps?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,sd(e,t,o)):(Sr&&r&&q8(t),t.flags|=1,ns(e,t,n,o),t.child)}function pY(e,t,n,r,o){if(Rs(n)){var i=!0;Tk(t)}else i=!1;if(qv(t,o),t.stateNode===null)QS(e,t),HCe(t,n,r),_M(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=sl(u):(u=Rs(n)?Cm:Ni.current,u=A0(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&iY(t,s,r,u),tf=!1;var p=t.memoizedState;s.state=p,Ok(t,r,s,o),l=t.memoizedState,a!==r||p!==l||$s.current||tf?(typeof d=="function"&&(CM(t,n,d,r),l=t.memoizedState),(a=tf||oY(t,n,a,r,p,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,zCe(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Tl(t.type,a),s.props=u,f=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=sl(l):(l=Rs(n)?Cm:Ni.current,l=A0(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==l)&&iY(t,s,r,l),tf=!1,p=t.memoizedState,s.state=p,Ok(t,r,s,o);var v=t.memoizedState;a!==f||p!==v||$s.current||tf?(typeof m=="function"&&(CM(t,n,m,r),v=t.memoizedState),(u=tf||oY(t,n,u,r,p,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return kM(e,t,n,r,i,o)}function kM(e,t,n,r,o,i){g_e(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&JW(t,n,!1),sd(e,t,i);r=t.stateNode,CKe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=P0(t,e.child,null,i),t.child=P0(t,null,a,i)):ns(e,t,a,i),t.memoizedState=r.state,o&&JW(t,n,!0),t.child}function v_e(e){var t=e.stateNode;t.pendingContext?QW(e,t.pendingContext,t.pendingContext!==t.context):t.context&&QW(e,t.context,!1),t9(e,t.containerInfo)}function mY(e,t,n,r,o){return D0(),K8(o),t.flags|=256,ns(e,t,n,r),t.child}var jM={dehydrated:null,treeContext:null,retryLane:0};function TM(e){return{baseLanes:e,cachePool:null,transitions:null}}function y_e(e,t,n){var r=t.pendingProps,o=Ir.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Zn(Ir,o&1),e===null)return xM(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=KT(s,r,0,null),e=rm(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=TM(n),t.memoizedState=jM,e):c9(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return _Ke(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Vf(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Vf(a,i):(i=rm(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?TM(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=jM,r}return i=e.child,e=i.sibling,r=Vf(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function c9(e,t){return t=KT({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function o2(e,t,n,r){return r!==null&&K8(r),P0(t,e.child,null,n),e=c9(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _Ke(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=VI(Error(je(422))),o2(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=KT({mode:"visible",children:r.children},o,0,null),i=rm(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&P0(t,e.child,null,s),t.child.memoizedState=TM(s),t.memoizedState=jM,i);if(!(t.mode&1))return o2(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(je(419)),r=VI(i,r,void 0),o2(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ps||a){if(r=qo,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,id(e,o),Hl(r,e,o,-1))}return m9(),r=VI(Error(je(421))),o2(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=MKe.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,ia=Lf(o.nextSibling),ca=t,Sr=!0,Dl=null,e!==null&&(za[Va++]=Ou,za[Va++]=$u,za[Va++]=_m,Ou=e.id,$u=e.overflow,_m=t),t=c9(t,r.children),t.flags|=4096,t)}function gY(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wM(e.return,t,n)}function HI(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function b_e(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ns(e,t,r.children,n),r=Ir.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gY(e,n,t);else if(e.tag===19)gY(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Zn(Ir,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&$k(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),HI(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&$k(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}HI(t,!0,n,null,i);break;case"together":HI(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function QS(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sd(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Em|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(je(153));if(t.child!==null){for(e=t.child,n=Vf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SKe(e,t,n){switch(t.tag){case 3:v_e(t),D0();break;case 5:YCe(t);break;case 1:Rs(t.type)&&Tk(t);break;case 4:t9(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Zn(Pk,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Zn(Ir,Ir.current&1),t.flags|=128,null):n&t.child.childLanes?y_e(e,t,n):(Zn(Ir,Ir.current&1),e=sd(e,t,n),e!==null?e.sibling:null);Zn(Ir,Ir.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return b_e(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Zn(Ir,Ir.current),r)break;return null;case 22:case 23:return t.lanes=0,m_e(e,t,n)}return sd(e,t,n)}var x_e,AM,w_e,C_e;x_e=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};AM=function(){};w_e=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Bp(Nc.current);var i=null;switch(n){case"input":o=XR(e,o),r=XR(e,r),i=[];break;case"select":o=Br({},o,{value:void 0}),r=Br({},r,{value:void 0}),i=[];break;case"textarea":o=eM(e,o),r=eM(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kk)}nM(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fx.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fx.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&sr("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};C_e=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ey(e,t){if(!Sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ci(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function EKe(e,t,n){var r=t.pendingProps;switch(G8(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(t),null;case 1:return Rs(t.type)&&jk(),Ci(t),null;case 3:return r=t.stateNode,I0(),ur($s),ur(Ni),r9(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(n2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dl!==null&&(FM(Dl),Dl=null))),AM(e,t),Ci(t),null;case 5:n9(t);var o=Bp(Kx.current);if(n=t.type,e!==null&&t.stateNode!=null)w_e(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(je(166));return Ci(t),null}if(e=Bp(Nc.current),n2(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Dc]=t,r[qx]=i,e=(t.mode&1)!==0,n){case"dialog":sr("cancel",r),sr("close",r);break;case"iframe":case"object":case"embed":sr("load",r);break;case"video":case"audio":for(o=0;o<vb.length;o++)sr(vb[o],r);break;case"source":sr("error",r);break;case"img":case"image":case"link":sr("error",r),sr("load",r);break;case"details":sr("toggle",r);break;case"input":EW(r,i),sr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},sr("invalid",r);break;case"textarea":jW(r,i),sr("invalid",r)}nM(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&t2(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&t2(r.textContent,a,e),o=["children",""+a]):Fx.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&sr("scroll",r)}switch(n){case"input":q_(r),kW(r,i,!0);break;case"textarea":q_(r),TW(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=kk)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kwe(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Dc]=t,e[qx]=r,x_e(e,t,!1,!1),t.stateNode=e;e:{switch(s=rM(n,r),n){case"dialog":sr("cancel",e),sr("close",e),o=r;break;case"iframe":case"object":case"embed":sr("load",e),o=r;break;case"video":case"audio":for(o=0;o<vb.length;o++)sr(vb[o],e);o=r;break;case"source":sr("error",e),o=r;break;case"img":case"image":case"link":sr("error",e),sr("load",e),o=r;break;case"details":sr("toggle",e),o=r;break;case"input":EW(e,r),o=XR(e,r),sr("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Br({},r,{value:void 0}),sr("invalid",e);break;case"textarea":jW(e,r),o=eM(e,r),sr("invalid",e);break;default:o=r}nM(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Qwe(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zwe(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lx(e,l):typeof l=="number"&&Lx(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fx.hasOwnProperty(i)?l!=null&&i==="onScroll"&&sr("scroll",e):l!=null&&O8(e,i,l,s))}switch(n){case"input":q_(e),kW(e,r,!1);break;case"textarea":q_(e),TW(e);break;case"option":r.value!=null&&e.setAttribute("value",""+lh(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hv(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hv(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=kk)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ci(t),null;case 6:if(e&&t.stateNode!=null)C_e(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(je(166));if(n=Bp(Kx.current),Bp(Nc.current),n2(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dc]=t,(i=r.nodeValue!==n)&&(e=ca,e!==null))switch(e.tag){case 3:t2(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&t2(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dc]=t,t.stateNode=r}return Ci(t),null;case 13:if(ur(Ir),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Sr&&ia!==null&&t.mode&1&&!(t.flags&128))BCe(),D0(),t.flags|=98560,i=!1;else if(i=n2(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(je(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(je(317));i[Dc]=t}else D0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ci(t),i=!1}else Dl!==null&&(FM(Dl),Dl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ir.current&1?Io===0&&(Io=3):m9())),t.updateQueue!==null&&(t.flags|=4),Ci(t),null);case 4:return I0(),AM(e,t),e===null&&Wx(t.stateNode.containerInfo),Ci(t),null;case 10:return Q8(t.type._context),Ci(t),null;case 17:return Rs(t.type)&&jk(),Ci(t),null;case 19:if(ur(Ir),i=t.memoizedState,i===null)return Ci(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Ey(i,!1);else{if(Io!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$k(e),s!==null){for(t.flags|=128,Ey(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Zn(Ir,Ir.current&1|2),t.child}e=e.sibling}i.tail!==null&&to()>$0&&(t.flags|=128,r=!0,Ey(i,!1),t.lanes=4194304)}else{if(!r)if(e=$k(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ey(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Sr)return Ci(t),null}else 2*to()-i.renderingStartTime>$0&&n!==1073741824&&(t.flags|=128,r=!0,Ey(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=to(),t.sibling=null,n=Ir.current,Zn(Ir,r?n&1|2:n&1),t):(Ci(t),null);case 22:case 23:return p9(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xs&1073741824&&(Ci(t),t.subtreeFlags&6&&(t.flags|=8192)):Ci(t),null;case 24:return null;case 25:return null}throw Error(je(156,t.tag))}function kKe(e,t){switch(G8(t),t.tag){case 1:return Rs(t.type)&&jk(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return I0(),ur($s),ur(Ni),r9(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return n9(t),null;case 13:if(ur(Ir),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(je(340));D0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ur(Ir),null;case 4:return I0(),null;case 10:return Q8(t.type._context),null;case 22:case 23:return p9(),null;case 24:return null;default:return null}}var i2=!1,Oi=!1,jKe=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Cv(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Hr(e,t,r)}else n.current=null}function DM(e,t,n){try{n()}catch(r){Hr(e,t,r)}}var vY=!1;function TKe(e,t){if(hM=_k,e=kCe(),Y8(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(a=s),p===i&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pM={focusedElem:e,selectionRange:n},_k=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Tl(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(C){Hr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return v=vY,vY=!1,v}function Gb(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&DM(t,n,i)}o=o.next}while(o!==r)}}function qT(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function PM(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function __e(e){var t=e.alternate;t!==null&&(e.alternate=null,__e(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dc],delete t[qx],delete t[vM],delete t[uKe],delete t[dKe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function S_e(e){return e.tag===5||e.tag===3||e.tag===4}function yY(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||S_e(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function IM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kk));else if(r!==4&&(e=e.child,e!==null))for(IM(e,t,n),e=e.sibling;e!==null;)IM(e,t,n),e=e.sibling}function OM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(OM(e,t,n),e=e.sibling;e!==null;)OM(e,t,n),e=e.sibling}var ni=null,Al=!1;function Vd(e,t,n){for(n=n.child;n!==null;)E_e(e,t,n),n=n.sibling}function E_e(e,t,n){if(Bc&&typeof Bc.onCommitFiberUnmount=="function")try{Bc.onCommitFiberUnmount(BT,n)}catch{}switch(n.tag){case 5:Oi||Cv(n,t);case 6:var r=ni,o=Al;ni=null,Vd(e,t,n),ni=r,Al=o,ni!==null&&(Al?(e=ni,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ni.removeChild(n.stateNode));break;case 18:ni!==null&&(Al?(e=ni,n=n.stateNode,e.nodeType===8?MI(e.parentNode,n):e.nodeType===1&&MI(e,n),Vx(e)):MI(ni,n.stateNode));break;case 4:r=ni,o=Al,ni=n.stateNode.containerInfo,Al=!0,Vd(e,t,n),ni=r,Al=o;break;case 0:case 11:case 14:case 15:if(!Oi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&DM(n,t,s),o=o.next}while(o!==r)}Vd(e,t,n);break;case 1:if(!Oi&&(Cv(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Hr(n,t,a)}Vd(e,t,n);break;case 21:Vd(e,t,n);break;case 22:n.mode&1?(Oi=(r=Oi)||n.memoizedState!==null,Vd(e,t,n),Oi=r):Vd(e,t,n);break;default:Vd(e,t,n)}}function bY(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jKe),t.forEach(function(r){var o=FKe.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function _l(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ni=a.stateNode,Al=!1;break e;case 3:ni=a.stateNode.containerInfo,Al=!0;break e;case 4:ni=a.stateNode.containerInfo,Al=!0;break e}a=a.return}if(ni===null)throw Error(je(160));E_e(i,s,o),ni=null,Al=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){Hr(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)k_e(t,e),t=t.sibling}function k_e(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_l(t,e),hc(e),r&4){try{Gb(3,e,e.return),qT(3,e)}catch(g){Hr(e,e.return,g)}try{Gb(5,e,e.return)}catch(g){Hr(e,e.return,g)}}break;case 1:_l(t,e),hc(e),r&512&&n!==null&&Cv(n,n.return);break;case 5:if(_l(t,e),hc(e),r&512&&n!==null&&Cv(n,n.return),e.flags&32){var o=e.stateNode;try{Lx(o,"")}catch(g){Hr(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&qwe(o,i),rM(a,s);var u=rM(a,i);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?Qwe(o,f):d==="dangerouslySetInnerHTML"?Zwe(o,f):d==="children"?Lx(o,f):O8(o,d,f,u)}switch(a){case"input":QR(o,i);break;case"textarea":Gwe(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Hv(o,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Hv(o,!!i.multiple,i.defaultValue,!0):Hv(o,!!i.multiple,i.multiple?[]:"",!1))}o[qx]=i}catch(g){Hr(e,e.return,g)}}break;case 6:if(_l(t,e),hc(e),r&4){if(e.stateNode===null)throw Error(je(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Hr(e,e.return,g)}}break;case 3:if(_l(t,e),hc(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vx(t.containerInfo)}catch(g){Hr(e,e.return,g)}break;case 4:_l(t,e),hc(e);break;case 13:_l(t,e),hc(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(f9=to())),r&4&&bY(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Oi=(u=Oi)||d,_l(t,e),Oi=u):_l(t,e),hc(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ue=e,d=e.child;d!==null;){for(f=Ue=d;Ue!==null;){switch(p=Ue,m=p.child,p.tag){case 0:case 11:case 14:case 15:Gb(4,p,p.return);break;case 1:Cv(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Hr(r,n,g)}}break;case 5:Cv(p,p.return);break;case 22:if(p.memoizedState!==null){wY(f);continue}}m!==null?(m.return=p,Ue=m):wY(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Xwe("display",s))}catch(g){Hr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Hr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_l(t,e),hc(e),r&4&&bY(e);break;case 21:break;default:_l(t,e),hc(e)}}function hc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(S_e(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Lx(o,""),r.flags&=-33);var i=yY(e);OM(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=yY(e);IM(e,a,s);break;default:throw Error(je(161))}}catch(l){Hr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AKe(e,t,n){Ue=e,j_e(e)}function j_e(e,t,n){for(var r=(e.mode&1)!==0;Ue!==null;){var o=Ue,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||i2;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Oi;a=i2;var u=Oi;if(i2=s,(Oi=l)&&!u)for(Ue=o;Ue!==null;)s=Ue,l=s.child,s.tag===22&&s.memoizedState!==null?CY(o):l!==null?(l.return=s,Ue=l):CY(o);for(;i!==null;)Ue=i,j_e(i),i=i.sibling;Ue=o,i2=a,Oi=u}xY(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ue=i):xY(e)}}function xY(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oi||qT(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oi)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Tl(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rY(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rY(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vx(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}Oi||t.flags&512&&PM(t)}catch(p){Hr(t,t.return,p)}}if(t===e){Ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function wY(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function CY(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qT(4,t)}catch(l){Hr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Hr(t,o,l)}}var i=t.return;try{PM(t)}catch(l){Hr(t,i,l)}break;case 5:var s=t.return;try{PM(t)}catch(l){Hr(t,s,l)}}}catch(l){Hr(t,t.return,l)}if(t===e){Ue=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ue=a;break}Ue=t.return}}var DKe=Math.ceil,Fk=Td.ReactCurrentDispatcher,u9=Td.ReactCurrentOwner,Qa=Td.ReactCurrentBatchConfig,an=0,qo=null,yo=null,di=0,Xs=0,_v=jh(0),Io=0,Jx=null,Em=0,GT=0,d9=0,Kb=null,ks=null,f9=0,$0=1/0,ku=null,Lk=!1,$M=null,Nf=null,s2=!1,vf=null,Bk=0,Zb=0,RM=null,JS=-1,eE=0;function as(){return an&6?to():JS!==-1?JS:JS=to()}function zf(e){return e.mode&1?an&2&&di!==0?di&-di:hKe.transition!==null?(eE===0&&(eE=uCe()),eE):(e=En,e!==0||(e=window.event,e=e===void 0?16:vCe(e.type)),e):1}function Hl(e,t,n,r){if(50<Zb)throw Zb=0,RM=null,Error(je(185));wC(e,n,r),(!(an&2)||e!==qo)&&(e===qo&&(!(an&2)&&(GT|=n),Io===4&&ff(e,di)),Ms(e,r),n===1&&an===0&&!(t.mode&1)&&($0=to()+500,UT&&Th()))}function Ms(e,t){var n=e.callbackNode;hGe(e,t);var r=Ck(e,e===qo?di:0);if(r===0)n!==null&&PW(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&PW(n),t===1)e.tag===0?fKe(_Y.bind(null,e)):MCe(_Y.bind(null,e)),lKe(function(){!(an&6)&&Th()}),n=null;else{switch(dCe(r)){case 1:n=L8;break;case 4:n=lCe;break;case 16:n=wk;break;case 536870912:n=cCe;break;default:n=wk}n=R_e(n,T_e.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function T_e(e,t){if(JS=-1,eE=0,an&6)throw Error(je(327));var n=e.callbackNode;if(Gv()&&e.callbackNode!==n)return null;var r=Ck(e,e===qo?di:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Nk(e,r);else{t=r;var o=an;an|=2;var i=D_e();(qo!==e||di!==t)&&(ku=null,$0=to()+500,nm(e,t));do try{OKe();break}catch(a){A_e(e,a)}while(1);X8(),Fk.current=i,an=o,yo!==null?t=0:(qo=null,di=0,t=Io)}if(t!==0){if(t===2&&(o=lM(e),o!==0&&(r=o,t=MM(e,o))),t===1)throw n=Jx,nm(e,0),ff(e,r),Ms(e,to()),n;if(t===6)ff(e,r);else{if(o=e.current.alternate,!(r&30)&&!PKe(o)&&(t=Nk(e,r),t===2&&(i=lM(e),i!==0&&(r=i,t=MM(e,i))),t===1))throw n=Jx,nm(e,0),ff(e,r),Ms(e,to()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(je(345));case 2:up(e,ks,ku);break;case 3:if(ff(e,r),(r&130023424)===r&&(t=f9+500-to(),10<t)){if(Ck(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){as(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=gM(up.bind(null,e,ks,ku),t);break}up(e,ks,ku);break;case 4:if(ff(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Vl(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=to()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DKe(r/1960))-r,10<r){e.timeoutHandle=gM(up.bind(null,e,ks,ku),r);break}up(e,ks,ku);break;case 5:up(e,ks,ku);break;default:throw Error(je(329))}}}return Ms(e,to()),e.callbackNode===n?T_e.bind(null,e):null}function MM(e,t){var n=Kb;return e.current.memoizedState.isDehydrated&&(nm(e,t).flags|=256),e=Nk(e,t),e!==2&&(t=ks,ks=n,t!==null&&FM(t)),e}function FM(e){ks===null?ks=e:ks.push.apply(ks,e)}function PKe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ql(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ff(e,t){for(t&=~d9,t&=~GT,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vl(t),r=1<<n;e[n]=-1,t&=~r}}function _Y(e){if(an&6)throw Error(je(327));Gv();var t=Ck(e,0);if(!(t&1))return Ms(e,to()),null;var n=Nk(e,t);if(e.tag!==0&&n===2){var r=lM(e);r!==0&&(t=r,n=MM(e,r))}if(n===1)throw n=Jx,nm(e,0),ff(e,t),Ms(e,to()),n;if(n===6)throw Error(je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,up(e,ks,ku),Ms(e,to()),null}function h9(e,t){var n=an;an|=1;try{return e(t)}finally{an=n,an===0&&($0=to()+500,UT&&Th())}}function km(e){vf!==null&&vf.tag===0&&!(an&6)&&Gv();var t=an;an|=1;var n=Qa.transition,r=En;try{if(Qa.transition=null,En=1,e)return e()}finally{En=r,Qa.transition=n,an=t,!(an&6)&&Th()}}function p9(){Xs=_v.current,ur(_v)}function nm(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,aKe(n)),yo!==null)for(n=yo.return;n!==null;){var r=n;switch(G8(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jk();break;case 3:I0(),ur($s),ur(Ni),r9();break;case 5:n9(r);break;case 4:I0();break;case 13:ur(Ir);break;case 19:ur(Ir);break;case 10:Q8(r.type._context);break;case 22:case 23:p9()}n=n.return}if(qo=e,yo=e=Vf(e.current,null),di=Xs=t,Io=0,Jx=null,d9=GT=Em=0,ks=Kb=null,Lp!==null){for(t=0;t<Lp.length;t++)if(n=Lp[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Lp=null}return e}function A_e(e,t){do{var n=yo;try{if(X8(),ZS.current=Mk,Rk){for(var r=Fr.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Rk=!1}if(Sm=0,Ho=Ao=Fr=null,qb=!1,Zx=0,u9.current=null,n===null||n.return===null){Io=1,Jx=t,yo=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=di,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=uY(s);if(m!==null){m.flags&=-257,dY(m,s,a,i,t),m.mode&1&&cY(i,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){cY(i,u,t),m9();break e}l=Error(je(426))}}else if(Sr&&a.mode&1){var y=uY(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),dY(y,s,a,i,t),K8(O0(l,a));break e}}i=l=O0(l,a),Io!==4&&(Io=2),Kb===null?Kb=[i]:Kb.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=f_e(i,l,t);nY(i,x);break e;case 1:a=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Nf===null||!Nf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=h_e(i,a,t);nY(i,C);break e}}i=i.return}while(i!==null)}I_e(n)}catch(_){t=_,yo===n&&n!==null&&(yo=n=n.return);continue}break}while(1)}function D_e(){var e=Fk.current;return Fk.current=Mk,e===null?Mk:e}function m9(){(Io===0||Io===3||Io===2)&&(Io=4),qo===null||!(Em&268435455)&&!(GT&268435455)||ff(qo,di)}function Nk(e,t){var n=an;an|=2;var r=D_e();(qo!==e||di!==t)&&(ku=null,nm(e,t));do try{IKe();break}catch(o){A_e(e,o)}while(1);if(X8(),an=n,Fk.current=r,yo!==null)throw Error(je(261));return qo=null,di=0,Io}function IKe(){for(;yo!==null;)P_e(yo)}function OKe(){for(;yo!==null&&!oGe();)P_e(yo)}function P_e(e){var t=$_e(e.alternate,e,Xs);e.memoizedProps=e.pendingProps,t===null?I_e(e):yo=t,u9.current=null}function I_e(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kKe(n,t),n!==null){n.flags&=32767,yo=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Io=6,yo=null;return}}else if(n=EKe(n,t,Xs),n!==null){yo=n;return}if(t=t.sibling,t!==null){yo=t;return}yo=t=e}while(t!==null);Io===0&&(Io=5)}function up(e,t,n){var r=En,o=Qa.transition;try{Qa.transition=null,En=1,$Ke(e,t,n,r)}finally{Qa.transition=o,En=r}return null}function $Ke(e,t,n,r){do Gv();while(vf!==null);if(an&6)throw Error(je(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(je(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(pGe(e,i),e===qo&&(yo=qo=null,di=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||s2||(s2=!0,R_e(wk,function(){return Gv(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qa.transition,Qa.transition=null;var s=En;En=1;var a=an;an|=4,u9.current=null,TKe(e,n),k_e(n,e),eKe(pM),_k=!!hM,pM=hM=null,e.current=n,AKe(n),iGe(),an=a,En=s,Qa.transition=i}else e.current=n;if(s2&&(s2=!1,vf=e,Bk=o),i=e.pendingLanes,i===0&&(Nf=null),lGe(n.stateNode),Ms(e,to()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Lk)throw Lk=!1,e=$M,$M=null,e;return Bk&1&&e.tag!==0&&Gv(),i=e.pendingLanes,i&1?e===RM?Zb++:(Zb=0,RM=e):Zb=0,Th(),null}function Gv(){if(vf!==null){var e=dCe(Bk),t=Qa.transition,n=En;try{if(Qa.transition=null,En=16>e?16:e,vf===null)var r=!1;else{if(e=vf,vf=null,Bk=0,an&6)throw Error(je(331));var o=an;for(an|=4,Ue=e.current;Ue!==null;){var i=Ue,s=i.child;if(Ue.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ue=u;Ue!==null;){var d=Ue;switch(d.tag){case 0:case 11:case 15:Gb(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ue=f;else for(;Ue!==null;){d=Ue;var p=d.sibling,m=d.return;if(__e(d),d===u){Ue=null;break}if(p!==null){p.return=m,Ue=p;break}Ue=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ue=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ue=s;else e:for(;Ue!==null;){if(i=Ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gb(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ue=x;break e}Ue=i.return}}var b=e.current;for(Ue=b;Ue!==null;){s=Ue;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ue=w;else e:for(s=b;Ue!==null;){if(a=Ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qT(9,a)}}catch(_){Hr(a,a.return,_)}if(a===s){Ue=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Ue=C;break e}Ue=a.return}}if(an=o,Th(),Bc&&typeof Bc.onPostCommitFiberRoot=="function")try{Bc.onPostCommitFiberRoot(BT,e)}catch{}r=!0}return r}finally{En=n,Qa.transition=t}}return!1}function SY(e,t,n){t=O0(n,t),t=f_e(e,t,1),e=Bf(e,t,1),t=as(),e!==null&&(wC(e,1,t),Ms(e,t))}function Hr(e,t,n){if(e.tag===3)SY(e,e,n);else for(;t!==null;){if(t.tag===3){SY(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nf===null||!Nf.has(r))){e=O0(n,e),e=h_e(t,e,1),t=Bf(t,e,1),e=as(),t!==null&&(wC(t,1,e),Ms(t,e));break}}t=t.return}}function RKe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=as(),e.pingedLanes|=e.suspendedLanes&n,qo===e&&(di&n)===n&&(Io===4||Io===3&&(di&130023424)===di&&500>to()-f9?nm(e,0):d9|=n),Ms(e,t)}function O_e(e,t){t===0&&(e.mode&1?(t=Z_,Z_<<=1,!(Z_&130023424)&&(Z_=4194304)):t=1);var n=as();e=id(e,t),e!==null&&(wC(e,t,n),Ms(e,n))}function MKe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),O_e(e,n)}function FKe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(t),O_e(e,n)}var $_e;$_e=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$s.current)Ps=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ps=!1,SKe(e,t,n);Ps=!!(e.flags&131072)}else Ps=!1,Sr&&t.flags&1048576&&FCe(t,Dk,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;QS(e,t),e=t.pendingProps;var o=A0(t,Ni.current);qv(t,n),o=i9(null,t,r,e,o,n);var i=s9();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(r)?(i=!0,Tk(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,e9(t),o.updater=WT,t.stateNode=o,o._reactInternals=t,_M(t,r,e,n),t=kM(null,t,r,!0,i,n)):(t.tag=0,Sr&&i&&q8(t),ns(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(QS(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=BKe(r),e=Tl(r,e),o){case 0:t=EM(null,t,r,e,n);break e;case 1:t=pY(null,t,r,e,n);break e;case 11:t=fY(null,t,r,e,n);break e;case 14:t=hY(null,t,r,Tl(r.type,e),n);break e}throw Error(je(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Tl(r,o),EM(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Tl(r,o),pY(e,t,r,o,n);case 3:e:{if(v_e(t),e===null)throw Error(je(387));r=t.pendingProps,i=t.memoizedState,o=i.element,zCe(e,t),Ok(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=O0(Error(je(423)),t),t=mY(e,t,r,n,o);break e}else if(r!==o){o=O0(Error(je(424)),t),t=mY(e,t,r,n,o);break e}else for(ia=Lf(t.stateNode.containerInfo.firstChild),ca=t,Sr=!0,Dl=null,n=WCe(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(D0(),r===o){t=sd(e,t,n);break e}ns(e,t,r,n)}t=t.child}return t;case 5:return YCe(t),e===null&&xM(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,mM(r,o)?s=null:i!==null&&mM(r,i)&&(t.flags|=32),g_e(e,t),ns(e,t,s,n),t.child;case 6:return e===null&&xM(t),null;case 13:return y_e(e,t,n);case 4:return t9(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=P0(t,null,r,n):ns(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Tl(r,o),fY(e,t,r,o,n);case 7:return ns(e,t,t.pendingProps,n),t.child;case 8:return ns(e,t,t.pendingProps.children,n),t.child;case 12:return ns(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Zn(Pk,r._currentValue),r._currentValue=s,i!==null)if(ql(i.value,s)){if(i.children===o.children&&!$s.current){t=sd(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Vu(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),wM(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(je(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),wM(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ns(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,qv(t,n),o=sl(o),r=r(o),t.flags|=1,ns(e,t,r,n),t.child;case 14:return r=t.type,o=Tl(r,t.pendingProps),o=Tl(r.type,o),hY(e,t,r,o,n);case 15:return p_e(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Tl(r,o),QS(e,t),t.tag=1,Rs(r)?(e=!0,Tk(t)):e=!1,qv(t,n),HCe(t,r,o),_M(t,r,o,n),kM(null,t,r,!0,e,n);case 19:return b_e(e,t,n);case 22:return m_e(e,t,n)}throw Error(je(156,t.tag))};function R_e(e,t){return aCe(e,t)}function LKe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ga(e,t,n,r){return new LKe(e,t,n,r)}function g9(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BKe(e){if(typeof e=="function")return g9(e)?1:0;if(e!=null){if(e=e.$$typeof,e===R8)return 11;if(e===M8)return 14}return 2}function Vf(e,t){var n=e.alternate;return n===null?(n=Ga(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tE(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")g9(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case hv:return rm(n.children,o,i,t);case $8:s=8,o|=8;break;case qR:return e=Ga(12,n,t,o|2),e.elementType=qR,e.lanes=i,e;case GR:return e=Ga(13,n,t,o),e.elementType=GR,e.lanes=i,e;case KR:return e=Ga(19,n,t,o),e.elementType=KR,e.lanes=i,e;case Uwe:return KT(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vwe:s=10;break e;case Hwe:s=9;break e;case R8:s=11;break e;case M8:s=14;break e;case ef:s=16,r=null;break e}throw Error(je(130,e==null?e:typeof e,""))}return t=Ga(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function rm(e,t,n,r){return e=Ga(7,e,r,t),e.lanes=n,e}function KT(e,t,n,r){return e=Ga(22,e,r,t),e.elementType=Uwe,e.lanes=n,e.stateNode={isHidden:!1},e}function UI(e,t,n){return e=Ga(6,e,null,t),e.lanes=n,e}function WI(e,t,n){return t=Ga(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NKe(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=EI(0),this.expirationTimes=EI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=EI(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function v9(e,t,n,r,o,i,s,a,l){return e=new NKe(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ga(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},e9(i),e}function zKe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fv,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function M_e(e){if(!e)return ch;e=e._reactInternals;e:{if(Jm(e)!==e||e.tag!==1)throw Error(je(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(je(171))}if(e.tag===1){var n=e.type;if(Rs(n))return RCe(e,n,t)}return t}function F_e(e,t,n,r,o,i,s,a,l){return e=v9(n,r,!0,e,o,i,s,a,l),e.context=M_e(null),n=e.current,r=as(),o=zf(n),i=Vu(r,o),i.callback=t??null,Bf(n,i,o),e.current.lanes=o,wC(e,o,r),Ms(e,r),e}function ZT(e,t,n,r){var o=t.current,i=as(),s=zf(o);return n=M_e(n),t.context===null?t.context=n:t.pendingContext=n,t=Vu(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bf(o,t,s),e!==null&&(Hl(e,o,s,i),KS(e,o,s)),s}function zk(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function EY(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function y9(e,t){EY(e,t),(e=e.alternate)&&EY(e,t)}function VKe(){return null}var L_e=typeof reportError=="function"?reportError:function(e){console.error(e)};function b9(e){this._internalRoot=e}XT.prototype.render=b9.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(je(409));ZT(e,t,null,null)};XT.prototype.unmount=b9.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;km(function(){ZT(null,e,null,null)}),t[od]=null}};function XT(e){this._internalRoot=e}XT.prototype.unstable_scheduleHydration=function(e){if(e){var t=pCe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<df.length&&t!==0&&t<df[n].priority;n++);df.splice(n,0,e),n===0&&gCe(e)}};function x9(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function QT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kY(){}function HKe(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=zk(s);i.call(u)}}var s=F_e(t,r,e,0,null,!1,!1,"",kY);return e._reactRootContainer=s,e[od]=s.current,Wx(e.nodeType===8?e.parentNode:e),km(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=zk(l);a.call(u)}}var l=v9(e,0,!1,null,null,!1,!1,"",kY);return e._reactRootContainer=l,e[od]=l.current,Wx(e.nodeType===8?e.parentNode:e),km(function(){ZT(t,l,n,r)}),l}function JT(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=zk(s);a.call(l)}}ZT(t,s,e,o)}else s=HKe(n,t,e,o,r);return zk(s)}fCe=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gb(t.pendingLanes);n!==0&&(B8(t,n|1),Ms(t,to()),!(an&6)&&($0=to()+500,Th()))}break;case 13:km(function(){var r=id(e,1);if(r!==null){var o=as();Hl(r,e,1,o)}}),y9(e,1)}};N8=function(e){if(e.tag===13){var t=id(e,134217728);if(t!==null){var n=as();Hl(t,e,134217728,n)}y9(e,134217728)}};hCe=function(e){if(e.tag===13){var t=zf(e),n=id(e,t);if(n!==null){var r=as();Hl(n,e,t,r)}y9(e,t)}};pCe=function(){return En};mCe=function(e,t){var n=En;try{return En=e,t()}finally{En=n}};iM=function(e,t,n){switch(t){case"input":if(QR(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=HT(r);if(!o)throw Error(je(90));Ywe(r),QR(r,o)}}}break;case"textarea":Gwe(e,n);break;case"select":t=n.value,t!=null&&Hv(e,!!n.multiple,t,!1)}};tCe=h9;nCe=km;var UKe={usingClientEntryPoint:!1,Events:[_C,vv,HT,Jwe,eCe,h9]},ky={findFiberByHostInstance:Fp,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},WKe={bundleType:ky.bundleType,version:ky.version,rendererPackageName:ky.rendererPackageName,rendererConfig:ky.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Td.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iCe(e),e===null?null:e.stateNode},findFiberByHostInstance:ky.findFiberByHostInstance||VKe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a2.isDisabled&&a2.supportsFiber)try{BT=a2.inject(WKe),Bc=a2}catch{}}_a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UKe;_a.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x9(t))throw Error(je(200));return zKe(e,t,null,n)};_a.createRoot=function(e,t){if(!x9(e))throw Error(je(299));var n=!1,r="",o=L_e;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=v9(e,1,!1,null,null,n,!1,r,o),e[od]=t.current,Wx(e.nodeType===8?e.parentNode:e),new b9(t)};_a.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(je(188)):(e=Object.keys(e).join(","),Error(je(268,e)));return e=iCe(t),e=e===null?null:e.stateNode,e};_a.flushSync=function(e){return km(e)};_a.hydrate=function(e,t,n){if(!QT(t))throw Error(je(200));return JT(null,e,t,!0,n)};_a.hydrateRoot=function(e,t,n){if(!x9(e))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=L_e;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=F_e(t,null,e,1,n??null,o,!1,i,s),e[od]=t.current,Wx(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new XT(t)};_a.render=function(e,t,n){if(!QT(t))throw Error(je(200));return JT(null,e,t,!1,n)};_a.unmountComponentAtNode=function(e){if(!QT(e))throw Error(je(40));return e._reactRootContainer?(km(function(){JT(null,null,e,!1,function(){e._reactRootContainer=null,e[od]=null})}),!0):!1};_a.unstable_batchedUpdates=h9;_a.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!QT(n))throw Error(je(200));if(e==null||e._reactInternals===void 0)throw Error(je(38));return JT(e,t,n,!1,r)};_a.version="18.2.0-next-9e3b772b8-20220608";function B_e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B_e)}catch(e){console.error(e)}}B_e(),Fwe.exports=_a;var Pc=Fwe.exports;const YKe=Pe(Pc),N_e=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?gW({element:t.current,padding:n}).fn(o):{}:t?gW({element:t,padding:n}).fn(o):{}}}};var nE=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Vk(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Vk(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Vk(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function z_e(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jY(e,t){const n=z_e(e);return Math.round(t*n)/n}function TY(e){const t=h.useRef(e);return nE(()=>{t.current=e}),t}function V_e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(r);Vk(p,r)||m(r);const[v,g]=h.useState(null),[y,x]=h.useState(null),b=h.useCallback(O=>{O!=S.current&&(S.current=O,g(O))},[g]),w=h.useCallback(O=>{O!==E.current&&(E.current=O,x(O))},[x]),C=i||v,_=s||y,S=h.useRef(null),E=h.useRef(null),j=h.useRef(d),k=TY(l),T=TY(o),A=h.useCallback(()=>{if(!S.current||!E.current)return;const O={placement:t,strategy:n,middleware:p};T.current&&(O.platform=T.current),Vqe(S.current,E.current,O).then(V=>{const B={...V,isPositioned:!0};D.current&&!Vk(j.current,B)&&(j.current=B,Pc.flushSync(()=>{f(B)}))})},[p,t,n,T]);nE(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const D=h.useRef(!1);nE(()=>(D.current=!0,()=>{D.current=!1}),[]),nE(()=>{if(C&&(S.current=C),_&&(E.current=_),C&&_){if(k.current)return k.current(C,_,A);A()}},[C,_,A,k]);const P=h.useMemo(()=>({reference:S,floating:E,setReference:b,setFloating:w}),[b,w]),I=h.useMemo(()=>({reference:C,floating:_}),[C,_]),R=h.useMemo(()=>{const O={position:n,left:0,top:0};if(!I.floating)return O;const V=jY(I.floating,d.x),B=jY(I.floating,d.y);return a?{...O,transform:"translate("+V+"px, "+B+"px)",...z_e(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:B}},[n,a,I.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:P,elements:I,floatingStyles:R}),[d,A,P,I,R])}const H_e=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),eA=h.createContext({}),tA=h.createContext(null),nA=typeof document<"u",w9=nA?h.useLayoutEffect:h.useEffect,U_e=h.createContext({strict:!1}),C9=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qKe="framerAppearId",W_e="data-"+C9(qKe);function GKe(e,t,n,r){const{visualElement:o}=h.useContext(eA),i=h.useContext(U_e),s=h.useContext(tA),a=h.useContext(H_e).reducedMotion,l=h.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!(n[W_e]&&!window.HandoffComplete));return w9(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Sv(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function KKe(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Sv(n)&&(n.current=r))},[t])}function ew(e){return typeof e=="string"||Array.isArray(e)}function rA(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const _9=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],S9=["initial",..._9];function oA(e){return rA(e.animate)||S9.some(t=>ew(e[t]))}function Y_e(e){return!!(oA(e)||e.variants)}function ZKe(e,t){if(oA(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ew(n)?n:void 0,animate:ew(r)?r:void 0}}return e.inherit!==!1?t:{}}function XKe(e){const{initial:t,animate:n}=ZKe(e,h.useContext(eA));return h.useMemo(()=>({initial:t,animate:n}),[AY(t),AY(n)])}function AY(e){return Array.isArray(e)?e.join(" "):e}const DY={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tw={};for(const e in DY)tw[e]={isEnabled:t=>DY[e].some(n=>!!t[n])};function QKe(e){for(const t in e)tw[t]={...tw[t],...e[t]}}const E9=h.createContext({}),q_e=h.createContext({}),JKe=Symbol.for("motionComponentSymbol");function eZe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&QKe(e);function i(a,l){let u;const d={...h.useContext(H_e),...a,layoutId:tZe(a)},{isStatic:f}=d,p=XKe(a),m=r(a,f);if(!f&&nA){p.visualElement=GKe(o,m,d,t);const v=h.useContext(q_e),g=h.useContext(U_e).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,v))}return h.createElement(eA.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,KKe(m,p.visualElement,l),m,f,p.visualElement))}const s=h.forwardRef(i);return s[JKe]=o,s}function tZe({layoutId:e}){const t=h.useContext(E9).id;return t&&e!==void 0?t+"-"+e:e}function nZe(e){function t(r,o={}){return eZe(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const rZe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function k9(e){return typeof e!="string"||e.includes("-")?!1:!!(rZe.indexOf(e)>-1||/[A-Z]/.test(e))}const Hk={};function oZe(e){Object.assign(Hk,e)}const EC=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],eg=new Set(EC);function G_e(e,{layout:t,layoutId:n}){return eg.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Hk[e]||e==="opacity")}const Ls=e=>!!(e&&e.getVelocity),iZe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sZe=EC.length;function aZe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<sZe;s++){const a=EC[s];if(e[a]!==void 0){const l=iZe[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const K_e=e=>t=>typeof t=="string"&&t.startsWith(e),Z_e=K_e("--"),LM=K_e("var(--"),lZe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,cZe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,uh=(e,t,n)=>Math.min(Math.max(n,e),t),tg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xb={...tg,transform:e=>uh(0,1,e)},l2={...tg,default:1},Qb=e=>Math.round(e*1e5)/1e5,iA=/(-)?([\d]*\.?[\d])+/g,X_e=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,uZe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function kC(e){return typeof e=="string"}const jC=e=>({test:t=>kC(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Kd=jC("deg"),zc=jC("%"),st=jC("px"),dZe=jC("vh"),fZe=jC("vw"),PY={...zc,parse:e=>zc.parse(e)/100,transform:e=>zc.transform(e*100)},IY={...tg,transform:Math.round},Q_e={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,size:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,rotate:Kd,rotateX:Kd,rotateY:Kd,rotateZ:Kd,scale:l2,scaleX:l2,scaleY:l2,scaleZ:l2,skew:Kd,skewX:Kd,skewY:Kd,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:Xb,originX:PY,originY:PY,originZ:st,zIndex:IY,fillOpacity:Xb,strokeOpacity:Xb,numOctaves:IY};function j9(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let l=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(Z_e(f)){i[f]=p;continue}const m=Q_e[f],v=cZe(p,m);if(eg.has(f)){if(l=!0,s[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(l||r?o.transform=aZe(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const T9=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function J_e(e,t,n){for(const r in t)!Ls(t[r])&&!G_e(r,n)&&(e[r]=t[r])}function hZe({transformTemplate:e},t,n){return h.useMemo(()=>{const r=T9();return j9(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function pZe(e,t,n){const r=e.style||{},o={};return J_e(o,r,e),Object.assign(o,hZe(e,t,n)),e.transformValues?e.transformValues(o):o}function mZe(e,t,n){const r={},o=pZe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const gZe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uk(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gZe.has(e)}let e2e=e=>!Uk(e);function vZe(e){e&&(e2e=t=>t.startsWith("on")?!Uk(t):e(t))}try{vZe(require("@emotion/is-prop-valid").default)}catch{}function yZe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(e2e(o)||n===!0&&Uk(o)||!t&&!Uk(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function OY(e,t,n){return typeof e=="string"?e:st.transform(t+n*e)}function bZe(e,t,n){const r=OY(t,e.x,e.width),o=OY(n,e.y,e.height);return`${r} ${o}`}const xZe={offset:"stroke-dashoffset",array:"stroke-dasharray"},wZe={offset:"strokeDashoffset",array:"strokeDasharray"};function CZe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?xZe:wZe;e[i.offset]=st.transform(-r);const s=st.transform(t),a=st.transform(n);e[i.array]=`${s} ${a}`}function A9(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},d,f,p){if(j9(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:g}=e;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=bZe(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&CZe(m,s,a,l,!1)}const t2e=()=>({...T9(),attrs:{}}),D9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _Ze(e,t,n,r){const o=h.useMemo(()=>{const i=t2e();return A9(i,t,{enableHardwareAcceleration:!1},D9(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};J_e(i,e.style,e),o.style={...i,...o.style}}return o}function SZe(e=!1){return(n,r,o,{latestValues:i},s)=>{const l=(k9(n)?_Ze:mZe)(r,i,s,n),d={...yZe(r,typeof n=="string",e),...l,ref:o},{children:f}=r,p=h.useMemo(()=>Ls(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}function n2e(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const r2e=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function o2e(e,t,n,r){n2e(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(r2e.has(o)?o:C9(o),t.attrs[o])}function P9(e,t){const{style:n}=e,r={};for(const o in n)(Ls(n[o])||t.style&&Ls(t.style[o])||G_e(o,e))&&(r[o]=n[o]);return r}function i2e(e,t){const n=P9(e,t);for(const r in e)if(Ls(e[r])||Ls(t[r])){const o=EC.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function I9(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function s2e(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wk=e=>Array.isArray(e),EZe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),kZe=e=>Wk(e)?e[e.length-1]||0:e;function rE(e){const t=Ls(e)?e.get():e;return EZe(t)?t.toValue():t}function jZe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:TZe(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const a2e=e=>(t,n)=>{const r=h.useContext(eA),o=h.useContext(tA),i=()=>jZe(e,t,r,o);return n?i():s2e(i)};function TZe(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=rE(i[p]);let{initial:s,animate:a}=e;const l=oA(e),u=Y_e(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!rA(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=I9(e,m);if(!v)return;const{transitionEnd:g,transition:y,...x}=v;for(const b in x){let w=x[b];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(o[b]=w)}for(const b in g)o[b]=g[b]}),o}const Wr=e=>e;let $Y=class{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}};function AZe(e){let t=new $Y,n=new $Y,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(l),p.add(l)&&f&&o&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(l))}};return a}const c2=["prepare","read","update","preRender","render","postRender"],DZe=40;function PZe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=c2.reduce((f,p)=>(f[p]=AZe(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,DZe),1),o.timestamp=f,o.isProcessing=!0,c2.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:c2.reduce((f,p)=>{const m=i[p];return f[p]=(v,g=!1,y=!1)=>(n||l(),m.schedule(v,g,y)),f},{}),cancel:f=>c2.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:Xn,cancel:ad,state:ji,steps:YI}=PZe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wr,!0),IZe={useVisualState:a2e({scrapeMotionValuesFromProps:i2e,createRenderState:t2e,onMount:(e,t,{renderState:n,latestValues:r})=>{Xn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Xn.render(()=>{A9(n,r,{enableHardwareAcceleration:!1},D9(t.tagName),e.transformTemplate),o2e(t,n)})}})},OZe={useVisualState:a2e({scrapeMotionValuesFromProps:P9,createRenderState:T9})};function $Ze(e,{forwardMotionProps:t=!1},n,r){return{...k9(e)?IZe:OZe,preloadedFeatures:n,useRender:SZe(t),createVisualElement:r,Component:e}}function Ru(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const l2e=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function sA(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const RZe=e=>t=>l2e(t)&&e(t,sA(t));function Hu(e,t,n,r){return Ru(e,t,RZe(n),r)}const MZe=(e,t)=>n=>t(e(n)),Hf=(...e)=>e.reduce(MZe);function c2e(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const RY=c2e("dragHorizontal"),MY=c2e("dragVertical");function u2e(e){let t=!1;if(e==="y")t=MY();else if(e==="x")t=RY();else{const n=RY(),r=MY();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function d2e(){const e=u2e(!0);return e?(e(),!1):!0}let Ah=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};function FY(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.pointerType==="touch"||d2e())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Xn.update(()=>a[r](i,s))};return Hu(e.current,n,o,{passive:!e.getProps()[r]})}let FZe=class extends Ah{mount(){this.unmount=Hf(FY(this.node,!0),FY(this.node,!1))}unmount(){}},LZe=class extends Ah{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hf(Ru(this.node.current,"focus",()=>this.onFocus()),Ru(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const f2e=(e,t)=>t?e===t?!0:f2e(e,t.parentElement):!1;function qI(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,sA(n))}let BZe=class extends Ah{constructor(){super(...arguments),this.removeStartListeners=Wr,this.removeEndListeners=Wr,this.removeAccessibleListeners=Wr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Hu(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Xn.update(()=>{!f&&!f2e(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=Hu(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Hf(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||qI("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Xn.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Ru(this.node.current,"keyup",s),qI("down",(a,l)=>{this.startPress(a,l)})},n=Ru(this.node.current,"keydown",t),r=()=>{this.isPressing&&qI("cancel",(i,s)=>this.cancelPress(i,s))},o=Ru(this.node.current,"blur",r);this.removeAccessibleListeners=Hf(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Xn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!d2e()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Xn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Hu(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Ru(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Hf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}};const BM=new WeakMap,GI=new WeakMap,NZe=e=>{const t=BM.get(e.target);t&&t(e)},zZe=e=>{e.forEach(NZe)};function VZe({root:e,...t}){const n=e||document;GI.has(n)||GI.set(n,{});const r=GI.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(zZe,{root:e,...t})),r[o]}function HZe(e,t,n){const r=VZe(t);return BM.set(e,n),r.observe(e),()=>{BM.delete(e),r.unobserve(e)}}const UZe={some:0,all:1};let WZe=class extends Ah{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:UZe[o]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(l)};return HZe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(YZe(t,n))&&this.startObserver()}unmount(){}};function YZe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const qZe={inView:{Feature:WZe},tap:{Feature:BZe},focus:{Feature:LZe},hover:{Feature:FZe}};function h2e(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function GZe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function KZe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function aA(e,t,n){const r=e.getProps();return I9(r,t,n!==void 0?n:r.custom,GZe(e),KZe(e))}let ZZe=Wr,O9=Wr;const Uf=e=>e*1e3,Uu=e=>e/1e3,XZe={current:!1},p2e=e=>Array.isArray(e)&&typeof e[0]=="number";function m2e(e){return!!(!e||typeof e=="string"&&g2e[e]||p2e(e)||Array.isArray(e)&&e.every(m2e))}const yb=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,g2e={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yb([0,.65,.55,1]),circOut:yb([.55,0,1,.45]),backIn:yb([.31,.01,.66,-.59]),backOut:yb([.33,1.53,.69,.99])};function v2e(e){if(e)return p2e(e)?yb(e):Array.isArray(e)?e.map(v2e):g2e[e]}function QZe(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=v2e(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function JZe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const y2e=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,eXe=1e-7,tXe=12;function nXe(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=y2e(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>eXe&&++a<tXe);return s}function TC(e,t,n,r){if(e===t&&n===r)return Wr;const o=i=>nXe(i,0,1,e,n);return i=>i===0||i===1?i:y2e(o(i),t,r)}const rXe=TC(.42,0,1,1),oXe=TC(0,0,.58,1),b2e=TC(.42,0,.58,1),iXe=e=>Array.isArray(e)&&typeof e[0]!="number",x2e=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,w2e=e=>t=>1-e(1-t),$9=e=>1-Math.sin(Math.acos(e)),C2e=w2e($9),sXe=x2e($9),_2e=TC(.33,1.53,.69,.99),R9=w2e(_2e),aXe=x2e(R9),lXe=e=>(e*=2)<1?.5*R9(e):.5*(2-Math.pow(2,-10*(e-1))),cXe={linear:Wr,easeIn:rXe,easeInOut:b2e,easeOut:oXe,circIn:$9,circInOut:sXe,circOut:C2e,backIn:R9,backInOut:aXe,backOut:_2e,anticipate:lXe},LY=e=>{if(Array.isArray(e)){O9(e.length===4);const[t,n,r,o]=e;return TC(t,n,r,o)}else if(typeof e=="string")return cXe[e];return e},M9=(e,t)=>n=>!!(kC(n)&&uZe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),S2e=(e,t,n)=>r=>{if(!kC(r))return r;const[o,i,s,a]=r.match(iA);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},uXe=e=>uh(0,255,e),KI={...tg,transform:e=>Math.round(uXe(e))},Np={test:M9("rgb","red"),parse:S2e("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+KI.transform(e)+", "+KI.transform(t)+", "+KI.transform(n)+", "+Qb(Xb.transform(r))+")"};function dXe(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const NM={test:M9("#"),parse:dXe,transform:Np.transform},Ev={test:M9("hsl","hue"),parse:S2e("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+zc.transform(Qb(t))+", "+zc.transform(Qb(n))+", "+Qb(Xb.transform(r))+")"},es={test:e=>Np.test(e)||NM.test(e)||Ev.test(e),parse:e=>Np.test(e)?Np.parse(e):Ev.test(e)?Ev.parse(e):NM.parse(e),transform:e=>kC(e)?e:e.hasOwnProperty("red")?Np.transform(e):Ev.transform(e)},Or=(e,t,n)=>-n*e+n*t+e;function ZI(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fXe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=ZI(l,a,e+1/3),i=ZI(l,a,e),s=ZI(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const XI=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},hXe=[NM,Np,Ev],pXe=e=>hXe.find(t=>t.test(e));function BY(e){const t=pXe(e);let n=t.parse(e);return t===Ev&&(n=fXe(n)),n}const E2e=(e,t)=>{const n=BY(e),r=BY(t),o={...n};return i=>(o.red=XI(n.red,r.red,i),o.green=XI(n.green,r.green,i),o.blue=XI(n.blue,r.blue,i),o.alpha=Or(n.alpha,r.alpha,i),Np.transform(o))};function mXe(e){var t,n;return isNaN(e)&&kC(e)&&(((t=e.match(iA))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(X_e))===null||n===void 0?void 0:n.length)||0)>0}const k2e={regex:lZe,countKey:"Vars",token:"${v}",parse:Wr},j2e={regex:X_e,countKey:"Colors",token:"${c}",parse:es.parse},T2e={regex:iA,countKey:"Numbers",token:"${n}",parse:tg.parse};function QI(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function Yk(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&QI(n,k2e),QI(n,j2e),QI(n,T2e),n}function A2e(e){return Yk(e).values}function D2e(e){const{values:t,numColors:n,numVars:r,tokenised:o}=Yk(e),i=t.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(k2e.token,s[l]):l<r+n?a=a.replace(j2e.token,es.transform(s[l])):a=a.replace(T2e.token,Qb(s[l]));return a}}const gXe=e=>typeof e=="number"?0:e;function vXe(e){const t=A2e(e);return D2e(e)(t.map(gXe))}const dh={test:mXe,parse:A2e,createTransformer:D2e,getAnimatableNone:vXe},P2e=(e,t)=>n=>`${n>0?t:e}`;function I2e(e,t){return typeof e=="number"?n=>Or(e,t,n):es.test(e)?E2e(e,t):e.startsWith("var(")?P2e(e,t):$2e(e,t)}const O2e=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>I2e(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},yXe=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=I2e(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},$2e=(e,t)=>{const n=dh.createTransformer(t),r=Yk(e),o=Yk(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Hf(O2e(r.values,o.values),n):P2e(e,t)},nw=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},NY=(e,t)=>n=>Or(e,t,n);function bXe(e){return typeof e=="number"?NY:typeof e=="string"?es.test(e)?E2e:$2e:Array.isArray(e)?O2e:typeof e=="object"?yXe:NY}function xXe(e,t,n){const r=[],o=n||bXe(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Wr:t;a=Hf(l,a)}r.push(a)}return r}function R2e(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(O9(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=xXe(t,r,o),a=s.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=nw(e[d],e[d+1],u);return s[d](f)};return n?u=>l(uh(e[0],e[i-1],u)):l}function wXe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=nw(0,t,r);e.push(Or(n,1,o))}}function CXe(e){const t=[0];return wXe(t,e.length-1),t}function _Xe(e,t){return e.map(n=>n*t)}function SXe(e,t){return e.map(()=>t||b2e).splice(0,e.length-1)}function qk({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=iXe(r)?r.map(LY):LY(r),i={done:!1,value:t[0]},s=_Xe(n&&n.length===t.length?n:CXe(t),e),a=R2e(s,t,{ease:Array.isArray(o)?o:SXe(t,o)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function M2e(e,t){return t?e*(1e3/t):0}const EXe=5;function F2e(e,t,n){const r=Math.max(t-EXe,0);return M2e(n-e(r),t-r)}const JI=.001,kXe=.01,zY=10,jXe=.05,TXe=1;function AXe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;ZZe(e<=Uf(zY));let s=1-t;s=uh(jXe,TXe,s),e=uh(kXe,zY,Uu(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=zM(u,s),v=Math.exp(-f);return JI-p/m*v},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=zM(Math.pow(u,2),s);return(-o(u)+JI>0?-1:1)*((p-m)*v)/g}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-JI+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,l=PXe(o,i,a);if(e=Uf(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const DXe=12;function PXe(e,t,n){let r=n;for(let o=1;o<DXe;o++)r=r-e(r)/t(r);return r}function zM(e,t){return e*Math.sqrt(1-t*t)}const IXe=["duration","bounce"],OXe=["stiffness","damping","mass"];function VY(e,t){return t.some(n=>e[n]!==void 0)}function $Xe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!VY(e,OXe)&&VY(e,IXe)){const n=AXe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function L2e({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=$Xe({...r,velocity:-Uu(r.velocity||0)}),m=f||0,v=l/(2*Math.sqrt(a*u)),g=i-o,y=Uu(Math.sqrt(a/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(v<1){const w=zM(y,v);b=C=>{const _=Math.exp(-v*y*C);return i-_*((m+v*y*g)/w*Math.sin(w*C)+g*Math.cos(w*C))}}else if(v===1)b=w=>i-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(v*v-1);b=C=>{const _=Math.exp(-v*y*C),S=Math.min(w*C,300);return i-_*((m+v*y*g)*Math.sinh(S)+w*g*Math.cosh(S))/w}}return{calculatedDuration:p&&d||null,next:w=>{const C=b(w);if(p)s.done=w>=d;else{let _=m;w!==0&&(v<1?_=F2e(b,w,C):_=0);const S=Math.abs(_)<=n,E=Math.abs(i-C)<=t;s.done=S&&E}return s.value=s.done?i:C,s}}}function HY({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||l!==void 0&&j>l,v=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const b=j=>-g*Math.exp(-j/r),w=j=>x+b(j),C=j=>{const k=b(j),T=w(j);p.done=Math.abs(k)<=u,p.value=p.done?x:T};let _,S;const E=j=>{m(p.value)&&(_=j,S=L2e({keyframes:[p.value,v(p.value)],velocity:F2e(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:j=>{let k=!1;return!S&&_===void 0&&(k=!0,C(j),E(j)),_!==void 0&&j>_?S.next(j-_):(!k&&C(j),p)}}}const RXe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Xn.update(t,!0),stop:()=>ad(t),now:()=>ji.isProcessing?ji.timestamp:performance.now()}},UY=2e4;function WY(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<UY;)t+=n,r=e.next(t);return t>=UY?1/0:t}const MXe={decay:HY,inertia:HY,tween:qk,keyframes:qk,spring:L2e};function Gk({autoplay:e=!0,delay:t=0,driver:n=RXe,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,g,y;const x=()=>{y=new Promise(z=>{g=z})};x();let b;const w=MXe[o]||qk;let C;w!==qk&&typeof r[0]!="number"&&(C=R2e([0,100],r,{clamp:!1}),r=[0,100]);const _=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",j=null,k=null,T=null;_.calculatedDuration===null&&i&&(_.calculatedDuration=WY(_));const{calculatedDuration:A}=_;let D=1/0,P=1/0;A!==null&&(D=A+s,P=D*(i+1)-s);let I=0;const R=z=>{if(k===null)return;m>0&&(k=Math.min(k,z)),m<0&&(k=Math.min(z-P/m,k)),j!==null?I=j:I=Math.round(z-k)*m;const G=I-t*(m>=0?1:-1),ee=m>=0?G<0:G>P;I=Math.max(G,0),E==="finished"&&j===null&&(I=P);let N=I,Y=_;if(i){const re=Math.min(I,P)/D;let K=Math.floor(re),X=re%1;!X&&re>=1&&(X=1),X===1&&K--,K=Math.min(K,i+1),!!(K%2)&&(a==="reverse"?(X=1-X,s&&(X-=s/D)):a==="mirror"&&(Y=S)),N=uh(0,1,X)*D}const q=ee?{done:!1,value:r[0]}:Y.next(N);C&&(q.value=C(q.value));let{done:Z}=q;!ee&&A!==null&&(Z=m>=0?I>=P:I<=0);const ie=j===null&&(E==="finished"||E==="running"&&Z);return f&&f(q.value),ie&&B(),q},O=()=>{b&&b.stop(),b=void 0},V=()=>{E="idle",O(),g(),x(),k=T=null},B=()=>{E="finished",d&&d(),O(),g()},H=()=>{if(v)return;b||(b=n(R));const z=b.now();l&&l(),j!==null?k=z-j:(!k||E==="finished")&&(k=z),E==="finished"&&x(),T=k,j=null,E="running",b.start()};e&&H();const W={then(z,G){return y.then(z,G)},get time(){return Uu(I)},set time(z){z=Uf(z),I=z,j!==null||!b||m===0?j=z:k=b.now()-z/m},get duration(){const z=_.calculatedDuration===null?WY(_):_.calculatedDuration;return Uu(z)},get speed(){return m},set speed(z){z===m||!b||(m=z,W.time=Uu(I))},get state(){return E},play:H,pause:()=>{E="paused",j=I},stop:()=>{v=!0,E!=="idle"&&(E="idle",u&&u(),V())},cancel:()=>{T!==null&&R(T),V()},complete:()=>{E="finished"},sample:z=>(k=0,R(z))};return W}function FXe(e){let t;return()=>(t===void 0&&(t=e()),t)}const LXe=FXe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),BXe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),u2=10,NXe=2e4,zXe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!m2e(t.ease);function VXe(e,t,{onUpdate:n,onComplete:r,...o}){if(!(LXe()&&BXe.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l,u=!1;const d=()=>{l=new Promise(w=>{a=w})};d();let{keyframes:f,duration:p=300,ease:m,times:v}=o;if(zXe(t,o)){const w=Gk({...o,repeat:0,delay:0});let C={done:!1,value:f[0]};const _=[];let S=0;for(;!C.done&&S<NXe;)C=w.sample(S),_.push(C.value),S+=u2;v=void 0,f=_,p=S-u2,m="linear"}const g=QZe(e.owner.current,t,f,{...o,duration:p,ease:m,times:v}),y=()=>{u=!1,g.cancel()},x=()=>{u=!0,Xn.update(y),a(),d()};return g.onfinish=()=>{u||(e.set(JZe(f,o)),r&&r(),x())},{then(w,C){return l.then(w,C)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Wr},get time(){return Uu(g.currentTime||0)},set time(w){g.currentTime=Uf(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return Uu(p)},play:()=>{s||(g.play(),ad(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const C=Gk({...o,autoplay:!1});e.setWithVelocity(C.sample(w-u2).value,C.sample(w).value,u2)}x()},complete:()=>{u||g.finish()},cancel:x}}function HXe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Wr,pause:Wr,stop:Wr,then:i=>(i(),Promise.resolve()),cancel:Wr,complete:Wr});return t?Gk({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const UXe={type:"spring",stiffness:500,damping:25,restSpeed:10},WXe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),YXe={type:"keyframes",duration:.8},qXe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GXe=(e,{keyframes:t})=>t.length>2?YXe:eg.has(e)?e.startsWith("scale")?WXe(t[1]):UXe:qXe,VM=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(dh.test(t)||t==="0")&&!t.startsWith("url(")),KXe=new Set(["brightness","contrast","saturate","opacity"]);function ZXe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(iA)||[];if(!r)return e;const o=n.replace(r,"");let i=KXe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const XXe=/([a-z-]*)\(.*?\)/g,HM={...dh,getAnimatableNone:e=>{const t=e.match(XXe);return t?t.map(ZXe).join(" "):e}},QXe={...Q_e,color:es,backgroundColor:es,outlineColor:es,fill:es,stroke:es,borderColor:es,borderTopColor:es,borderRightColor:es,borderBottomColor:es,borderLeftColor:es,filter:HM,WebkitFilter:HM},F9=e=>QXe[e];function B2e(e,t){let n=F9(e);return n!==HM&&(n=dh),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const N2e=e=>/^0[^.\s]+$/.test(e);function JXe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||N2e(e)}function eQe(e,t,n,r){const o=VM(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),JXe(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];i[d]=B2e(t,a)}return i}function tQe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function L9(e,t){return e[t]||e.default||e}const nQe={skipAnimations:!1},B9=(e,t,n,r={})=>o=>{const i=L9(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Uf(s);const l=eQe(t,e,n,i),u=l[0],d=l[l.length-1],f=VM(e,u),p=VM(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(tQe(i)||(m={...m,...GXe(e,m)}),m.duration&&(m.duration=Uf(m.duration)),m.repeatDelay&&(m.repeatDelay=Uf(m.repeatDelay)),!f||!p||XZe.current||i.type===!1||nQe.skipAnimations)return HXe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=VXe(t,e,m);if(v)return v}return Gk(m)};function Kk(e){return!!(Ls(e)&&e.add)}const z2e=e=>/^\-?\d*\.?\d+$/.test(e);function N9(e,t){e.indexOf(t)===-1&&e.push(t)}function z9(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let V9=class{constructor(){this.subscriptions=[]}add(t){return N9(this.subscriptions,t),()=>z9(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const rQe=e=>!isNaN(parseFloat(e));let oQe=class{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=ji;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Xn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=rQe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new V9);const r=this.events[t].add(n);return t==="change"?()=>{r(),Xn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?M2e(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function R0(e,t){return new oQe(e,t)}const V2e=e=>t=>t.test(e),iQe={test:e=>e==="auto",parse:e=>e},H2e=[tg,st,zc,Kd,fZe,dZe,iQe],jy=e=>H2e.find(V2e(e)),sQe=[...H2e,es,dh],aQe=e=>sQe.find(V2e(e));function lQe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,R0(n))}function cQe(e,t){const n=aA(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=kZe(i[s]);lQe(e,s,a)}}function uQe(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&o!==void 0?o:t[l]),d!=null&&(typeof d=="string"&&(z2e(d)||N2e(d))?d=parseFloat(d):!aQe(d)&&dh.test(u)&&(d=B2e(l,u)),e.addValue(l,R0(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function dQe(e,t){return t?(t[e]||t.default||t).from:void 0}function fQe(e,t,n){const r={};for(const o in e){const i=dQe(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function hQe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function pQe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function U2e(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&hQe(d,f))continue;const v={delay:n,elapsed:0,...L9(i||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[W_e];if(x){const b=window.HandoffAppearAnimations(x,f,p,Xn);b!==null&&(v.elapsed=b,v.isHandoff=!0)}}let g=!v.isHandoff&&!pQe(p,m);if(v.type==="spring"&&(p.getVelocity()||v.velocity)&&(g=!1),p.animation&&(g=!1),g)continue;p.start(B9(f,p,m,e.shouldReduceMotion&&eg.has(f)?{type:!1}:v));const y=p.animation;Kk(l)&&(l.add(f),y.then(()=>l.remove(f))),u.push(y)}return s&&Promise.all(u).then(()=>{s&&cQe(e,s)}),u}function UM(e,t,n={}){const r=aA(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(U2e(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return mQe(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,u]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function mQe(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,l=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(gQe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(UM(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function gQe(e,t){return e.sortNodePosition(t)}function vQe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>UM(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=UM(e,t,n);else{const o=typeof t=="function"?aA(e,t,n.custom):t;r=Promise.all(U2e(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const yQe=[..._9].reverse(),bQe=_9.length;function xQe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>vQe(e,n,r)))}function wQe(e){let t=xQe(e);const n=_Qe();let r=!0;const o=(l,u)=>{const d=aA(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function s(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let x=0;x<bQe;x++){const b=yQe[x],w=n[b],C=d[b]!==void 0?d[b]:f[b],_=ew(C),S=b===u?w.isActive:null;S===!1&&(g=x);let E=C===f[b]&&C!==d[b]&&_;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...v},!w.isActive&&S===null||!C&&!w.prevProp||rA(C)||typeof C=="boolean")continue;let k=CQe(w.prevProp,C)||b===u&&w.isActive&&!E&&_||x>g&&_,T=!1;const A=Array.isArray(C)?C:[C];let D=A.reduce(o,{});S===!1&&(D={});const{prevResolvedValues:P={}}=w,I={...P,...D},R=O=>{k=!0,m.has(O)&&(T=!0,m.delete(O)),w.needsAnimating[O]=!0};for(const O in I){const V=D[O],B=P[O];if(v.hasOwnProperty(O))continue;let H=!1;Wk(V)&&Wk(B)?H=!h2e(V,B):H=V!==B,H?V!==void 0?R(O):m.add(O):V!==void 0&&m.has(O)?R(O):w.protectedKeys[O]=!0}w.prevProp=C,w.prevResolvedValues=D,w.isActive&&(v={...v,...D}),r&&e.blockInitialAnimation&&(k=!1),k&&(!E||T)&&p.push(...A.map(O=>({animation:O,options:{type:b,...l}})))}if(m.size){const x={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(x[b]=w)}),p.push({animation:x})}let y=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(p):Promise.resolve()}function a(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const p=s(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function CQe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!h2e(t,e):!1}function Xh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _Qe(){return{animate:Xh(!0),whileInView:Xh(),whileHover:Xh(),whileTap:Xh(),whileDrag:Xh(),whileFocus:Xh(),exit:Xh()}}let SQe=class extends Ah{constructor(t){super(t),t.animationState||(t.animationState=wQe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),rA(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}},EQe=0,kQe=class extends Ah{constructor(){super(...arguments),this.id=EQe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}};const jQe={animation:{Feature:SQe},exit:{Feature:kQe}},YY=(e,t)=>Math.abs(e-t);function TQe(e,t){const n=YY(e.x,t.x),r=YY(e.y,t.y);return Math.sqrt(n**2+r**2)}let W2e=class{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=tO(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=TQe(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=f,{timestamp:g}=ji;this.history.push({...v,timestamp:g});const{onStart:y,onMove:x}=this.handlers;p||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=eO(p,this.transformPagePoint),Xn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=tO(f.type==="pointercancel"?this.lastMoveEventInfo:eO(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),v&&v(f,y)},!l2e(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const s=sA(t),a=eO(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=ji;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,tO(a,this.history)),this.removeListeners=Hf(Hu(this.contextWindow,"pointermove",this.handlePointerMove),Hu(this.contextWindow,"pointerup",this.handlePointerUp),Hu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ad(this.updatePoint)}};function eO(e,t){return t?{point:t(e.point)}:e}function qY(e,t){return{x:e.x-t.x,y:e.y-t.y}}function tO({point:e},t){return{point:e,delta:qY(e,Y2e(t)),offset:qY(e,AQe(t)),velocity:DQe(t,.1)}}function AQe(e){return e[0]}function Y2e(e){return e[e.length-1]}function DQe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Y2e(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Uf(t)));)n--;if(!r)return{x:0,y:0};const i=Uu(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function pa(e){return e.max-e.min}function WM(e,t=0,n=.01){return Math.abs(e-t)<=n}function GY(e,t,n,r=.5){e.origin=r,e.originPoint=Or(t.min,t.max,e.origin),e.scale=pa(n)/pa(t),(WM(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Or(n.min,n.max,e.origin)-e.originPoint,(WM(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Jb(e,t,n,r){GY(e.x,t.x,n.x,r?r.originX:void 0),GY(e.y,t.y,n.y,r?r.originY:void 0)}function KY(e,t,n){e.min=n.min+t.min,e.max=e.min+pa(t)}function PQe(e,t,n){KY(e.x,t.x,n.x),KY(e.y,t.y,n.y)}function ZY(e,t,n){e.min=t.min-n.min,e.max=e.min+pa(t)}function ex(e,t,n){ZY(e.x,t.x,n.x),ZY(e.y,t.y,n.y)}function IQe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Or(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Or(n,e,r.max):Math.min(e,n)),e}function XY(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function OQe(e,{top:t,left:n,bottom:r,right:o}){return{x:XY(e.x,n,o),y:XY(e.y,t,r)}}function QY(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function $Qe(e,t){return{x:QY(e.x,t.x),y:QY(e.y,t.y)}}function RQe(e,t){let n=.5;const r=pa(e),o=pa(t);return o>r?n=nw(t.min,t.max-r,e.min):r>o&&(n=nw(e.min,e.max-o,t.min)),uh(0,1,n)}function MQe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const YM=.35;function FQe(e=YM){return e===!1?e=0:e===!0&&(e=YM),{x:JY(e,"left","right"),y:JY(e,"top","bottom")}}function JY(e,t,n){return{min:eq(e,t),max:eq(e,n)}}function eq(e,t){return typeof e=="number"?e:e[t]||0}const tq=()=>({translate:0,scale:1,origin:0,originPoint:0}),kv=()=>({x:tq(),y:tq()}),nq=()=>({min:0,max:0}),co=()=>({x:nq(),y:nq()});function Ma(e){return[e("x"),e("y")]}function q2e({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function LQe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function BQe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function nO(e){return e===void 0||e===1}function qM({scale:e,scaleX:t,scaleY:n}){return!nO(e)||!nO(t)||!nO(n)}function dp(e){return qM(e)||G2e(e)||e.z||e.rotate||e.rotateX||e.rotateY}function G2e(e){return rq(e.x)||rq(e.y)}function rq(e){return e&&e!=="0%"}function Zk(e,t,n){const r=e-n,o=t*r;return n+o}function oq(e,t,n,r,o){return o!==void 0&&(e=Zk(e,o,r)),Zk(e,n,r)+t}function GM(e,t=0,n=1,r,o){e.min=oq(e.min,t,n,r,o),e.max=oq(e.max,t,n,r,o)}function K2e(e,{x:t,y:n}){GM(e.x,t.translate,t.scale,t.originPoint),GM(e.y,n.translate,n.scale,n.originPoint)}function NQe(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jv(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,K2e(e,s)),r&&dp(i.latestValues)&&jv(e,i.latestValues))}t.x=iq(t.x),t.y=iq(t.y)}function iq(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function nf(e,t){e.min=e.min+t,e.max=e.max+t}function sq(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=Or(e.min,e.max,i);GM(e,t[n],t[r],s,t.scale)}const zQe=["x","scaleX","originX"],VQe=["y","scaleY","originY"];function jv(e,t){sq(e.x,t,zQe),sq(e.y,t,VQe)}function Z2e(e,t){return q2e(BQe(e.getBoundingClientRect(),t))}function HQe(e,t,n){const r=Z2e(e,n),{scroll:o}=t;return o&&(nf(r.x,o.offset.x),nf(r.y,o.offset.y)),r}const X2e=({current:e})=>e?e.ownerDocument.defaultView:null,UQe=new WeakMap;let WQe=class{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=co(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sA(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=u2e(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ma(y=>{let x=this.getAxisMotionValue(y).get()||0;if(zc.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(x=pa(w)*(parseFloat(x)/100))}}this.originPoint[y]=x}),v&&Xn.update(()=>v(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:g}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=YQe(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Ma(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new W2e(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:X2e(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Xn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!d2(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=IQe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Sv(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=OQe(o.layoutBox,n):this.constraints=!1,this.elastic=FQe(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Ma(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=MQe(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Sv(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=HQe(r,o.root,this.visualElement.getTransformPagePoint());let s=$Qe(o.layout.layoutBox,i);if(n){const a=n(LQe(s));this.hasMutatedConstraints=!!a,a&&(s=q2e(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ma(d=>{if(!d2(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(B9(t,r,0,n))}stopAnimation(){Ma(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ma(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ma(n=>{const{drag:r}=this.getProps();if(!d2(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-Or(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Sv(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ma(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=RQe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ma(s=>{if(!d2(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Or(l,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;UQe.set(this.visualElement,this);const t=this.visualElement.current,n=Hu(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Sv(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=Ru(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ma(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=YM,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}};function d2(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function YQe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}let qQe=class extends Ah{constructor(t){super(t),this.removeGroupControls=Wr,this.removeListeners=Wr,this.controls=new WQe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wr}unmount(){this.removeGroupControls(),this.removeListeners()}};const aq=e=>(t,n)=>{e&&Xn.update(()=>e(t,n))};let GQe=class extends Ah{constructor(){super(...arguments),this.removePointerDownListener=Wr}onPointerDown(t){this.session=new W2e(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X2e(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:aq(t),onStart:aq(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&Xn.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=Hu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};function KQe(){const e=h.useContext(tA);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const oE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lq(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ty={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(st.test(e))e=parseFloat(e);else return e;const n=lq(e,t.target.x),r=lq(e,t.target.y);return`${n}% ${r}%`}},ZQe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=dh.parse(e);if(o.length>5)return r;const i=dh.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=l;const u=Or(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};let XQe=class extends ne.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;oZe(QQe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),oE.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Xn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function Q2e(e){const[t,n]=KQe(),r=h.useContext(E9);return ne.createElement(XQe,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(q_e),isPresent:t,safeToRemove:n})}const QQe={borderRadius:{...Ty,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ty,borderTopRightRadius:Ty,borderBottomLeftRadius:Ty,borderBottomRightRadius:Ty,boxShadow:ZQe},J2e=["TopLeft","TopRight","BottomLeft","BottomRight"],JQe=J2e.length,cq=e=>typeof e=="string"?parseFloat(e):e,uq=e=>typeof e=="number"||st.test(e);function eJe(e,t,n,r,o,i){o?(e.opacity=Or(0,n.opacity!==void 0?n.opacity:1,tJe(r)),e.opacityExit=Or(t.opacity!==void 0?t.opacity:1,0,nJe(r))):i&&(e.opacity=Or(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<JQe;s++){const a=`border${J2e[s]}Radius`;let l=dq(t,a),u=dq(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||uq(l)===uq(u)?(e[a]=Math.max(Or(cq(l),cq(u),r),0),(zc.test(u)||zc.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Or(t.rotate||0,n.rotate||0,r))}function dq(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tJe=eSe(0,.5,C2e),nJe=eSe(.5,.95,Wr);function eSe(e,t,n){return r=>r<e?0:r>t?1:n(nw(e,t,r))}function fq(e,t){e.min=t.min,e.max=t.max}function Da(e,t){fq(e.x,t.x),fq(e.y,t.y)}function hq(e,t,n,r,o){return e-=t,e=Zk(e,1/n,r),o!==void 0&&(e=Zk(e,1/o,r)),e}function rJe(e,t=0,n=1,r=.5,o,i=e,s=e){if(zc.test(t)&&(t=parseFloat(t),t=Or(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Or(i.min,i.max,r);e===i&&(a-=t),e.min=hq(e.min,t,n,a,o),e.max=hq(e.max,t,n,a,o)}function pq(e,t,[n,r,o],i,s){rJe(e,t[n],t[r],t[o],t.scale,i,s)}const oJe=["x","scaleX","originX"],iJe=["y","scaleY","originY"];function mq(e,t,n,r){pq(e.x,t,oJe,n?n.x:void 0,r?r.x:void 0),pq(e.y,t,iJe,n?n.y:void 0,r?r.y:void 0)}function gq(e){return e.translate===0&&e.scale===1}function tSe(e){return gq(e.x)&&gq(e.y)}function sJe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function nSe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function vq(e){return pa(e.x)/pa(e.y)}let aJe=class{constructor(){this.members=[]}add(t){N9(this.members,t),t.scheduleRender()}remove(t){if(z9(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function yq(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const lJe=(e,t)=>e.depth-t.depth;let cJe=class{constructor(){this.children=[],this.isDirty=!1}add(t){N9(this.children,t),this.isDirty=!0}remove(t){z9(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lJe),this.isDirty=!1,this.children.forEach(t)}};function uJe(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(ad(r),e(i-t))};return Xn.read(r,!0),()=>ad(r)}function dJe(e){window.MotionDebug&&window.MotionDebug.record(e)}function fJe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function hJe(e,t,n){const r=Ls(e)?e:R0(e);return r.start(B9("",r,t,n)),r.animation}const bq=["","X","Y","Z"],pJe={visibility:"hidden"},xq=1e3;let mJe=0;const fp={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rSe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=mJe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fp.totalNodes=fp.resolvedTargetDeltas=fp.recalculatedProjection=0,this.nodes.forEach(yJe),this.nodes.forEach(_Je),this.nodes.forEach(SJe),this.nodes.forEach(bJe),dJe(fp)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new cJe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new V9),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=fJe(s),this.instance=s;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=uJe(p,250),oE.hasAnimatedSinceResize&&(oE.hasAnimatedSinceResize=!1,this.nodes.forEach(Cq))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||AJe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!nSe(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...L9(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||Cq(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ad(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EJe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wq);return}this.isUpdating||this.nodes.forEach(wJe),this.isUpdating=!1,this.nodes.forEach(CJe),this.nodes.forEach(gJe),this.nodes.forEach(vJe),this.clearAllSnapshots();const a=performance.now();ji.delta=uh(0,1e3/60,a-ji.timestamp),ji.timestamp=a,ji.isProcessing=!0,YI.update.process(ji),YI.preRender.process(ji),YI.render.process(ji),ji.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(xJe),this.sharedNodes.forEach(kJe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=co(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!tSe(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||dp(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),DJe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return co();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(nf(a.x,l.offset.x),nf(a.y,l.offset.y)),a}removeElementScroll(s){const a=co();Da(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Da(a,s);const{scroll:p}=this.root;p&&(nf(a.x,-p.offset.x),nf(a.y,-p.offset.y))}nf(a.x,d.offset.x),nf(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const l=co();Da(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&jv(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),dp(d.latestValues)&&jv(l,d.latestValues)}return dp(this.latestValues)&&jv(l,this.latestValues),l}removeTransform(s){const a=co();Da(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!dp(u.latestValues))continue;qM(u.latestValues)&&u.updateSnapshot();const d=co(),f=u.measurePageBox();Da(d,f),mq(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return dp(this.latestValues)&&mq(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ji.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=ji.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=co(),this.relativeTargetOrigin=co(),ex(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=co(),this.targetWithTransforms=co()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PQe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Da(this.target,this.layout.layoutBox),K2e(this.target,this.targetDelta)):Da(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=co(),this.relativeTargetOrigin=co(),ex(this.relativeTargetOrigin,this.target,m.target),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fp.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||qM(this.parent.latestValues)||G2e(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ji.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Da(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;NQe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=kv(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=kv(),this.projectionDeltaWithTransform=kv());const g=this.projectionTransform;Jb(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=yq(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),fp.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=kv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=co(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(TJe));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;_q(f.x,s.x,_),_q(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ex(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jJe(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&sJe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=co()),Da(w,this.relativeTarget)),g&&(this.animationValues=d,eJe(d,u,this.latestValues,_,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ad(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xn.update(()=>{oE.hasAnimatedSinceResize=!0,this.currentAnimation=hJe(0,xq,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&oSe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||co();const f=pa(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const p=pa(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}Da(a,l),jv(a,d),Jb(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new aJe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<bq.length;d++){const f="rotate"+bq[d];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pJe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=rE(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=rE(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!dp(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=yq(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in Hk){if(p[g]===void 0)continue;const{correct:y,applyTo:x}=Hk[g],b=u.transform==="none"?p[g]:y(p[g],f);if(x){const w=x.length;for(let C=0;C<w;C++)u[x[C]]=b}else u[g]=b}return this.options.layoutId&&(u.pointerEvents=f===this?rE(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(wq),this.root.sharedNodes.clear()}}}function gJe(e){e.updateLayout()}function vJe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?Ma(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=pa(p);p.min=r[f].min,p.max=p.min+m}):oSe(i,n.layoutBox,r)&&Ma(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=pa(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=kv();Jb(a,r,n.layoutBox);const l=kv();s?Jb(l,e.applyTransform(o,!0),n.measuredBox):Jb(l,r,n.layoutBox);const u=!tSe(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=co();ex(v,n.layoutBox,p.layoutBox);const g=co();ex(g,r,m.layoutBox),nSe(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function yJe(e){fp.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bJe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xJe(e){e.clearSnapshot()}function wq(e){e.clearMeasurements()}function wJe(e){e.isLayoutDirty=!1}function CJe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Cq(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _Je(e){e.resolveTargetDelta()}function SJe(e){e.calcProjection()}function EJe(e){e.resetRotation()}function kJe(e){e.removeLeadSnapshot()}function _q(e,t,n){e.translate=Or(t.translate,0,n),e.scale=Or(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Sq(e,t,n,r){e.min=Or(t.min,n.min,r),e.max=Or(t.max,n.max,r)}function jJe(e,t,n,r){Sq(e.x,t.x,n.x,r),Sq(e.y,t.y,n.y,r)}function TJe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const AJe={duration:.45,ease:[.4,0,.1,1]},Eq=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),kq=Eq("applewebkit/")&&!Eq("chrome/")?Math.round:Wr;function jq(e){e.min=kq(e.min),e.max=kq(e.max)}function DJe(e){jq(e.x),jq(e.y)}function oSe(e,t,n){return e==="position"||e==="preserve-aspect"&&!WM(vq(t),vq(n),.2)}const PJe=rSe({attachResizeListener:(e,t)=>Ru(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rO={current:void 0},iSe=rSe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rO.current){const e=new PJe({});e.mount(window),e.setOptions({layoutScroll:!0}),rO.current=e}return rO.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),IJe={pan:{Feature:GQe},drag:{Feature:qQe,ProjectionNode:iSe,MeasureLayout:Q2e}},OJe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $Je(e){const t=OJe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function KM(e,t,n=1){const[r,o]=$Je(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return z2e(s)?parseFloat(s):s}else return LM(o)?KM(o,t,n+1):o}function RJe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!LM(i))return;const s=KM(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!LM(i))continue;const s=KM(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const MJe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),sSe=e=>MJe.has(e),FJe=e=>Object.keys(e).some(sSe),Tq=e=>e===tg||e===st,Aq=(e,t)=>parseFloat(e.split(", ")[t]),Dq=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Aq(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?Aq(i[1],e):0}},LJe=new Set(["x","y","z"]),BJe=EC.filter(e=>!LJe.has(e));function NJe(e){const t=[];return BJe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const M0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Dq(4,13),y:Dq(5,14)};M0.translateX=M0.x;M0.translateY=M0.y;const zJe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=M0[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=M0[u](l,i)}),e},VJe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(sSe);let i=[],s=!1;const a=[];if(o.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=jy(d);const p=t[l];let m;if(Wk(p)){const v=p.length,g=p[0]===null?1:0;d=p[g],f=jy(d);for(let y=g;y<v&&p[y]!==null;y++)m?O9(jy(p[y])===m):m=jy(p[y])}else m=jy(p);if(f!==m)if(Tq(f)&&Tq(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===st&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(p):(s||(i=NJe(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=zJe(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),nA&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function HJe(e,t,n,r){return FJe(t)?VJe(e,t,n,r):{target:t,transitionEnd:r}}const UJe=(e,t,n,r)=>{const o=RJe(e,t,r);return t=o.target,r=o.transitionEnd,HJe(e,t,n,r)},ZM={current:null},aSe={current:!1};function WJe(){if(aSe.current=!0,!!nA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ZM.current=e.matches;e.addListener(t),t()}else ZM.current=!1}function YJe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(Ls(i))e.addValue(o,i),Kk(r)&&r.add(o);else if(Ls(s))e.addValue(o,R0(i,{owner:e})),Kk(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,R0(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const Pq=new WeakMap,lSe=Object.keys(tw),qJe=lSe.length,Iq=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],GJe=S9.length;let KJe=class{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=oA(n),this.isVariantNode=Y_e(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&Ls(p)&&(p.set(a[f],!1),Kk(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Pq.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aSe.current||WJe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ZM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Pq.delete(this.current),this.projection&&this.projection.unmount(),ad(this.notifyUpdate),ad(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=eg.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Xn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let l=0;l<qJe;l++){const u=lSe[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=tw[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Sv(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):co()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Iq.length;r++){const o=Iq[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=YJe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<GJe;r++){const o=S9[r],i=this.props[o];(ew(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=R0(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=I9(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ls(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new V9),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}},cSe=class extends KJe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=fQe(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){uQe(this,r,s);const a=UJe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}};function ZJe(e){return window.getComputedStyle(e)}let XJe=class extends cSe{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(eg.has(n)){const r=F9(n);return r&&r.default||0}else{const r=ZJe(t),o=(Z_e(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Z2e(t,n)}build(t,n,r,o){j9(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return P9(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ls(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){n2e(t,n,r,o)}},QJe=class extends cSe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(eg.has(n)){const r=F9(n);return r&&r.default||0}return n=r2e.has(n)?n:C9(n),t.getAttribute(n)}measureInstanceViewportBox(){return co()}scrapeMotionValuesFromProps(t,n){return i2e(t,n)}build(t,n,r,o){A9(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){o2e(t,n,r,o)}mount(t){this.isSVGTag=D9(t.tagName),super.mount(t)}};const JJe=(e,t)=>k9(e)?new QJe(t,{enableHardwareAcceleration:!1}):new XJe(t,{enableHardwareAcceleration:!0}),eet={layout:{ProjectionNode:iSe,MeasureLayout:Q2e}},tet={...jQe,...qZe,...IJe,...eet},net=nZe((e,t)=>$Ze(e,t,tet,JJe));function uSe(){const e=h.useRef(!1);return w9(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ret(){const e=uSe(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>Xn.postRender(r),[r]),t]}let oet=class extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function iet({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:l}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(oet,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const oO=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=s2e(set),l=h.useId(),u=h.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(iet,{isPresent:n},e)),h.createElement(tA.Provider,{value:u},e)};function set(){return new Map}function aet(e){return h.useEffect(()=>()=>e(),[])}const hp=e=>e.key||"";function cet(e,t){e.forEach(n=>{const r=hp(n);t.set(r,n)})}function uet(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const det=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(E9).forceRender||ret()[0],l=uSe(),u=uet(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,v=h.useRef(!0);if(w9(()=>{v.current=!1,cet(u,m),p.current=d}),aet(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return h.createElement(h.Fragment,null,d.map(b=>h.createElement(oO,{key:hp(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},b)));d=[...d];const g=p.current.map(hp),y=u.map(hp),x=g.length;for(let b=0;b<x;b++){const w=g[b];y.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((b,w)=>{if(y.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const _=g.indexOf(w);let S=b;if(!S){const E=()=>{f.delete(w);const j=Array.from(m.keys()).filter(k=>!y.includes(k));if(j.forEach(k=>m.delete(k)),p.current=u.filter(k=>{const T=hp(k);return T===w||j.includes(T)}),!f.size){if(l.current===!1)return;a(),r&&r()}};S=h.createElement(oO,{key:hp(C),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:s},C),f.set(w,S)}d.splice(_,0,S)}),d=d.map(b=>{const w=b.key;return f.has(w)?b:h.createElement(oO,{key:hp(b),isPresent:!0,presenceAffectsLayout:i,mode:s},b)}),h.createElement(h.Fragment,null,f.size?d:d.map(b=>h.cloneElement(b)))},AC=[],Wf={},dSe={top:"bottom",right:"left",bottom:"top",left:"right"};function fet(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function ge(e){return e===0?0:"".concat(e/16,"rem")}function gt(e,t,n){return((t==null?void 0:t.map(n))||[]).map((o,i)=>i===0?o:{["@media screen and (min-width: ".concat(e[i-1],"px)")]:o})}function het(e,t){return e===void 0?t||AC:Array.isArray(e)?e:[e]}function Es(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:AC;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:gt(e.sanity.media,n,r=>fet(t,ge(e.sanity.space[r])))}function F0(e,t){const{$size:n,$weight:r,theme:o}=t,{fonts:i,media:s}=o.sanity,{family:a,sizes:l,weights:u}=i[e],d=r&&u[r]||u.regular,f=l[2],p={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return F0.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:p}),F0.warned=!0),[p];const m=gt(s,n,v=>pet(l[v]||f));return[p,...m]}function pet(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:o,letterSpacing:i,lineHeight:s}=e,a=t+n,l=s-a,u=(l-o)/2,d=Math.floor(r*1.125/2)*2+1,f=(l-d)/2;return{fontSize:ge(r),lineHeight:"calc(".concat(s," / ").concat(r,")"),letterSpacing:ge(i),transform:"translateY(".concat(ge(n),")"),"&:before":{marginTop:"calc(".concat(ge(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:ge(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:ge(u)}}}function met(e){return F0("code",e)}function get(e){return F0("heading",e)}function vet(e){return F0("label",e)}function H9(e){const{theme:t}=e;return gt(t.sanity.media,e.$align,n=>({textAlign:n}))}function yet(e){return F0("text",e)}function ye(e,t){const n=h.useMemo(()=>JSON.stringify(e??t),[t,e]);return h.useMemo(()=>het(e,t),[n])}function Oq(e,t){const n=[e];for(const r of t)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function pr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:AC,n=arguments.length>2?arguments[2]:void 0;const[r,o]=h.useState(null),[i,s]=h.useState(()=>Oq(r,t)),a=h.useRef(i);return h.useEffect(()=>{const l=a.current,u=Oq(r,t);if(l.length!==u.length){s(u),a.current=u;return}for(const d of l)if(!u.includes(d)){s(u),a.current=u;return}for(const d of u)if(!l.includes(d)){s(u),a.current=u;return}},[r,t]),h.useEffect(()=>{if(!e)return;const l=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of i)if(d===f||f.contains(d))return;e(u)}};return window.addEventListener("mousedown",l),()=>{window.removeEventListener("mousedown",l)}},[n,e,i]),o}var om=[],bet=function(){return om.some(function(e){return e.activeTargets.length>0})},xet=function(){return om.some(function(e){return e.skippedTargets.length>0})},$q="ResizeObserver loop completed with undelivered notifications.",wet=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:$q}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=$q),window.dispatchEvent(e)},rw;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(rw||(rw={}));var im=function(e){return Object.freeze(e)},Cet=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,im(this)}return e}(),fSe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,im(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,l=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),U9=function(e){return e instanceof SVGElement&&"getBBox"in e},hSe=function(e){if(U9(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},Rq=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},_et=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},tx=typeof window<"u"?window:{},f2=new WeakMap,Mq=/auto|scroll/,Eet=/^tb|vertical/,ket=/msie|trident/i.test(tx.navigator&&tx.navigator.userAgent),pc=function(e){return parseFloat(e||"0")},Kv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new Cet((n?t:e)||0,(n?e:t)||0)},Fq=im({devicePixelContentBoxSize:Kv(),borderBoxSize:Kv(),contentBoxSize:Kv(),contentRect:new fSe(0,0,0,0)}),pSe=function(e,t){if(t===void 0&&(t=!1),f2.has(e)&&!t)return f2.get(e);if(hSe(e))return f2.set(e,Fq),Fq;var n=getComputedStyle(e),r=U9(e)&&e.ownerSVGElement&&e.getBBox(),o=!ket&&n.boxSizing==="border-box",i=Eet.test(n.writingMode||""),s=!r&&Mq.test(n.overflowY||""),a=!r&&Mq.test(n.overflowX||""),l=r?0:pc(n.paddingTop),u=r?0:pc(n.paddingRight),d=r?0:pc(n.paddingBottom),f=r?0:pc(n.paddingLeft),p=r?0:pc(n.borderTopWidth),m=r?0:pc(n.borderRightWidth),v=r?0:pc(n.borderBottomWidth),g=r?0:pc(n.borderLeftWidth),y=f+u,x=l+d,b=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-b-e.clientWidth:0,S=o?y+b:0,E=o?x+w:0,j=r?r.width:pc(n.width)-S-_,k=r?r.height:pc(n.height)-E-C,T=j+y+_+b,A=k+x+C+w,D=im({devicePixelContentBoxSize:Kv(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:Kv(T,A,i),contentBoxSize:Kv(j,k,i),contentRect:new fSe(f,l,j,k)});return f2.set(e,D),D},mSe=function(e,t,n){var r=pSe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case rw.DEVICE_PIXEL_CONTENT_BOX:return s;case rw.BORDER_BOX:return o;default:return i}},jet=function(){function e(t){var n=pSe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=im([n.borderBoxSize]),this.contentBoxSize=im([n.contentBoxSize]),this.devicePixelContentBoxSize=im([n.devicePixelContentBoxSize])}return e}(),gSe=function(e){if(hSe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Tet=function(){var e=1/0,t=[];om.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new jet(u.target),f=gSe(u.target);a.push(d),u.lastReportedSize=mSe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},Lq=function(e){om.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(gSe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},Aet=function(){var e=0;for(Lq(e);bet();)e=Tet(),Lq(e);return xet()&&wet(),e>0},iO,vSe=[],Det=function(){return vSe.splice(0).forEach(function(e){return e()})},Pet=function(e){if(!iO){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return Det()}).observe(n,r),iO=function(){n.textContent="".concat(t?t--:t++)}}vSe.push(e),iO()},Iet=function(e){Pet(function(){requestAnimationFrame(e)})},iE=0,Oet=function(){return!!iE},$et=250,Ret={attributes:!0,characterData:!0,childList:!0,subtree:!0},Bq=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Nq=function(e){return e===void 0&&(e=0),Date.now()+e},sO=!1,Met=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=$et),!sO){sO=!0;var r=Nq(t);Iet(function(){var o=!1;try{o=Aet()}finally{if(sO=!1,t=r-Nq(),!Oet())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,Ret)};document.body?n():tx.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Bq.forEach(function(n){return tx.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Bq.forEach(function(n){return tx.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),XM=new Met,zq=function(e){!iE&&e>0&&XM.start(),iE+=e,!iE&&XM.stop()},Fet=function(e){return!U9(e)&&!_et(e)&&getComputedStyle(e).display==="inline"},Let=function(){function e(t,n){this.target=t,this.observedBox=n||rw.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=mSe(this.target,this.observedBox,!0);return Fet(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Bet=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),h2=new WeakMap,Vq=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},p2=function(){function e(){}return e.connect=function(t,n){var r=new Bet(t,n);h2.set(t,r)},e.observe=function(t,n,r){var o=h2.get(t),i=o.observationTargets.length===0;Vq(o.observationTargets,n)<0&&(i&&om.push(o),o.observationTargets.push(new Let(n,r&&r.box)),zq(1),XM.schedule())},e.unobserve=function(t,n){var r=h2.get(t),o=Vq(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&om.splice(om.indexOf(r),1),r.observationTargets.splice(o,1),zq(-1))},e.disconnect=function(t){var n=this,r=h2.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),Net=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");p2.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Rq(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");p2.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Rq(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");p2.unobserve(this,t)},e.prototype.disconnect=function(){p2.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const ySe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:Net,zet=Het();function Vet(){return{subscribe(e,t){const n=new ySe(r=>{let[o]=r;t({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function Het(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const o=t.get(n)||[];let i=e.get(n);return t.has(n)||(t.set(n,o),i=Vet().subscribe(n,a=>{for(const l of o)l(a)})),o.push(r),()=>{const s=o.indexOf(r);s>-1&&o.splice(s,1),o.length===0&&i&&i()}}}}function lA(e){const[t,n]=h.useState(null);return h.useEffect(()=>{if(e)return zet.subscribe(e,n)},[e]),t}function Dh(e){const t=lA(e);return(t==null?void 0:t._contentRect)||null}function Ns(e){return h.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function aO(e,t){return e*t}function Uet(e,t){return{r:Math.round(lO(aO(e.r/255,t.r/255)*255)),g:Math.round(lO(aO(e.g/255,t.g/255)*255)),b:Math.round(lO(aO(e.b/255,t.b/255)*255))}}function lO(e){return Math.max(Math.min(e,255),0)}function cO(e,t){return e+t-e*t}function Wet(e,t){return{r:Math.round(uO(cO(e.r/255,t.r/255)*255)),g:Math.round(uO(cO(e.g/255,t.g/255)*255)),b:Math.round(uO(cO(e.b/255,t.b/255)*255))}}function uO(e){return Math.max(Math.min(e,255),0)}function Yet(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function bSe(e){let{r:t,g:n,b:r}=e;return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function qet(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e.h/60%2-1)),i=n-r/2;let s=0,a=0,l=0;return 0<=e.h&&e.h<60?(s=r,a=o,l=0):60<=e.h&&e.h<120?(s=o,a=r,l=0):120<=e.h&&e.h<180?(s=0,a=r,l=o):180<=e.h&&e.h<240?(s=0,a=o,l=r):240<=e.h&&e.h<300?(s=o,a=0,l=r):300<=e.h&&e.h<360&&(s=r,a=0,l=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((l+i)*255)}}const Get="0123456789ABCDEFabcdef",Ket=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function Zet(e){for(const t of e)if(Get.indexOf(t)===-1)return!1;return!0}function Xet(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:Zet(e.slice(1))}function Qet(e){const t=Ket.exec(e);if(!t)throw new Error('parseHsl: string is not a HSL color: "'.concat(e,'"'));return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function ow(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(Xet(e))return Yet(e);if(e.startsWith("hsl("))return qet(Qet(e));throw new Error('parseColor: unexpected color format: "'.concat(e,'"'))}function Dt(e,t){const n=ow(e);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(t,")")}function dO(e,t,n,r,o,i){return{default:e.button({base:t,dark:n,solid:r.default,muted:o.default,mode:i}),primary:e.button({base:t,dark:n,solid:r.primary,muted:o.primary,mode:i}),positive:e.button({base:t,dark:n,solid:r.positive,muted:o.positive,mode:i}),caution:e.button({base:t,dark:n,solid:r.caution,muted:o.caution,mode:i}),critical:e.button({base:t,dark:n,solid:r.critical,muted:o.critical,mode:i})}}function Jet(e,t,n,r,o){return{default:dO(e,t,n,r,o,"default"),ghost:dO(e,t,n,r,o,"ghost"),bleed:dO(e,t,n,r,o,"bleed")}}function ett(e,t,n,r,o,i){return{enabled:e.card({base:t,dark:n,name:r,state:"enabled",solid:o,muted:i}),disabled:e.card({base:t,dark:n,name:r,state:"disabled",solid:o,muted:i}),hovered:e.card({base:t,dark:n,name:r,state:"hovered",solid:o,muted:i}),pressed:e.card({base:t,dark:n,name:r,state:"pressed",solid:o,muted:i}),selected:e.card({base:t,dark:n,name:r,state:"selected",solid:o,muted:i})}}const ke="hsl(0, 0%, 0%)",$g="hsl(0, 0%, 100%)",vt={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},ttt={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},m2={transparent:{bg:[vt.transparent.darkest,vt.transparent.lightest],fg:[vt.transparent.lightest,vt.transparent.darkest],border:[vt.transparent.darker,vt.transparent.lighter],focusRing:[vt.transparent.base,vt.transparent.base]},primary:{bg:[vt.primary.darkest,vt.primary.lightest],fg:[vt.primary.lightest,vt.primary.darkest],border:[vt.primary.darker,vt.primary.lighter],focusRing:[vt.primary.base,vt.primary.base]},positive:{bg:[vt.positive.darkest,vt.positive.lightest],fg:[vt.positive.lightest,vt.positive.darkest],border:[vt.positive.darker,vt.positive.lighter],focusRing:[vt.positive.base,vt.positive.base]},caution:{bg:[vt.caution.darkest,vt.caution.lightest],fg:[vt.caution.lightest,vt.caution.darkest],border:[vt.caution.darker,vt.caution.lighter],focusRing:[vt.caution.base,vt.caution.base]},critical:{bg:[vt.critical.darkest,vt.critical.lightest],fg:[vt.critical.lightest,vt.critical.darkest],border:[vt.critical.darker,vt.critical.lighter],focusRing:[vt.critical.base,vt.critical.base]}},ntt={base:e=>{let{dark:t,name:n}=e;return n==="default"?{bg:t?ke:$g,fg:t?$g:ke,border:t?vt.default.darkest:vt.default.lightest,focusRing:vt.primary.base,shadow:{outline:ke,umbra:ke,penumbra:ke,ambient:ke},skeleton:{from:t?$g:ke,to:t?$g:ke}}:{bg:m2[n].bg[t?0:1],fg:m2[n].fg[t?0:1],border:m2[n].border[t?0:1],focusRing:m2[n].focusRing[t?0:1],shadow:{outline:ke,umbra:ke,penumbra:ke,ambient:ke},skeleton:{from:t?$g:ke,to:t?$g:ke}}},solid:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=vt[o];return r==="hovered"?{bg:n?i.light:i.dark,bg2:n?i.light:i.dark,border:n?i.lighter:i.darker,fg:n?i.darkest:i.lightest,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}:{bg:i.base,bg2:i.base,border:n?i.light:i.dark,fg:n?i.darkest:i.lightest,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}},muted:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=vt[o];return r==="hovered"?{bg:n?i.darker:i.lighter,bg2:n?i.darker:i.lighter,border:n?i.lighter:i.darker,fg:n?i.lightest:i.darkest,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}:{bg:n?i.darkest:i.lightest,bg2:n?i.darkest:i.lightest,border:n?i.darker:i.lighter,fg:n?i.lighter:i.darker,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}}:n==="ghost"?{...o,enabled:r.enabled}:o},card:e=>{let{base:t}=e;return{bg:ke,bg2:ke,fg:ke,border:ke,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}},input:()=>({bg:ke,fg:ke,border:ke,placeholder:ke}),selectable:e=>{let{muted:t,state:n,tone:r}=e;return t[r][n]},spot:e=>{let{key:t}=e;return ttt[t]},syntax:()=>({atrule:ke,attrName:ke,attrValue:ke,attribute:ke,boolean:ke,builtin:ke,cdata:ke,char:ke,class:ke,className:ke,comment:ke,constant:ke,deleted:ke,doctype:ke,entity:ke,function:ke,hexcode:ke,id:ke,important:ke,inserted:ke,keyword:ke,number:ke,operator:ke,prolog:ke,property:ke,pseudoClass:ke,pseudoElement:ke,punctuation:ke,regex:ke,selector:ke,string:ke,symbol:ke,tag:ke,unit:ke,url:ke,variable:ke})};function rtt(e,t,n,r,o){return{default:{enabled:e.input({base:t,dark:n,mode:"default",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"default",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"default",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:o.default})},invalid:{enabled:e.input({base:t,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:o.default})}}}function ott(e,t,n,r){return{default:{enabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function itt(e,t,n,r,o){return{default:Ay(e,t,n,r,o,"default"),primary:Ay(e,t,n,r,o,"primary"),positive:Ay(e,t,n,r,o,"positive"),caution:Ay(e,t,n,r,o,"caution"),critical:Ay(e,t,n,r,o,"critical")}}function Ay(e,t,n,r,o,i){return{enabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"enabled",tone:i}),hovered:e.selectable({base:t,dark:n,solid:r,muted:o,state:"hovered",tone:i}),pressed:e.selectable({base:t,dark:n,solid:r,muted:o,state:"pressed",tone:i}),selected:e.selectable({base:t,dark:n,solid:r,muted:o,state:"selected",tone:i}),disabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"disabled",tone:i})}}function stt(e,t,n,r){return{default:{enabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function att(e,t,n){return{gray:e.spot({base:t,dark:n,key:"gray"}),blue:e.spot({base:t,dark:n,key:"blue"}),purple:e.spot({base:t,dark:n,key:"purple"}),magenta:e.spot({base:t,dark:n,key:"magenta"}),red:e.spot({base:t,dark:n,key:"red"}),orange:e.spot({base:t,dark:n,key:"orange"}),yellow:e.spot({base:t,dark:n,key:"yellow"}),green:e.spot({base:t,dark:n,key:"green"}),cyan:e.spot({base:t,dark:n,key:"cyan"})}}function ltt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...ntt,...e};return{light:Hq(t,!1),dark:Hq(t,!0)}}function Hq(e,t){return{default:Rg(e,t,"default"),transparent:Rg(e,t,"transparent"),primary:Rg(e,t,"primary"),positive:Rg(e,t,"positive"),caution:Rg(e,t,"caution"),critical:Rg(e,t,"critical")}}function Rg(e,t,n){const r=e.base({dark:t,name:n}),o=stt(e,r,t,n),i=ott(e,r,t,n);return{base:r,button:Jet(e,r,t,o,i),card:ett(e,r,t,n,o,i),dark:t,input:rtt(e,r,t,o,i),selectable:itt(e,r,t,o,i),spot:att(e,r,t),syntax:e.syntax({base:r,dark:t}),solid:o,muted:i}}function Qh(e,t){const n=ow(e),r=ow(t);return bSe(Uet(n,r))}function Jh(e,t){const n=ow(e),r=ow(t);return bSe(Wet(n,r))}const Xi={default:fe.gray,transparent:fe.gray,primary:fe.blue,positive:fe.green,caution:fe.yellow,critical:fe.red},Dy=["default","transparent"],ctt=ltt({base:e=>{let{dark:t,name:n}=e;if(n==="default"){const i=fe.gray,s=t?i[900].hex:i[100].hex;return{fg:t?Ba.hex:Ec.hex,bg:t?Ec.hex:Ba.hex,border:i[t?800:200].hex,focusRing:fe.blue[500].hex,shadow:{outline:Dt(i[500].hex,.4),umbra:t?Dt(i[950].hex,.4):Dt(i[500].hex,.2),penumbra:t?Dt(i[950].hex,.28):Dt(i[500].hex,.14),ambient:t?Dt(i[950].hex,.24):Dt(i[500].hex,.12)},skeleton:{from:s,to:Dt(s,.5)}}}if(n==="transparent"){const i=Xi.default,s=i[t?800:200].hex;return{fg:i[t?100:900].hex,bg:i[t?950:50].hex,border:i[t?800:300].hex,focusRing:fe.blue[500].hex,shadow:{outline:Dt(i[500].hex,.4),umbra:t?Dt(i[900].hex,.4):Dt(i[500].hex,.2),penumbra:t?Dt(i[900].hex,.28):Dt(i[500].hex,.14),ambient:t?Dt(i[900].hex,.24):Dt(i[500].hex,.12)},skeleton:{from:s,to:Dt(s,.5)}}}const r=Xi[n]||Xi.default,o=r[t?800:200].hex;return{fg:r[t?100:900].hex,bg:r[t?950:50].hex,border:r[t?800:200].hex,focusRing:r[500].hex,shadow:{outline:Dt(r[500].hex,.4),umbra:t?Dt(r[900].hex,.4):Dt(r[500].hex,.2),penumbra:t?Dt(r[900].hex,.28):Dt(r[500].hex,.14),ambient:t?Dt(r[900].hex,.24):Dt(r[500].hex,.12)},skeleton:{from:o,to:Dt(o,.5)}}},solid:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?Jh:Qh,a=n?Qh:Jh,l=Xi[r]||Xi.default,u=Dy.includes(r)&&Dy.includes(i);let d=Xi[i==="default"?r:i]||l;if(o==="disabled"){d=l;const m=s(t.bg,d[n?800:200].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?800:200].hex),fg:s(t.bg,n?Ec.hex:Ba.hex),muted:{fg:s(t.bg,d[n?950:50].hex)},accent:{fg:s(t.bg,d[n?950:50].hex)},link:{fg:s(t.bg,d[n?950:50].hex)},code:{bg:m,fg:s(t.bg,d[n?950:50].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="hovered"){const m=s(t.bg,d[n?300:600].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?300:600].hex),fg:s(t.bg,n?Ec.hex:Ba.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="pressed"){const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:s(t.bg,d[n?200:800].hex),bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?Ec.hex:Ba.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="selected"){u&&(d=Xi.primary);const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?Ec.hex:Ba.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}const f=s(t.bg,d[n?400:500].hex),p=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:s(t.bg,d[n?400:500].hex),fg:s(t.bg,n?Ec.hex:Ba.hex),muted:{fg:s(t.bg,d[n?900:100].hex)},accent:{fg:a(f,fe.red[n?900:100].hex)},link:{fg:a(f,fe.blue[n?900:100].hex)},code:{bg:s(f,d[n?950:50].hex),fg:s(t.bg,d[n?900:100].hex)},skeleton:{from:p,to:Dt(p,.5)}}},muted:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?Jh:Qh,a=Xi[r]||Xi.default,l=Dy.includes(r)&&Dy.includes(i);let u=Xi[i==="default"?r:i]||a;if(o==="disabled"){u=a;const p=t.bg,m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?950:50].hex),fg:s(p,u[n?800:200].hex),muted:{fg:s(p,u[n?900:100].hex)},accent:{fg:s(p,u[n?900:100].hex)},link:{fg:s(p,u[n?900:100].hex)},code:{bg:p,fg:s(p,u[n?900:100].hex)},skeleton:{from:Dt(m,.5),to:Dt(m,.25)}}}if(o==="hovered"){const p=s(t.bg,u[n?950:50].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,fe.red[n?400:500].hex)},link:{fg:s(t.bg,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}if(o==="pressed"){l&&(u=Xi.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,fe.red[n?400:500].hex)},link:{fg:s(p,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}if(o==="selected"){l&&(u=Xi.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,fe.red[n?400:500].hex)},link:{fg:s(p,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}const d=t.bg,f=s(d,u[n?900:100].hex);return{bg:d,bg2:s(d,u[n?950:50].hex),border:s(d,u[n?900:100].hex),fg:s(t.bg,u[n?300:700].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,fe.red[n?400:500].hex)},link:{fg:s(t.bg,fe.blue[n?400:600].hex)},code:{bg:s(t.bg,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:f,to:Dt(f,.5)}}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...o,enabled:{...r.enabled,border:t.border},disabled:r.disabled}:o},card:e=>{let{base:t,dark:n,muted:r,name:o,solid:i,state:s}=e;if(s==="hovered")return r[o].hovered;if(s==="disabled")return r[o].disabled;const a=Dy.includes(o),l=Xi[o]||Xi.default,u=n?Jh:Qh;if(s==="pressed")return a?r.primary.pressed:r[o].pressed;if(s==="selected")return a?i.primary.enabled:i[o].enabled;const d=t.bg,f=u(t.bg,l[n?900:100].hex);return{bg:d,bg2:u(d,l[n?950:50].hex),fg:t.fg,border:t.border,muted:{fg:u(t.bg,l[n?400:600].hex)},accent:{fg:u(t.bg,fe.red[n?400:500].hex)},link:{fg:u(t.bg,fe.blue[n?400:600].hex)},code:{bg:u(t.bg,l[n?950:50].hex),fg:l[n?400:600].hex},skeleton:{from:f,to:Dt(f,.5)}}},input:e=>{let{base:t,dark:n,mode:r,state:o}=e;const i=n?Jh:Qh;if(r==="invalid"){const s=Xi.critical;return{bg:i(t.bg,s[n?950:50].hex),fg:i(t.bg,s[n?400:600].hex),border:i(t.bg,s[n?800:200].hex),placeholder:i(t.bg,s[n?600:400].hex)}}return o==="hovered"?{bg:t.bg,fg:t.fg,border:i(t.bg,fe.gray[n?700:300].hex),placeholder:i(t.bg,fe.gray[n?600:400].hex)}:o==="disabled"?{bg:i(t.bg,fe.gray[n?950:50].hex),fg:i(t.bg,fe.gray[n?700:300].hex),border:i(t.bg,fe.gray[n?900:100].hex),placeholder:i(t.bg,fe.gray[n?800:200].hex)}:o==="readOnly"?{bg:i(t.bg,fe.gray[n?950:50].hex),fg:i(t.bg,fe.gray[n?200:800].hex),border:i(t.bg,fe.gray[n?800:200].hex),placeholder:i(t.bg,fe.gray[n?600:400].hex)}:{bg:t.bg,fg:t.fg,border:t.border,placeholder:i(t.bg,fe.gray[n?600:400].hex)}},selectable:e=>{let{base:t,muted:n,tone:r,solid:o,state:i}=e;return i==="enabled"?{...n[r].enabled,bg:t.bg}:i==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:i==="selected"?r==="default"?o.primary.enabled:o[r].enabled:i==="disabled"?{...n[r].disabled,bg:t.bg}:n[r][i]},spot:e=>{let{base:t,dark:n,key:r}=e;return(n?Jh:Qh)(t.bg,fe[r][n?400:500].hex)},syntax:e=>{let{base:t,dark:n}=e;const r=n?Jh:Qh,o=n?400:600,i=n?600:400;return{atrule:r(t.bg,fe.purple[o].hex),attrName:r(t.bg,fe.green[o].hex),attrValue:r(t.bg,fe.yellow[o].hex),attribute:r(t.bg,fe.yellow[o].hex),boolean:r(t.bg,fe.purple[o].hex),builtin:r(t.bg,fe.purple[o].hex),cdata:r(t.bg,fe.yellow[o].hex),char:r(t.bg,fe.yellow[o].hex),class:r(t.bg,fe.orange[o].hex),className:r(t.bg,fe.cyan[o].hex),comment:r(t.bg,fe.gray[i].hex),constant:r(t.bg,fe.purple[o].hex),deleted:r(t.bg,fe.red[o].hex),doctype:r(t.bg,fe.gray[i].hex),entity:r(t.bg,fe.red[o].hex),function:r(t.bg,fe.green[o].hex),hexcode:r(t.bg,fe.blue[o].hex),id:r(t.bg,fe.purple[o].hex),important:r(t.bg,fe.purple[o].hex),inserted:r(t.bg,fe.yellow[o].hex),keyword:r(t.bg,fe.magenta[o].hex),number:r(t.bg,fe.purple[o].hex),operator:r(t.bg,fe.magenta[o].hex),prolog:r(t.bg,fe.gray[i].hex),property:r(t.bg,fe.blue[o].hex),pseudoClass:r(t.bg,fe.yellow[o].hex),pseudoElement:r(t.bg,fe.yellow[o].hex),punctuation:r(t.bg,fe.gray[o].hex),regex:r(t.bg,fe.blue[o].hex),selector:r(t.bg,fe.red[o].hex),string:r(t.bg,fe.yellow[o].hex),symbol:r(t.bg,fe.purple[o].hex),tag:r(t.bg,fe.red[o].hex),unit:r(t.bg,fe.orange[o].hex),url:r(t.bg,fe.red[o].hex),variable:r(t.bg,fe.red[o].hex)}}}),utt={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},fh={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:ctt,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:utt,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},dtt={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function ftt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const en=ftt(),QM=Symbol.for("@sanity/ui/context/theme");en[QM]=en[QM]||h.createContext(null);const JM=en[QM];function Xk(e){const t=h.useContext(JM),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:o=(t==null?void 0:t.theme)||null,tone:i=(t==null?void 0:t.tone)||"default"}=e,s=h.useMemo(()=>{if(!o)return null;const{color:l,layer:u,...d}=o,f=l[r]||l.light,p=f[i]||f.default;return{sanity:{...d,color:p,layer:u||dtt}}},[r,o,i]),a=h.useMemo(()=>o&&{version:0,theme:o,scheme:r,tone:i},[o,r,i]);return s?c.jsx(JM.Provider,{value:a,children:c.jsx(sNe,{theme:s,children:n})}):c.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function v1(e){return!!(e&&typeof e=="object")}function y1(){const e=h.useContext(JM);if(!e)throw new Error("useRootTheme(): missing context value");if(!v1(e)||e.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return e}function xSe(e){const{children:t,scheme:n,tone:r}=e,o=y1();return c.jsx(Xk,{scheme:n||o.scheme,theme:o.theme,tone:r,children:t})}function zs(){return cxe()}const Uq=new WeakMap;function htt(e,t){return t===0?"screen and (max-width: ".concat(e[t]-1,"px)"):t===e.length?"screen and (min-width: ".concat(e[t-1],"px)"):"screen and (min-width: ".concat(e[t-1],"px) and (max-width: ").concat(e[t]-1,"px)")}function ptt(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let s=t;s>-1;s-=1){const a=htt(e,s);n.push({index:s,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:s,mq:a}of r())if(a.matches)return s;return 0},subscribe:s=>{const a=[];for(const{mq:l}of r()){const u=()=>{l.matches&&s()};l.addEventListener("change",u),a.push(()=>l.removeEventListener("change",u))}return()=>{for(const l of a)l()}}}}function mtt(){return 0}function ng(){const e=zs(),{media:t}=e.sanity;let n=Uq.get(t);return n||(n=ptt(t),Uq.set(t,n)),h.useSyncExternalStore(n.subscribe,n.getSnapshot,mtt)}let fO;function wSe(){return fO||(fO=window.matchMedia("(prefers-color-scheme: dark)")),fO}function gtt(e){const t=wSe();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function vtt(){return wSe().matches}function ytt(){return!1}function btt(){return h.useSyncExternalStore(gtt,vtt,ytt)}const xtt=typeof window<"u"?h.useLayoutEffect:h.useEffect;function mr(e){const t=h.useRef(null);return xtt(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function DC(e,t){h.useEffect(()=>{e.current&&e.current.setCustomValidity(t||"")},[t,e])}const PC="1px solid var(--card-border-color)";function wtt(){return[Ctt,_tt,Stt,Ett,ktt]}function Ctt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$border,r=>r?{"&&":{border:PC}}:{"&&":{border:0}})}function _tt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$borderTop,r=>r?{"&&":{borderTop:PC}}:{"&&":{borderTop:0}})}function Stt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$borderRight,r=>r?{"&&":{borderRight:PC}}:{"&&":{borderRight:0}})}function Ett(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$borderBottom,r=>r?{"&&":{borderBottom:PC}}:{"&&":{borderBottom:0}})}function ktt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$borderLeft,r=>r?{"&&":{borderLeft:PC}}:{"&&":{borderLeft:0}})}const jtt={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},Ttt={content:"content-box",border:"border-box"},Att={stretch:"stretch",fill:"100%"};function Dtt(){return jtt}function Ptt(){return[Ott,$tt,Rtt,Itt]}function Itt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$display,r=>({"&:not([hidden])":{display:r}}))}function Ott(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$sizing,r=>({boxSizing:Ttt[r]}))}function $tt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$height,r=>({height:Att[r]}))}function Rtt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$overflow,r=>({overflow:r}))}const Mtt={"&&:not([hidden])":{display:"flex"}};function Ftt(){return[Mtt,Ltt,Btt,Ntt,ztt,Vtt]}function Ltt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$align,r=>({alignItems:r}))}function Btt(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$gap,o=>({gap:o?ge(r[o]):void 0}))}function Ntt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$wrap,r=>({flexWrap:r}))}function ztt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$justify,r=>({justifyContent:r}))}function Vtt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$direction,r=>({flexDirection:r}))}const Htt={minWidth:0,minHeight:0};function CSe(){return[Htt,Utt]}function Utt(e){const{theme:t}=e,{media:n}=t.sanity;return e.$flex?gt(n,e.$flex,r=>({flex:r})):AC}function Oo(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Kc(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&Oo(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const Wtt={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},Ytt={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},qtt={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function Gtt(){return[Wtt,Ktt,Ztt,Xtt,Qtt,Jtt,ent,tnt,nnt]}function Ktt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$autoFlow,r=>({gridAutoFlow:r}))}function Ztt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$autoRows,r=>({gridAutoRows:r&&qtt[r]}))}function Xtt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$autoCols,r=>({gridAutoColumns:r&&Ytt[r]}))}function Qtt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function Jtt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function ent(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$gap,o=>({gridGap:o?ge(r[o]):void 0}))}function tnt(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$gapX,o=>({columnGap:o?ge(r[o]):void 0}))}function nnt(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$gapY,o=>({rowGap:o?ge(r[o]):void 0}))}function rnt(){return[snt,ant,lnt,cnt,unt,dnt]}const ont={auto:"auto",full:"1 / -1"},int={auto:"auto",full:"1 / -1"};function snt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:ont[r]})}function ant(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$rowStart,r=>({gridRowStart:r}))}function lnt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$rowEnd,r=>({gridRowEnd:r}))}function cnt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:int[r]})}function unt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$columnStart,r=>({gridColumnStart:r}))}function dnt(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$columnEnd,r=>({gridColumnEnd:r}))}function W9(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:o,$space:i,theme:s}=e,{fonts:a,media:l,space:u}=s.sanity,d=Math.max(o.length,i.length,t.length),f=[],p=[],m=[];for(let v=0;v<d;v+=1)m[v]=t[v]===void 0?m[v-1]:t[v],f[v]=o[v]===void 0?f[v-1]:o[v],p[v]=i[v]===void 0?p[v-1]:i[v];return gt(l,f,(v,g)=>{const y=a.text.sizes[m[g]]||a.text.sizes[2],x=y.lineHeight-y.ascenderHeight-y.descenderHeight,b=u[f[g]],w=u[p[g]],C={paddingTop:ge(b-y.ascenderHeight),paddingRight:ge(b),paddingBottom:ge(b-y.descenderHeight),paddingLeft:ge(b)};return r&&(C.paddingRight=ge(b+x+w)),n&&(C.paddingLeft=ge(b+x+w)),C})}function fnt(e){return W9({...e,$iconRight:!0})}var Wq=Object.freeze,hnt=Object.defineProperty,Y9=(e,t)=>Wq(hnt(e,"raw",{value:Wq(t||e.slice())})),Yq,qq,Gq;const pnt=de(Yq||(Yq=Y9([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function _Se(){return pnt}function SSe(e){const{theme:t,$scheme:n,$tone:r,$weight:o}=e,i=t.sanity.fonts.text,s=t.sanity.color.input;return de(qq||(qq=Y9([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),i.family,o&&i.weights[o]||i.weights.regular,n,r,s.default.enabled.fg,s.default.enabled.placeholder,s.default.enabled.fg,s.default.enabled.placeholder,s.default.disabled.fg,s.default.disabled.placeholder,s.invalid.enabled.fg,s.invalid.enabled.placeholder,s.default.readOnly.fg,s.default.readOnly.placeholder)}function ESe(e){const{theme:t}=e,{fonts:n,media:r}=t.sanity;return gt(r,e.$fontSize,o=>{const i=n.text.sizes[o]||n.text.sizes[2];return{fontSize:ge(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function kSe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:o,theme:i}=e,{focusRing:s,input:a}=i.sanity,l=i.sanity.color.input;return de(Gq||(Gq=Y9([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,o,l.default.enabled.bg,l.default.enabled.fg,Oo({color:l.default.enabled.border,width:a.border.width}),l.invalid.enabled.bg,l.invalid.enabled.fg,Oo({color:l.invalid.enabled.border,width:a.border.width}),Kc({border:{color:l.default.enabled.border,width:a.border.width},focusRing:s}),Kc({focusRing:s}),l.default.disabled.bg,l.default.disabled.fg,Oo({color:l.default.disabled.border,width:a.border.width}),l.default.readOnly.bg,l.default.readOnly.fg,l.default.hovered.bg,l.default.hovered.fg,Oo({color:l.default.hovered.border,width:a.border.width}))}function mnt(e){const{theme:t}=e;return[Es(t,["margin"],e.$margin),Es(t,["marginLeft","marginRight"],e.$marginX),Es(t,["marginTop","marginBottom"],e.$marginY),Es(t,["marginTop"],e.$marginTop),Es(t,["marginRight"],e.$marginRight),Es(t,["marginBottom"],e.$marginBottom),Es(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function jSe(e){const{theme:t}=e;return[Es(t,["padding"],e.$padding),Es(t,["paddingLeft","paddingRight"],e.$paddingX),Es(t,["paddingTop","paddingBottom"],e.$paddingY),Es(t,["paddingTop"],e.$paddingTop),Es(t,["paddingRight"],e.$paddingRight),Es(t,["paddingBottom"],e.$paddingBottom),Es(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function Ad(e){const{theme:t}=e,{media:n,radius:r}=t.sanity;return gt(n,e.$radius,o=>({borderRadius:ge(r[o])}))}function hO(e,t){return"".concat(e.map(ge).join(" ")," ").concat(t)}function gnt(e){if(!e)return Wf;const t="0 0 0 ".concat(ge(1)," var(--card-shadow-outline-color)"),n=hO(e.umbra,"var(--card-shadow-umbra-color)"),r=hO(e.penumbra,"var(--card-shadow-penumbra-color)"),o=hO(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(t,", ").concat(n,", ").concat(r,", ").concat(o)}}function vnt(e){const{theme:t}=e,{media:n,shadows:r}=t.sanity;return gt(n,e.$shadow,o=>gnt(r[o]))}var Kq=Object.freeze,ynt=Object.defineProperty,pO=(e,t)=>Kq(ynt(e,"raw",{value:Kq(t||e.slice())})),Zq,Xq,Qq;function bnt(e){const{$accent:t,$muted:n,theme:r}=e,{weights:o}=r.sanity.fonts.text;return de(Qq||(Qq=pO([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(Zq||(Zq=pO([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(Xq||(Xq=pO([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,o.bold)}var Jq=Object.freeze,xnt=Object.defineProperty,wnt=(e,t)=>Jq(xnt(e,"raw",{value:Jq(t||e.slice())})),eG;const Cnt=$.div(yet,H9,bnt),_nt=$.span(eG||(eG=wnt([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),L=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:l,weight:u,...d}=t;let f=i;return l==="ellipsis"&&(f=c.jsx(_nt,{children:f})),c.jsx(Cnt,{"data-ui":"Text",...d,$accent:r,$align:ye(o),$muted:s,ref:n,$size:ye(a),$weight:u,children:c.jsx("span",{children:f})})}),IC={root:Ent,arrow:Snt,bgStroke:Tnt,stroke:Ant,initials:jnt};function Snt(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function Ent(e){const{$color:t,theme:n}=e,{focusRing:r}=n.sanity;return{backgroundColor:t,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Kc({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function knt(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return gt(r,e.$size,o=>{const i=n.sizes[o]||n.sizes[0];return{width:ge(i.size),height:ge(i.size),borderRadius:ge(i.size/2),"&>svg":{width:ge(i.size),height:ge(i.size),borderRadius:ge(i.size/2)}}})}function jnt(e){const{theme:t}=e,{base:n}=t.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function Tnt(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function Ant(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const Dnt=$.div(knt,IC.root),Pnt=$.div(IC.arrow),Int=$.ellipse(IC.bgStroke),Ont=$.ellipse(IC.stroke),$nt=$.div(IC.initials),TSe=h.forwardRef(function(t,n){const{as:r,color:o="gray",src:i,title:s,initials:a,onImageLoadError:l,arrowPosition:u,animateArrowFrom:d,status:f="online",size:p=0,...m}=t,v=oBe.isValidElementType(r)?r:"div",g=ye(p),y=zs(),x=y.sanity.color.spot[o]||y.sanity.color.spot.gray,w=(y.sanity.avatar.sizes[g[0]]||y.sanity.avatar.sizes[0]).size,C=w/2,_=h.useId(),[S,E]=h.useState(d||u||"inside"),[j,k]=h.useState(!1),T="avatar-image-".concat(_);h.useEffect(()=>{if(S===u)return;const P=requestAnimationFrame(()=>E(u));return()=>cancelAnimationFrame(P)},[S,u]),h.useEffect(()=>{i&&k(!1)},[i]);const A=h.useCallback(()=>{k(!0),l&&l(new Error("Avatar: the image failed to load"))},[l]),D=h.useMemo(()=>g.map(P=>P===0?0:P+1),[g]);return c.jsxs(Dnt,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...m,$size:g,$color:x,"aria-label":s,"data-arrow-position":S,"data-status":f,ref:n,title:s,children:[c.jsx(Pnt,{children:c.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:c.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!j&&i&&c.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[c.jsx("defs",{children:c.jsx("pattern",{id:T,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:c.jsx("image",{href:i,width:"1",height:"1",onError:A})})}),c.jsx("circle",{cx:C,cy:C,r:C,fill:"url(#".concat(T,")")}),c.jsx(Int,{cx:C,cy:C,rx:C,ry:C,vectorEffect:"non-scaling-stroke"}),c.jsx(Ont,{cx:C,cy:C,rx:C,ry:C,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(j||!i)&&a&&c.jsx(c.Fragment,{children:c.jsx($nt,{children:c.jsx(L,{as:"span",size:D,children:c.jsx("strong",{children:a})})})})]})});var tG=Object.freeze,Rnt=Object.defineProperty,Mnt=(e,t)=>tG(Rnt(e,"raw",{value:tG(t||e.slice())})),nG;function Fnt(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return gt(r,e.$size,o=>{const i=n.sizes[o];return i?{borderRadius:ge(i.size/2),minWidth:ge(i.size),height:ge(i.size)}:Wf})}function Lnt(e){const{theme:t}=e;return de(nG||(nG=Mnt([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),ge(t.sanity.space[2]))}const Bnt=$.div(Fnt,Lnt),eF=h.forwardRef(function(t,n){const{count:r,size:o=0}=t,i=ye(o),s=h.useMemo(()=>i.map(a=>a===0?0:a+1),[i]);return c.jsx(Bnt,{$size:i,"data-ui":"AvatarCounter",ref:n,children:c.jsx(L,{as:"span",size:s,children:c.jsx("strong",{children:r})})})});function ASe(e){return(Array.isArray(e)?e:[e]).filter(n=>da.isElement(n)||da.isFragment(n)||typeof n=="string")}var rG=Object.freeze,Nnt=Object.defineProperty,znt=(e,t)=>rG(Nnt(e,"raw",{value:rG(t||e.slice())})),oG;const Vnt=de(oG||(oG=znt([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function Hnt(){return Vnt}function Unt(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return gt(r,e.$size,o=>{const i=n.sizes[o];return i?{"& > div + div":{marginLeft:ge(i.distance)}}:Wf})}const Wnt=$.div(Unt,Hnt),cA=h.forwardRef(function(t,n){const{children:r,maxLength:o=4,size:i=0,...s}=t,a=ASe(r).filter(v=>typeof v!="string"),l=Math.max(o,0),u=ye(i),d=a.length,f=l-1,p=d-f,m=p>1?a.slice(p,d):a;return c.jsxs(Wnt,{"data-ui":"AvatarStack",...s,ref:n,$size:u,children:[d===0&&c.jsx("div",{children:c.jsx(eF,{count:d})}),d!==0&&p>1&&c.jsx("div",{children:c.jsx(eF,{count:p,size:u})}),m.map((v,g)=>c.jsx("div",{children:h.cloneElement(v,{size:u})},String(g)))]})}),Ynt=$.div(Dtt,CSe,Ptt,rnt,mnt,jSe),M=h.forwardRef(function(t,n){const{as:r="div",column:o,columnStart:i,columnEnd:s,display:a="block",flex:l,height:u,margin:d=0,marginX:f,marginY:p,marginTop:m,marginRight:v,marginBottom:g,marginLeft:y,overflow:x,padding:b=0,paddingX:w,paddingY:C,paddingTop:_,paddingRight:S,paddingBottom:E,paddingLeft:j,row:k,rowStart:T,rowEnd:A,sizing:D,...P}=t;return c.jsx(Ynt,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...P,$column:ye(o),$columnStart:ye(i),$columnEnd:ye(s),$display:ye(a),$flex:ye(l),$height:ye(u),$margin:ye(d),$marginX:ye(f),$marginY:ye(p),$marginTop:ye(m),$marginRight:ye(v),$marginBottom:ye(g),$marginLeft:ye(y),$overflow:ye(x),$padding:ye(b),$paddingX:ye(w),$paddingY:ye(C),$paddingTop:ye(_),$paddingRight:ye(S),$paddingBottom:ye(E),$paddingLeft:ye(j),$row:ye(k),$rowStart:ye(T),$rowEnd:ye(A),$sizing:ye(D),as:r,ref:n,children:t.children})});var iG=Object.freeze,qnt=Object.defineProperty,mO=(e,t)=>iG(qnt(e,"raw",{value:iG(t||e.slice())})),sG,aG,lG;function Gnt(e){const{$accent:t,$muted:n,theme:r}=e,{fonts:o}=r.sanity;return de(lG||(lG=mO([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(sG||(sG=mO([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(aG||(aG=mO([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var cG=Object.freeze,Knt=Object.defineProperty,Znt=(e,t)=>cG(Knt(e,"raw",{value:cG(t||e.slice())})),uG;const Xnt=$.div(vet,H9,Gnt),Qnt=$.span(uG||(uG=Znt([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Ut=h.forwardRef(function(t,n){const{accent:r,align:o,children:i,muted:s=!1,size:a=2,textOverflow:l,weight:u,...d}=t;let f=i;return l==="ellipsis"?f=c.jsx(Qnt,{children:f}):f=c.jsx("span",{children:f}),c.jsx(Xnt,{"data-ui":"Label",...d,$accent:r,$align:ye(o),$muted:s,$size:ye(a),$weight:u,ref:n,children:f})});function Jnt(e){const{$mode:t,$tone:n,theme:r}=e,o=r.sanity.color[t==="outline"?"muted":"solid"],i=o[n]||o.default;return{backgroundColor:i.enabled.bg,color:i.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(i.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const ert=$(M)(Ad,Jnt),q9=h.forwardRef(function(t,n){const{children:r,fontSize:o,mode:i="default",padding:s=1,radius:a=2,tone:l="default",...u}=t;return c.jsx(ert,{"data-ui":"Badge",...u,$mode:i,$tone:l,$radius:ye(a),padding:ye(s),ref:n,children:c.jsx(Ut,{size:o,children:r})})}),trt=$(M)(CSe,Ftt),U=h.forwardRef(function(t,n){const{align:r,as:o,direction:i="row",gap:s,justify:a,wrap:l,...u}=t;return c.jsx(trt,{"data-ui":"Flex",...u,$align:ye(r),$direction:ye(i),$gap:ye(s),$justify:ye(a),$wrap:ye(l),forwardedAs:o,ref:n})});var dG=Object.freeze,nrt=Object.defineProperty,DSe=(e,t)=>dG(nrt(e,"raw",{value:dG(t||e.slice())})),fG,hG;const rrt=Km(fG||(fG=DSe([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),ort=$(L)(hG||(hG=DSe([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),rrt),gr=h.forwardRef(function(t,n){return c.jsx(ort,{"data-ui":"Spinner",...t,ref:n,children:c.jsx(hC,{})})});function Ht(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,o,i,s,a,l,u,d;return{"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-focus-ring-color":e.focusRing,"--card-bg-color":t.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(t.bg," 0% 25%, ").concat(t.bg2||t.bg," 0% 50%)"):void 0,"--card-fg-color":t.fg,"--card-border-color":t.border,"--card-muted-fg-color":(r=t.muted)==null?void 0:r.fg,"--card-accent-fg-color":(o=t.accent)==null?void 0:o.fg,"--card-link-fg-color":(i=t.link)==null?void 0:i.fg,"--card-code-bg-color":(s=t.code)==null?void 0:s.bg,"--card-code-fg-color":(a=t.code)==null?void 0:a.fg,"--card-skeleton-color-from":(l=t.skeleton)==null?void 0:l.from,"--card-skeleton-color-to":(u=t.skeleton)==null?void 0:u.to,"--card-link-color":(d=t.link)==null?void 0:d.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}var pG=Object.freeze,irt=Object.defineProperty,srt=(e,t)=>pG(irt(e,"raw",{value:pG(t||e.slice())})),mG;function art(){return de(mG||(mG=srt([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const lrt={border:{width:1}};function crt(e){var t,n;const{$mode:r,theme:o}=e,{focusRing:i}=o.sanity,s=o.sanity.color.base,a=o.sanity.color.button[r]||o.sanity.color.button.default,l=a[e.$tone]||a.default,u={width:lrt.border.width,color:"var(--card-border-color)"};return[Ht(s,l.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:Oo(u),'&:disabled, &[data-disabled="true"]':Ht(s,l.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:Kc({base:s,border:u,focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:Oo(u)},"@media (hover: hover)":{"&:hover":Ht(s,l.hovered),"&:active":Ht(s,l.pressed),"&[data-hovered]":Ht(s,l.hovered)},"&[data-selected]":Ht(s,l.pressed)}},(n=(t=o.sanity.styles)==null?void 0:t.button)==null?void 0:n.root].filter(Boolean)}var gG=Object.freeze,urt=Object.defineProperty,drt=(e,t)=>gG(urt(e,"raw",{value:gG(t||e.slice())})),vG;const frt=$.button(Ad,art,crt),hrt=$.div(vG||(vG=drt([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),oe=h.forwardRef(function(t,n){const{children:r,disabled:o,fontSize:i,icon:s,iconRight:a,justify:l="center",loading:u,mode:d="default",padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingBottom:g,paddingLeft:y,paddingRight:x,radius:b=2,selected:w,space:C=3,text:_,textAlign:S,tone:E="default",type:j="button",...k}=t,T=ye(l),A=ye(f),D=ye(p),P=ye(m),I=ye(v),R=ye(g),O=ye(y),V=ye(x),B=ye(b),H=ye(C),W=zs(),z=h.useMemo(()=>({padding:A,paddingX:D,paddingY:P,paddingTop:I,paddingBottom:R,paddingLeft:O,paddingRight:V}),[A,D,P,I,R,O,V]);return c.jsxs(frt,{"data-ui":"Button",...k,$mode:d,$radius:B,$tone:E,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:n,type:j,children:[!!u&&c.jsx(hrt,{children:c.jsx(gr,{})}),(s||_||a)&&c.jsx(M,{as:"span",...z,children:c.jsxs(U,{as:"span",justify:T,children:[s&&c.jsxs(L,{size:i,children:[h.isValidElement(s)&&s,da.isValidElementType(s)&&h.createElement(s)]}),_&&c.jsx(M,{flex:a?1:void 0,marginLeft:s?H:void 0,marginRight:a?H:void 0,children:c.jsx(L,{align:S,size:i,textOverflow:"ellipsis",weight:W.sanity.button.textWeight,children:_})}),a&&c.jsxs(L,{size:i,children:[h.isValidElement(a)&&a,da.isValidElementType(a)&&h.createElement(a)]})]})}),r&&c.jsx(M,{as:"span",...z,children:r})]})});var yG=Object.freeze,prt=Object.defineProperty,tF=(e,t)=>yG(prt(e,"raw",{value:yG(t||e.slice())})),bG,xG,wG;function mrt(e){return[grt(e),vrt(e)]}function grt(e){const{$checkered:t,theme:n}=e,r=n.sanity.space;return de(xG||(xG=tF([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),t&&de(bG||(bG=tF([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function vrt(e){var t,n;const{$checkered:r,$focusRing:o,theme:i}=e,{focusRing:s}=i.sanity,{base:a,card:l,dark:u}=i.sanity.color,d={width:0,color:"var(--card-border-color)"};return de(wG||(wG=tF([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",Ht(a,l.enabled,r),Ht(a,l.disabled,r),Ht(a,l.pressed,r),Ht(a,l.selected,r),Ht(a,l.hovered,r),Ht(a,l.pressed,r),o?Kc({base:a,border:d,focusRing:s}):void 0,o?Oo(d):void 0,Ht(a,l.disabled,r),Ht(a,l.pressed,r),Ht(a,l.selected,r),Ht(a,l.hovered,r),Ht(a,l.pressed,r),o?Kc({base:a,border:d,focusRing:s}):void 0,o?Oo(d):void 0,(n=(t=i.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const yrt=$(M)(wtt,Ad,vnt,mrt),Q=h.forwardRef(function(t,n){const{__unstable_checkered:r=!1,__unstable_focusRing:o=!1,as:i,border:s,borderTop:a,borderRight:l,borderBottom:u,borderLeft:d,pressed:f,radius:p=0,scheme:m,selected:v,shadow:g,tone:y="default",...x}=t,b=da.isValidElementType(i)?i:"div",w=y1(),C=y==="inherit"?w.tone:y;return c.jsx(xSe,{scheme:m,tone:C,children:c.jsx(yrt,{"data-as":typeof b=="string"?b:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...x,$border:ye(s),$borderTop:ye(a),$borderRight:ye(l),$borderBottom:ye(u),$borderLeft:ye(d),$checkered:r,$focusRing:o,$radius:ye(p),$shadow:ye(g),$tone:C,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":v?"":void 0,forwardedAs:b,ref:n,selected:v})})});var CG=Object.freeze,brt=Object.defineProperty,PSe=(e,t)=>CG(brt(e,"raw",{value:CG(t||e.slice())})),_G,SG;function xrt(){return de(_G||(_G=PSe([`
    position: relative;
    display: inline-block;
  `])))}function wrt(e){const{theme:t}=e,n=t.sanity.color.input,{focusRing:r,input:o,radius:i}=t.sanity;return de(SG||(SG=PSe([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),ge(o.checkbox.size),ge(o.checkbox.size),Oo({color:n.default.enabled.border,width:o.border.width}),ge(i[2]),n.default.enabled.bg,Kc({border:{width:o.border.width,color:n.default.enabled.border},focusRing:r}),Oo({color:n.default.enabled.border,width:o.border.width}),n.default.readOnly.bg,Oo({width:o.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,Oo({width:o.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const Crt=$.div(xrt),_rt=$.input(wrt),uA=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,customValidity:a,readOnly:l,style:u,...d}=t,f=mr(n);return DC(f,a),h.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),c.jsxs(Crt,{className:o,"data-ui":"Checkbox",style:u,children:[c.jsx(_rt,{"data-read-only":!i&&l?"":void 0,...d,checked:r,disabled:i||l,type:"checkbox",readOnly:l,ref:f}),c.jsxs("span",{children:[c.jsx(fa,{}),c.jsx(Lxe,{})]})]})});var EG=Object.freeze,Srt=Object.defineProperty,Ert=(e,t)=>EG(Srt(e,"raw",{value:EG(t||e.slice())})),kG;function krt(e){let{theme:t}=e;const n=t.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function jrt(){return de(kG||(kG=Ert([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),krt)}const Trt=$.pre(jrt,met),dr=h.forwardRef(function(t,n){const{children:r,language:o,size:i=2,weight:s,...a}=t,l=typeof o=="string"?o:void 0,u=l?bm.hasLanguage(l):!1;return c.jsxs(Trt,{"data-ui":"Code",...a,$size:ye(i),$weight:s,ref:n,children:[!(l&&u)&&c.jsx("code",{children:r}),l&&u&&c.jsx(bm,{inline:!0,language:l,value:String(r)})]})}),Art={width:"100%",margin:"0 auto"};function Drt(){return Art}function Prt(e){const{theme:t}=e,{container:n,media:r}=t.sanity;return gt(r,e.$width,o=>({maxWidth:o==="auto"?"none":ge(n[o])}))}const Irt=$(M)(Drt,Prt),oo=h.forwardRef(function(t,n){const{as:r,width:o=2,...i}=t;return c.jsx(Irt,{"data-ui":"Container",...i,$width:ye(o),forwardedAs:r,ref:n})}),Ort=$(M)(Gtt),tn=h.forwardRef(function(t,n){const{as:r,autoRows:o,autoCols:i,autoFlow:s,columns:a,gap:l,gapX:u,gapY:d,rows:f,children:p,...m}=t;return c.jsx(Ort,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:ye(o),$autoCols:ye(i),$autoFlow:ye(s),$columns:ye(a),$gap:ye(l),$gapX:ye(u),$gapY:ye(d),$rows:ye(f),forwardedAs:r,ref:n,children:p})});var jG=Object.freeze,$rt=Object.defineProperty,gO=(e,t)=>jG($rt(e,"raw",{value:jG(t||e.slice())})),TG,AG,DG;function Rrt(e){const{$accent:t,$muted:n,theme:r}=e;return de(DG||(DG=gO([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(TG||(TG=gO([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(AG||(AG=gO([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var PG=Object.freeze,Mrt=Object.defineProperty,Frt=(e,t)=>PG(Mrt(e,"raw",{value:PG(t||e.slice())})),IG;const Lrt=$.div(Rrt,H9,get),Brt=$.span(IG||(IG=Frt([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Xo=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:l,weight:u,...d}=t;let f=i;return l==="ellipsis"&&(f=c.jsx(Brt,{children:f})),c.jsx(Lrt,{"data-ui":"Heading",...d,$accent:r,$align:ye(o),$muted:s,$size:ye(a),$weight:u,ref:n,children:c.jsx("span",{children:f})})});function Nrt(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function zrt(e){const{theme:t}=e;return gt(t.sanity.media,e.$space,n=>{const r=ge(t.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const Vrt=$(M)(Nrt,zrt),Zt=h.forwardRef(function(t,n){const{as:r,children:o,space:i,...s}=t,a=h.useMemo(()=>ASe(o).filter(Boolean).map((l,u)=>c.jsx("div",{children:l},u)),[o]);return c.jsx(Vrt,{"data-ui":"Inline",...s,$space:ye(i),forwardedAs:r,ref:n,children:a})});var OG=Object.freeze,Hrt=Object.defineProperty,Urt=(e,t)=>OG(Hrt(e,"raw",{value:OG(t||e.slice())})),$G;function Wrt(){return de($G||($G=Urt([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const Yrt=$.kbd(Ad,Wrt),nF=h.forwardRef(function(t,n){const{children:r,fontSize:o=1,padding:i=1,radius:s=2,...a}=t;return c.jsx(Yrt,{"data-ui":"KBD",...a,$radius:ye(s),ref:n,children:c.jsx(M,{as:"span",padding:i,children:c.jsx(dr,{as:"span",muted:!0,size:o,children:r})})})}),rF=Symbol.for("@sanity/ui/context/boundaryElement");en[rF]=en[rF]||h.createContext(null);const ISe=en[rF];function ld(e){const{children:t,element:n}=e,r=h.useMemo(()=>({version:0,element:n}),[n]);return c.jsx(ISe.Provider,{value:r,children:t})}const qrt={version:0,element:null};function rg(){const e=h.useContext(ISe);if(e&&(!v1(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||qrt}function Grt(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function Krt(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const Zrt=h.forwardRef(function(t,n){const r=zs(),{children:o,media:i=r.sanity.media,...s}=t,a=mr(n),[l,u]=h.useState(null),d=lA(l),f=h.useMemo(()=>{var g;return(g=d==null?void 0:d.border.width)!=null?g:window.innerWidth},[d]),p=h.useMemo(()=>Grt(i,f),[i,f]),m=h.useMemo(()=>Krt(i,f),[i,f]),v=h.useCallback(g=>{a.current=g,u(g)},[a]);return c.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":p.length?p.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:v,children:o})});var Xrt=Object.defineProperty,Qrt=(e,t,n)=>t in e?Xrt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jrt=(e,t,n)=>(Qrt(e,typeof t!="symbol"?t+"":t,n),n);class b1 extends h.Component{constructor(){super(...arguments),Jrt(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return c.jsx(dr,{children:n})}return this.props.children}}function OSe(e){if(!v1(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const oF=Symbol.for("@sanity/ui/context/layer");en[oF]=en[oF]||h.createContext(null);const iF=en[oF];function Ea(){const e=h.useContext(iF);if(!e)throw new Error("useLayer(): missing context value");try{return OSe(e)}catch(t){throw t instanceof Error?new Error("useLayer(): ".concat(t.message)):new Error("useLayer(): ".concat(t))}}function sF(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function eot(e){let t=null;const n=sF(()=>{t=sF(e)});return()=>{t&&t(),n()}}function tot(e){return G9(e)||K9(e)}function tu(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function G9(e){return tu(e)&&e.nodeName==="A"}function not(e){return tu(e)&&e.nodeName==="INPUT"}function K9(e){return tu(e)&&e.nodeName==="BUTTON"}function rot(e){return tu(e)&&e.nodeName==="SELECT"}function oot(e){return tu(e)&&e.nodeName==="TEXTAREA"}function aF(e,t){return e.contains(t)||e===t}function iot(e){return!!document.activeElement&&e.contains(document.activeElement)}function sot(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:G9(e)?!!e.href&&e.rel!=="ignore":not(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:K9(e)||rot(e)||oot(e)?!e.disabled:!1}function $Se(e){if(!sot(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function jm(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(tu(n)&&($Se(n)||jm(n)))return!0}return!1}function Z9(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(tu(n)&&($Se(n)||Z9(n)))return!0}return!1}function aot(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function cd(e){var t;const{children:n,zOffset:r=0}=e,o=h.useContext(iF),i=o&&OSe(o),s=i==null?void 0:i.registerChild,l=((t=i==null?void 0:i.level)!=null?t:0)+1,u=ye(r),d=u.length-1,f=Math.min(ng(),d),p=i?i.zIndex+u[f]:u[f],[,m]=h.useState({}),[v,g]=h.useState(0),y=v===0,x=h.useCallback(w=>{const C=s==null?void 0:s(w);return w!==void 0?m(_=>{var S;const E=(S=_[w])!=null?S:0,j={..._,[w]:E+1};return g(Object.keys(j).length),j}):g(_=>_+1),()=>{w!==void 0?m(_=>{const S={..._};return S[w]===1?(delete S[w],g(Object.keys(S).length)):S[w]-=1,S}):g(_=>_-1),C==null||C()}},[s]);h.useEffect(()=>s==null?void 0:s(l),[l,s]);const b=h.useMemo(()=>({version:0,isTopLayer:y,level:l,registerChild:x,size:v,zIndex:p}),[y,l,x,v,p]);return c.jsx(iF.Provider,{value:b,children:n})}const lot=$.div({position:"relative"}),cot=h.forwardRef(function(t,n){const{children:r,onActivate:o,onFocus:i,style:s=Wf,...a}=t,{zIndex:l,isTopLayer:u}=Ea(),d=h.useRef(null),f=mr(n),p=h.useRef(u);h.useEffect(()=>{p.current!==u&&u&&(o==null||o({activeElement:d.current})),p.current=u},[u,o]);const m=h.useCallback(v=>{i==null||i(v);const g=f.current,y=document.activeElement;!u||!g||!y||tu(y)&&aF(g,y)&&(d.current=y)},[f,u,i]);return c.jsx(lot,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:l},children:r})}),hs=h.forwardRef(function(t,n){const{children:r,zOffset:o=1,...i}=t;return c.jsx(cd,{zOffset:o,children:c.jsx(cot,{...i,ref:n,children:r})})}),lF=Symbol.for("@sanity/ui/context/portal"),pp=Symbol.for("@sanity/ui/context/portal/element");en[pp]=null;const uot={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(en[pp]||(en[pp]=document.createElement("div"),en[pp].setAttribute("data-portal",""),document.body.appendChild(en[pp])),en[pp])}};en[lF]=en[lF]||h.createContext(uot);const RSe=en[lF];function og(){const e=h.useContext(RSe);if(!e)throw new Error("usePortal(): missing context value");if(!v1(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function ig(e){var t;const{children:n,__unstable_name:r}=e,o=og(),i=(r?o.elements&&o.elements[r]:o.element)||((t=o.elements)==null?void 0:t.default);return i?Pc.createPortal(n,i):null}function dot(e){const t=h.useRef(e);return fot(t.current,e)||(t.current=e),t.current}function fot(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>e[o]===t[o])}const hot=typeof document<"u";function sg(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:o}=e,i=dot(o),s=h.useMemo(()=>({version:0,boundaryElement:t||null,element:r||hot&&document.body||null,elements:i}),[t,r,i]);return c.jsx(RSe.Provider,{value:s,children:n})}var RG=Object.freeze,pot=Object.defineProperty,mot=(e,t)=>RG(pot(e,"raw",{value:RG(t||e.slice())})),MG;const got=$.div(MG||(MG=mot([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));h.forwardRef(function(t,n){const{as:r,children:o}=t;return c.jsx(got,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:o})});var FG=Object.freeze,vot=Object.defineProperty,MSe=(e,t)=>FG(vot(e,"raw",{value:FG(t||e.slice())})),LG,BG;const yot=$.div(LG||(LG=MSe([`
  position: relative;
`]))),NG=$.div(BG||(BG=MSe([`
  position: absolute;
  left: 0;
  right: 0;
`])));h.forwardRef(function(t,n){const{as:r="div",gap:o=0,getItemKey:i,items:s=[],onChange:a,renderItem:l,...u}=t,{space:d}=zs().sanity,f=mr(n),p=h.useRef(null),[m,v]=h.useState(0),[g,y]=h.useState(0),[x,b]=h.useState(-1);h.useEffect(()=>{if(!p.current)return;const k=p.current.firstChild;k instanceof HTMLElement&&b(k.offsetHeight)},[l]),h.useEffect(()=>{if(!f.current)return;let k=f.current.parentNode;for(;k&&!aot(k);)k=k.parentNode;if(k){const D=k;if(!(D instanceof HTMLElement))return;const P=()=>{v(D.scrollTop)};D.addEventListener("scroll",P,{passive:!0});const I=new ySe(R=>{y(R[0].contentRect.height)});return I.observe(D),P(),()=>{D.removeEventListener("scroll",P),I.unobserve(D),I.disconnect()}}const T=()=>{v(window.scrollY)},A=()=>{y(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",A),y(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",A)}},[f]);const w=s.length,C=x?w*(x+d[o])-d[o]:0,_=C?Math.max(Math.floor(m/C*w)-2,0):0,S=C?Math.ceil((m+g)/C*w)+1:0;h.useEffect(()=>{a&&a({fromIndex:_,gap:d[o],itemHeight:x,scrollHeight:g,scrollTop:m,toIndex:S})},[_,o,x,a,g,m,d,S]);const E=h.useMemo(()=>!l||s.length===0?null:x===-1?[c.jsx(NG,{children:l(s[0])},0)]:s.slice(_,S).map((k,T)=>{const A=_+T,D=l(k),P=i?i(k,A):A;return c.jsx(NG,{style:{top:A*(x+d[o])},children:D},P)}),[_,o,i,x,s,l,d,S]),j=h.useMemo(()=>({height:C}),[C]);return c.jsx(yot,{as:r,"data-ui":"VirtualList",...u,ref:f,children:c.jsx("div",{ref:p,style:j,children:E})})});const bot=4,Qg=4,_c=27,xot=11,FSe=[0,0,0,0],wot={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function Cot(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(o){const{elements:i,placement:s,platform:a,rects:l}=o,{floating:u,reference:d}=l,f=await Rx(o,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const v=u.width,g=u.height;s.includes("top")&&(p=v-(f.left+f.right),m=g-f.top),s.includes("right")&&(p=v-f.right,m=g-(f.top+f.bottom)),s.includes("bottom")&&(p=v-(f.left+f.right),m=g-f.bottom),s.includes("left")&&(p=v-f.left,m=g-(f.top+f.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:i,referenceWidth:d.width-n[1]-n[3]});const y=await a.getDimensions(i.floating),x=y.height,b=y.width;return v!==b||g!==x?{reset:{rects:!0}}:{}}}}function _ot(e){const{mediaIndex:t,theme:n,width:r}=e,o=r[t],i=o===void 0?r[r.length-1]:o;return typeof i=="number"?n.sanity.container[i]:void 0}function Sot(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-Qg*2)}var zG=Object.freeze,Eot=Object.defineProperty,X9=(e,t)=>zG(Eot(e,"raw",{value:zG(t||e.slice())})),VG,HG,UG;const kot=$.div(VG||(VG=X9([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),_c,_c,_c/2,_c/2,_c,_c,_c,_c),jot=$.path(HG||(HG=X9([`
  fill: var(--card-shadow-outline-color);
`]))),Tot=$.path(UG||(UG=X9([`
  fill: var(--card-bg-color);
`]))),Aot=h.forwardRef(function(t,n){return c.jsx(kot,{"data-ui":"Popover__arrow",...t,ref:n,children:c.jsxs("svg",{width:_c,height:xot,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx(jot,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),c.jsx(Tot,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),Dot=$(Q)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),LSe=h.memo(h.forwardRef(function(t,n){const{__unstable_margins:r,arrow:o,arrowRef:i,arrowX:s,arrowY:a,children:l,padding:u,placement:d,overflow:f,radius:p,scheme:m,shadow:v,strategy:g,style:y,tone:x,width:b,x:w,y:C,..._}=t,{zIndex:S}=Ea(),E=h.useMemo(()=>r||FSe,[r]),j=(w??0)+E[3],k=(C??0)+E[0],T=h.useMemo(()=>({position:g,top:k,left:j,width:b,zIndex:S,...y}),[g,y,b,j,k,S]),A=d&&dSe[d.split("-")[0]],D=h.useMemo(()=>{const P={left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return A&&(P[A]=0-_c),P},[s,a,A]);return c.jsxs(Dot,{"data-ui":"Popover",..._,"data-placement":d,radius:p,ref:n,scheme:m,shadow:v,sizing:"border",style:T,tone:x,children:[c.jsx(U,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:c.jsx(U,{direction:"column",flex:1,padding:u,children:l})}),o&&c.jsx(Aot,{ref:i,style:D})]})}));LSe.displayName="PopoverCard";const nn=h.memo(h.forwardRef(function(t,n){var r,o,i,s,a,l,u,d,f;const p=zs(),m=rg(),{__unstable_margins:v=FSe,arrow:g=!0,boundaryElement:y=m.element,children:x,constrainSize:b=!1,content:w,disabled:C,fallbackPlacements:_=(o=t.fallbackPlacements)!=null?o:wot[(r=t.placement)!=null?r:"bottom"],matchReferenceWidth:S,floatingBoundary:E=(i=t.boundaryElement)!=null?i:m.element,open:j,overflow:k="hidden",padding:T,placement:A="bottom",portal:D,preventOverflow:P=!0,radius:I=3,referenceBoundary:R=(s=t.boundaryElement)!=null?s:m.element,referenceElement:O,scheme:V,shadow:B=3,tone:H="inherit",width:W="auto",zOffset:z=(a=p.sanity.layer)==null?void 0:a.popover.zOffset,updateRef:G,...ee}=t,N=(l=lA(y))==null?void 0:l.border,Y=ye(T),q=ye(I),Z=ye(B),ie=ye(W),re=ye(z),K=mr(n),X=h.useRef(null),ce="viewport",me=ng(),ae=b||P?N==null?void 0:N.width:void 0,Ce=_ot({mediaIndex:me,theme:p,width:ie}),_e=h.useRef(Ce);h.useEffect(()=>{_e.current=Ce},[Ce]);const he=Sot({boundaryWidth:ae,currentWidth:Ce}),be=h.useRef(he);h.useEffect(()=>{be.current=he},[he]);const Le=h.useRef();h.useEffect(()=>{const Gt=K.current;if(!j||!Gt)return;const so=Le.current;S?so!==void 0&&(Gt.style.width="".concat(so,"px")):Ce!==void 0&&(Gt.style.width="".concat(Ce,"px")),typeof he=="number"&&(Gt.style.maxWidth="".concat(he,"px"))},[Ce,K,S,he,j]);const $e=h.useMemo(()=>{const Gt=[];return(b||P)&&Gt.push(kwe({boundary:E||void 0,fallbackPlacements:_,padding:Qg,rootBoundary:ce})),Gt.push(jwe({mainAxis:g?bot:0})),(b||S)&&Gt.push(Cot({apply(so){let{availableWidth:wl,availableHeight:Cl,elements:Hs,referenceWidth:zn}=so;Le.current=zn;const Hn=_e.current,Qr=be.current;S?Hs.floating.style.width="".concat(zn,"px"):Hn!==void 0&&(Hs.floating.style.width="".concat(Hn,"px")),b&&(Hs.floating.style.maxWidth="".concat(Math.min(wl,Qr??1/0),"px"),Hs.floating.style.maxHeight="".concat(Cl,"px"))},boundaryElement:E||void 0,constrainSize:b,margins:v,matchReferenceWidth:S,padding:Qg})),P&&Gt.push(Twe({boundary:E||void 0,rootBoundary:ce,padding:Qg})),g&&Gt.push(N_e({element:X,padding:Qg})),Gt.push(_qe({boundary:R||void 0,padding:Qg,strategy:"referenceHidden"})),Gt},[g,b,_,E,v,S,P,R]),{x:ct,y:ot,middlewareData:Nt,placement:Rt,refs:Ae,strategy:Ge,update:Ye}=V_e({middleware:$e,placement:A,whileElementsMounted:Mwe}),tt=(u=Nt.hide)==null?void 0:u.referenceHidden,wt=(d=Nt.arrow)==null?void 0:d.x,Ee=(f=Nt.arrow)==null?void 0:f.y,Be=h.useCallback(Gt=>{X.current=Gt},[]),ut=h.useCallback(Gt=>{K.current=Gt,Ae.setFloating(Gt)},[K,Ae]),bi=h.useCallback(Gt=>{Ae.setReference(Gt);const so=x==null?void 0:x.ref;typeof so=="function"?so(Gt):so&&(so.current=Gt)},[x,Ae]),sn=h.useMemo(()=>!x||O?null:h.cloneElement(x,{ref:bi}),[x,O,bi]);if(h.useEffect(()=>{G&&(typeof G=="function"?G(Ye):G&&(G.current=Ye))},[Ye,G]),h.useEffect(()=>{Ae.setReference(O||null)},[O,Ae]),C)return x||c.jsx(c.Fragment,{});const ei=c.jsx(cd,{zOffset:re,children:c.jsx(LSe,{...ee,__unstable_margins:v,arrow:g,arrowRef:Be,arrowX:wt,arrowY:Ee,hidden:tt,overflow:k,padding:Y,placement:Rt,radius:q,ref:ut,scheme:V,shadow:Z,strategy:Ge,tone:H,width:S?Le.current:Ce,x:ct,y:ot,children:w})});return c.jsxs(c.Fragment,{children:[j&&c.jsx(c.Fragment,{children:D?c.jsx(ig,{__unstable_name:typeof D=="string"?D:void 0,children:ei}):ei}),sn]})}));nn.displayName="Popover";var WG=Object.freeze,Pot=Object.defineProperty,BSe=(e,t)=>WG(Pot(e,"raw",{value:WG(t||e.slice())})),YG,qG;function Iot(){return de(YG||(YG=BSe([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function Oot(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input,i=(r.radio.size-r.radio.markSize)/2;return de(qG||(qG=BSe([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),ge(r.radio.size/2),ge(r.radio.size),ge(r.radio.size),ge(r.radio.size/2),o.default.enabled.bg,Oo({color:o.default.enabled.border,width:r.border.width}),ge(i),ge(i),ge(r.radio.markSize),ge(r.radio.markSize),ge(r.radio.markSize/2),o.default.enabled.fg,Kc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),Oo({color:o.default.enabled.border,width:r.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const $ot=$.div(Iot),Rot=$.input(Oot),Mot=h.forwardRef(function(t,n){const{className:r,disabled:o,style:i,customValidity:s,readOnly:a,...l}=t,u=mr(n);return DC(u,s),c.jsxs($ot,{className:r,"data-ui":"Radio",style:i,children:[c.jsx(Rot,{"data-read-only":!o&&a?"":void 0,...l,disabled:o||a,readOnly:a,ref:u,type:"radio"}),c.jsx("span",{})]})});var GG=Object.freeze,Fot=Object.defineProperty,dA=(e,t)=>GG(Fot(e,"raw",{value:GG(t||e.slice())})),KG,ZG,XG,QG;function Lot(){return de(KG||(KG=dA([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function Bot(e){const{theme:t}=e,n=t.sanity.fonts.text;return de(ZG||(ZG=dA([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function Not(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input;return de(XG||(XG=dA([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,Oo({color:o.default.enabled.border,width:r.border.width}),o.default.hovered.bg,o.default.hovered.fg,Oo({color:o.default.hovered.border,width:r.border.width}),Kc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),o.default.readOnly.bg,o.default.readOnly.fg,Oo({color:o.default.readOnly.border,width:r.border.width}),o.default.disabled.bg,o.default.disabled.fg,Oo({color:o.default.disabled.border,width:r.border.width}))}function zot(e){return{fontSize:ge(e.fontSize),lineHeight:ge(e.lineHeight)}}function Vot(e){const{theme:t,$fontSize:n}=e,{sizes:r}=t.sanity.fonts.text;return gt(t.sanity.media,n,o=>zot(r[o]||r[2]))}function Hot(){return[Ad,Bot,Not,Vot,fnt]}function Uot(e){const{theme:t}=e,n=t.sanity.color.input;return de(QG||(QG=dA([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const Q9={root:Lot,input:Hot,iconBox:Uot},Wot=$.div(Q9.root),Yot=$.select(Q9.input),qot=$(M)(Q9.iconBox),hh=h.forwardRef(function(t,n){const{children:r,customValidity:o,disabled:i,fontSize:s=2,padding:a=3,radius:l=1,readOnly:u,space:d=3,...f}=t,p=mr(n);return DC(p,o),c.jsxs(Wot,{"data-ui":"Select",children:[c.jsx(Yot,{"data-read-only":!i&&u?"":void 0,"data-ui":"Select",...f,$fontSize:ye(s),$padding:ye(a),$radius:ye(l),$space:ye(d),disabled:i||u,ref:p,children:r}),c.jsx(qot,{padding:a,children:c.jsx(L,{size:s,children:c.jsx(rc,{})})})]})}),Got={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function Kot(){return Got}function Zot(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$space,o=>({gridGap:ge(r[o])}))}const Xot=$(M)(Kot,Zot),te=h.forwardRef(function(t,n){const{as:r,space:o,...i}=t;return c.jsx(Xot,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...i,$space:ye(o),forwardedAs:r,ref:n})});var JG=Object.freeze,Qot=Object.defineProperty,sm=(e,t)=>JG(Qot(e,"raw",{value:JG(t||e.slice())})),eK,tK,nK,rK,oK,iK,sK;function Jot(){return de(eK||(eK=sm([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function eit(){return de(tK||(tK=sm([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function tit(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.button.default;return de(nK||(nK=sm([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure it’s not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,ge(r.switch.width),ge(r.switch.height),ge(r.switch.height/2),Kc({focusRing:n}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function nit(e){const{theme:t}=e,{input:n}=t.sanity;return de(rK||(rK=sm([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),ge(n.switch.width),ge(n.switch.height),ge(n.switch.height/2))}function rit(e){const{$indeterminate:t,theme:n}=e,{input:r}=n.sanity,o=r.switch.width,i=r.switch.height,s=r.switch.padding,a=i-r.switch.padding*2,l=o-s*2-a,u=o/2-a/2-s,d=t!==!0&&e.$checked===!0;return de(sK||(sK=sm([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),ge(s),ge(s),ge(a),ge(a),ge(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&de(oK||(oK=sm([`
      transform: translate3d(`,`px, 0, 0);
    `])),l),t&&de(iK||(iK=sm([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const oit=$.span(Jot),iit=$.input(eit),sit=$.span(tit),ait=$.span(nit),lit=$.span(rit),NSe=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,readOnly:a,style:l,...u}=t,d=mr(n);return h.useEffect(()=>{d.current&&(d.current.indeterminate=s||!1)},[s,d]),c.jsxs(oit,{className:o,"data-ui":"Switch",style:l,children:[c.jsx(iit,{"data-read-only":!i&&a?"":void 0,...u,checked:s!==!0&&r,disabled:i||a,type:"checkbox",ref:d}),c.jsxs(sit,{"aria-hidden":!0,"data-name":"representation",children:[c.jsx(ait,{}),c.jsx(lit,{$checked:r,$indeterminate:s})]})]})});var aK=Object.freeze,cit=Object.defineProperty,uit=(e,t)=>aK(cit(e,"raw",{value:aK(t||e.slice())})),lK;const dit=$.span(_Se),fit=$.span(lK||(lK=uit([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),hit=$.textarea(W9,SSe,ESe),pit=$.div(Ad,kSe),zSe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i=!1,fontSize:s=2,padding:a=3,radius:l=1,weight:u,...d}=t,f=mr(n),p=y1();return DC(f,o),c.jsx(dit,{"data-ui":"TextArea",children:c.jsxs(fit,{children:[c.jsx(hit,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:ye(s),$padding:ye(a),$scheme:p.scheme,$space:ye(0),$tone:p.tone,$weight:u,disabled:i,ref:f}),c.jsx(pit,{$radius:ye(l),$scheme:p.scheme,$tone:p.tone,"data-border":r?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});var cK=Object.freeze,mit=Object.defineProperty,x1=(e,t)=>cK(mit(e,"raw",{value:cK(t||e.slice())})),uK,dK,fK,hK,pK,mK;const git={zIndex:2},vit=$(Q).attrs({forwardedAs:"span"})(_Se),yit=$.span(uK||(uK=x1([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),bit=$(Q).attrs({forwardedAs:"span"})(dK||(dK=x1([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),xit=$(Q).attrs({forwardedAs:"span"})(fK||(fK=x1([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),wit=$.input(W9,SSe,ESe),Cit=$.span(Ad,kSe),_it=$(M)(hK||(hK=x1([`
  position: absolute;
  top: 0;
  left: 0;
`]))),Sit=$(M)(pK||(pK=x1([`
  position: absolute;
  top: 0;
  right: 0;
`]))),Eit=$(Q)(mK||(mK=x1([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),kit=$(oe)({"&:not([hidden])":{display:"block"}}),Nr=h.forwardRef(function(t,n){const{border:r=!0,clearButton:o,disabled:i=!1,fontSize:s=2,icon:a,iconRight:l,onClear:u,padding:d=3,prefix:f,radius:p=1,readOnly:m,space:v=3,suffix:g,customValidity:y,type:x="text",weight:b,...w}=t,C=mr(n),_=y1(),S=ye(s),E=ye(d),j=ye(p),k=ye(v),T=!!o,A=!!a,D=!!l,P=!!g,I=!!f;DC(C,y);const R=h.useCallback(N=>{N.preventDefault(),N.stopPropagation()},[]),O=h.useCallback(N=>{var Y;N.preventDefault(),N.stopPropagation(),u&&u(),(Y=C.current)==null||Y.focus()},[u,C]),V=h.useMemo(()=>f&&c.jsx(bit,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:c.jsx("span",{children:f})}),[f,j]),B=h.useMemo(()=>c.jsxs(Cit,{$hasPrefix:I,$hasSuffix:P,$radius:j,$scheme:_.scheme,$tone:_.tone,"data-border":r?"":void 0,"data-scheme":_.scheme,"data-tone":_.tone,children:[a&&c.jsx(_it,{padding:E,children:c.jsxs(L,{size:S,children:[h.isValidElement(a)&&a,da.isValidElementType(a)&&h.createElement(a)]})}),!T&&l&&c.jsx(Sit,{padding:E,children:c.jsxs(L,{size:S,children:[h.isValidElement(l)&&l,da.isValidElementType(l)&&h.createElement(l)]})})]}),[r,S,a,l,E,j,_,T,I,P]),H=h.useMemo(()=>E.map(N=>N===0?0:N===1||N===2?1:N-2),[E]),W=h.useMemo(()=>E.map(N=>N===0||N===1?0:N===2?1:N-1),[E]),z=h.useMemo(()=>typeof o=="object"?o:Wf,[o]),G=h.useMemo(()=>!i&&!m&&o&&c.jsx(Eit,{forwardedAs:"span",padding:H,style:git,tone:y?"critical":"inherit",children:c.jsx(kit,{"aria-label":"Clear","data-qa":"clear-button",fontSize:S,icon:Bi,mode:"bleed",padding:W,radius:j,...z,onClick:O,onMouseDown:R})}),[o,H,W,z,y,i,S,O,R,j,m]),ee=h.useMemo(()=>g&&c.jsx(xit,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:c.jsx("span",{children:g})}),[j,g]);return c.jsxs(vit,{"data-ui":"TextInput",tone:_.tone,children:[V,c.jsxs(yit,{children:[c.jsx(wit,{"data-as":"input","data-scheme":_.scheme,"data-tone":_.tone,...w,$fontSize:S,$iconLeft:A,$iconRight:D||T,$padding:E,$scheme:_.scheme,$space:k,$tone:_.tone,$weight:b,disabled:i,readOnly:m,ref:C,type:x}),B,G]}),ee]})});function cF(e){const[t,n]=h.useState(e),r=h.useRef(),o=h.useCallback((i,s)=>{const a=()=>{n(i)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!s)return a();r.current=setTimeout(a,s)},[]);return[t,o]}const vO=4,jit={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var gK=Object.freeze,Tit=Object.defineProperty,J9=(e,t)=>gK(Tit(e,"raw",{value:gK(t||e.slice())})),vK,yK,bK;const Ait=$.div(vK||(vK=J9([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),Dit=$.path(yK||(yK=J9([`
  fill: var(--card-shadow-outline-color);
`]))),Pit=$.path(bK||(bK=J9([`
  fill: var(--card-bg-color);
`]))),Iit=h.forwardRef(function(t,n){const{...r}=t;return c.jsx(Ait,{"data-ui":"Tooltip__arrow",...r,ref:n,children:c.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[c.jsx(Dit,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),c.jsx(Pit,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),uF=Symbol.for("@sanity/ui/context/tooltipDelayGroup");en[uF]=en[uF]||h.createContext(null);const VSe=en[uF];function HSe(){return h.useContext(VSe)}function USe(e){const{children:t,delay:n}=e,[r,o]=cF(!1),[i,s]=cF(null);if(HSe())throw new Error("TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider");const l=typeof n=="number"?n:(n==null?void 0:n.open)||0,u=typeof n=="number"?n:(n==null?void 0:n.close)||0,d=h.useMemo(()=>({isGroupActive:r,setIsGroupActive:o,openTooltipId:i,setOpenTooltipId:s,openDelay:r?1:l,closeDelay:u}),[u,r,l,i,o,s]);return c.jsx(VSe.Provider,{value:d,children:t})}var xK=Object.freeze,Oit=Object.defineProperty,$it=(e,t)=>xK(Oit(e,"raw",{value:xK(t||e.slice())})),wK;const Rit=$(hs)(wK||(wK=$it([`
  pointer-events: none;
  max-width: `,`px;
`])),e=>{let{$maxWidth:t}=e;return t}),it=h.forwardRef(function(t,n){var r,o,i,s,a,l;const u=rg(),d=zs(),{boundaryElement:f=u==null?void 0:u.element,children:p,content:m,disabled:v,fallbackPlacements:g=(o=t.fallbackPlacements)!=null?o:jit[(r=t.placement)!=null?r:"bottom"],padding:y,placement:x="bottom",portal:b,scheme:w,shadow:C=2,zOffset:_=(i=d.sanity.layer)==null?void 0:i.tooltip.zOffset,delay:S,...E}=t,j=ye(g),k=mr(n),[T,A]=h.useState(null),D=h.useRef(null),P="viewport",I=og(),R=typeof b=="string"?((s=I.elements)==null?void 0:s[b])||null:I.element,O=h.useMemo(()=>{const Ee=[...f?[f.offsetWidth]:[],(R==null?void 0:R.offsetWidth)||document.body.offsetWidth];return Math.min(...Ee)-vO*2},[f,R==null?void 0:R.offsetWidth]),V=h.useMemo(()=>{const Ee=[];return Ee.push(kwe({boundary:f||void 0,fallbackPlacements:j,padding:vO,rootBoundary:P})),Ee.push(jwe({mainAxis:3})),Ee.push(Twe({boundary:f||void 0,rootBoundary:P,padding:vO})),Ee.push(N_e({element:D,padding:2})),Ee},[f,j]),{floatingStyles:B,placement:H,middlewareData:W,refs:z,update:G}=V_e({middleware:V,placement:x,whileElementsMounted:Mwe}),ee=H&&dSe[H.split("-")[0]],N=(a=W.arrow)==null?void 0:a.x,Y=(l=W.arrow)==null?void 0:l.y,q=h.useMemo(()=>{const Ee={left:N!==null?N:void 0,top:Y!==null?Y:void 0,right:void 0,bottom:void 0};return ee&&(Ee[ee]=-15),Ee},[N,Y,ee]),Z=h.useId(),[ie,re]=cF(!1),K=HSe(),X=ie||(K==null?void 0:K.openTooltipId)===Z,ce=K!==null,me=typeof S=="number"?S:(S==null?void 0:S.open)||0,ae=typeof S=="number"?S:(S==null?void 0:S.close)||0,Ce=ce?K.openDelay:me,_e=ce?K.closeDelay:ae,he=h.useCallback((Ee,Be)=>{if(ce)if(Ee){const ut=Be?0:Ce;K.setIsGroupActive(Ee,ut),K.setOpenTooltipId(Z,ut)}else{const bi=_e>200?_e:200;K.setIsGroupActive(Ee,bi),K.setOpenTooltipId(null,Be?0:_e)}else re(Ee,Be?0:Ee?Ce:_e)},[ce,K,Ce,Z,_e,re]),be=h.useCallback(Ee=>{var Be,ut;he(!1),(ut=(Be=p==null?void 0:p.props)==null?void 0:Be.onBlur)==null||ut.call(Be,Ee)},[p==null?void 0:p.props,he]),Le=h.useCallback(Ee=>{var Be,ut;he(!1,!0),(ut=p==null?void 0:(Be=p.props).onClick)==null||ut.call(Be,Ee)},[p==null?void 0:p.props,he]),$e=h.useCallback(Ee=>{var Be,ut;he(!1,!0),(ut=p==null?void 0:(Be=p.props).onContextMenu)==null||ut.call(Be,Ee)},[p==null?void 0:p.props,he]),ct=h.useCallback(Ee=>{var Be,ut;he(!0),(ut=(Be=p==null?void 0:p.props)==null?void 0:Be.onFocus)==null||ut.call(Be,Ee)},[p==null?void 0:p.props,he]),ot=h.useCallback(Ee=>{var Be,ut;he(!0),(ut=(Be=p==null?void 0:p.props)==null?void 0:Be.onMouseEnter)==null||ut.call(Be,Ee)},[p==null?void 0:p.props,he]),Nt=h.useCallback(Ee=>{var Be,ut;he(!1),(ut=(Be=p==null?void 0:p.props)==null?void 0:Be.onMouseLeave)==null||ut.call(Be,Ee)},[p==null?void 0:p.props,he]);h.useEffect(()=>{if(!ie)return;function Ee(Be){if(!T)return;T===Be.target||Be.target instanceof Node&&T.contains(Be.target)||(he(!1),window.removeEventListener("mousemove",Ee))}return window.addEventListener("mousemove",Ee),()=>{window.removeEventListener("mousemove",Ee)}},[ie,T,he]),h.useEffect(()=>{v&&he(!1)},[v,he]),h.useEffect(()=>{m||he(!1)},[m,he]),h.useEffect(()=>z.setReference(T),[T,z]),h.useEffect(()=>{if(!X)return;function Ee(Be){Be.key==="Escape"&&he(!1,!0)}return window.addEventListener("keydown",Ee),()=>{window.removeEventListener("keydown",Ee)}},[he,X]);const Rt=h.useCallback(Ee=>{D.current=Ee,G()},[G]),Ae=h.useCallback(Ee=>{k.current=Ee,z.setFloating(Ee)},[k,z]),Ge=p==null?void 0:p.ref,Ye=h.useCallback(Ee=>{typeof Ge=="function"?Ge(Ee):Ge&&(Ge.current=Ee),A(Ee)},[Ge]),tt=h.useMemo(()=>p?h.cloneElement(p,{onBlur:be,onFocus:ct,onMouseEnter:ot,onMouseLeave:Nt,onClick:Le,onContextMenu:$e,ref:Ye}):null,[p,be,Le,$e,ct,ot,Nt,Ye]);if(!tt)return c.jsx(c.Fragment,{});if(v)return tt;const wt=c.jsx(Rit,{"data-ui":"Tooltip",...E,ref:Ae,style:B,zOffset:_,$maxWidth:O,children:c.jsxs(Q,{"data-ui":"Tooltip__card","data-placement":H,padding:y,radius:2,scheme:w,shadow:C,children:[m,c.jsx(Iit,{ref:Rt,style:q})]})});return c.jsxs(c.Fragment,{children:[tt,X&&c.jsx(c.Fragment,{children:b?c.jsx(ig,{__unstable_name:typeof b=="string"?b:void 0,children:wt}):wt})]})});var CK=Object.freeze,Mit=Object.defineProperty,fA=(e,t)=>CK(Mit(e,"raw",{value:CK(t||e.slice())})),_K,SK,EK,kK;const Fit=$.div(_K||(_K=fA([`
  line-height: 0;
`]))),Lit=$(M)(SK||(SK=fA([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),Bit=Km(EK||(EK=fA([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),Nit=$(hC)(kK||(kK=fA([`
  animation: `,` 500ms linear infinite;
`])),Bit);function zit(e){const{children:t,id:n,onSelect:r,selected:o,value:i}=e,s=h.useCallback(()=>{setTimeout(()=>{r(i)},0)},[r,i]),a=h.useCallback(l=>{l.key==="Enter"&&!tot(l.currentTarget)&&s()},[s]);return c.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:s,onKeyDown:a,children:t})}function Vit(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const Hit=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],Uit="bottom-start",Wit=["bottom-start","top-start"],Yit=(e,t)=>t?t.value:e,qit=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,Git=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i,filterOption:s,fontSize:a=2,icon:l,id:u,listBox:d=Wf,loading:f,onBlur:p,onChange:m,onFocus:v,onQueryChange:g,onSelect:y,openButton:x,options:b,padding:w=3,popover:C=Wf,prefix:_,radius:S=3,readOnly:E,relatedElements:j,renderOption:k,renderPopover:T,renderValue:A=Yit,suffix:D,value:P,...I}=t,[R,O]=h.useReducer(Vit,{activeValue:P||null,focused:!1,listFocused:!1,query:null,value:P||null}),{activeValue:V,focused:B,listFocused:H,query:W,value:z}=R,G=h.useCallback(We=>{let{value:Ct}=We;return c.jsx(Q,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:c.jsx(L,{size:a,textOverflow:"ellipsis",children:Ct})})},[a,w]),ee=typeof k=="function"?k:G,N=typeof s=="function"?s:qit,Y=h.useRef(null),q=h.useRef(null),Z=h.useRef(null),ie=h.useRef(null),re=h.useRef(!1),K=h.useRef(z),X=h.useRef(P),ce=h.useRef(!1),me=mr(n),ae="".concat(u,"-listbox"),Ce=Array.isArray(b)?b:AC,_e=ye(w),he=h.useMemo(()=>z!==null?Ce.find(We=>We.value===z):void 0,[Ce,z]),be=h.useMemo(()=>Ce.filter(We=>W?N(W,We):!0),[N,Ce,W]),Le=be.length,$e=V?"".concat(u,"-option-").concat(V):void 0,ct=W!==null&&f||B&&W!==null,ot=h.useCallback(We=>{setTimeout(()=>{if(ce.current)return;const Ct=(j||[]).concat(Y.current?[Y.current]:[],q.current?[q.current]:[]);let rr=!1;if(document.activeElement){for(const Vn of Ct)if(Vn===document.activeElement||Vn.contains(document.activeElement)){rr=!0;break}}rr===!1&&(O({type:"root/blur"}),ce.current=!1,g&&g(null),p&&p(We))},0)},[p,g,j]),Nt=h.useCallback(We=>{const Ct=ie.current,rr=We.target instanceof HTMLElement?We.target:null,Vn=(Ct==null?void 0:Ct.contains(rr))||!1;Vn!==re.current&&(re.current=Vn,O({type:"root/setListFocused",listFocused:Vn}))},[]),Rt=h.useCallback(We=>{var Ct;O({type:"value/change",value:We}),ce.current=!1,y&&y(We),K.current=We,m&&m(We),g&&g(null),(Ct=Z.current)==null||Ct.focus()},[m,y,g]),Ae=h.useCallback(We=>{var Ct,rr;if(We.key==="ArrowDown"){if(We.preventDefault(),!Le)return;const Ar=be.find(Ta=>Ta.value===V),Lo=Ar?be.indexOf(Ar):-1,Us=be[(Lo+1)%Le];Us&&O({type:"root/setActiveValue",value:Us.value,listFocused:!0});return}if(We.key==="ArrowUp"){if(We.preventDefault(),!Le)return;const Ar=be.find(Ta=>Ta.value===V),Lo=Ar?be.indexOf(Ar):-1,Us=be[Lo===-1?Le-1:(Le+Lo-1)%Le];Us&&O({type:"root/setActiveValue",value:Us.value,listFocused:!0});return}if(We.key==="Escape"){O({type:"root/escape"}),ce.current=!1,g&&g(null),(Ct=Z.current)==null||Ct.focus();return}const Vn=We.target,ja=ie.current;if((ja===Vn||ja!=null&&ja.contains(Vn))&&!Hit.includes(We.key)){(rr=Z.current)==null||rr.focus();return}},[V,be,Le,g]),Ge=h.useCallback(We=>{const Ct=We.currentTarget.value;O({type:"input/change",query:Ct}),g&&g(Ct)},[g]),Ye=h.useCallback(We=>{B||(O({type:"input/focus"}),v&&v(We))},[B,v]),tt=h.useCallback(()=>{ce.current=!0},[]),wt=h.useCallback(()=>{ce.current=!1},[]),Ee=h.useCallback(()=>{var We;O({type:"root/clear"}),K.current="",m&&m(""),g&&g(null),(We=Z.current)==null||We.focus()},[m,g]),Be=h.useCallback(()=>{O({type:"input/focus"})},[]);h.useEffect(()=>{if(P!==X.current){X.current=P,P!==void 0&&(O({type:"value/change",value:P}),K.current=P);return}P!==K.current&&(K.current=P||null,O({type:"value/change",value:P||null}))},[P]),h.useEffect(()=>{!B&&K.current&&O({type:"root/setActiveValue",value:K.current})},[B]),h.useEffect(()=>{const We=ie.current;if(!We)return;const Ct=be.find(rr=>rr.value===V);if(Ct){const rr=be.indexOf(Ct),Vn=We.childNodes[rr];if(Vn){if(iot(Vn))return;jm(Vn)}}},[V,be]);const ut=h.useCallback(We=>{Z.current=We,me.current=We},[me]),bi=h.useMemo(()=>{if(!f&&!i&&z)return{"aria-label":"Clear",onFocus:Be}},[i,Be,f,z]),sn=h.useMemo(()=>_e.map(We=>We===0?0:We===1||We===2?1:We-2),[_e]),ei=h.useMemo(()=>_e.map(We=>Math.max(We-1,0)),[_e]),Gt=h.useMemo(()=>typeof x=="object"?x:Wf,[x]),so=h.useCallback(We=>{O({type:"root/open",query:z?A(z,he):""}),Gt.onClick&&Gt.onClick(We),sF(()=>{var Ct;return(Ct=Z.current)==null?void 0:Ct.focus()})},[he,Gt,A,z]),wl=h.useMemo(()=>!i&&!E&&x?c.jsx(M,{"aria-hidden":ct,padding:sn,children:c.jsx(oe,{"aria-label":"Open",disabled:ct,fontSize:a,icon:hl,mode:"bleed",padding:ei,...Gt,onClick:so})}):void 0,[i,ct,a,so,x,sn,ei,Gt,E]),Cl=h.useMemo(()=>W===null?z!==null?A(z,he):"":W,[he,W,A,z]),Hs=c.jsx(Nr,{...I,"aria-activedescendant":$e,"aria-autocomplete":"list","aria-expanded":ct,"aria-owns":ae,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:bi,customValidity:o,disabled:i,fontSize:a,icon:l,iconRight:f&&Nit,id:u,inputMode:"search",onChange:Ge,onClear:Ee,onFocus:Ye,padding:_e,prefix:_,radius:S,readOnly:E,ref:ut,role:"combobox",spellCheck:!1,suffix:D||wl,value:Cl}),zn=h.useCallback(We=>{var Ct;We.key==="Tab"&&H&&((Ct=Z.current)==null||Ct.focus())},[H]),Hn=h.useMemo(()=>be.length===0?null:c.jsx(Lit,{"data-ui":"AutoComplete__results",onKeyDown:zn,padding:1,...d,tabIndex:-1,children:c.jsx(te,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:ae,ref:ie,role:"listbox",space:1,children:be.map(We=>{const Ct=V!==null?We.value===V:he===We;return c.jsx(zit,{id:"".concat(u,"-option-").concat(We.value),onSelect:Rt,selected:Ct,value:We.value,children:h.cloneElement(ee(We),{disabled:f,selected:Ct,tabIndex:H&&Ct?0:-1})},We.value)})})}),[V,he,be,Rt,zn,u,d,ae,H,f,ee]),Qr=h.useMemo(()=>T?T({content:Hn,hidden:!ct,inputElement:Z.current,onMouseEnter:tt,onMouseLeave:wt},q):Le===0?null:c.jsx(nn,{arrow:!1,constrainSize:!0,content:Hn,fallbackPlacements:Wit,matchReferenceWidth:!0,onMouseEnter:tt,onMouseLeave:wt,open:ct,overflow:"auto",placement:Uit,portal:!0,radius:S,ref:q,referenceElement:Z.current,...C}),[Hn,ct,Le,tt,wt,C,S,T]);return c.jsxs(Fit,{"data-ui":"Autocomplete",onBlur:ot,onFocus:Nt,onKeyDown:Ae,ref:Y,children:[Hs,Qr]})}),e7=Git;var jK=Object.freeze,Kit=Object.defineProperty,WSe=(e,t)=>jK(Kit(e,"raw",{value:jK(t||e.slice())})),TK,AK;const Zit=$.ol(TK||(TK=WSe([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),Xit=$(oe)(AK||(AK=WSe([`
  appearance: none;
  margin: -4px;
`]))),t7=h.forwardRef(function(t,n){const{children:r,maxLength:o,separator:i,space:s=2,...a}=t,l=ye(s),[u,d]=h.useState(!1),[f,p]=h.useState(null),[m,v]=h.useState(null),g=h.useCallback(()=>d(!1),[]),y=h.useCallback(()=>d(!0),[]);pr(g,[f,m]);const x=h.useMemo(()=>h.Children.toArray(r).filter(w=>h.isValidElement(w)),[r]),b=h.useMemo(()=>{const w=x.length;if(o&&w>o){const C=Math.ceil(o/2),_=Math.floor(o/2);return[...x.slice(0,C-1),c.jsx(nn,{constrainSize:!0,content:c.jsx(te,{as:"ol",overflow:"auto",padding:l,space:l,children:x.slice(C-1,w-_)}),open:u,placement:"top",portal:!0,ref:v,children:c.jsx(Xit,{fontSize:1,mode:"bleed",onClick:u?g:y,padding:1,ref:p,selected:u,text:"…"})},"button"),...x.slice(w-_)]}return x},[g,y,o,u,x,l]);return c.jsx(Zit,{"data-ui":"Breadcrumbs",...a,ref:n,children:b.map((w,C)=>c.jsxs(h.Fragment,{children:[C>0&&c.jsx(M,{"aria-hidden":!0,as:"li",paddingX:l,children:i||c.jsx(L,{muted:!0,children:"/"})}),c.jsx(M,{as:"li",children:w})]},C))})});function Qit(e){let{theme:t}=e;const n=t.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function Jit(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$position,r=>({"&&":{position:r}}))}const dF=Symbol.for("@sanity/ui/context/dialog");en[dF]=en[dF]||h.createContext({version:0});const YSe=en[dF];function est(){return h.useContext(YSe)}var DK=Object.freeze,tst=Object.defineProperty,w1=(e,t)=>DK(tst(e,"raw",{value:DK(t||e.slice())})),PK,IK,OK,$K,RK,MK;function fF(e,t,n){return!e||!t?!0:aF(e,n)||aF(t,n)}const nst=$(hs)(jSe,Qit,Jit),rst=$(oo)(PK||(PK=w1([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),ost=$(Q)(IK||(IK=w1([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),ist=$(U)(OK||(OK=w1([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),sst=$(Q)($K||($K=w1([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),ast=$(M)(RK||(RK=w1([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),lst=$(M)(MK||(MK=w1([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),cst=h.forwardRef(function(t,n){var r;const{__unstable_autoFocus:o,__unstable_hideCloseButton:i,children:s,contentRef:a,footer:l,header:u,id:d,onClickOutside:f,onClose:p,portal:m,radius:v,scheme:g,shadow:y,width:x}=t,b=og(),w=m?((r=b.elements)==null?void 0:r[m])||null:b.element,C=rg().element,_=ye(v),S=ye(y),E=ye(x),j=mr(n),[k,T]=h.useState(null),A=h.useRef(null),D=Ea(),{isTopLayer:P}=D,I="".concat(d,"_label"),R=!!p&&i===!1,O=!!u||R;h.useEffect(()=>{o&&j.current&&jm(j.current)},[o,j]),Ns(h.useCallback(H=>{if(!P||!p)return;const W=document.activeElement;W&&!fF(C,w,W)||H.key==="Escape"&&(H.preventDefault(),H.stopPropagation(),p())},[C,P,p,w])),pr(h.useCallback(H=>{if(!P||!f)return;const W=H.target;W&&!fF(C,w,W)||f()},[C,P,f,w]),[k]);const V=h.useCallback(H=>{T(H),j.current=H},[j]),B=h.useCallback(H=>{A.current=H,typeof a=="function"?a(H):a&&(a.current=H)},[a]);return c.jsx(rst,{"data-ui":"DialogCard",width:E,children:c.jsx(ost,{radius:_,ref:V,scheme:g,shadow:S,children:c.jsxs(ist,{direction:"column",children:[O&&c.jsx(sst,{children:c.jsxs(U,{children:[c.jsx(M,{flex:1,padding:4,children:u&&c.jsx(L,{id:I,weight:"semibold",children:u})}),R&&c.jsx(M,{padding:2,children:c.jsx(oe,{"aria-label":"Close dialog",disabled:!p,icon:Bi,mode:"bleed",onClick:p,padding:3})})]})}),c.jsx(ast,{flex:1,ref:B,tabIndex:-1,children:s}),l&&c.jsx(lst,{children:l})]})})})}),Wi=h.forwardRef(function(t,n){var r,o;const i=est(),s=zs(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:l=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:p,footer:m,header:v,id:g,onActivate:y,onClickOutside:x,onClose:b,onFocus:w,padding:C=4,portal:_,position:S=i.position||"fixed",scheme:E,width:j=0,zOffset:k=i.zOffset||((r=s.sanity.layer)==null?void 0:r.dialog.zOffset),...T}=t,A=og(),D=_?((o=A.elements)==null?void 0:o[_])||null:A.element,P=rg().element,I=ye(u),R=ye(C),O=ye(S),V=ye(j),B=ye(k),H=h.useRef(null),W=h.useRef(null),z=h.useRef(null),G=h.useRef(null),ee=h.useCallback(Z=>{w==null||w(Z);const ie=Z.target,re=z.current;if(re&&ie===H.current){Z9(re);return}if(re&&ie===W.current){jm(re);return}tu(Z.target)&&(G.current=Z.target)},[w]),N="".concat(g,"_label"),Y=h.useRef(),q=h.useCallback(()=>{Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{const Z=document.activeElement;if(Z&&!fF(P,D,Z)){const ie=G.current;if(!ie||!document.body.contains(ie)){const re=z.current;re&&jm(re);return}ie.focus()}},0)},[P,D]);return c.jsx(ig,{__unstable_name:_,children:c.jsxs(nst,{...T,$padding:R,$position:O,"aria-labelledby":N,"aria-modal":!0,"data-ui":"Dialog",id:g,onActivate:y,onClick:q,onFocus:ee,ref:n,role:"dialog",zOffset:B,children:[c.jsx("div",{ref:H,tabIndex:0}),c.jsx(cst,{__unstable_autoFocus:a,__unstable_hideCloseButton:l,contentRef:p,footer:m,header:v,id:g,onClickOutside:x,onClose:b,portal:_,radius:I,ref:z,scheme:E,shadow:d,width:V,children:f}),c.jsx("div",{ref:W,tabIndex:0})]})})});function hF(e){const{children:t,position:n,zOffset:r}=e,o=h.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return c.jsx(YSe.Provider,{value:o,children:t})}var FK=Object.freeze,ust=Object.defineProperty,qSe=(e,t)=>FK(ust(e,"raw",{value:FK(t||e.slice())})),LK,BK;const dst=$.kbd(LK||(LK=qSe([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),fst=$(nF)(BK||(BK=qSe([`
  &:not([hidden]) {
    display: block;
  }
`]))),n7=h.forwardRef(function(t,n){const{fontSize:r,keys:o,padding:i,radius:s,space:a=1,...l}=t,u=ye(a);return!o||o.length===0?c.jsx(c.Fragment,{}):c.jsx(dst,{"data-ui":"Hotkeys",...l,ref:n,children:c.jsx(Zt,{as:"span",space:u,children:o.map((d,f)=>c.jsx(fst,{fontSize:r,padding:i,radius:s,children:d},f))})})}),pF=Symbol.for("@sanity/ui/context/menu");en[pF]=en[pF]||h.createContext(null);const GSe=en[pF];function hst(e){return G9(e)&&e.getAttribute("data-disabled")!=="true"||K9(e)&&!e.disabled}function Mg(e){return e.filter(hst)}function pst(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const NK=[];function mst(e,t){if(!e)return;const n=new WeakMap;for(const o of t)n.set(o,pst(e,o));const r=(o,i)=>{const s=n.get(o)||NK,a=n.get(i)||NK,l=Math.max(s.length,a.length);for(let u=0;u<l;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function gst(e){const{onKeyDown:t,originElement:n,shouldFocus:r}=e,o=h.useRef([]),[i,s]=h.useState(null),[a,l]=h.useState(-1),u=h.useRef(a),d=o.current[a]||null,f=!!i,p=h.useCallback(x=>{l(x),u.current=x},[]),m=h.useCallback((x,b)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),mst(i,o.current)),b){const w=o.current.indexOf(x);p(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[i,p]),v=h.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const w=Mg(o.current)[0];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const b=Mg(o.current),w=b[b.length-1];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const b=Mg(o.current),w=b.length;if(w===0)return;const C=o.current[u.current];let _=b.indexOf(C);_=(_-1+w)%w;const S=b[_],E=o.current.indexOf(S);p(E);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const b=Mg(o.current),w=b.length;if(w===0)return;const C=o.current[u.current];let _=b.indexOf(C);_=(_+1)%w;const S=b[_],E=o.current.indexOf(S);p(E);return}t&&t(x)},[t,n,p]),g=h.useCallback(x=>{const b=x.currentTarget,w=o.current.indexOf(b);p(w)},[p]),y=h.useCallback(()=>{p(-2),i==null||i.focus()},[p,i]);return h.useEffect(()=>{if(!f)return;const x=window.requestAnimationFrame(()=>{const b=u.current;if(b===-1){if(r==="first"){const _=Mg(o.current)[0];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}if(r==="last"){const C=Mg(o.current),_=C[C.length-1];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}return}const w=o.current[b]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[a,f,p,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:g,handleItemMouseLeave:y,handleKeyDown:v,mount:m,rootElement:i,setRootElement:s}}var zK=Object.freeze,vst=Object.defineProperty,yst=(e,t)=>zK(vst(e,"raw",{value:zK(t||e.slice())})),VK;const bst=$(M)(VK||(VK=yst([`
  outline: none;
  overflow: auto;
`]))),zt=h.forwardRef(function(t,n){const{children:r,focusFirst:o,focusLast:i,onClickOutside:s,onEscape:a,onItemClick:l,onItemSelect:u,onKeyDown:d,originElement:f,padding:p=1,registerElement:m,shouldFocus:v=t.focusFirst&&"first"||t.focusLast&&"last"||null,space:g=1,...y}=t,x=mr(n),{isTopLayer:b}=Ea(),{activeElement:w,activeIndex:C,handleItemMouseEnter:_,handleItemMouseLeave:S,handleKeyDown:E,mount:j,rootElement:k,setRootElement:T}=gst({onKeyDown:d,originElement:f,shouldFocus:v}),A=h.useCallback(P=>{T(P),x.current=P},[x,T]);h.useEffect(()=>{u&&u(C)},[C,u]),pr(h.useCallback(P=>b&&s&&s(P),[b,s]),[k]),Ns(h.useCallback(P=>{b&&P.key==="Escape"&&(P.stopPropagation(),a&&a())},[b,a])),h.useEffect(()=>{if(!(!k||!m))return m(k)},[m,k]);const D=h.useMemo(()=>({version:0,activeElement:w,activeIndex:C,mount:j,onClickOutside:s,onEscape:a,onItemClick:l,onItemMouseEnter:_,onItemMouseLeave:S,registerElement:m,onMouseEnter:_,onMouseLeave:S}),[w,C,j,_,S,s,a,l,m]);return c.jsx(GSe.Provider,{value:D,children:c.jsx(bst,{"data-ui":"Menu",...y,onKeyDown:E,padding:p,ref:A,role:"menu",tabIndex:-1,children:c.jsx(te,{space:g,children:r})})})}),rn=h.forwardRef(function(t,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:o,button:i,id:s,menu:a,onClose:l,onOpen:u,placement:d,popoverScheme:f,portal:p=!0,popover:m,popoverRadius:v,preventOverflow:g}=t,[y,x]=h.useState(!1),[b,w]=h.useState(null),[C,_]=h.useState(null),[S,E]=h.useState([]),j=h.useRef(y);h.useEffect(()=>{u&&y&&!j.current&&u()},[u,y]),h.useEffect(()=>{l&&!y&&j.current&&l()},[l,y]),h.useEffect(()=>{j.current=y},[y]);const k=h.useCallback(()=>{x(z=>!z),w(null)},[]),T=h.useCallback(z=>{if(z.key==="ArrowDown"||z.key==="Enter"||z.key===" "){z.preventDefault(),x(!0),w("first");return}if(z.key==="ArrowUp"){z.preventDefault(),x(!0),w("last");return}},[]),A=h.useCallback(z=>{const G=z.target;if(G instanceof Node&&!(C&&(G===C||C.contains(G)))){for(const ee of S)if(G===ee||ee.contains(G))return;x(!1)}},[C,S]),D=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),P=h.useCallback(z=>{const G=z.relatedTarget;if(G instanceof Node){for(const ee of S)if(ee===G||ee.contains(G))return;x(!1)}},[S]),I=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),R=h.useCallback(z=>(E(G=>G.concat([z])),()=>{E(G=>G.filter(ee=>ee!==z))}),[]),O=h.useMemo(()=>({"aria-labelledby":s,onBlurCapture:P,onClickOutside:A,onEscape:D,onItemClick:I,originElement:C,registerElement:R,shouldFocus:b}),[C,A,D,I,s,P,R,b]),V=da.isElement(a)?h.cloneElement(a,O):null,B=h.useCallback(z=>{typeof n=="function"?n(z):n&&(n.current=z),_(z)},[n]),H=h.useMemo(()=>da.isElement(i)?h.cloneElement(i,{"data-ui":"MenuButton",id:s,onClick:k,onKeyDown:T,"aria-haspopup":!0,"aria-expanded":y,ref:B,selected:y}):null,[i,k,T,s,y,B]),W=h.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:d,portal:p,preventOverflow:g,radius:v,scheme:f,...m||{}}),[o,d,v,f,p,g,m]);return c.jsx(nn,{"data-ui":"MenuButton__popover",...W,content:V,open:y,children:H||c.jsx(c.Fragment,{})})});var HK=Object.freeze,xst=Object.defineProperty,wst=(e,t)=>HK(xst(e,"raw",{value:HK(t||e.slice())})),UK;const Mr=$.hr(UK||(UK=wst([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var WK=Object.freeze,Cst=Object.defineProperty,KSe=(e,t)=>WK(Cst(e,"raw",{value:WK(t||e.slice())})),YK,qK;function _st(){return de(YK||(YK=KSe([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function Sst(e){var t,n;const{$tone:r,theme:o}=e,{base:i,muted:s,selectable:a}=o.sanity.color,l=a?a[r]||a.default:s[r]||s.default;return de(qK||(qK=KSe([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),Ht(i,l.enabled),Ht(i,l.disabled),Ht(i,l.pressed),Ht(i,l.selected),Ht(i,l.hovered),Ht(i,l.pressed),Ht(i,l.disabled),Ht(i,l.pressed),Ht(i,l.selected),Ht(i,l.hovered),Ht(i,l.pressed),(n=(t=o.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const ZSe=$(M)(Ad,_st,Sst);function XSe(){const e=h.useContext(GSe);if(!e)throw new Error("useMenu(): missing context value");if(!v1(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function r7(e){const{as:t="button",children:n,fontSize:r,icon:o,onClick:i,padding:s=3,popover:a,radius:l=2,space:u=3,text:d,tone:f="default",...p}=e,m=XSe(),{activeElement:v,mount:g,onClickOutside:y,onEscape:x,onItemClick:b,onItemMouseEnter:w=m.onMouseEnter,registerElement:C}=m,[_,S]=h.useState(null),[E,j]=h.useState(!1),k=h.useRef(null),T=!!v&&v===_,[A,D]=h.useState(!1),P=h.useCallback(W=>{D(!1),w(W),j(!0)},[w]),I=h.useCallback(W=>{W.key==="ArrowLeft"&&(W.stopPropagation(),j(!1),requestAnimationFrame(()=>{_==null||_.focus()}))},[_]),R=h.useCallback(W=>{i&&i(W),k.current="first",j(!0),requestAnimationFrame(()=>{k.current=null})},[i]),O=h.useCallback(()=>{j(!1),b&&b()},[b]),V=h.useCallback(()=>D(!0),[]);h.useEffect(()=>g(_),[g,_]),h.useEffect(()=>{T||j(!1)},[T]),h.useEffect(()=>{E||D(!1)},[E]);const B=c.jsx(zt,{onClickOutside:y,onEscape:x,onItemClick:O,onKeyDown:I,onMouseEnter:V,registerElement:C,shouldFocus:k.current,children:n}),H=h.useCallback(W=>{const z=W.currentTarget;if(document.activeElement===z&&W.key==="ArrowRight"){k.current="first",j(!0),D(!0),requestAnimationFrame(()=>{k.current=null});return}},[]);return c.jsx(nn,{...a,content:B,"data-ui":"MenuGroup__popover",open:E,children:c.jsx(ZSe,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?A:void 0,"data-pressed":t!=="button"?A:void 0,"data-selected":!A&&T?"":void 0,$radius:ye(l),$tone:f,onClick:R,onKeyDown:H,onMouseEnter:P,ref:S,tabIndex:-1,type:t==="button"?"button":void 0,children:c.jsx(M,{padding:s,children:c.jsxs(U,{children:[o&&c.jsxs(L,{size:r,children:[h.isValidElement(o)&&o,da.isValidElementType(o)&&h.createElement(o)]}),c.jsx(M,{flex:1,marginLeft:o?u:void 0,children:c.jsx(L,{size:r,textOverflow:"ellipsis",children:d})}),c.jsx(M,{marginLeft:u,children:c.jsx(L,{size:r,children:c.jsx(Jc,{})})})]})})})})}const Ne=h.forwardRef(function(t,n){const{as:r="button",children:o,disabled:i,fontSize:s=2,hotkeys:a,icon:l,iconRight:u,onClick:d,padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:y,paddingLeft:x,pressed:b,radius:w=2,selected:C,space:_=3,text:S,tone:E="default",...j}=t,k=XSe(),{activeElement:T,mount:A,onItemClick:D,onItemMouseEnter:P=k.onMouseEnter,onItemMouseLeave:I=k.onMouseLeave}=k,[R,O]=h.useState(null),V=!!T&&T===R;h.useEffect(()=>A(R,C),[A,R,C]);const B=mr(n),H=h.useCallback(G=>{i||(d&&d(G),D&&D())},[i,d,D]),W=h.useMemo(()=>({padding:f,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:y,paddingLeft:x}),[f,p,m,v,g,y,x]),z=h.useCallback(G=>{B.current=G,O(G)},[B]);return c.jsxs(ZSe,{"data-ui":"MenuItem",...j,"aria-pressed":r==="button"&&b,"data-pressed":r!=="button"&&b?"":void 0,"data-selected":V?"":void 0,"data-disabled":i?"":void 0,forwardedAs:r,$radius:ye(w),$padding:ye(0),$tone:E,disabled:i,onClick:H,onMouseEnter:P,onMouseLeave:I,ref:z,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(l||S||u)&&c.jsx(M,{as:"span",...W,children:c.jsxs(U,{as:"span",children:[l&&c.jsxs(L,{size:s,children:[h.isValidElement(l)&&l,da.isValidElementType(l)&&h.createElement(l)]}),S&&c.jsx(M,{flex:1,marginLeft:l?_:void 0,marginRight:u?_:void 0,children:c.jsx(L,{size:s,textOverflow:"ellipsis",children:S})}),a&&c.jsx(M,{marginLeft:_,style:{marginTop:-4,marginBottom:-4},children:c.jsx(n7,{fontSize:s,keys:a})}),u&&c.jsxs(L,{size:s,children:[h.isValidElement(u)&&u,da.isValidElementType(u)&&h.createElement(u)]})]})}),o&&c.jsx(M,{as:"span",...W,children:o})]})});var GK=Object.freeze,Est=Object.defineProperty,Qk=(e,t)=>GK(Est(e,"raw",{value:GK(t||e.slice())})),KK,ZK,XK,QK;const kst=Km(KK||(KK=Qk([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),jst=de(ZK||(ZK=Qk([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),kst),Tst=de(QK||(QK=Qk([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),e=>{let{$visible:t}=e;return t?1:0},e=>{let{$animated:t}=e;return t?jst:de(XK||(XK=Qk([`
            background-color: var(--card-skeleton-color-from);
          `])))}),Ast=$(M)(Ad,Tst),C1=h.forwardRef(function(t,n){const{animated:r=!1,delay:o,radius:i,...s}=t,[a,l]=h.useState(!o);return h.useEffect(()=>{if(!o)return l(!0);const u=setTimeout(()=>{l(!0)},o);return()=>{clearTimeout(u)}},[o]),c.jsx(Ast,{...s,$animated:r,$radius:ye(i),$visible:a,ref:n})}),hA=$(C1)(e=>{let{$size:t,$style:n,theme:r}=e;const{media:o}=r.sanity,i=r.sanity.fonts[n];return gt(o,t,a=>{const l=i.sizes[a];return{height:l.lineHeight-l.ascenderHeight-l.descenderHeight}})}),zi=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return c.jsx(hA,{...o,$size:i,ref:n,$style:"text"})}),Jk=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return c.jsx(hA,{...o,$size:i,ref:n,$style:"label"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return c.jsx(hA,{...o,$size:i,ref:n,$style:"heading"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return c.jsx(hA,{...o,$size:i,ref:n,$style:"code"})});var JK=Object.freeze,Dst=Object.defineProperty,Pst=(e,t)=>JK(Dst(e,"raw",{value:JK(t||e.slice())})),eZ;const Ist=$(oe)(eZ||(eZ=Pst([`
  max-width: 100%;
`]))),iw=h.forwardRef(function(t,n){const{icon:r,id:o,focused:i,fontSize:s,label:a,onClick:l,onFocus:u,padding:d=2,selected:f,...p}=t,m=h.useRef(null),v=h.useRef(!1),g=h.useCallback(()=>{v.current=!1},[]),y=h.useCallback(w=>{v.current=!0,u&&u(w)},[u]),x=mr(n);h.useEffect(()=>{i&&!v.current&&(m.current&&m.current.focus(),v.current=!0)},[i]);const b=w=>{m.current=w,x.current=w};return c.jsx(Ist,{"data-ui":"Tab",...p,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:o,mode:"bleed",onClick:l,onBlur:g,onFocus:y,padding:d,ref:b,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var tZ=Object.freeze,Ost=Object.defineProperty,$st=(e,t)=>tZ(Ost(e,"raw",{value:tZ(t||e.slice())})),nZ;function Rst(e){return!!e}const Mst=$(Zt)(nZ||(nZ=$st([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),pA=h.forwardRef(function(t,n){const{children:r,...o}=t,[i,s]=h.useState(-1),l=h.useMemo(()=>r.filter(Rst),[r]).map((p,m)=>h.cloneElement(p,{focused:i===m,key:m,onFocus:()=>d(m)})),u=l.length,d=h.useCallback(p=>{s(p)},[]),f=h.useCallback(p=>{p.key==="ArrowLeft"&&s(m=>(m+u-1)%u),p.key==="ArrowRight"&&s(m=>(m+1)%u)},[u]);return c.jsx(Mst,{"data-ui":"TabList",...o,onKeyDown:f,ref:n,role:"tablist",children:l})}),QSe=h.forwardRef(function(t,n){const{flex:r,...o}=t;return c.jsx(M,{"data-ui":"TabPanel",...o,flex:r,ref:n,role:"tabpanel",tabIndex:t.tabIndex===void 0?0:t.tabIndex,children:t.children})});var rZ=Object.freeze,Fst=Object.defineProperty,JSe=(e,t)=>rZ(Fst(e,"raw",{value:rZ(t||e.slice())})),oZ,iZ;const Lst={error:"critical",warning:"caution",success:"positive",info:"primary"},Bst={error:"alert",warning:"alert",success:"alert",info:"alert"},Nst=$(Q)(oZ||(oZ=JSe([`
  pointer-events: all;
`]))),zst=$(U)(iZ||(iZ=JSe([`
  overflow-x: auto;
`])));function Vst(e){const{closable:t,description:n,onClose:r,title:o,status:i,...s}=e,a=i?Lst[i]:"default",l=i?Bst[i]:"status";return c.jsx(Nst,{"data-ui":"Toast",role:l,...s,marginTop:3,radius:2,shadow:2,tone:a,children:c.jsxs(U,{align:"flex-start",children:[c.jsx(zst,{flex:1,padding:3,children:c.jsxs(te,{space:3,children:[o&&c.jsx(L,{weight:"semibold",children:o}),n&&c.jsx(L,{muted:!0,size:1,children:n})]})}),t&&c.jsx(M,{padding:1,children:c.jsx(oe,{as:"button",icon:Bi,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function Hst(){const[e,t]=h.useReducer(()=>!0,!1);return h.useEffect(t,[t]),e}const mF=Symbol.for("@sanity/ui/context/toast");en[mF]=en[mF]||h.createContext(null);const eEe=en[mF];var sZ=Object.freeze,Ust=Object.defineProperty,tEe=(e,t)=>sZ(Ust(e,"raw",{value:sZ(t||e.slice())})),aZ,lZ;const Wst=$(hs)(aZ||(aZ=tEe([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),Yst=$.div(lZ||(lZ=tEe([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let qst=0;function o7(e){const{children:t,padding:n=4,paddingX:r,paddingY:o,zOffset:i}=e,[s,a]=h.useState([]),l=h.useRef({}),u=h.useCallback(p=>{const m=x=>h.startTransition(()=>a(x)),v=p.id||String(qst++),g=p.duration||5e3,y=()=>{var x;const b=(x=l.current[v])==null?void 0:x.timeoutId;m(w=>{const C=w.findIndex(_=>_.id===v);if(C>-1){const _=w.slice(0);return _.splice(C,1),_}return w}),b!==void 0&&(clearTimeout(b),delete l.current[v])};return m(x=>x.filter(b=>b.id!==v).concat([{dismiss:y,id:v,params:{...p,duration:g}}])),l.current[v]&&(clearTimeout(l.current[v].timeoutId),delete l.current[v]),l.current[v]={timeoutId:setTimeout(y,g)},v},[]);h.useEffect(()=>()=>{for(const{timeoutId:p}of Object.values(l.current))clearTimeout(p);l.current={}},[]);const d=h.useMemo(()=>({version:0,push:u}),[u]),f=Hst();return c.jsxs(eEe.Provider,{value:d,children:[t,f&&c.jsx(Wst,{"data-ui":"ToastProvider",zOffset:i,children:c.jsx(Yst,{children:c.jsx(M,{padding:n,paddingX:r,paddingY:o,children:c.jsx(det,{initial:!1,children:s.map(p=>{let{dismiss:m,id:v,params:g}=p;return c.jsx(net.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:c.jsx(Vst,{closable:g.closable,description:g.description,onClose:m,status:g.status,title:g.title})},v)})})})})})]})}function Qo(){const e=h.useContext(eEe);if(!e)throw new Error("useToast(): missing context value");if(!v1(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function Gst(e,t,n){var r;const o=t.indexOf(n),i=t.slice(0,o),s=i.length;for(let a=s-1;a>=0;a-=1){const l=i[a].getAttribute("data-tree-key");if(!l)continue;const u=l.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function Kst(e,t,n){var r;const o=t.indexOf(n),i=t.slice(o),s=t.length;for(let a=1;a<s;a+=1){if(!i[a])continue;const l=i[a].getAttribute("data-tree-key");if(!l)continue;const u=l.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function cZ(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const gF=Symbol.for("@sanity/ui/context/tree");en[gF]=en[gF]||h.createContext(null);const e5=en[gF],nEe=h.memo(h.forwardRef(function(t,n){const{children:r,space:o=1,onFocus:i,...s}=t,a=mr(n),[l,u]=h.useState(null),d=h.useRef(l),f=h.useMemo(()=>[],[]),[p,m]=h.useState([]),[v,g]=h.useState({}),y=h.useRef(v);h.useEffect(()=>{d.current=l},[l]),h.useEffect(()=>{y.current=v},[v]);const x=h.useCallback((S,E,j,k)=>(g(T=>({...T,[E]:{element:S,expanded:j}})),k&&u(S),()=>{g(T=>{const A={...T};return delete A[E],A})}),[]),b=h.useCallback((S,E)=>{g(j=>{const k=j[S];return k?{...j,[S]:{...k,expanded:E}}:j})},[]),w=h.useMemo(()=>({version:0,focusedElement:l||p[0]||null,level:0,path:f,registerItem:x,setExpanded:b,setFocusedElement:u,space:o,state:v}),[l,p,f,x,b,o,v]),C=h.useCallback(S=>{var E;if(d.current){if(S.key==="ArrowDown"){S.preventDefault();const j=Kst(y.current,p,d.current);j&&(cZ(j),u(j));return}if(S.key==="ArrowUp"){S.preventDefault();const j=Gst(y.current,p,d.current);j&&(cZ(j),u(j));return}if(S.key==="ArrowLeft"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;const k=y.current[j];if(!k)return;if(k.expanded)g(T=>{const A=T[j];return A?{...T,[j]:{...A,expanded:!1}}:T});else{const T=j.split("/");T.pop();const A=T.join("/"),D=A&&y.current[A];D&&(D.element.focus(),u(D.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;(E=y.current[j])!=null&&E.expanded||g(k=>{const T=k[j];return T?{...k,[j]:{...T,expanded:!0}}:k});return}}},[p]),_=h.useCallback(S=>{u(S.target),i==null||i(S)},[i]);return h.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),c.jsx(e5.Provider,{value:w,children:c.jsx(te,{as:"ul","data-ui":"Tree",...s,onFocus:_,onKeyDown:C,ref:a,role:"tree",space:o,children:r})})}));nEe.displayName="Tree";var uZ=Object.freeze,Zst=Object.defineProperty,i7=(e,t)=>uZ(Zst(e,"raw",{value:uZ(t||e.slice())})),dZ,fZ,hZ;function Xst(){return de(dZ||(dZ=i7([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function Qst(e){const{theme:t}=e,n="default",{base:r,muted:o,selectable:i}=t.sanity.color,s=i?i[n]||i.default:o[n]||o.default;return de(fZ||(fZ=i7([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),Ht(r,s.enabled),Ht(r,s.pressed),Ht(r,s.hovered),Ht(r,s.selected),Ht(r,s.enabled),Ht(r,s.pressed),Ht(r,s.hovered),Ht(r,s.selected))}function Jst(e){const{$level:t,theme:n}=e,{space:r}=n.sanity;return de(hZ||(hZ=i7([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),ge(r[2]*t))}function rEe(){const e=h.useContext(e5);if(!e)throw new Error("Tree: missing context value");return e}const pZ=h.memo(function(t){const{children:n,expanded:r=!1,...o}=t,i=rEe();return c.jsx(te,{as:"ul","data-ui":"TreeGroup",...o,hidden:!r,marginTop:i.space,role:"group",space:i.space,children:n})});var mZ=Object.freeze,eat=Object.defineProperty,tat=(e,t)=>mZ(eat(e,"raw",{value:mZ(t||e.slice())})),gZ;const vZ=h.memo($.li(Xst,Qst)),yZ=$(M).attrs({forwardedAs:"a"})(Jst),nat=$(L)(gZ||(gZ=tat([`
  & > svg {
    transition: transform 100ms;
  }
`]))),sw=h.memo(function(t){const{children:n,expanded:r=!1,fontSize:o,href:i,icon:s,id:a,linkAs:l,muted:u,onClick:d,padding:f=3,selected:p=!1,space:m=2,text:v,weight:g,...y}=t,x=h.useRef(null),b=h.useRef(null),w=rEe(),{path:C,registerItem:_,setExpanded:S,setFocusedElement:E}=w,j=h.useId(),k=a||j,T=h.useMemo(()=>C.concat([k||""]),[k,C]),A=T.join("/"),D=w.state[A],P=w.focusedElement===x.current,I=(D==null?void 0:D.expanded)===void 0?r:(D==null?void 0:D.expanded)||!1,R=w.focusedElement&&w.focusedElement===x.current?0:-1,O=h.useMemo(()=>({...w,level:w.level+1,path:T}),[T,w]),V=h.useCallback(W=>{d&&d(W);const z=W.target;z instanceof HTMLElement&&(z.getAttribute("data-ui")==="TreeItem"||z.closest('[data-ui="TreeItem__box"]'))&&(W.stopPropagation(),S(A,!I),E(x.current))},[I,A,d,S,E]),B=h.useCallback(W=>{if(P&&W.key==="Enter"){const z=b.current||x.current;z==null||z.click()}},[P]);h.useEffect(()=>{if(x.current)return _(x.current,T.join("/"),I,p)},[I,T,_,p]);const H=c.jsxs(U,{padding:f,children:[c.jsxs(M,{marginRight:m,style:{visibility:s||n?"visible":"hidden",pointerEvents:"none"},children:[s&&c.jsx(L,{muted:u,size:o,weight:g,children:h.createElement(s)}),!s&&c.jsx(nat,{muted:u,size:o,weight:g,children:c.jsx(PT,{style:{transform:I?"rotate(90deg)":void 0}})})]}),c.jsx(M,{flex:1,children:c.jsx(L,{muted:u,size:o,textOverflow:"ellipsis",weight:g,children:v})})]});return i?c.jsxs(vZ,{"data-selected":p?"":void 0,"data-tree-id":k,"data-tree-key":A,"data-ui":"TreeItem",...y,onClick:V,ref:x,role:"none",children:[c.jsx(yZ,{$level:w.level,"aria-expanded":I,as:l,"data-ui":"TreeItem__box",href:i,ref:b,role:"treeitem",tabIndex:R,children:H}),c.jsx(e5.Provider,{value:O,children:n&&c.jsx(pZ,{hidden:!I,children:n})})]}):c.jsxs(vZ,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":k,"data-tree-key":A,...y,"aria-expanded":I,onClick:V,onKeyDown:B,ref:x,role:"treeitem",tabIndex:R,children:[c.jsx(yZ,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:H}),c.jsx(e5.Provider,{value:O,children:n&&c.jsx(pZ,{expanded:I,children:n})})]})});function Bt(e){return typeof e=="function"}function s7(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var yO=s7(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function t5(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Tm=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=vm(s),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(Bt(d))try{d()}catch(g){i=g instanceof yO?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=vm(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{bZ(v)}catch(g){i=i??[],g instanceof yO?i=fi(fi([],rl(i)),rl(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new yO(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)bZ(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&t5(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&t5(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),oEe=Tm.EMPTY;function iEe(e){return e instanceof Tm||e&&"closed"in e&&Bt(e.remove)&&Bt(e.add)&&Bt(e.unsubscribe)}function bZ(e){Bt(e)?e():e.unsubscribe()}var sEe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vF={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=vF.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,fi([e,t],rl(n))):setTimeout.apply(void 0,fi([e,t],rl(n)))},clearTimeout:function(e){var t=vF.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function aEe(e){vF.setTimeout(function(){throw e})}function ph(){}function sE(e){e()}var a7=function(e){wa(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,iEe(n)&&n.add(r)):r.destination=sat,r}return t.create=function(n,r,o){return new aw(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Tm),rat=Function.prototype.bind;function bO(e,t){return rat.call(e,t)}var oat=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){g2(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){g2(r)}else g2(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){g2(n)}},e}(),aw=function(e){wa(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(Bt(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&sEe.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&bO(n.next,a),error:n.error&&bO(n.error,a),complete:n.complete&&bO(n.complete,a)}):s=n}return i.destination=new oat(s),i}return t}(a7);function g2(e){aEe(e)}function iat(e){throw e}var sat={closed:!0,next:ph,error:iat,complete:ph},l7=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Dd(e){return e}function aat(e){return e.length===0?Dd:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var mt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=cat(t)?t:new aw(t,n,r);return sE(function(){var s=o,a=s.operator,l=s.source;i.add(a?a.call(i,l):l?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=xZ(n),new n(function(o,i){var s=new aw({next:function(a){try{t(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[l7]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return aat(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=xZ(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function xZ(e){var t;return(t=e??sEe.Promise)!==null&&t!==void 0?t:Promise}function lat(e){return e&&Bt(e.next)&&Bt(e.error)&&Bt(e.complete)}function cat(e){return e&&e instanceof a7||lat(e)&&iEe(e)}function lEe(e){return Bt(e==null?void 0:e.lift)}function yn(e){return function(t){if(lEe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Yt(e,t,n,r,o){return new cEe(e,t,n,r,o)}var cEe=function(e){wa(t,e);function t(n,r,o,i,s,a){var l=e.call(this,n)||this;return l.onFinalize=s,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,l._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(a7);function Rl(){return yn(function(e,t){var n=null;e._refCount++;var r=Yt(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var uat=function(e){wa(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,lEe(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new Tm;var o=this.getSubject();r.add(this.source.subscribe(Yt(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=Tm.EMPTY)}return r},t.prototype.refCount=function(){return Rl()(this)},t}(mt),dat=s7(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),kr=function(e){wa(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new wZ(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new dat},t.prototype.next=function(n){var r=this;sE(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=vm(r.currentObservers),a=s.next();!a.done;a=s.next()){var l=a.value;l.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;sE(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;sE(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?oEe:(this.currentObservers=null,a.push(n),new Tm(function(){r.currentObservers=null,t5(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new mt;return n.source=this,n},t.create=function(n,r){return new wZ(n,r)},t}(mt),wZ=function(e){wa(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:oEe},t}(kr),mA=function(e){wa(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(kr),c7={now:function(){return(c7.delegate||Date).now()},delegate:void 0},uEe=function(e){wa(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=c7);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),l=0;l<a.length&&!n.closed;l+=i?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var l=o.now(),u=0,d=1;d<i.length&&i[d]<=l;d+=2)u=d;u&&i.splice(0,u+1)}},t}(kr),fat=function(e){wa(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Tm),n5={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n5.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,fi([e,t],rl(n))):setInterval.apply(void 0,fi([e,t],rl(n)))},clearInterval:function(e){var t=n5.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},dEe=function(e){wa(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),n5.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&n5.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,t5(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(fat),hat=1,xO,yF={};function CZ(e){return e in yF?(delete yF[e],!0):!1}var fEe={setImmediate:function(e){var t=hat++;return yF[t]=!0,xO||(xO=Promise.resolve()),xO.then(function(){return CZ(t)&&e()}),t},clearImmediate:function(e){CZ(e)}},pat=fEe.setImmediate,mat=fEe.clearImmediate,r5={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r5.delegate;return((n==null?void 0:n.setImmediate)||pat).apply(void 0,fi([],rl(e)))},clearImmediate:function(e){var t=r5.delegate;return((t==null?void 0:t.clearImmediate)||mat)(e)},delegate:void 0},gat=function(e){wa(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=r5.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var s=n.actions;r!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==r&&(r5.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(dEe),_Z=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=c7.now,e}(),hEe=function(e){wa(t,e);function t(n,r){r===void 0&&(r=_Z.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(_Z),vat=function(e){wa(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(hEe),yat=new vat(gat),Gl=new hEe(dEe),bat=Gl,tr=new mt(function(e){return e.complete()});function xat(e){return e?wat(e):tr}function wat(e){return new mt(function(t){return e.schedule(function(){return t.complete()})})}function pEe(e){return e&&Bt(e.schedule)}function u7(e){return e[e.length-1]}function d7(e){return Bt(u7(e))?e.pop():void 0}function OC(e){return pEe(u7(e))?e.pop():void 0}function Cat(e,t){return typeof u7(e)=="number"?e.pop():t}var f7=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function mEe(e){return Bt(e==null?void 0:e.then)}function gEe(e){return Bt(e[l7])}function vEe(e){return Symbol.asyncIterator&&Bt(e==null?void 0:e[Symbol.asyncIterator])}function yEe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function _at(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bEe=_at();function xEe(e){return Bt(e==null?void 0:e[bEe])}function wEe(e){return sBe(this,arguments,function(){var n,r,o,i;return Vbe(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,zv(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,zv(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,zv(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function CEe(e){return Bt(e==null?void 0:e.getReader)}function kn(e){if(e instanceof mt)return e;if(e!=null){if(gEe(e))return Sat(e);if(f7(e))return Eat(e);if(mEe(e))return kat(e);if(vEe(e))return _Ee(e);if(xEe(e))return jat(e);if(CEe(e))return Tat(e)}throw yEe(e)}function Sat(e){return new mt(function(t){var n=e[l7]();if(Bt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Eat(e){return new mt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function kat(e){return new mt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,aEe)})}function jat(e){return new mt(function(t){var n,r;try{for(var o=vm(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function _Ee(e){return new mt(function(t){Aat(e,t).catch(function(n){return t.error(n)})})}function Tat(e){return _Ee(wEe(e))}function Aat(e,t){var n,r,o,i;return iBe(this,void 0,void 0,function(){var s,a;return Vbe(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=aBe(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),o={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Wu(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function SEe(e,t){return t===void 0&&(t=0),yn(function(n,r){n.subscribe(Yt(r,function(o){return Wu(r,e,function(){return r.next(o)},t)},function(){return Wu(r,e,function(){return r.complete()},t)},function(o){return Wu(r,e,function(){return r.error(o)},t)}))})}function EEe(e,t){return t===void 0&&(t=0),yn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Dat(e,t){return kn(e).pipe(EEe(t),SEe(t))}function Pat(e,t){return kn(e).pipe(EEe(t),SEe(t))}function Iat(e,t){return new mt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Oat(e,t){return new mt(function(n){var r;return Wu(n,t,function(){r=e[bEe](),Wu(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return Bt(r==null?void 0:r.return)&&r.return()}})}function kEe(e,t){if(!e)throw new Error("Iterable cannot be null");return new mt(function(n){Wu(n,t,function(){var r=e[Symbol.asyncIterator]();Wu(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function $at(e,t){return kEe(wEe(e),t)}function jEe(e,t){if(e!=null){if(gEe(e))return Dat(e,t);if(f7(e))return Iat(e,t);if(mEe(e))return Pat(e,t);if(vEe(e))return kEe(e,t);if(xEe(e))return Oat(e,t);if(CEe(e))return $at(e,t)}throw yEe(e)}function jr(e,t){return t?jEe(e,t):kn(e)}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=OC(e);return jr(e,n)}function ud(e,t){var n=Bt(e)?e:function(){return e},r=function(o){return o.error(n())};return new mt(t?function(o){return t.schedule(r,0,o)}:r)}function Rat(e){return!!e&&(e instanceof mt||Bt(e.lift)&&Bt(e.subscribe))}var gA=s7(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function To(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?r(s):n?r(t.defaultValue):o(new gA)}})})}function Mat(e){return e instanceof Date&&!isNaN(e)}function le(e,t){return yn(function(n,r){var o=0;n.subscribe(Yt(r,function(i){r.next(e.call(t,i,o++))}))})}var Fat=Array.isArray;function Lat(e,t){return Fat(t)?e.apply(void 0,fi([],rl(t))):e(t)}function h7(e){return le(function(t){return Lat(e,t)})}var Bat=Array.isArray,Nat=Object.getPrototypeOf,zat=Object.prototype,Vat=Object.keys;function TEe(e){if(e.length===1){var t=e[0];if(Bat(t))return{args:t,keys:null};if(Hat(t)){var n=Vat(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Hat(e){return e&&typeof e=="object"&&Nat(e)===zat}function AEe(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function Go(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=OC(e),r=d7(e),o=TEe(e),i=o.args,s=o.keys;if(i.length===0)return jr([],n);var a=new mt(Uat(i,n,s?function(l){return AEe(s,l)}:Dd));return r?a.pipe(h7(r)):a}function Uat(e,t,n){return n===void 0&&(n=Dd),function(r){SZ(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,l=function(d){SZ(t,function(){var f=jr(e[d],t),p=!1;f.subscribe(Yt(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)l(u)},r)}}function SZ(e,t,n){e?Wu(n,e,t):t()}function Wat(e,t,n,r,o,i,s,a){var l=[],u=0,d=0,f=!1,p=function(){f&&!l.length&&!u&&t.complete()},m=function(g){return u<r?v(g):l.push(g)},v=function(g){i&&t.next(g),u++;var y=!1;kn(n(g,d++)).subscribe(Yt(t,function(x){o==null||o(x),i?m(x):t.next(x)},function(){y=!0},void 0,function(){if(y)try{u--;for(var x=function(){var b=l.shift();s?Wu(t,s,function(){return v(b)}):v(b)};l.length&&u<r;)x();p()}catch(b){t.error(b)}}))};return e.subscribe(Yt(t,m,function(){f=!0,p()})),function(){a==null||a()}}function ft(e,t,n){return n===void 0&&(n=1/0),Bt(t)?ft(function(r,o){return le(function(i,s){return t(r,i,o,s)})(kn(e(r,o)))},n):(typeof t=="number"&&(n=t),yn(function(r,o){return Wat(r,o,e,n)}))}function vA(e){return e===void 0&&(e=1/0),ft(Dd,e)}function Yat(){return vA(1)}function Kr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Yat()(jr(e,OC(e)))}function xo(e){return new mt(function(t){kn(e()).subscribe(t)})}function qat(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=d7(e),r=TEe(e),o=r.args,i=r.keys,s=new mt(function(a){var l=o.length;if(!l){a.complete();return}for(var u=new Array(l),d=l,f=l,p=function(v){var g=!1;kn(o[v]).subscribe(Yt(a,function(y){g||(g=!0,f--),u[v]=y},function(){return d--},void 0,function(){(!d||!g)&&(f||a.next(i?AEe(i,u):u),a.complete())}))},m=0;m<l;m++)p(m)});return n?s.pipe(h7(n)):s}var Gat=["addListener","removeListener"],Kat=["addEventListener","removeEventListener"],Zat=["on","off"];function Vi(e,t,n,r){if(Bt(n)&&(r=n,n=void 0),r)return Vi(e,t,n).pipe(h7(r));var o=rl(Jat(e)?Kat.map(function(a){return function(l){return e[a](t,l,n)}}):Xat(e)?Gat.map(EZ(e,t)):Qat(e)?Zat.map(EZ(e,t)):[],2),i=o[0],s=o[1];if(!i&&f7(e))return ft(function(a){return Vi(a,t,n)})(kn(e));if(!i)throw new TypeError("Invalid event target");return new mt(function(a){var l=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(l),function(){return s(l)}})}function EZ(e,t){return function(n){return function(r){return e[n](t,r)}}}function Xat(e){return Bt(e.addListener)&&Bt(e.removeListener)}function Qat(e){return Bt(e.on)&&Bt(e.off)}function Jat(e){return Bt(e.addEventListener)&&Bt(e.removeEventListener)}function elt(e,t,n){return xo(function(){return e()?t:n})}function Ko(e,t,n){e===void 0&&(e=0),n===void 0&&(n=bat);var r=-1;return t!=null&&(pEe(t)?n=t:r=t),new mt(function(o){var i=Mat(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function ln(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=OC(e),r=Cat(e,1/0),o=e;return o.length?o.length===1?kn(o[0]):vA(r)(jr(o,n)):tr}var p7=new mt(ph),tlt=Array.isArray;function nlt(e){return e.length===1&&tlt(e[0])?e[0]:e}function rlt(e,t){return function(n,r){return!e.call(t,n,r)}}function pt(e,t){return yn(function(n,r){var o=0;n.subscribe(Yt(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function m7(e,t,n){return[pt(t,n)(kn(e)),pt(rlt(t,n))(kn(e))]}function olt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=nlt(e),e.length===1?kn(e[0]):new mt(ilt(e))}function ilt(e){return function(t){for(var n=[],r=function(i){n.push(kn(e[i]).subscribe(Yt(t,function(s){if(n){for(var a=0;a<n.length;a++)a!==i&&n[a].unsubscribe();n=null}t.next(s)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}function slt(e,t){return new mt(function(n){var r=e(),o=t(r),i=o?kn(o):tr;return i.subscribe(n),function(){r&&r.unsubscribe()}})}function alt(e){return yn(function(t,n){var r=!1,o=null,i=null,s=!1,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var u=o;o=null,n.next(u)}s&&n.complete()},l=function(){i=null,s&&n.complete()};t.subscribe(Yt(n,function(u){r=!0,o=u,i||kn(e(u)).subscribe(i=Yt(n,a,l))},function(){s=!0,(!r||!i||i.closed)&&n.complete()}))})}function llt(e,t){return t===void 0&&(t=Gl),alt(function(){return Ko(e,t)})}function Mn(e){return yn(function(t,n){var r=null,o=!1,i;r=t.subscribe(Yt(n,void 0,void 0,function(s){i=kn(e(s,Mn(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function DEe(e,t,n,r,o){return function(i,s){var a=n,l=t,u=0;i.subscribe(Yt(s,function(d){var f=u++;l=a?e(l,d,f):(a=!0,d),r&&s.next(l)},o&&function(){a&&s.next(l),s.complete()}))}}function PEe(e,t){return yn(DEe(e,t,arguments.length>=2,!1,!0))}var clt=function(e,t){return e.push(t),e};function IEe(){return yn(function(e,t){PEe(clt,[])(e).subscribe(t)})}function bF(e,t){return Bt(t)?ft(e,t,1):ft(e,1)}function ult(e){return new mt(function(t){return e.subscribe(t)})}var dlt={connector:function(){return new kr}};function flt(e,t){t===void 0&&(t=dlt);var n=t.connector;return yn(function(r,o){var i=n();kn(e(ult(i))).subscribe(o),o.add(r.subscribe(i))})}function g7(e){return yn(function(t,n){var r=!1,o=null,i=null,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var a=o;o=null,n.next(a)}};t.subscribe(Yt(n,function(a){i==null||i.unsubscribe(),r=!0,o=a,i=Yt(n,s,ph),kn(e(a)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function v7(e,t){return t===void 0&&(t=Gl),yn(function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,r.next(u)}};function l(){var u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}a()}n.subscribe(Yt(r,function(u){i=u,s=t.now(),o||(o=t.schedule(l,e),r.add(o))},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function OEe(e){return yn(function(t,n){var r=!1;t.subscribe(Yt(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function Mi(e){return e<=0?function(){return tr}:yn(function(t,n){var r=0;t.subscribe(Yt(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function hlt(){return yn(function(e,t){e.subscribe(Yt(t,ph))})}function yA(e){return le(function(){return e})}function $Ee(e,t){return t?function(n){return Kr(t.pipe(Mi(1),hlt()),n.pipe($Ee(e)))}:ft(function(n,r){return kn(e(n,r)).pipe(Mi(1),yA(n))})}function REe(e,t){t===void 0&&(t=Gl);var n=Ko(e,t);return $Ee(function(){return n})}function plt(e,t){return yn(function(n,r){var o=new Set;n.subscribe(Yt(r,function(i){var s=e?e(i):i;o.has(s)||(o.add(s),r.next(i))})),t&&kn(t).subscribe(Yt(r,function(){return o.clear()},ph))})}function nr(e,t){return t===void 0&&(t=Dd),e=e??mlt,yn(function(n,r){var o,i=!0;n.subscribe(Yt(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function mlt(e,t){return e===t}function MEe(e){return e===void 0&&(e=glt),yn(function(t,n){var r=!1;t.subscribe(Yt(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function glt(){return new gA}function FEe(e,t){return t?function(n){return n.pipe(FEe(function(r,o){return kn(e(r,o)).pipe(le(function(i,s){return t(r,i,o,s)}))}))}:yn(function(n,r){var o=0,i=null,s=!1;n.subscribe(Yt(r,function(a){i||(i=Yt(r,void 0,function(){i=null,s&&r.complete()}),kn(e(a,o++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})}function LEe(e){return yn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function BEe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?pt(function(o,i){return e(o,i,r)}):Dd,Mi(1),n?OEe(t):MEe(function(){return new gA}))}}function NEe(e,t,n,r){return yn(function(o,i){var s;!t||typeof t=="function"?s=t:(n=t.duration,s=t.element,r=t.connector);var a=new Map,l=function(v){a.forEach(v),v(i)},u=function(v){return l(function(g){return g.error(v)})},d=0,f=!1,p=new cEe(i,function(v){try{var g=e(v),y=a.get(g);if(!y){a.set(g,y=r?r():new kr);var x=m(g,y);if(i.next(x),n){var b=Yt(y,function(){y.complete(),b==null||b.unsubscribe()},void 0,void 0,function(){return a.delete(g)});p.add(kn(n(x)).subscribe(b))}}y.next(s?s(v):v)}catch(w){u(w)}},function(){return l(function(v){return v.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});o.subscribe(p);function m(v,g){var y=new mt(function(x){d++;var b=g.subscribe(x);return function(){b.unsubscribe(),--d===0&&f&&p.unsubscribe()}});return y.key=v,y}})}function vlt(e){return e<=0?function(){return tr}:yn(function(t,n){var r=[];t.subscribe(Yt(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var s=vm(r),a=s.next();!a.done;a=s.next()){var l=a.value;n.next(l)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}function ylt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?pt(function(o,i){return e(o,i,r)}):Dd,vlt(1),n?OEe(t):MEe(function(){return new gA}))}}var blt=ft;function Am(e,t,n){return n===void 0&&(n=1/0),Bt(t)?ft(function(){return e},t,n):(typeof t=="number"&&(n=t),ft(function(){return e},n))}function xlt(e,t){var n=Bt(e)?e:function(){return e};return Bt(t)?flt(t,{connector:n}):function(r){return new uat(r,n)}}function Ml(e,t,n,r){n&&!Bt(n)&&(r=n);var o=Bt(n)?n:void 0;return function(i){return xlt(new uEe(e,t,r),o)(i)}}function ma(e,t){return yn(DEe(e,t,arguments.length>=2,!0))}function ga(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new kr}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,l=a===void 0?!0:a;return function(u){var d,f,p,m=0,v=!1,g=!1,y=function(){f==null||f.unsubscribe(),f=void 0},x=function(){y(),d=p=void 0,v=g=!1},b=function(){var w=d;x(),w==null||w.unsubscribe()};return yn(function(w,C){m++,!g&&!v&&y();var _=p=p??n();C.add(function(){m--,m===0&&!g&&!v&&(f=wO(b,l))}),_.subscribe(C),!d&&m>0&&(d=new aw({next:function(S){return _.next(S)},error:function(S){g=!0,y(),f=wO(x,o,S),_.error(S)},complete:function(){v=!0,y(),f=wO(x,s),_.complete()}}),kn(w).subscribe(d))})(u)}}function wO(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new aw({next:function(){o.unsubscribe(),e()}});return kn(t.apply(void 0,fi([],rl(n)))).subscribe(o)}}function Mo(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,ga({connector:function(){return new uEe(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function zEe(e){return pt(function(t,n){return e<=n})}function pi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=OC(e);return yn(function(r,o){(n?Kr(e,r,n):Kr(e,r)).subscribe(o)})}function rt(e,t){return yn(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(Yt(r,function(l){o==null||o.unsubscribe();var u=0,d=i++;kn(e(l,d)).subscribe(o=Yt(r,function(f){return r.next(t?t(l,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function wlt(e,t){return Bt(t)?rt(function(){return e},t):rt(function(){return e})}function y7(e){return yn(function(t,n){kn(e).subscribe(Yt(n,function(){return n.complete()},ph)),!n.closed&&t.subscribe(n)})}function _n(e,t,n){var r=Bt(e)||t||n?{next:e,error:t,complete:n}:e;return r?yn(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;o.subscribe(Yt(i,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),i.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),i.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Dd}function VEe(e,t){return yn(function(n,r){var o=t??{},i=o.leading,s=i===void 0?!0:i,a=o.trailing,l=a===void 0?!1:a,u=!1,d=null,f=null,p=!1,m=function(){f==null||f.unsubscribe(),f=null,l&&(y(),p&&r.complete())},v=function(){f=null,p&&r.complete()},g=function(x){return f=kn(e(x)).subscribe(Yt(r,m,v))},y=function(){if(u){u=!1;var x=d;d=null,r.next(x),!p&&g(x)}};n.subscribe(Yt(r,function(x){u=!0,d=x,!(f&&!f.closed)&&(s?y():g(x))},function(){p=!0,!(l&&u&&f&&!f.closed)&&r.complete()}))})}function lw(e,t,n){t===void 0&&(t=Gl);var r=Ko(e,t);return VEe(function(){return r},n)}function nx(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=d7(e);return yn(function(r,o){for(var i=e.length,s=new Array(i),a=e.map(function(){return!1}),l=!1,u=function(f){kn(e[f]).subscribe(Yt(o,function(p){s[f]=p,!l&&!a[f]&&(a[f]=!0,(l=a.every(Dd))&&(a=null))},ph))},d=0;d<i;d++)u(d);r.subscribe(Yt(o,function(f){if(l){var p=fi([f],rl(s));o.next(n?n.apply(void 0,fi([],rl(p))):p)}}))})}function Clt(e,t){var n=h.useCallback(function(){var s=new mA(e),a=s.asObservable().pipe(nr());return[t?a.pipe(t):a,s]},[]),r=h.useRef();r.current||(r.current=n());var o=r.current[0];h.useEffect(function(){if(r.current){var s=r.current,a=s[1];a.next(e)}},[e,r]);var i=h.useRef(!1);return h.useEffect(function(){return i.current&&(r.current||(r.current=n()),i.current=!1),function(){if(r.current){i.current=!0;var s=r.current,a=s[1];a.complete(),r.current=void 0}}},[]),o}var HEe={exports:{}},UEe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0=h;function _lt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Slt=typeof Object.is=="function"?Object.is:_lt,Elt=L0.useState,klt=L0.useEffect,jlt=L0.useLayoutEffect,Tlt=L0.useDebugValue;function Alt(e,t){var n=t(),r=Elt({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return jlt(function(){o.value=n,o.getSnapshot=t,CO(o)&&i({inst:o})},[e,n,t]),klt(function(){return CO(o)&&i({inst:o}),e(function(){CO(o)&&i({inst:o})})},[e]),Tlt(n),n}function CO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Slt(e,n)}catch{return!0}}function Dlt(e,t){return t()}var Plt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Dlt:Alt;UEe.useSyncExternalStore=L0.useSyncExternalStore!==void 0?L0.useSyncExternalStore:Plt;HEe.exports=UEe;var Ilt=HEe.exports;function xF(e){return typeof e=="function"?e():e}var _O=new WeakMap;function kZ(e,t){if(!_O.has(e)){var n={currentValue:t};n.observable=e.pipe(Mo({refCount:!0,bufferSize:1}),_n(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),_O.set(e,n)}return _O.get(e)}function Olt(e,t){var n=h.useMemo(function(){var s=kZ(e,xF(t));return s.subscription.closed&&(s.subscription=s.observable.subscribe()),[function(){return s.currentValue},function(l){var u=s.observable.subscribe(l);return function(){u.unsubscribe()}}]},[e]),r=n[0],o=n[1],i=h.useRef(!1);return h.useEffect(function(){var s=kZ(e,xF(t));return i.current&&(s.subscription.closed&&(s.subscription=s.observable.subscribe()),i.current=!1),function(){i.current=!s.subscription.closed,s.subscription.unsubscribe()}},[e]),Ilt.useSyncExternalStore(o,r)}function So(e,t,n){return Olt(h.useMemo(function(){return xF(e)},t),n)}var $lt=function(e){return e};function WEe(e){e===void 0&&(e=$lt);var t=new kr;return[t.pipe(e),function(n){return t.next(n)}]}var Rlt=[];function bA(e,t){t===void 0&&(t=Rlt);var n=h.useRef();n.current||(n.current=WEe());var r=n.current,o=r[0],i=r[1],s=h.useCallback(e,t);return h.useEffect(function(){var a=o.pipe(s).subscribe();return function(){a.unsubscribe()}},[o,i,s]),i}function Mlt(){this.__data__=[],this.size=0}var Flt=Mlt;function Llt(e,t){return e===t||e!==e&&t!==t}var xA=Llt,Blt=xA;function Nlt(e,t){for(var n=e.length;n--;)if(Blt(e[n][0],t))return n;return-1}var wA=Nlt,zlt=wA,Vlt=Array.prototype,Hlt=Vlt.splice;function Ult(e){var t=this.__data__,n=zlt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Hlt.call(t,n,1),--this.size,!0}var Wlt=Ult,Ylt=wA;function qlt(e){var t=this.__data__,n=Ylt(t,e);return n<0?void 0:t[n][1]}var Glt=qlt,Klt=wA;function Zlt(e){return Klt(this.__data__,e)>-1}var Xlt=Zlt,Qlt=wA;function Jlt(e,t){var n=this.__data__,r=Qlt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var ect=Jlt,tct=Flt,nct=Wlt,rct=Glt,oct=Xlt,ict=ect;function _1(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_1.prototype.clear=tct;_1.prototype.delete=nct;_1.prototype.get=rct;_1.prototype.has=oct;_1.prototype.set=ict;var CA=_1,sct=CA;function act(){this.__data__=new sct,this.size=0}var lct=act;function cct(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var uct=cct;function dct(e){return this.__data__.get(e)}var fct=dct;function hct(e){return this.__data__.has(e)}var pct=hct,mct=_h,gct=dl,vct="[object AsyncFunction]",yct="[object Function]",bct="[object GeneratorFunction]",xct="[object Proxy]";function wct(e){if(!gct(e))return!1;var t=mct(e);return t==yct||t==bct||t==vct||t==xct}var YEe=wct,Cct=nc,_ct=Cct["__core-js_shared__"],Sct=_ct,SO=Sct,jZ=function(){var e=/[^.]+$/.exec(SO&&SO.keys&&SO.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ect(e){return!!jZ&&jZ in e}var kct=Ect,jct=Function.prototype,Tct=jct.toString;function Act(e){if(e!=null){try{return Tct.call(e)}catch{}try{return e+""}catch{}}return""}var qEe=Act,Dct=YEe,Pct=kct,Ict=dl,Oct=qEe,$ct=/[\\^$.*+?()[\]{}|]/g,Rct=/^\[object .+?Constructor\]$/,Mct=Function.prototype,Fct=Object.prototype,Lct=Mct.toString,Bct=Fct.hasOwnProperty,Nct=RegExp("^"+Lct.call(Bct).replace($ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zct(e){if(!Ict(e)||Pct(e))return!1;var t=Dct(e)?Nct:Rct;return t.test(Oct(e))}var Vct=zct;function Hct(e,t){return e==null?void 0:e[t]}var Uct=Hct,Wct=Vct,Yct=Uct;function qct(e,t){var n=Yct(e,t);return Wct(n)?n:void 0}var ag=qct,Gct=ag,Kct=nc,Zct=Gct(Kct,"Map"),b7=Zct,Xct=ag,Qct=Xct(Object,"create"),_A=Qct,TZ=_A;function Jct(){this.__data__=TZ?TZ(null):{},this.size=0}var eut=Jct;function tut(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var nut=tut,rut=_A,out="__lodash_hash_undefined__",iut=Object.prototype,sut=iut.hasOwnProperty;function aut(e){var t=this.__data__;if(rut){var n=t[e];return n===out?void 0:n}return sut.call(t,e)?t[e]:void 0}var lut=aut,cut=_A,uut=Object.prototype,dut=uut.hasOwnProperty;function fut(e){var t=this.__data__;return cut?t[e]!==void 0:dut.call(t,e)}var hut=fut,put=_A,mut="__lodash_hash_undefined__";function gut(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=put&&t===void 0?mut:t,this}var vut=gut,yut=eut,but=nut,xut=lut,wut=hut,Cut=vut;function S1(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}S1.prototype.clear=yut;S1.prototype.delete=but;S1.prototype.get=xut;S1.prototype.has=wut;S1.prototype.set=Cut;var _ut=S1,AZ=_ut,Sut=CA,Eut=b7;function kut(){this.size=0,this.__data__={hash:new AZ,map:new(Eut||Sut),string:new AZ}}var jut=kut;function Tut(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Aut=Tut,Dut=Aut;function Put(e,t){var n=e.__data__;return Dut(t)?n[typeof t=="string"?"string":"hash"]:n.map}var SA=Put,Iut=SA;function Out(e){var t=Iut(this,e).delete(e);return this.size-=t?1:0,t}var $ut=Out,Rut=SA;function Mut(e){return Rut(this,e).get(e)}var Fut=Mut,Lut=SA;function But(e){return Lut(this,e).has(e)}var Nut=But,zut=SA;function Vut(e,t){var n=zut(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Hut=Vut,Uut=jut,Wut=$ut,Yut=Fut,qut=Nut,Gut=Hut;function E1(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}E1.prototype.clear=Uut;E1.prototype.delete=Wut;E1.prototype.get=Yut;E1.prototype.has=qut;E1.prototype.set=Gut;var x7=E1,Kut=CA,Zut=b7,Xut=x7,Qut=200;function Jut(e,t){var n=this.__data__;if(n instanceof Kut){var r=n.__data__;if(!Zut||r.length<Qut-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xut(r)}return n.set(e,t),this.size=n.size,this}var edt=Jut,tdt=CA,ndt=lct,rdt=uct,odt=fct,idt=pct,sdt=edt;function k1(e){var t=this.__data__=new tdt(e);this.size=t.size}k1.prototype.clear=ndt;k1.prototype.delete=rdt;k1.prototype.get=odt;k1.prototype.has=idt;k1.prototype.set=sdt;var w7=k1,adt="__lodash_hash_undefined__";function ldt(e){return this.__data__.set(e,adt),this}var cdt=ldt;function udt(e){return this.__data__.has(e)}var ddt=udt,fdt=x7,hdt=cdt,pdt=ddt;function o5(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new fdt;++t<n;)this.add(e[t])}o5.prototype.add=o5.prototype.push=hdt;o5.prototype.has=pdt;var EA=o5;function mdt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var gdt=mdt;function vdt(e,t){return e.has(t)}var kA=vdt,ydt=EA,bdt=gdt,xdt=kA,wdt=1,Cdt=2;function _dt(e,t,n,r,o,i){var s=n&wdt,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=n&Cdt?new ydt:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var v=e[f],g=t[f];if(r)var y=s?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!bdt(t,function(x,b){if(!xdt(m,b)&&(v===x||o(v,x,n,r,i)))return m.push(b)})){p=!1;break}}else if(!(v===g||o(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var GEe=_dt,Sdt=nc,Edt=Sdt.Uint8Array,KEe=Edt;function kdt(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var jdt=kdt;function Tdt(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var C7=Tdt,DZ=l1,PZ=KEe,Adt=xA,Ddt=GEe,Pdt=jdt,Idt=C7,Odt=1,$dt=2,Rdt="[object Boolean]",Mdt="[object Date]",Fdt="[object Error]",Ldt="[object Map]",Bdt="[object Number]",Ndt="[object RegExp]",zdt="[object Set]",Vdt="[object String]",Hdt="[object Symbol]",Udt="[object ArrayBuffer]",Wdt="[object DataView]",IZ=DZ?DZ.prototype:void 0,EO=IZ?IZ.valueOf:void 0;function Ydt(e,t,n,r,o,i,s){switch(n){case Wdt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Udt:return!(e.byteLength!=t.byteLength||!i(new PZ(e),new PZ(t)));case Rdt:case Mdt:case Bdt:return Adt(+e,+t);case Fdt:return e.name==t.name&&e.message==t.message;case Ndt:case Vdt:return e==t+"";case Ldt:var a=Pdt;case zdt:var l=r&Odt;if(a||(a=Idt),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;r|=$dt,s.set(e,t);var d=Ddt(a(e),a(t),r,o,i,s);return s.delete(e),d;case Hdt:if(EO)return EO.call(e)==EO.call(t)}return!1}var qdt=Ydt;function Gdt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var _7=Gdt,Kdt=Array.isArray,io=Kdt,Zdt=_7,Xdt=io;function Qdt(e,t,n){var r=t(e);return Xdt(e)?r:Zdt(r,n(e))}var ZEe=Qdt;function Jdt(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var XEe=Jdt;function eft(){return[]}var QEe=eft,tft=XEe,nft=QEe,rft=Object.prototype,oft=rft.propertyIsEnumerable,OZ=Object.getOwnPropertySymbols,ift=OZ?function(e){return e==null?[]:(e=Object(e),tft(OZ(e),function(t){return oft.call(e,t)}))}:nft,S7=ift;function sft(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var aft=sft,lft=_h,cft=fl,uft="[object Arguments]";function dft(e){return cft(e)&&lft(e)==uft}var fft=dft,$Z=fft,hft=fl,JEe=Object.prototype,pft=JEe.hasOwnProperty,mft=JEe.propertyIsEnumerable,gft=$Z(function(){return arguments}())?$Z:function(e){return hft(e)&&pft.call(e,"callee")&&!mft.call(e,"callee")},jA=gft,i5={exports:{}};function vft(){return!1}var yft=vft;i5.exports;(function(e,t){var n=nc,r=yft,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(i5,i5.exports);var TA=i5.exports,bft=9007199254740991,xft=/^(?:0|[1-9]\d*)$/;function wft(e,t){var n=typeof e;return t=t??bft,!!t&&(n=="number"||n!="symbol"&&xft.test(e))&&e>-1&&e%1==0&&e<t}var AA=wft,Cft=9007199254740991;function _ft(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Cft}var E7=_ft,Sft=_h,Eft=E7,kft=fl,jft="[object Arguments]",Tft="[object Array]",Aft="[object Boolean]",Dft="[object Date]",Pft="[object Error]",Ift="[object Function]",Oft="[object Map]",$ft="[object Number]",Rft="[object Object]",Mft="[object RegExp]",Fft="[object Set]",Lft="[object String]",Bft="[object WeakMap]",Nft="[object ArrayBuffer]",zft="[object DataView]",Vft="[object Float32Array]",Hft="[object Float64Array]",Uft="[object Int8Array]",Wft="[object Int16Array]",Yft="[object Int32Array]",qft="[object Uint8Array]",Gft="[object Uint8ClampedArray]",Kft="[object Uint16Array]",Zft="[object Uint32Array]",ar={};ar[Vft]=ar[Hft]=ar[Uft]=ar[Wft]=ar[Yft]=ar[qft]=ar[Gft]=ar[Kft]=ar[Zft]=!0;ar[jft]=ar[Tft]=ar[Nft]=ar[Aft]=ar[zft]=ar[Dft]=ar[Pft]=ar[Ift]=ar[Oft]=ar[$ft]=ar[Rft]=ar[Mft]=ar[Fft]=ar[Lft]=ar[Bft]=!1;function Xft(e){return kft(e)&&Eft(e.length)&&!!ar[Sft(e)]}var Qft=Xft;function Jft(e){return function(t){return e(t)}}var j1=Jft,s5={exports:{}};s5.exports;(function(e,t){var n=Rbe,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,a=function(){try{var l=o&&o.require&&o.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(s5,s5.exports);var k7=s5.exports,eht=Qft,tht=j1,RZ=k7,MZ=RZ&&RZ.isTypedArray,nht=MZ?tht(MZ):eht,j7=nht,rht=aft,oht=jA,iht=io,sht=TA,aht=AA,lht=j7,cht=Object.prototype,uht=cht.hasOwnProperty;function dht(e,t){var n=iht(e),r=!n&&oht(e),o=!n&&!r&&sht(e),i=!n&&!r&&!o&&lht(e),s=n||r||o||i,a=s?rht(e.length,String):[],l=a.length;for(var u in e)(t||uht.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||aht(u,l)))&&a.push(u);return a}var eke=dht,fht=Object.prototype;function hht(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||fht;return e===n}var DA=hht;function pht(e,t){return function(n){return e(t(n))}}var tke=pht,mht=tke,ght=mht(Object.keys,Object),vht=ght,yht=DA,bht=vht,xht=Object.prototype,wht=xht.hasOwnProperty;function Cht(e){if(!yht(e))return bht(e);var t=[];for(var n in Object(e))wht.call(e,n)&&n!="constructor"&&t.push(n);return t}var nke=Cht,_ht=YEe,Sht=E7;function Eht(e){return e!=null&&Sht(e.length)&&!_ht(e)}var Ph=Eht,kht=eke,jht=nke,Tht=Ph;function Aht(e){return Tht(e)?kht(e):jht(e)}var Ih=Aht,Dht=ZEe,Pht=S7,Iht=Ih;function Oht(e){return Dht(e,Iht,Pht)}var rke=Oht,FZ=rke,$ht=1,Rht=Object.prototype,Mht=Rht.hasOwnProperty;function Fht(e,t,n,r,o,i){var s=n&$ht,a=FZ(e),l=a.length,u=FZ(t),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var p=a[f];if(!(s?p in t:Mht.call(t,p)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var y=s;++f<l;){p=a[f];var x=e[p],b=t[p];if(r)var w=s?r(b,x,p,t,e,i):r(x,b,p,e,t,i);if(!(w===void 0?x===b||o(x,b,n,r,i):w)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return i.delete(e),i.delete(t),g}var Lht=Fht,Bht=ag,Nht=nc,zht=Bht(Nht,"DataView"),Vht=zht,Hht=ag,Uht=nc,Wht=Hht(Uht,"Promise"),Yht=Wht,qht=ag,Ght=nc,Kht=qht(Ght,"Set"),oke=Kht,Zht=ag,Xht=nc,Qht=Zht(Xht,"WeakMap"),ike=Qht,wF=Vht,CF=b7,_F=Yht,SF=oke,EF=ike,ske=_h,T1=qEe,LZ="[object Map]",Jht="[object Object]",BZ="[object Promise]",NZ="[object Set]",zZ="[object WeakMap]",VZ="[object DataView]",ept=T1(wF),tpt=T1(CF),npt=T1(_F),rpt=T1(SF),opt=T1(EF),mp=ske;(wF&&mp(new wF(new ArrayBuffer(1)))!=VZ||CF&&mp(new CF)!=LZ||_F&&mp(_F.resolve())!=BZ||SF&&mp(new SF)!=NZ||EF&&mp(new EF)!=zZ)&&(mp=function(e){var t=ske(e),n=t==Jht?e.constructor:void 0,r=n?T1(n):"";if(r)switch(r){case ept:return VZ;case tpt:return LZ;case npt:return BZ;case rpt:return NZ;case opt:return zZ}return t});var $C=mp,kO=w7,ipt=GEe,spt=qdt,apt=Lht,HZ=$C,UZ=io,WZ=TA,lpt=j7,cpt=1,YZ="[object Arguments]",qZ="[object Array]",v2="[object Object]",upt=Object.prototype,GZ=upt.hasOwnProperty;function dpt(e,t,n,r,o,i){var s=UZ(e),a=UZ(t),l=s?qZ:HZ(e),u=a?qZ:HZ(t);l=l==YZ?v2:l,u=u==YZ?v2:u;var d=l==v2,f=u==v2,p=l==u;if(p&&WZ(e)){if(!WZ(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new kO),s||lpt(e)?ipt(e,t,n,r,o,i):spt(e,t,l,n,r,o,i);if(!(n&cpt)){var m=d&&GZ.call(e,"__wrapped__"),v=f&&GZ.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,y=v?t.value():t;return i||(i=new kO),o(g,y,n,r,i)}}return p?(i||(i=new kO),apt(e,t,n,r,o,i)):!1}var fpt=dpt,hpt=fpt,KZ=fl;function ake(e,t,n,r,o){return e===t?!0:e==null||t==null||!KZ(e)&&!KZ(t)?e!==e&&t!==t:hpt(e,t,n,r,ake,o)}var T7=ake,ppt=T7;function mpt(e,t){return ppt(e,t)}var gpt=mpt;const Wt=Pe(gpt);var am=[],vpt=function(){return am.some(function(e){return e.activeTargets.length>0})},ypt=function(){return am.some(function(e){return e.skippedTargets.length>0})},ZZ="ResizeObserver loop completed with undelivered notifications.",bpt=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:ZZ}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=ZZ),window.dispatchEvent(e)},cw;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(cw||(cw={}));var lm=function(e){return Object.freeze(e)},xpt=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,lm(this)}return e}(),lke=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,lm(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,l=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),A7=function(e){return e instanceof SVGElement&&"getBBox"in e},cke=function(e){if(A7(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},XZ=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},wpt=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},rx=typeof window<"u"?window:{},y2=new WeakMap,QZ=/auto|scroll/,Cpt=/^tb|vertical/,_pt=/msie|trident/i.test(rx.navigator&&rx.navigator.userAgent),mc=function(e){return parseFloat(e||"0")},Zv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new xpt((n?t:e)||0,(n?e:t)||0)},JZ=lm({devicePixelContentBoxSize:Zv(),borderBoxSize:Zv(),contentBoxSize:Zv(),contentRect:new lke(0,0,0,0)}),uke=function(e,t){if(t===void 0&&(t=!1),y2.has(e)&&!t)return y2.get(e);if(cke(e))return y2.set(e,JZ),JZ;var n=getComputedStyle(e),r=A7(e)&&e.ownerSVGElement&&e.getBBox(),o=!_pt&&n.boxSizing==="border-box",i=Cpt.test(n.writingMode||""),s=!r&&QZ.test(n.overflowY||""),a=!r&&QZ.test(n.overflowX||""),l=r?0:mc(n.paddingTop),u=r?0:mc(n.paddingRight),d=r?0:mc(n.paddingBottom),f=r?0:mc(n.paddingLeft),p=r?0:mc(n.borderTopWidth),m=r?0:mc(n.borderRightWidth),v=r?0:mc(n.borderBottomWidth),g=r?0:mc(n.borderLeftWidth),y=f+u,x=l+d,b=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-b-e.clientWidth:0,S=o?y+b:0,E=o?x+w:0,j=r?r.width:mc(n.width)-S-_,k=r?r.height:mc(n.height)-E-C,T=j+y+_+b,A=k+x+C+w,D=lm({devicePixelContentBoxSize:Zv(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:Zv(T,A,i),contentBoxSize:Zv(j,k,i),contentRect:new lke(f,l,j,k)});return y2.set(e,D),D},dke=function(e,t,n){var r=uke(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case cw.DEVICE_PIXEL_CONTENT_BOX:return s;case cw.BORDER_BOX:return o;default:return i}},Spt=function(){function e(t){var n=uke(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=lm([n.borderBoxSize]),this.contentBoxSize=lm([n.contentBoxSize]),this.devicePixelContentBoxSize=lm([n.devicePixelContentBoxSize])}return e}(),fke=function(e){if(cke(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Ept=function(){var e=1/0,t=[];am.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new Spt(u.target),f=fke(u.target);a.push(d),u.lastReportedSize=dke(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},eX=function(e){am.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(fke(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},kpt=function(){var e=0;for(eX(e);vpt();)e=Ept(),eX(e);return ypt()&&bpt(),e>0},jO,hke=[],jpt=function(){return hke.splice(0).forEach(function(e){return e()})},Tpt=function(e){if(!jO){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return jpt()}).observe(n,r),jO=function(){n.textContent="".concat(t?t--:t++)}}hke.push(e),jO()},Apt=function(e){Tpt(function(){requestAnimationFrame(e)})},aE=0,Dpt=function(){return!!aE},Ppt=250,Ipt={attributes:!0,characterData:!0,childList:!0,subtree:!0},tX=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],nX=function(e){return e===void 0&&(e=0),Date.now()+e},TO=!1,Opt=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=Ppt),!TO){TO=!0;var r=nX(t);Apt(function(){var o=!1;try{o=kpt()}finally{if(TO=!1,t=r-nX(),!Dpt())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,Ipt)};document.body?n():rx.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),tX.forEach(function(n){return rx.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),tX.forEach(function(n){return rx.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),kF=new Opt,rX=function(e){!aE&&e>0&&kF.start(),aE+=e,!aE&&kF.stop()},$pt=function(e){return!A7(e)&&!wpt(e)&&getComputedStyle(e).display==="inline"},Rpt=function(){function e(t,n){this.target=t,this.observedBox=n||cw.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=dke(this.target,this.observedBox,!0);return $pt(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Mpt=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),b2=new WeakMap,oX=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},x2=function(){function e(){}return e.connect=function(t,n){var r=new Mpt(t,n);b2.set(t,r)},e.observe=function(t,n,r){var o=b2.get(t),i=o.observationTargets.length===0;oX(o.observationTargets,n)<0&&(i&&am.push(o),o.observationTargets.push(new Rpt(n,r&&r.box)),rX(1),kF.schedule())},e.unobserve=function(t,n){var r=b2.get(t),o=oX(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&am.splice(am.indexOf(r),1),r.observationTargets.splice(o,1),rX(-1))},e.disconnect=function(t){var n=this,r=b2.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),pke=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");x2.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!XZ(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");x2.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!XZ(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");x2.unobserve(this,t)},e.prototype.disconnect=function(){x2.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Fpt=Bbe,Lpt=dl,Bpt="Expected a function";function Npt(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(Bpt);return Lpt(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Fpt(e,t,{leading:r,maxWait:t,trailing:o})}var zpt=Npt;const PA=Pe(zpt);var iX=l1,Vpt=jA,Hpt=io,sX=iX?iX.isConcatSpreadable:void 0;function Upt(e){return Hpt(e)||Vpt(e)||!!(sX&&e&&e[sX])}var Wpt=Upt,Ypt=_7,qpt=Wpt;function mke(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=qpt),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?mke(a,t-1,n,r,o):Ypt(o,a):r||(o[o.length]=a)}return o}var A1=mke;function Gpt(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var nu=Gpt,Kpt=io,Zpt=Gm,Xpt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qpt=/^\w*$/;function Jpt(e,t){if(Kpt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Zpt(e)?!0:Qpt.test(e)||!Xpt.test(e)||t!=null&&e in Object(t)}var D7=Jpt,gke=x7,emt="Expected a function";function P7(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(emt);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(P7.Cache||gke),n}P7.Cache=gke;var vke=P7;const IA=Pe(vke);var tmt=vke,nmt=500;function rmt(e){var t=tmt(e,function(r){return n.size===nmt&&n.clear(),r}),n=t.cache;return t}var omt=rmt,imt=omt,smt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,amt=/\\(\\)?/g,lmt=imt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(smt,function(n,r,o,i){t.push(o?i.replace(amt,"$1"):r||n)}),t}),yke=lmt,aX=l1,cmt=nu,umt=io,dmt=Gm,fmt=1/0,lX=aX?aX.prototype:void 0,cX=lX?lX.toString:void 0;function bke(e){if(typeof e=="string")return e;if(umt(e))return cmt(e,bke)+"";if(dmt(e))return cX?cX.call(e):"";var t=e+"";return t=="0"&&1/e==-fmt?"-0":t}var xke=bke,hmt=xke;function pmt(e){return e==null?"":hmt(e)}var ru=pmt,mmt=io,gmt=D7,vmt=yke,ymt=ru;function bmt(e,t){return mmt(e)?e:gmt(e,t)?[e]:vmt(ymt(e))}var D1=bmt,xmt=Gm,wmt=1/0;function Cmt(e){if(typeof e=="string"||xmt(e))return e;var t=e+"";return t=="0"&&1/e==-wmt?"-0":t}var lg=Cmt,_mt=D1,Smt=lg;function Emt(e,t){t=_mt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Smt(t[n++])];return n&&n==r?e:void 0}var RC=Emt,kmt=w7,jmt=T7,Tmt=1,Amt=2;function Dmt(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var l=a[0],u=e[l],d=a[1];if(s&&a[2]){if(u===void 0&&!(l in e))return!1}else{var f=new kmt;if(r)var p=r(u,d,l,e,t,f);if(!(p===void 0?jmt(d,u,Tmt|Amt,r,f):p))return!1}}return!0}var Pmt=Dmt,Imt=dl;function Omt(e){return e===e&&!Imt(e)}var wke=Omt,$mt=wke,Rmt=Ih;function Mmt(e){for(var t=Rmt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,$mt(o)]}return t}var Fmt=Mmt;function Lmt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Cke=Lmt,Bmt=Pmt,Nmt=Fmt,zmt=Cke;function Vmt(e){var t=Nmt(e);return t.length==1&&t[0][2]?zmt(t[0][0],t[0][1]):function(n){return n===e||Bmt(n,e,t)}}var Hmt=Vmt,Umt=RC;function Wmt(e,t,n){var r=e==null?void 0:Umt(e,t);return r===void 0?n:r}var _ke=Wmt;const Gn=Pe(_ke);function Ymt(e,t){return e!=null&&t in Object(e)}var qmt=Ymt,Gmt=D1,Kmt=jA,Zmt=io,Xmt=AA,Qmt=E7,Jmt=lg;function egt(e,t,n){t=Gmt(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=Jmt(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&Qmt(o)&&Xmt(s,o)&&(Zmt(e)||Kmt(e)))}var tgt=egt,ngt=qmt,rgt=tgt;function ogt(e,t){return e!=null&&rgt(e,t,ngt)}var Ske=ogt,igt=T7,sgt=_ke,agt=Ske,lgt=D7,cgt=wke,ugt=Cke,dgt=lg,fgt=1,hgt=2;function pgt(e,t){return lgt(e)&&cgt(t)?ugt(dgt(e),t):function(n){var r=sgt(n,e);return r===void 0&&r===t?agt(n,e):igt(t,r,fgt|hgt)}}var mgt=pgt;function ggt(e){return e}var cg=ggt;const Eke=Pe(cg);function vgt(e){return function(t){return t==null?void 0:t[e]}}var ygt=vgt,bgt=RC;function xgt(e){return function(t){return bgt(t,e)}}var wgt=xgt,Cgt=ygt,_gt=wgt,Sgt=D7,Egt=lg;function kgt(e){return Sgt(e)?Cgt(Egt(e)):_gt(e)}var jgt=kgt,Tgt=Hmt,Agt=mgt,Dgt=cg,Pgt=io,Igt=jgt;function Ogt(e){return typeof e=="function"?e:e==null?Dgt:typeof e=="object"?Pgt(e)?Agt(e[0],e[1]):Tgt(e):Igt(e)}var Oh=Ogt;function $gt(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++o];if(n(i[l],l,i)===!1)break}return t}}var Rgt=$gt,Mgt=Rgt,Fgt=Mgt(),Lgt=Fgt,Bgt=Lgt,Ngt=Ih;function zgt(e,t){return e&&Bgt(e,t,Ngt)}var Vgt=zgt,Hgt=Ph;function Ugt(e,t){return function(n,r){if(n==null)return n;if(!Hgt(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var Wgt=Ugt,Ygt=Vgt,qgt=Wgt,Ggt=qgt(Ygt),kke=Ggt,Kgt=kke,Zgt=Ph;function Xgt(e,t){var n=-1,r=Zgt(e)?Array(e.length):[];return Kgt(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var jke=Xgt;function Qgt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Jgt=Qgt,uX=Gm;function evt(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=uX(e),s=t!==void 0,a=t===null,l=t===t,u=uX(t);if(!a&&!u&&!i&&e>t||i&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!l)return-1}return 0}var tvt=evt,nvt=tvt;function rvt(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var l=nvt(o[r],i[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var ovt=rvt,AO=nu,ivt=RC,svt=Oh,avt=jke,lvt=Jgt,cvt=j1,uvt=ovt,dvt=cg,fvt=io;function hvt(e,t,n){t.length?t=AO(t,function(i){return fvt(i)?function(s){return ivt(s,i.length===1?i[0]:i)}:i}):t=[dvt];var r=-1;t=AO(t,cvt(svt));var o=avt(e,function(i,s,a){var l=AO(t,function(u){return u(i)});return{criteria:l,index:++r,value:i}});return lvt(o,function(i,s){return uvt(i,s,n)})}var Tke=hvt;function pvt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var mvt=pvt,gvt=mvt,dX=Math.max;function vvt(e,t,n){return t=dX(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=dX(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),gvt(e,this,a)}}var Ake=vvt;function yvt(e){return function(){return e}}var bvt=yvt,xvt=ag,wvt=function(){try{var e=xvt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Dke=wvt,Cvt=bvt,fX=Dke,_vt=cg,Svt=fX?function(e,t){return fX(e,"toString",{configurable:!0,enumerable:!1,value:Cvt(t),writable:!0})}:_vt,Evt=Svt,kvt=800,jvt=16,Tvt=Date.now;function Avt(e){var t=0,n=0;return function(){var r=Tvt(),o=jvt-(r-n);if(n=r,o>0){if(++t>=kvt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Dvt=Avt,Pvt=Evt,Ivt=Dvt,Ovt=Ivt(Pvt),Pke=Ovt,$vt=cg,Rvt=Ake,Mvt=Pke;function Fvt(e,t){return Mvt(Rvt(e,t,$vt),e+"")}var P1=Fvt,Lvt=xA,Bvt=Ph,Nvt=AA,zvt=dl;function Vvt(e,t,n){if(!zvt(n))return!1;var r=typeof t;return(r=="number"?Bvt(n)&&Nvt(t,n.length):r=="string"&&t in n)?Lvt(n[t],e):!1}var I7=Vvt,Hvt=A1,Uvt=Tke,Wvt=P1,hX=I7,Yvt=Wvt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&hX(e,t[0],t[1])?t=[]:n>2&&hX(t[0],t[1],t[2])&&(t=[t[0]]),Uvt(e,Hvt(t,1),[])}),qvt=Yvt;const ug=Pe(qvt);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function a5(){return a5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a5.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function l5(){return l5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l5.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fg(e,t,n){var r,o=(r=n.initialDeps)!=null?r:[],i;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var a=e(),l=a.length!==o.length||a.some(function(v,g){return o[g]!==v});if(!l)return i;o=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),i=t.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,m=function(g,y){for(g=String(g);g.length<y;)g=" "+g;return g};console.info("%c⏱ "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(i),i}}function DO(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var Gvt=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kvt=function(t){return t},Ike=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),o=[],i=n;i<=r;i++)o.push(i);return o},Zvt=function(t,n){var r=t.scrollElement;if(r){var o=function(a){var l=a.width,u=a.height;n({width:Math.round(l),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var l=a.borderBoxSize[0];if(l){o({width:l.inlineSize,height:l.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},Xvt=function(t,n){var r=t.scrollElement;if(r){var o=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},Qvt=function(t,n,r){if(n!=null&&n.borderBoxSize){var o=n.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},Oke=function(t,n,r){var o,i,s=n.adjustments,a=s===void 0?0:s,l=n.behavior,u=t+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=l,i))},Jvt=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),n.options=l5({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Kvt,rangeExtractor:Ike,onChange:function(){},measureElement:Qvt,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(o){var i=n.scrollRect;n.scrollRect=o,(n.options.horizontal?o.width!==i.width:o.height!==i.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(o){n.scrollAdjustments=0,n.scrollOffset!==o&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<o?"forward":"backward",n.scrollOffset=o,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=Fg(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,o,i,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var l=r[a];if(!i.has(l.lane)){var u=s.get(l.lane);if(u==null||l.end>u.end?s.set(l.lane,l):l.end<u.end&&i.set(l.lane,!0),i.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=Fg(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,l=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<i;f++){var p=l(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),v=m?m.end:s+a,g=o.get(p),y=typeof g=="number"?g:n.options.estimateSize(f),x=v+y,b=m?m.lane:f%n.options.lanes;d[f]={index:f,start:v,size:y,end:x,key:p,lane:b}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=Fg(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,o,i){return n.range=e0t({measurements:r,outerSize:o,scrollOffset:i})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=Fg(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Fg(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,o,i,s){return r(l5({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var o=n.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i,s=n.indexFromElement(r),a=n.measurementsCache[s];if(a){var l=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===l&&n.measureElementCache.delete(a.key);return}l!==r&&(l&&n.observer.unobserve(l),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,o,n),d=(i=n.itemSizeCache.get(a.key))!=null?i:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=Fg(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var l=r[s],u=o[l];i.push(u)}return i},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var o=n.getMeasurements();return DO(o[$ke(0,o.length-1,function(i){return DO(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=n.getSize();o==="auto"&&(r<=n.scrollOffset?o="start":r>=n.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,l=a-n.getSize();return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var i=DO(n.getMeasurements()[r]);if(o==="auto")if(i.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)o="end";else if(i.start<=n.scrollOffset+n.options.scrollPaddingStart)o="start";else return[n.scrollOffset,o];var s=o==="end"?i.end+n.options.scrollPaddingEnd:i.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,l=i.behavior;n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,l=i.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:l}),l!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,f),v=m[0];Gvt(v,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:l})}else n.scrollToIndex(r,{align:f,behavior:l})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:i},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},$ke=function(t,n,r,o){for(;t<=n;){var i=(t+n)/2|0,s=r(i);if(s<o)t=i+1;else if(s>o)n=i-1;else return i}return t>0?t-1:0};function e0t(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=function(u){return t[u].start},s=$ke(0,o,i,r),a=s;a<o&&t[a].end<r+n;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t0t=typeof document<"u"?h.useLayoutEffect:h.useEffect;function n0t(e){var t=h.useReducer(function(){return{}},{})[1],n=a5({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=h.useState(function(){return new Jvt(n)}),o=r[0];return o.setOptions(n),h.useEffect(function(){return o._didMount()},[]),t0t(function(){return o._willUpdate()}),o}function Rke(e){return n0t(a5({observeElementRect:Zvt,observeElementOffset:Xvt,scrollToFn:Oke},e))}var r0t=o0t;function o0t(e,t,n){var r=e===null,o=t===null;if(r!==o)return!1;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var a=typeof e,l=typeof t;return a!==l?!1:a0t(a)?n?n(e,t):e===t:i?i0t(e,t,n):s0t(e,t,n)}function i0t(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1}else for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}function s0t(e,t,n){var r=0,o=0;if(n)for(var i in e){if(e.hasOwnProperty(i)&&!n(e[i],t[i]))return!1;r++}else for(var i in e){if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;r++}for(var i in t)t.hasOwnProperty(i)&&o++;return r===o}function a0t(e){return e!=="function"&&e!=="object"}const dd=Pe(r0t);var jF={exports:{}},PO,pX;function OA(){if(pX)return PO;pX=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;PO=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?l(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return PO}function l0t(e){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=a,n.humanize=OA(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var E=m[b];C=S.call(g,E),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var c0t=l0t;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=c0t(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(jF,jF.exports);var u0t=jF.exports;const yf=Pe(u0t);function d0t(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var Mke=d0t;function f0t(e){return e!==e}var h0t=f0t;function p0t(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var m0t=p0t,g0t=Mke,v0t=h0t,y0t=m0t;function b0t(e,t,n){return t===t?y0t(e,t,n):g0t(e,v0t,n)}var O7=b0t,x0t=O7;function w0t(e,t){var n=e==null?0:e.length;return!!n&&x0t(e,t,0)>-1}var $7=w0t;function C0t(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var R7=C0t,_0t=EA,S0t=$7,E0t=R7,k0t=nu,j0t=j1,T0t=kA,A0t=200;function D0t(e,t,n,r){var o=-1,i=S0t,s=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=k0t(t,j0t(n))),r?(i=E0t,s=!1):t.length>=A0t&&(i=T0t,s=!1,t=new _0t(t));e:for(;++o<a;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;l.push(d)}else i(t,f,r)||l.push(d)}return l}var Fke=D0t,P0t=Ph,I0t=fl;function O0t(e){return I0t(e)&&P0t(e)}var $A=O0t,$0t=Fke,R0t=A1,M0t=P1,mX=$A,F0t=M0t(function(e,t){return mX(e)?$0t(e,R0t(t,1,mX,!0)):[]}),L0t=F0t;const Dm=Pe(L0t);var B0t=EA,N0t=$7,z0t=R7,V0t=nu,H0t=j1,gX=kA,U0t=Math.min;function W0t(e,t,n){for(var r=n?z0t:N0t,o=e[0].length,i=e.length,s=i,a=Array(i),l=1/0,u=[];s--;){var d=e[s];s&&t&&(d=V0t(d,H0t(t))),l=U0t(d.length,l),a[s]=!n&&(t||o>=120&&d.length>=120)?new B0t(s&&d):void 0}d=e[0];var f=-1,p=a[0];e:for(;++f<o&&u.length<l;){var m=d[f],v=t?t(m):m;if(m=n||m!==0?m:0,!(p?gX(p,v):r(u,v,n))){for(s=i;--s;){var g=a[s];if(!(g?gX(g,v):r(e[s],v,n)))continue e}p&&p.push(v),u.push(m)}}return u}var Y0t=W0t,q0t=$A;function G0t(e){return q0t(e)?e:[]}var K0t=G0t,Z0t=nu,X0t=Y0t,Q0t=P1,J0t=K0t,e1t=Q0t(function(e){var t=Z0t(e,J0t);return t.length&&t[0]===e[0]?X0t(t):[]}),t1t=e1t;const c5=Pe(t1t);var n1t=tke,r1t=n1t(Object.getPrototypeOf,Object),M7=r1t,o1t=_h,i1t=M7,s1t=fl,a1t="[object Object]",l1t=Function.prototype,c1t=Object.prototype,Lke=l1t.toString,u1t=c1t.hasOwnProperty,d1t=Lke.call(Object);function f1t(e){if(!s1t(e)||o1t(e)!=a1t)return!1;var t=i1t(e);if(t===null)return!0;var n=u1t.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Lke.call(n)==d1t}var Bke=f1t;const Tr=Pe(Bke);var vX=Dke;function h1t(e,t,n){t=="__proto__"&&vX?vX(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var RA=h1t,p1t=RA,m1t=xA,g1t=Object.prototype,v1t=g1t.hasOwnProperty;function y1t(e,t,n){var r=e[t];(!(v1t.call(e,t)&&m1t(r,n))||n===void 0&&!(t in e))&&p1t(e,t,n)}var F7=y1t,b1t=F7,x1t=D1,w1t=AA,yX=dl,C1t=lg;function _1t(e,t,n,r){if(!yX(e))return e;t=x1t(t,e);for(var o=-1,i=t.length,s=i-1,a=e;a!=null&&++o<i;){var l=C1t(t[o]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(o!=s){var d=a[l];u=r?r(d,l,a):void 0,u===void 0&&(u=yX(d)?d:w1t(t[o+1])?[]:{})}b1t(a,l,u),a=a[l]}return e}var S1t=_1t,E1t=RC,k1t=S1t,j1t=D1;function T1t(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=E1t(e,s);n(a,s)&&k1t(i,j1t(s,e),a)}return i}var Nke=T1t,A1t=Nke,D1t=Ske;function P1t(e,t){return A1t(e,t,function(n,r){return D1t(e,r)})}var I1t=P1t,O1t=A1;function $1t(e){var t=e==null?0:e.length;return t?O1t(e,1):[]}var zke=$1t;const $n=Pe(zke);var R1t=zke,M1t=Ake,F1t=Pke;function L1t(e){return F1t(M1t(e,void 0,R1t),e+"")}var L7=L1t,B1t=I1t,N1t=L7,z1t=N1t(function(e,t){return e==null?{}:B1t(e,t)}),V1t=z1t;const St=Pe(V1t),B7=ne.createContext(null);function oc(){const e=h.useContext(B7);if(!e)throw new Error("Router: missing context value");return e}function H1t(e){return e.button===0}function U1t(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function N7(e){const{onClick:t,href:n,target:r,replace:o=!1}=e,{navigateUrl:i}=oc();return{onClick:h.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(U1t(a)||!H1t(a))&&(r||(a.preventDefault(),i({path:n,replace:o}))))},[n,i,t,o,r])}}function MC(e){const{intent:t,onClick:n,params:r,replace:o,target:i}=e,{resolveIntentLink:s}=oc(),a=h.useMemo(()=>s(t,r),[t,r,s]),{onClick:l}=N7({href:a,onClick:n,replace:o,target:i});return{onClick:l,href:a}}const dg=h.forwardRef(function(t,n){const{intent:r,params:o,target:i,...s}=t,{onClick:a,href:l}=MC({intent:r,params:o,target:i,onClick:t.onClick});return c.jsx("a",{...s,href:l,onClick:a,ref:n,target:i})});h.forwardRef(function(t,n){const{onClick:r,href:o,target:i,replace:s,...a}=t,{onClick:l}=N7({onClick:r,href:o,target:i,replace:s});return c.jsx("a",{...a,onClick:l,href:o,target:i,ref:n})});function W1t(e,t,n){return n&&{...e,[t]:n}}function Y1t(e){const{children:t,scope:n,__unsafe_disableScopedSearchParams:r}=e,o=oc(),{resolvePathFromState:i,navigate:s}=o,a=h.useRef(o.state);a.current=o.state;const l=h.useCallback(p=>{const{_searchParams:m,...v}=p,g=W1t(a.current,n,v);return r?g._searchParams=m:g[n]._searchParams=m,g},[n,r]),u=h.useCallback(p=>i(l(p)),[i,l]),d=h.useCallback(p=>s(l(p)),[s,l]),f=h.useMemo(()=>{const p=o.state,m={...p[n]||{}};return r&&(m._searchParams=p._searchParams),{...o,navigate:d,resolvePathFromState:u,state:m}},[n,o,d,u,r]);return c.jsx(B7.Provider,{value:f,children:t})}function q1t(e){const{onNavigate:t,router:n,state:r}=e,o=h.useCallback((u,d)=>{const[f,p]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:p})},[n]),i=h.useCallback(u=>n.encode(u),[n]),s=h.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t({path:i(u),replace:d.replace})},[t,i]),a=h.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t({path:o(u,d),replace:f.replace})},[t,o]),l=h.useMemo(()=>({navigate:s,navigateIntent:a,navigateUrl:t,resolveIntentLink:o,resolvePathFromState:i,state:r}),[s,a,t,o,i,r]);return c.jsx(B7.Provider,{value:l,children:e.children})}const bX={};function Vke(e){const{onClick:t,replace:n,state:r,target:o,toIndex:i=!1}=e;if(r&&i)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!i&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:s}=oc(),a=h.useMemo(()=>s(i?bX:r||bX),[s,r,i]),{onClick:l}=N7({href:a,onClick:t,replace:n,target:o});return{onClick:l,href:a}}const MA=h.forwardRef(function(t,n){const{onClick:r,replace:o,state:i,target:s,toIndex:a=!1,...l}=t,{onClick:u,href:d}=Vke({onClick:r,replace:o,state:i,target:s,toIndex:a});return c.jsx("a",{...l,href:d,onClick:u,ref:n})}),G1t=/^[a-zA-Z0-9_-]+$/;function K1t(e){if(!e)return null;if(e.startsWith(":")){const t=e.substring(1);if(!G1t.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(n)))}return{type:"param",name:t}}return{type:"dir",name:e}}function Z1t(e){const[t]=e.split("?"),n=t.split("/").map(K1t).filter(Boolean);return{raw:e,segments:n}}const TF=yf("state-router");function Hke(e){return Array.isArray(e)?e:e?[e]:[]}function X1t(e){return e.map(t=>{let[n,r]=t;return[Q1t(n),r]})}const IO=1,xX=0;function Q1t(e){const t=[];let n=0,r=xX;for(;n<e.length;){const o=e.indexOf("[",n);if(o===-1){t.push(e.slice(n,e.length));break}if(r===IO)throw new Error("Nested brackets not supported");r=IO,o>n&&(t.push(e.slice(n,o)),n=o);const i=e.indexOf("]",o);if(i===-1){if(r===IO)throw new Error("Unclosed bracket");break}r=xX,t.push(e.slice(n+1,i)),n=i+1}return t}function Uke(e,t,n){const r=t.split("/").filter(Boolean),o=e.route.segments.length;if(r.length<o)return null;const i={};if(!e.route.segments.every((m,v)=>{if(m.type==="dir")return m.name===r[v];const g=e.transform&&e.transform[m.name];return i[m.name]=g?g.toState(r[v]):r[v],!0}))return null;const a=r.slice(o);let l=null;const u=typeof e.children=="function"?Hke(e.children(i)):e.children,d=eyt(e.scope,n);if(u.some(m=>{if(m){const v=m.scope?d.filter(g=>{let[y]=g;return m.scope===y[0]}):d;return l=Uke(m,a.join("/"),v),l}}),a.length>0&&!l)return null;const f=d.flatMap(m=>{let[v,g]=m;return v.length===1?[[v[0],g]]:[]}),p={...i,...l||{},...f.length>0?{_searchParams:f}:{}};return e.scope?{[e.scope]:p}:p}function J1t(e,t){TF("resolving state from path %s",t);const[n,r]=t.split("?"),o=Array.from(new URLSearchParams(r).entries()),i=Uke(e,n,X1t(o));return TF("resolved: %o",i||null),i||null}function eyt(e,t){return e?t.map(n=>{let[r,o]=n;return[r[0]===e?r.slice(1):r,o]}):t}function wX(e){return Tr(e)}function OO(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function $O(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function Wke(e,t){if(!t)return $O(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...o}=n||{},i=e.route.segments.filter(y=>y.type==="param").map(y=>y.name),s=wX(o)?Object.keys(o):[],a=c5(s,i),l=Dm(i,a),u=Dm(s,a);if(l.length>0)return OO(e,l,[]);const d=r.map(y=>{let[x,b]=y;return[[x],b]}),f=St(o,a);if(u.length===0)return $O(e,f,d);const p=Hke((typeof e.children=="function"?e.children(wX(o)?o:{}):e.children)||[]);if(u.length>0&&p.length===0)return OO(e,[],u);const m=St(o,u),g=p.map(y=>Wke(y,m)).find(y=>y.type==="ok");return g?$O(e,f,d,g):OO(e,[],u)}function Yke(e,t){const n=[...String(e)];let r="";for(let o=0;o<n.length;o++){const i=n[o];t.includes(i)?r+=i:r+=encodeURIComponent(i)}return r}function tyt(e,t){TF("Resolving path from state %o",t);const n=Wke(e,t);if(n.type==="error"){const s=n.unmappableStateKeys;if(s.length>0)throw new Error("Unable to find matching route for state. Could not map the following state key".concat(s.length==1?"":"s"," to a valid url: ").concat(s.map(CX).join(", ")));const a=n.missingKeys;throw new Error("Unable to find matching route for state. State object is missing the following key".concat(a.length==1?"":"s"," defined in route: ").concat(a.map(CX).join(", ")))}const{path:r,searchParams:o}=qke(n),i=o.length>0?ryt(o):"";return"/".concat(r.join("/")).concat(i?"?".concat(i):"")}function nyt(e){return"[".concat(e,"]")}function ryt(e){return e.flatMap(t=>{let[n,r]=t;return r===void 0?[]:[syt(oyt(n)),iyt(r)].join("=")}).join("&")}function oyt(e){const[t,...n]=e;return n.length>0?[t,...n.map(nyt)].join(""):t}function iyt(e){return Yke(e,"/")}function syt(e){return Yke(e,"[]")}function qke(e){const t=e.matchedState,n=e.node.route.segments.map(i=>{if(i.type==="dir")return i.name;const s=e.node.transform&&e.node.transform[i.name];return s?s.toPath(t[i.name]):t[i.name]}),r=e.child?qke(e.child):void 0,o=r!=null&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:ayt(e.node,o),path:[...n||[],...(r==null?void 0:r.path)||[]]}}function ayt(e,t){const n=e.scope;return n&&!e.__unsafe_disableScopedSearchParams?t.map(r=>{let[o,i]=r;return[[n,...o],i]}):t}function CX(e){return'"'.concat(e,'"')}function lyt(e){return dyt(e).replace(/\//g,"_").replace(/\+/g,"-").replace(/[=]+$/,"")}function cyt(e){return hyt(e.replace(/-/g,"+").replace(/_/g,"/"))}function uyt(e){return String.fromCharCode(parseInt(e.slice(1),16))}function dyt(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,uyt))}function fyt(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))}function hyt(e){return decodeURIComponent(Array.from(atob(e),fyt).join(""))}function Gke(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(cyt(t))}catch{}try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function Kke(e){return e?lyt(JSON.stringify(e)):""}function pyt(e){return e.split(";").reduce((t,n)=>{const[r,o]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(o),t},{})}function myt(e){return Object.entries(e).filter(t=>{let[,n]=t;return n!=null}).map(t=>{let[n,r]=t;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const Pi={create:(e,t,n)=>kX(SX(e,t,n)),intents:e=>{const t=vyt(e).join("/");return Pi.create("".concat(t,"/:intent"),[Pi.create(":params",{transform:{params:{toState:pyt,toPath:myt}}},[Pi.create(":payload",{transform:{payload:{toState:Gke,toPath:Kke}}})])])},scope(e,t,n,r){const o=SX(t,n,r);return kX({...o,scope:e})}};function _X(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function gyt(e){return e&&"_isRoute"in e}function SX(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||gyt(t)?{path:e,children:_X(t)}:n?{path:e,...t,children:_X(n)}:{path:e,...t}}function vyt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o.split("/")),[]).filter(Boolean)}const yyt={};function EX(e){return e.split("/").every(t=>!t)}function kX(e){const{path:t,scope:n,transform:r,children:o,__unsafe_disableScopedSearchParams:i}=e;if(!t)throw new TypeError("Missing path");const s=Z1t(t);return{_isRoute:!0,scope:n,__unsafe_disableScopedSearchParams:i,route:s,children:o||[],transform:r,encode(a){return tyt(this,a)},decode(a){return J1t(this,a)},isRoot:EX,isNotFound(a){return this.decode(a)===null},getBasePath(){return this.encode(yyt)},getRedirectBase(a){if(EX(a)){const l=this.getBasePath();if(a!==l)return l}return null}}}function FA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Eke;const{state:t}=oc();return h.useMemo(()=>e(t),[e,t])}function byt(e){function t(n){const r=oc();return c.jsx(e,{...n,router:r})}return t.displayName="withRouter(".concat(e.displayName||e.name,")"),t}byt(e=>e.children(e.router));function xyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fd.apply(this,arguments)}var AF="data-focus-lock",Zke="data-focus-lock-disabled",wyt="data-no-focus-lock",Cyt="data-autofocus-inside",_yt="data-no-autofocus";function Syt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Eyt(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function kyt(e,t){return Eyt(t||null,function(n){return e.forEach(function(r){return Syt(r,n)})})}var RO={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function Xke(e){return e}function Qke(e,t){t===void 0&&(t=Xke);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function z7(e,t){return t===void 0&&(t=Xke),Qke(e,t)}function jyt(e){e===void 0&&(e={});var t=Qke(null);return t.options=Po({async:!0,ssr:!1},e),t}var Jke=z7({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),e5e=z7(),Tyt=z7(),Ayt=jyt({async:!0}),Dyt=[],V7=h.forwardRef(function(t,n){var r,o=h.useState(),i=o[0],s=o[1],a=h.useRef(),l=h.useRef(!1),u=h.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,v=t.crossFrame,g=t.autoFocus;t.allowTextSelection;var y=t.group,x=t.className,b=t.whiteList,w=t.hasPositiveIndices,C=t.shards,_=C===void 0?Dyt:C,S=t.as,E=S===void 0?"div":S,j=t.lockProps,k=j===void 0?{}:j,T=t.sideCar,A=t.returnFocus,D=t.focusOptions,P=t.onActivation,I=t.onDeactivation,R=h.useState({}),O=R[0],V=h.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&P&&P(a.current),l.current=!0},[P]),B=h.useCallback(function(){l.current=!1,I&&I(a.current)},[I]);h.useEffect(function(){f||(u.current=null)},[]);var H=h.useCallback(function(Z){var ie=u.current;if(ie&&ie.focus){var re=typeof A=="function"?A(ie):A;if(re){var K=typeof re=="object"?re:void 0;u.current=null,Z?Promise.resolve().then(function(){return ie.focus(K)}):ie.focus(K)}}},[A]),W=h.useCallback(function(Z){l.current&&Jke.useMedium(Z)},[]),z=e5e.useMedium,G=h.useCallback(function(Z){a.current!==Z&&(a.current=Z,s(Z))},[]),ee=fd((r={},r[Zke]=f&&"disabled",r[AF]=y,r),k),N=p!==!0,Y=N&&p!=="tail",q=kyt([n,G]);return h.createElement(h.Fragment,null,N&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:RO}),w?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:RO}):null],!f&&h.createElement(T,{id:O,sideCar:Ayt,observed:i,disabled:f,persistentFocus:m,crossFrame:v,autoFocus:g,whiteList:b,shards:_,onActivation:V,onDeactivation:B,returnFocus:H,focusOptions:D}),h.createElement(E,fd({ref:q},ee,{className:x,onBlur:z,onFocus:W}),d),Y&&h.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:RO}))});V7.propTypes={};V7.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const t5e=V7;function u5(e,t){return u5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},u5(e,t)}function Pyt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u5(e,t)}function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function Iyt(e,t){if(Kl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n5e(e){var t=Iyt(e,"string");return Kl(t)==="symbol"?t:String(t)}function Fe(e,t,n){return t=n5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oyt(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var i=[],s;function a(){s=e(i.map(function(u){return u.props})),t(s)}var l=function(u){Pyt(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return ne.createElement(o,this.props)},d}(h.PureComponent);return Fe(l,"displayName","SideEffect("+n(o)+")"),l}}var ou=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},d5=function(e){return Array.isArray(e)?e:[e]},r5e=function(e){return Array.isArray(e)?e[0]:e},$yt=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},o5e=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},i5e=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Ryt=function(e,t){return!e||i5e(e)||!$yt(e)&&t(o5e(e))},s5e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Ryt(t,s5e.bind(void 0,e));return e.set(t,r),r},Myt=function(e,t){return e&&!i5e(e)?Byt(e)?t(o5e(e)):!1:!0},a5e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Myt(t,a5e.bind(void 0,e));return e.set(t,r),r},l5e=function(e){return e.dataset},Fyt=function(e){return e.tagName==="BUTTON"},c5e=function(e){return e.tagName==="INPUT"},u5e=function(e){return c5e(e)&&e.type==="radio"},Lyt=function(e){return!((c5e(e)||Fyt(e))&&(e.type==="hidden"||e.disabled))},Byt=function(e){var t=e.getAttribute(_yt);return![!0,"true",""].includes(t)},H7=function(e){var t;return!!(e&&(!((t=l5e(e))===null||t===void 0)&&t.focusGuard))},f5=function(e){return!H7(e)},Nyt=function(e){return!!e},zyt=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},d5e=function(e,t,n){return ou(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(zyt)},Vyt=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],U7=Vyt.join(","),Hyt="".concat(U7,", [data-focus-guard]"),f5e=function(e,t){return ou((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?Hyt:U7)?[r]:[],f5e(r))},[])},Uyt=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?LA([e.contentDocument.body],t):[e]},LA=function(e,t){return e.reduce(function(n,r){var o,i=f5e(r,t),s=(o=[]).concat.apply(o,i.map(function(a){return Uyt(a,t)}));return n.concat(s,r.parentNode?ou(r.parentNode.querySelectorAll(U7)).filter(function(a){return a===r}):[])},[])},Wyt=function(e){var t=e.querySelectorAll("[".concat(Cyt,"]"));return ou(t).map(function(n){return LA([n])}).reduce(function(n,r){return n.concat(r)},[])},W7=function(e,t){return ou(e).filter(function(n){return s5e(t,n)}).filter(function(n){return Lyt(n)})},jX=function(e,t){return t===void 0&&(t=new Map),ou(e).filter(function(n){return a5e(t,n)})},DF=function(e,t,n){return d5e(W7(LA(e,n),t),!0,n)},TX=function(e,t){return d5e(W7(LA(e),t),!1)},Yyt=function(e,t){return W7(Wyt(e),t)},Xv=function(e,t){return e.shadowRoot?Xv(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:ou(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?Xv(o,t):!1}return Xv(n,t)})},qyt=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},h5e=function(e){return e.parentNode?h5e(e.parentNode):e},Y7=function(e){var t=d5(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(AF);return n.push.apply(n,o?qyt(ou(h5e(r).querySelectorAll("[".concat(AF,'="').concat(o,'"]:not([').concat(Zke,'="disabled"])')))):[r]),n},[])},Gyt=function(e){try{return e()}catch{return}},uw=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?uw(t.shadowRoot):t instanceof HTMLIFrameElement&&Gyt(function(){return t.contentWindow.document})?uw(t.contentWindow.document):t}},Kyt=function(e,t){return e===t},Zyt=function(e,t){return!!ou(e.querySelectorAll("iframe")).some(function(n){return Kyt(n,t)})},p5e=function(e,t){return t===void 0&&(t=uw(r5e(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:Y7(e).some(function(n){return Xv(n,t)||Zyt(n,t)})},Xyt=function(e){e===void 0&&(e=document);var t=uw(e);return t?ou(e.querySelectorAll("[".concat(wyt,"]"))).some(function(n){return Xv(n,t)}):!1},Qyt=function(e,t){return t.filter(u5e).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},q7=function(e,t){return u5e(e)&&e.name?Qyt(e,t):e},Jyt=function(e){var t=new Set;return e.forEach(function(n){return t.add(q7(n,e))}),e.filter(function(n){return t.has(n)})},AX=function(e){return e[0]&&e.length>1?q7(e[0],e):e[0]},DX=function(e,t){return e.length>1?e.indexOf(q7(e[t],e)):t},m5e="NEW_FOCUS",ebt=function(e,t,n,r){var o=e.length,i=e[0],s=e[o-1],a=H7(n);if(!(n&&e.indexOf(n)>=0)){var l=n!==void 0?t.indexOf(n):-1,u=r?t.indexOf(r):l,d=r?e.indexOf(r):-1,f=l-u,p=t.indexOf(i),m=t.indexOf(s),v=Jyt(t),g=n!==void 0?v.indexOf(n):-1,y=g-(r?v.indexOf(r):l),x=DX(e,0),b=DX(e,o-1);if(l===-1||d===-1)return m5e;if(!f&&d>=0)return d;if(l<=p&&a&&Math.abs(f)>1)return b;if(l>=m&&a&&Math.abs(f)>1)return x;if(f&&Math.abs(y)>1)return d;if(l<=p)return b;if(l>m)return x;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},tbt=function(e){return function(t){var n,r=(n=l5e(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},nbt=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),o=jX(r.filter(tbt(n)));return o&&o.length?AX(o):AX(jX(t))},PF=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&PF(e.parentNode.host||e.parentNode,t),t},MO=function(e,t){for(var n=PF(e),r=PF(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},g5e=function(e,t,n){var r=d5(e),o=d5(t),i=r[0],s=!1;return o.filter(Boolean).forEach(function(a){s=MO(s||a,a)||s,n.filter(Boolean).forEach(function(l){var u=MO(i,l);u&&(!s||Xv(u,s)?s=u:s=MO(u,s))})}),s},rbt=function(e,t){return e.reduce(function(n,r){return n.concat(Yyt(r,t))},[])},obt=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(Nyt)},ibt=function(e,t){var n=uw(d5(e).length>0?document:r5e(e).ownerDocument),r=Y7(e).filter(f5),o=g5e(n||e,e,r),i=new Map,s=TX(r,i),a=DF(r,i).filter(function(m){var v=m.node;return f5(v)});if(!(!a[0]&&(a=s,!a[0]))){var l=TX([o],i).map(function(m){var v=m.node;return v}),u=obt(l,a),d=u.map(function(m){var v=m.node;return v}),f=ebt(d,l,n,t);if(f===m5e){var p=nbt(s,d,rbt(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},sbt=function(e){var t=Y7(e).filter(f5),n=g5e(e,e,t),r=new Map,o=DF([n],r,!0),i=DF(t,r).filter(function(s){var a=s.node;return f5(a)}).map(function(s){var a=s.node;return a});return o.map(function(s){var a=s.node,l=s.index;return{node:a,index:l,lockItem:i.indexOf(a)>=0,guard:H7(a)}})},abt=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},FO=0,LO=!1,v5e=function(e,t,n){n===void 0&&(n={});var r=ibt(e,t);if(!LO&&r){if(FO>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),LO=!0,setTimeout(function(){LO=!1},1);return}FO++,abt(r.node,n.focusOptions),FO--}};function G7(e){setTimeout(e,1)}var lbt=function(){return document&&document.activeElement===document.body},cbt=function(){return lbt()||Xyt()},Qv=null,Tv=null,Jv=null,dw=!1,ubt=function(){return!0},dbt=function(t){return(Qv.whiteList||ubt)(t)},fbt=function(t,n){Jv={observerNode:t,portaledElement:n}},hbt=function(t){return Jv&&Jv.portaledElement===t};function PX(e,t,n,r){var o=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==e)return;o=null}else break}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var pbt=function(t){return t&&"current"in t?t.current:t},mbt=function(t){return t?!!dw:dw==="meanwhile"},gbt=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},vbt=function(t,n){return n.some(function(r){return gbt(t,r,r)})},h5=function(){var t=!1;if(Qv){var n=Qv,r=n.observed,o=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,l=n.focusOptions,u=r||Jv&&Jv.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(s.map(pbt).filter(Boolean));if((!d||dbt(d))&&(o||mbt(a)||!cbt()||!Tv&&i)&&(u&&!(p5e(f)||d&&vbt(d,f)||hbt(d))&&(document&&!Tv&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=v5e(f,Tv,{focusOptions:l}),Jv={})),dw=!1,Tv=document&&document.activeElement),document){var p=document&&document.activeElement,m=sbt(f),v=m.map(function(g){var y=g.node;return y}).indexOf(p);v>-1&&(m.filter(function(g){var y=g.guard,x=g.node;return y&&x.dataset.focusAutoGuard}).forEach(function(g){var y=g.node;return y.removeAttribute("tabIndex")}),PX(v,m.length,1,m),PX(v,-1,-1,m))}}}return t},y5e=function(t){h5()&&t&&(t.stopPropagation(),t.preventDefault())},K7=function(){return G7(h5)},ybt=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||fbt(r,n)},bbt=function(){return null},b5e=function(){dw="just",G7(function(){dw="meanwhile"})},xbt=function(){document.addEventListener("focusin",y5e),document.addEventListener("focusout",K7),window.addEventListener("blur",b5e)},wbt=function(){document.removeEventListener("focusin",y5e),document.removeEventListener("focusout",K7),window.removeEventListener("blur",b5e)};function Cbt(e){return e.filter(function(t){var n=t.disabled;return!n})}function _bt(e){var t=e.slice(-1)[0];t&&!Qv&&xbt();var n=Qv,r=n&&t&&t.id===n.id;Qv=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var i=o.id;return i===n.id}).length||n.returnFocus(!t)),t?(Tv=null,(!r||n.observed!==t.observed)&&t.onActivation(),h5(),G7(h5)):(wbt(),Tv=null)}Jke.assignSyncMedium(ybt);e5e.assignMedium(K7);Tyt.assignMedium(function(e){return e({moveFocusInside:v5e,focusInside:p5e})});const Sbt=Oyt(Cbt,_bt)(bbt);var x5e=h.forwardRef(function(t,n){return h.createElement(t5e,fd({sideCar:Sbt,ref:n},t))}),w5e=t5e.propTypes||{};w5e.sideCar;xyt(w5e,["sideCar"]);x5e.propTypes={};const $h=x5e;var C5e={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var l in i)t.call(i,l)&&i[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(C5e);var Ebt=C5e.exports;const kbt=Pe(Ebt);function fg(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}var _5e={exports:{}},Tn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z7=Symbol.for("react.element"),X7=Symbol.for("react.portal"),BA=Symbol.for("react.fragment"),NA=Symbol.for("react.strict_mode"),zA=Symbol.for("react.profiler"),VA=Symbol.for("react.provider"),HA=Symbol.for("react.context"),jbt=Symbol.for("react.server_context"),UA=Symbol.for("react.forward_ref"),WA=Symbol.for("react.suspense"),YA=Symbol.for("react.suspense_list"),qA=Symbol.for("react.memo"),GA=Symbol.for("react.lazy"),Tbt=Symbol.for("react.offscreen"),S5e;S5e=Symbol.for("react.module.reference");function ml(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Z7:switch(e=e.type,e){case BA:case zA:case NA:case WA:case YA:return e;default:switch(e=e&&e.$$typeof,e){case jbt:case HA:case UA:case GA:case qA:case VA:return e;default:return t}}case X7:return t}}}Tn.ContextConsumer=HA;Tn.ContextProvider=VA;Tn.Element=Z7;Tn.ForwardRef=UA;Tn.Fragment=BA;Tn.Lazy=GA;Tn.Memo=qA;Tn.Portal=X7;Tn.Profiler=zA;Tn.StrictMode=NA;Tn.Suspense=WA;Tn.SuspenseList=YA;Tn.isAsyncMode=function(){return!1};Tn.isConcurrentMode=function(){return!1};Tn.isContextConsumer=function(e){return ml(e)===HA};Tn.isContextProvider=function(e){return ml(e)===VA};Tn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Z7};Tn.isForwardRef=function(e){return ml(e)===UA};Tn.isFragment=function(e){return ml(e)===BA};Tn.isLazy=function(e){return ml(e)===GA};Tn.isMemo=function(e){return ml(e)===qA};Tn.isPortal=function(e){return ml(e)===X7};Tn.isProfiler=function(e){return ml(e)===zA};Tn.isStrictMode=function(e){return ml(e)===NA};Tn.isSuspense=function(e){return ml(e)===WA};Tn.isSuspenseList=function(e){return ml(e)===YA};Tn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===BA||e===zA||e===NA||e===WA||e===YA||e===Tbt||typeof e=="object"&&e!==null&&(e.$$typeof===GA||e.$$typeof===qA||e.$$typeof===VA||e.$$typeof===HA||e.$$typeof===UA||e.$$typeof===S5e||e.getModuleId!==void 0)};Tn.typeOf=ml;_5e.exports=Tn;var ic=_5e.exports;const Abt="modulepreload",Dbt=function(e){return"/"+e},IX={},Q7=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Dbt(i),i in IX)return;IX[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":Abt,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},Pbt=typeof navigator>"u"?!1:navigator.product==="ReactNative",E5e={timeout:Pbt?6e4:12e4},Ibt=function(t){const n={...E5e,...typeof t=="string"?{url:t}:t},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=k5e(n.timeout),n.query){for(const[s,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const l of a)r.append(s,l);else r.append(s,a)}const[o]=n.url.split("?"),i=r.toString();return i&&(n.url="".concat(o,"?").concat(i)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function k5e(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?k5e(E5e.timeout):{connect:t,socket:t}}const Obt=/^https?:\/\//i,$bt=function(t){if(!Obt.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var BO=function(e){return e.replace(/^\s+|\s+$/g,"")},Rbt=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Mbt=function(e){if(!e)return{};for(var t={},n=BO(e).split(`
`),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":"),s=BO(o.slice(0,i)).toLowerCase(),a=BO(o.slice(i+1));typeof t[s]>"u"?t[s]=a:Rbt(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};const Fbt=Pe(Mbt),Lbt=e=>function(n,r){const o=n==="onError";let i=r;for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];for(let u=0;u<e[n].length;u++){const d=e[n][u];if(i=d(i,...a),o&&!i)break}return i};function Bbt(){const e=Object.create(null);let t=0;function n(o){const i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(const i in e)e[i](o)}return{publish:r,subscribe:n}}const Nbt=["request","response","progress","error","abort"],OX=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function j5e(e,t){const n=[],r=OX.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[Ibt],validateOptions:[$bt]});function o(i){const s=(v,g,y)=>{let x=v,b=g;if(!x)try{b=l("onResponse",g,y)}catch(w){b=null,x=w}x=x&&l("onError",x,y),x?a.error.publish(x):b&&a.response.publish(b)},a=Nbt.reduce((v,g)=>(v[g]=Bbt(),v),{}),l=Lbt(r),u=l("processOptions",i);l("validateOptions",u);const d={options:u,channels:a,applyMiddleware:l};let f;const p=a.request.subscribe(v=>{f=t(v,(g,y)=>s(g,y,v))});a.abort.subscribe(()=>{p(),f&&f.abort()});const m=l("onReturn",a,d);return m===a&&a.request.publish(d),m}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return OX.forEach(a=>{s[a]&&r[a].push(s[a])}),n.push(s),o},o.clone=()=>j5e(n,t),e.forEach(o.use),o}var T5e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Pa=(e,t,n)=>(T5e(e,t,"read from private field"),n?n.call(e):t.get(e)),ep=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Hd=(e,t,n,r)=>(T5e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),lE,cE,Jg,uE,Zd,dE,fE;class A5e{constructor(){this.readyState=0,this.responseType="",ep(this,lE,void 0),ep(this,cE,void 0),ep(this,Jg,void 0),ep(this,uE,{}),ep(this,Zd,void 0),ep(this,dE,{}),ep(this,fE,void 0)}open(t,n,r){Hd(this,lE,t),Hd(this,cE,n),Hd(this,Jg,""),this.readyState=1,this.onreadystatechange(),Hd(this,Zd,void 0)}abort(){Pa(this,Zd)&&Pa(this,Zd).abort()}getAllResponseHeaders(){return Pa(this,Jg)}setRequestHeader(t,n){Pa(this,uE)[t]=n}setInit(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Hd(this,dE,t),Hd(this,fE,n)}send(t){const n=this.responseType!=="arraybuffer",r={...Pa(this,dE),method:Pa(this,lE),headers:Pa(this,uE),body:t};typeof AbortController=="function"&&Pa(this,fE)&&(Hd(this,Zd,new AbortController),typeof EventTarget<"u"&&Pa(this,Zd).signal instanceof EventTarget&&(r.signal=Pa(this,Zd).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(Pa(this,cE),r).then(o=>(o.headers.forEach((i,s)=>{Hd(this,Jg,Pa(this,Jg)+"".concat(s,": ").concat(i,`\r
`))}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,n?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var i;if(o.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,o)})}}lE=new WeakMap;cE=new WeakMap;Jg=new WeakMap;uE=new WeakMap;Zd=new WeakMap;dE=new WeakMap;fE=new WeakMap;const IF=typeof XMLHttpRequest=="function"?"xhr":"fetch",zbt=IF==="xhr"?XMLHttpRequest:A5e,Vbt=(e,t)=>{var n;const r=e.options,o=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:IF,context:e});if(s){const C=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(C)}}let a=new zbt;a instanceof A5e&&typeof o.fetch=="object"&&a.setInit(o.fetch,(n=o.useAbortSignal)!=null?n:!0);const l=o.headers,u=o.timeout;let d=!1,f=!1,p=!1;if(a.onerror=C=>{x(new Error("Request error while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.ontimeout=C=>{x(new Error("Request timeout while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.onabort=()=>{y(!0),d=!0},a.onreadystatechange=()=>{g(),!(d||a.readyState!==4)&&a.status!==0&&w()},a.open(o.method,o.url,!0),a.withCredentials=!!o.withCredentials,l&&a.setRequestHeader)for(const C in l)l.hasOwnProperty(C)&&a.setRequestHeader(C,l[C]);return o.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:o,adapter:IF,request:a,context:e}),a.send(o.body||null),u&&(i.connect=setTimeout(()=>v("ETIMEDOUT"),u.connect)),{abort:m};function m(){d=!0,a&&a.abort()}function v(C){p=!0,a.abort();const _=new Error(C==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(o.url):"Connection timed out on request to ".concat(o.url));_.code=C,e.channels.error.publish(_)}function g(){u&&(y(),i.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),u.socket))}function y(C){(C||d||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(C){if(f)return;y(!0),f=!0,a=null;const _=C||new Error("Network error while attempting to reach ".concat(o.url));_.isNetworkError=!0,_.request=o,t(_)}function b(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:o.url,method:o.method,headers:Fbt(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function w(){if(!(d||f||p)){if(a.status===0){x(new Error("Unknown XHR error"));return}y(),f=!0,t(null,b())}}},Hbt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vbt;return j5e(e,t)};var $X={exports:{}};function Ubt(e){n.debug=n,n.default=n,n.coerce=l,n.disable=i,n.enable=o,n.enabled=s,n.humanize=OA(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,m,v;function g(...y){if(!g.enabled)return;const x=g,b=Number(new Date),w=b-(f||b);x.diff=w,x.prev=f,x.curr=b,f=b,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let C=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(S,E)=>{if(S==="%%")return"%";C++;const j=n.formatters[E];if(typeof j=="function"){const k=y[C];S=j.call(x,k),y.splice(C,1),C--}return S}),n.formatArgs.call(x,y),(x.log||n.log).apply(x,y)}return g.namespace=d,g.useColors=n.useColors(),g.color=n.selectColor(d),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,v=n.enabled(d)),v),set:y=>{p=y}}),typeof n.init=="function"&&n.init(g),g}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function l(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Wbt=Ubt;(function(e,t){t.formatArgs=r,t.save=o,t.load=i,t.useColors=n,t.storage=s(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,f=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),l.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function i(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function s(){try{return localStorage}catch{}}e.exports=Wbt(t);const{formatters:a}=e.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})($X,$X.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function RX(e){return Object.prototype.toString.call(e)==="[object Object]"}function ii(e){var t,n;return RX(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(RX(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const Ybt=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e),qbt=["boolean","string","number"];function Gbt(){return{processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!Ybt(t)&&(qbt.indexOf(typeof t)!==-1||Array.isArray(t)||ii(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function Kbt(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!o?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let bb={};typeof globalThis<"u"?bb=globalThis:typeof window<"u"?bb=window:typeof global<"u"?bb=global:typeof self<"u"&&(bb=self);var Zbt=bb;function Xbt(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||Zbt.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(o=>(n.error.subscribe(i=>o.error(i)),n.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),n.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function Qbt(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class Jbt{constructor(t){this.__CANCEL__=!0,this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const MX=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),t(r=>{this.reason||(this.reason=new Jbt(r),n(this.reason))})}};MX.source=()=>{let e;return{token:new MX(n=>{e=n}),cancel:e}};var D5e=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const ext=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var txt=e=>{const t=e.maxRetries||5,n=e.retryDelay||nxt,r=e.shouldRetry;return{onError:(o,i)=>{const s=i.options,a=s.maxRetries||t,l=s.shouldRetry||r,u=s.attemptNumber||0;if(ext(s.body)||!l(o,u,s)||u>=a)return o;const d=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:u+1})});return setTimeout(()=>i.channels.request.publish(d),n(u)),null}}};function nxt(e){return 100*Math.pow(2,e)+Math.random()*100}const J7=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return txt({shouldRetry:D5e,...e})};J7.shouldRetry=D5e;const NO=5;class rxt extends Error{constructor(t){const n=P5e(t);super(n.message),this.statusCode=400,Object.assign(this,n)}}class oxt extends Error{constructor(t){const n=P5e(t);super(n.message),this.statusCode=500,Object.assign(this,n)}}function P5e(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:axt(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message="".concat(t.error," - ").concat(t.message),n;if(ixt(t)){const r=t.error.items||[],o=r.slice(0,NO).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- `.concat(o.join(`
- `)):"";return r.length>NO&&(i+=`
...and `.concat(r.length-NO," more")),n.message="".concat(t.error.description).concat(i),n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||sxt(e),n)}function ixt(e){return FX(e)&&FX(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function FX(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function sxt(e){const t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function axt(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const lxt={onResponse:e=>{if(e.statusCode>=500)throw new oxt(e);if(e.statusCode>=400)throw new rxt(e);return e}},cxt={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function LX(e,t){let{maxRetries:n=5,retryDelay:r}=t;const o=Hbt([n>0?J7({retryDelay:r,maxRetries:n,shouldRetry:uxt}):{},...e,cxt,Gbt(),Kbt(),Qbt(),lxt,Xbt({implementation:mt})]);function i(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:o)({maxRedirects:0,...s})}return i.defaultRequester=o,i}function uxt(e,t,n){const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&s?!0:J7.shouldRetry(e,t,n)}function I5e(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const BX=["image","file"],NX=["before","after","replace"],O5e=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},dxt=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},fxt=e=>{if(BX.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(BX.join(", ")))},ox=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))},$5e=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))},p5=(e,t)=>{if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));$5e(e,t._id)},hxt=(e,t,n)=>{const r="insert(at, selector, items)";if(NX.indexOf(e)===-1){const o=NX.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},R5e=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},M5e=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};var F5e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},e0=(e,t,n)=>(F5e(e,t,"read from private field"),n?n.call(e):t.get(e)),L5e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},B5e=(e,t,n,r)=>(F5e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ev,tv;class N5e{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return ox("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return hxt(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after","".concat(t,"[-1]"),n)}prepend(t,n){return this.insert("before","".concat(t,"[0]"),n)}splice(t,n,r,o){const i=typeof r>"u"||r===-1,s=n<0?n-1:n,a=i?-1:Math.max(0,n+r),l=s<0&&a>=0?"":a,u="".concat(t,"[").concat(s,":").concat(l,"]");return this.insert("replace",u,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...I5e(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return ox(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}const pxt=class z5e extends N5e{constructor(t,n,r){super(t,n),L5e(this,ev,void 0),B5e(this,ev,r)}clone(){return new z5e(this.selection,{...this.operations},e0(this,ev))}commit(t){if(!e0(this,ev))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return e0(this,ev).mutate({patch:this.serialize()},r)}};ev=new WeakMap;let ix=pxt;const mxt=class V5e extends N5e{constructor(t,n,r){super(t,n),L5e(this,tv,void 0),B5e(this,tv,r)}clone(){return new V5e(this.selection,{...this.operations},e0(this,tv))}commit(t){if(!e0(this,tv))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return e0(this,tv).mutate({patch:this.serialize()},r)}};tv=new WeakMap;let sx=mxt;var H5e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},bf=(e,t,n)=>(H5e(e,t,"read from private field"),n?n.call(e):t.get(e)),U5e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},W5e=(e,t,n,r)=>(H5e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),gp,vp;const Y5e={returnDocuments:!1};class q5e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.operations=t,this.trxId=n}create(t){return ox("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return ox(n,t),p5(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return ox(n,t),p5(n,t),this._add({[n]:t})}delete(t){return $5e("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const gxt=class G5e extends q5e{constructor(t,n,r){super(t,r),U5e(this,gp,void 0),W5e(this,gp,n)}clone(){return new G5e([...this.operations],bf(this,gp),this.trxId)}commit(t){if(!bf(this,gp))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return bf(this,gp).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Y5e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof sx)return this._add({patch:t.serialize()});if(r){const i=n(new sx(t,{},bf(this,gp)));if(!(i instanceof sx))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};gp=new WeakMap;let K5e=gxt;const vxt=class Z5e extends q5e{constructor(t,n,r){super(t,r),U5e(this,vp,void 0),W5e(this,vp,n)}clone(){return new Z5e([...this.operations],bf(this,vp),this.trxId)}commit(t){if(!bf(this,vp))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return bf(this,vp).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Y5e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof ix)return this._add({patch:t.serialize()});if(r){const i=n(new ix(t,{},bf(this,vp)));if(!(i instanceof ix))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};vp=new WeakMap;let X5e=vxt;const yxt="https://www.sanity.io/help/";function eB(e){return yxt+e}function bxt(e){let t=!1,n;return function(){return t||(n=e(...arguments),t=!0),n}}const KA=e=>bxt(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.warn(e.join(" "),...n)}),xxt=KA(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),wxt=KA(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Cxt=KA(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(eB("js-client-browser-token")," for more information and how to hide this warning.")]),_xt=KA(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(eB("js-client-api-version"))]),Sxt="apicdn.sanity.io",m5={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},Ext=["localhost","127.0.0.1","0.0.0.0"],kxt=e=>Ext.indexOf(e)!==-1,jxt=function(t){if(t==="1"||t==="X")return;const n=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},Q5e=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},J5e=(e,t)=>{const n=Object.assign({},t,e);n.apiVersion||_xt();const r=Object.assign({},m5,n),o=r.useProjectHostname;if(typeof Promise>"u"){const f=eB("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&Q5e(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");if("stega"in r&&r.stega!==void 0&&r.stega!==!1)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'false'.");const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&kxt(window.location.hostname);i&&s&&r.token&&r.ignoreBrowserTokenWarning!==!0?Cxt():typeof r.useCdn>"u"&&xxt(),o&&dxt(r.projectId),r.dataset&&O5e(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?M5e(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===m5.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,jxt(r.apiVersion);const a=r.apiHost.split("://",2),l=a[0],u=a[1],d=r.isDefaultApi?Sxt:u;return r.useProjectHostname?(r.url="".concat(l,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(l,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},Txt="X-Sanity-Project-ID";function Axt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=t.token||e.token;r&&(n.Authorization="Bearer ".concat(r)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[Txt]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const eje=e=>{let{query:t,params:n={},options:r={}}=e;const o=new URLSearchParams,{tag:i,...s}=r;i&&o.append("tag",i),o.append("query",t);for(const[a,l]of Object.entries(n))o.append("$".concat(a),JSON.stringify(l));for(const[a,l]of Object.entries(s))l&&o.append(a,"".concat(l));return"?".concat(o)},Dxt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,Pxt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:Dxt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},tB=e=>e.type==="response",Ixt=e=>e.body,Oxt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),$xt=11264;function tje(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=o.filterResponse===!1?d=>d:d=>d.result,{cache:s,next:a,...l}={useAbortSignal:typeof o.signal<"u",...o},u=typeof s<"u"||typeof a<"u"?{...l,fetch:{cache:s,next:a}}:l;return FC(e,t,"query",{query:n,params:r},u).pipe(le(i))}function nje(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:I1(e,"doc",n),json:!0,tag:r.tag};return LC(e,t,o).pipe(pt(tB),le(i=>i.body.documents&&i.body.documents[0]))}function rje(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:I1(e,"doc",n.join(",")),json:!0,tag:r.tag};return LC(e,t,o).pipe(pt(tB),le(i=>{const s=Oxt(i.body.documents||[],a=>a._id);return n.map(a=>s[a]||null)}))}function oje(e,t,n,r){return p5("createIfNotExists",n),ZA(e,t,n,"createIfNotExists",r)}function ije(e,t,n,r){return p5("createOrReplace",n),ZA(e,t,n,"createOrReplace",r)}function sje(e,t,n,r){return FC(e,t,"mutate",{mutations:[{delete:I5e(n)}]},r)}function aje(e,t,n,r){let o;n instanceof sx||n instanceof ix?o={patch:n.serialize()}:n instanceof K5e||n instanceof X5e?o=n.serialize():o=n;const i=Array.isArray(o)?o:[o],s=r&&r.transactionId||void 0;return FC(e,t,"mutate",{mutations:i,transactionId:s},r)}function FC(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=n==="mutate",s=n==="query",a=i?"":eje(r),l=!i&&a.length<$xt,u=l?a:"",d=o.returnFirst,{timeout:f,token:p,tag:m,headers:v}=o,g=I1(e,n,u),y={method:l?"GET":"POST",uri:g,json:!0,body:l?void 0:r,query:i&&Pxt(o),timeout:f,headers:v,token:p,tag:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:s,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal};return LC(e,t,y).pipe(pt(tB),le(Ixt),le(x=>{if(!i)return x;const b=x.results||[];if(o.returnDocuments)return d?b[0]&&b[0].document:b.map(_=>_.document);const w=d?"documentId":"documentIds",C=d?b[0]&&b[0].id:b.map(_=>_.id);return{transactionId:x.transactionId,results:b,[w]:C}}))}function ZA(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[r]:n},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return FC(e,t,"mutate",{mutations:[i]},s)}function LC(e,t,n){var r;const o=n.url||n.uri,i=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/")===0:n.canUseCdn;let a=i.useCdn&&s;const l=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(l&&n.tag!==null&&(n.query={tag:M5e(l),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/query/")===0){const f=(r=n.resultSourceMap)!=null?r:i.resultSourceMap;f!==void 0&&f!==!1&&(n.query={resultSourceMap:f,...n.query});const p=n.perspective||i.perspective;typeof p=="string"&&p!=="raw"&&(Q5e(p),n.query={perspective:p,...n.query},p==="previewDrafts"&&a&&(a=!1,wxt()))}const u=Axt(i,Object.assign({},n,{url:nB(e,o,a)})),d=new mt(f=>t(u,i.requester).subscribe(f));return n.signal?d.pipe(Rxt(n.signal)):d}function Zl(e,t,n){return LC(e,t,n).pipe(pt(o=>o.type==="response"),le(o=>o.body))}function I1(e,t,n){const r=e.config(),o=R5e(r),i="/".concat(t,"/").concat(o),s=n?"".concat(i,"/").concat(n):i;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function nB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:o}=e.config(),i=n?o:r;return"".concat(i,"/").concat(t.replace(/^\//,""))}function Rxt(e){return t=>new mt(n=>{const r=()=>n.error(Fxt(e));if(e&&e.aborted){r();return}const o=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),o.unsubscribe()}})}const Mxt=!!globalThis.DOMException;function Fxt(e){var t,n;if(Mxt)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var lje=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},g5=(e,t,n)=>(lje(e,t,"read from private field"),n?n.call(e):t.get(e)),v5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},y5=(e,t,n,r)=>(lje(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),hE,pE,mE,gE;class Lxt{constructor(t,n){v5(this,hE,void 0),v5(this,pE,void 0),y5(this,hE,t),y5(this,pE,n)}upload(t,n,r){return cje(g5(this,hE),g5(this,pE),t,n,r)}}hE=new WeakMap;pE=new WeakMap;class Bxt{constructor(t,n){v5(this,mE,void 0),v5(this,gE,void 0),y5(this,mE,t),y5(this,gE,n)}upload(t,n,r){const o=cje(g5(this,mE),g5(this,gE),t,n,r);return To(o.pipe(pt(i=>i.type==="response"),le(i=>i.body.document)))}}mE=new WeakMap;gE=new WeakMap;function cje(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};fxt(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=R5e(e.config()),a=n==="image"?"images":"files",l=Nxt(o,r),{tag:u,label:d,title:f,description:p,creditLine:m,filename:v,source:g}=l,y={label:d,title:f,description:p,filename:v,meta:i,creditLine:m};return g&&(y.sourceId=g.id,y.sourceName=g.name,y.sourceUrl=g.url),LC(e,t,{tag:u,method:"POST",timeout:l.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:l.contentType?{"Content-Type":l.contentType}:{},query:y,body:r})}function Nxt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var zxt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const Vxt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),Hxt=16e3-1200,Uxt=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],Wxt={includeResult:!0};function uje(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,l={...zxt(n,Wxt),tag:a},u=Vxt(l,Uxt),d=eje({query:e,params:t,options:{tag:a,...u}}),f="".concat(r).concat(I1(this,"listen",d));if(f.length>Hxt)return new mt(g=>g.error(new Error("Query too large for listener")));const p=l.events?l.events:["mutation"],m=p.indexOf("reconnect")!==-1,v={};return(o||i)&&(v.withCredentials=!0),o&&(v.headers={Authorization:"Bearer ".concat(o)}),new mt(g=>{let y;k().then(D=>{y=D}).catch(D=>{g.error(D),A()});let x,b=!1;function w(){b||(j(),!b&&y.readyState===y.CLOSED&&(E(),clearTimeout(x),x=setTimeout(T,100)))}function C(D){g.error(Yxt(D))}function _(D){const P=dje(D);return P instanceof Error?g.error(P):g.next(P)}function S(){b=!0,E(),g.complete()}function E(){y&&(y.removeEventListener("error",w),y.removeEventListener("channelError",C),y.removeEventListener("disconnect",S),p.forEach(D=>y.removeEventListener(D,_)),y.close())}function j(){m&&g.next({type:"reconnect"})}async function k(){const{default:D}=await Q7(()=>import("./browser-a6b12309.js").then(I=>I.b),[]),P=new D(f,v);return P.addEventListener("error",w),P.addEventListener("channelError",C),P.addEventListener("disconnect",S),p.forEach(I=>P.addEventListener(I,_)),P}function T(){k().then(D=>{y=D}).catch(D=>{g.error(D),A()})}function A(){b=!0,E()}return A})}function dje(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function Yxt(e){if(e instanceof Error)return e;const t=dje(e);return t instanceof Error?t:new Error(qxt(t))}function qxt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var fje=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Di=(e,t,n)=>(fje(e,t,"read from private field"),n?n.call(e):t.get(e)),b5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},x5=(e,t,n,r)=>(fje(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),yp,bp,xp,wp;class Gxt{constructor(t,n){b5(this,yp,void 0),b5(this,bp,void 0),x5(this,yp,t),x5(this,bp,n)}create(t,n){return t0(Di(this,yp),Di(this,bp),"PUT",t,n)}edit(t,n){return t0(Di(this,yp),Di(this,bp),"PATCH",t,n)}delete(t){return t0(Di(this,yp),Di(this,bp),"DELETE",t)}list(){return Zl(Di(this,yp),Di(this,bp),{uri:"/datasets",tag:null})}}yp=new WeakMap;bp=new WeakMap;class Kxt{constructor(t,n){b5(this,xp,void 0),b5(this,wp,void 0),x5(this,xp,t),x5(this,wp,n)}create(t,n){return To(t0(Di(this,xp),Di(this,wp),"PUT",t,n))}edit(t,n){return To(t0(Di(this,xp),Di(this,wp),"PATCH",t,n))}delete(t){return To(t0(Di(this,xp),Di(this,wp),"DELETE",t))}list(){return To(Zl(Di(this,xp),Di(this,wp),{uri:"/datasets",tag:null}))}}xp=new WeakMap;wp=new WeakMap;function t0(e,t,n,r,o){return O5e(r),Zl(e,t,{method:n,uri:"/datasets/".concat(r),body:o,tag:null})}var hje=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},xf=(e,t,n)=>(hje(e,t,"read from private field"),n?n.call(e):t.get(e)),w5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},C5=(e,t,n,r)=>(hje(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),xb,wb,Cb,_b;class Zxt{constructor(t,n){w5(this,xb,void 0),w5(this,wb,void 0),C5(this,xb,t),C5(this,wb,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Zl(xf(this,xb),xf(this,wb),{uri:n})}getById(t){return Zl(xf(this,xb),xf(this,wb),{uri:"/projects/".concat(t)})}}xb=new WeakMap;wb=new WeakMap;class Xxt{constructor(t,n){w5(this,Cb,void 0),w5(this,_b,void 0),C5(this,Cb,t),C5(this,_b,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return To(Zl(xf(this,Cb),xf(this,_b),{uri:n}))}getById(t){return To(Zl(xf(this,Cb),xf(this,_b),{uri:"/projects/".concat(t)}))}}Cb=new WeakMap;_b=new WeakMap;var pje=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},_5=(e,t,n)=>(pje(e,t,"read from private field"),n?n.call(e):t.get(e)),S5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},E5=(e,t,n,r)=>(pje(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),vE,yE,bE,xE;class Qxt{constructor(t,n){S5(this,vE,void 0),S5(this,yE,void 0),E5(this,vE,t),E5(this,yE,n)}getById(t){return Zl(_5(this,vE),_5(this,yE),{uri:"/users/".concat(t)})}}vE=new WeakMap;yE=new WeakMap;class Jxt{constructor(t,n){S5(this,bE,void 0),S5(this,xE,void 0),E5(this,bE,t),E5(this,xE,n)}getById(t){return To(Zl(_5(this,bE),_5(this,xE),{uri:"/users/".concat(t)}))}}bE=new WeakMap;xE=new WeakMap;var mje=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Pt=(e,t,n)=>(mje(e,t,"read from private field"),n?n.call(e):t.get(e)),k5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},j5=(e,t,n,r)=>(mje(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Cp,Bo,_p,jo;const ewt=class OF{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m5;k5(this,Cp,void 0),k5(this,Bo,void 0),this.listen=uje,this.config(n),j5(this,Bo,t),this.assets=new Lxt(this,Pt(this,Bo)),this.datasets=new Gxt(this,Pt(this,Bo)),this.projects=new Zxt(this,Pt(this,Bo)),this.users=new Qxt(this,Pt(this,Bo))}clone(){return new OF(Pt(this,Bo),this.config())}config(t){if(t===void 0)return{...Pt(this,Cp)};if(Pt(this,Cp)&&Pt(this,Cp).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return j5(this,Cp,J5e(t,Pt(this,Cp)||{})),this}withConfig(t){return new OF(Pt(this,Bo),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return tje(this,Pt(this,Bo),t,n,r)}getDocument(t,n){return nje(this,Pt(this,Bo),t,n)}getDocuments(t,n){return rje(this,Pt(this,Bo),t,n)}create(t,n){return ZA(this,Pt(this,Bo),t,"create",n)}createIfNotExists(t,n){return oje(this,Pt(this,Bo),t,n)}createOrReplace(t,n){return ije(this,Pt(this,Bo),t,n)}delete(t,n){return sje(this,Pt(this,Bo),t,n)}mutate(t,n){return aje(this,Pt(this,Bo),t,n)}patch(t,n){return new ix(t,n,this)}transaction(t){return new X5e(t,this)}request(t){return Zl(this,Pt(this,Bo),t)}getUrl(t,n){return nB(this,t,n)}getDataUrl(t,n){return I1(this,t,n)}};Cp=new WeakMap;Bo=new WeakMap;let twt=ewt;const nwt=class $F{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m5;k5(this,_p,void 0),k5(this,jo,void 0),this.listen=uje,this.config(n),j5(this,jo,t),this.assets=new Bxt(this,Pt(this,jo)),this.datasets=new Kxt(this,Pt(this,jo)),this.projects=new Xxt(this,Pt(this,jo)),this.users=new Jxt(this,Pt(this,jo)),this.observable=new twt(t,n)}clone(){return new $F(Pt(this,jo),this.config())}config(t){if(t===void 0)return{...Pt(this,_p)};if(Pt(this,_p)&&Pt(this,_p).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),j5(this,_p,J5e(t,Pt(this,_p)||{})),this}withConfig(t){return new $F(Pt(this,jo),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return To(tje(this,Pt(this,jo),t,n,r))}getDocument(t,n){return To(nje(this,Pt(this,jo),t,n))}getDocuments(t,n){return To(rje(this,Pt(this,jo),t,n))}create(t,n){return To(ZA(this,Pt(this,jo),t,"create",n))}createIfNotExists(t,n){return To(oje(this,Pt(this,jo),t,n))}createOrReplace(t,n){return To(ije(this,Pt(this,jo),t,n))}delete(t,n){return To(sje(this,Pt(this,jo),t,n))}mutate(t,n){return To(aje(this,Pt(this,jo),t,n))}patch(t,n){return new sx(t,n,this)}transaction(t){return new K5e(t,this)}request(t){return To(Zl(this,Pt(this,jo),t))}dataRequest(t,n,r){return To(FC(this,Pt(this,jo),t,n,r))}getUrl(t,n){return nB(this,t,n)}getDataUrl(t,n){return I1(this,t,n)}};_p=new WeakMap;jo=new WeakMap;let rwt=nwt;function owt(e,t){return{requester:LX(e,{}).defaultRequester,createClient:i=>new t(LX(e,{maxRetries:i.maxRetries,retryDelay:i.retryDelay}),i)}}var iwt=[];const swt=owt(iwt,rwt),gje=swt.createClient;var awt=rB;rB.displayName="bash";rB.aliases=["shell"];function rB(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=o.variable[1].inside,a=0;a<i.length;a++)s[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash})(e)}const lwt=Pe(awt);var cwt=oB;oB.displayName="json";oB.aliases=["webmanifest"];function oB(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const uwt=Pe(cwt);var dwt=iB;iB.displayName="jsx";iB.aliases=[];function iB(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return i}),RegExp(u,d)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},l=function(u){for(var d=[],f=0;f<u.length;f++){var p=u[f],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:a(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var v=a(p);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(v+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(v=a(u[f-1])+v,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",v,null,v)}p.content&&typeof p.content!="string"&&l(p.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||l(u.tokens)})})(e)}const fwt=Pe(dwt);var hwt=sB;sB.displayName="typescript";sB.aliases=["ts"];function sB(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const pwt=Pe(hwt);function mwt(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var gwt=mwt;function vwt(e){return function(t){return e==null?void 0:e[t]}}var ywt=vwt,bwt=ywt,xwt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},wwt=bwt(xwt),Cwt=wwt,_wt=Cwt,Swt=ru,Ewt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kwt="\\u0300-\\u036f",jwt="\\ufe20-\\ufe2f",Twt="\\u20d0-\\u20ff",Awt=kwt+jwt+Twt,Dwt="["+Awt+"]",Pwt=RegExp(Dwt,"g");function Iwt(e){return e=Swt(e),e&&e.replace(Ewt,_wt).replace(Pwt,"")}var vje=Iwt;const zX=Pe(vje);var Owt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function $wt(e){return e.match(Owt)||[]}var Rwt=$wt,Mwt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Fwt(e){return Mwt.test(e)}var Lwt=Fwt,yje="\\ud800-\\udfff",Bwt="\\u0300-\\u036f",Nwt="\\ufe20-\\ufe2f",zwt="\\u20d0-\\u20ff",Vwt=Bwt+Nwt+zwt,bje="\\u2700-\\u27bf",xje="a-z\\xdf-\\xf6\\xf8-\\xff",Hwt="\\xac\\xb1\\xd7\\xf7",Uwt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wwt="\\u2000-\\u206f",Ywt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wje="A-Z\\xc0-\\xd6\\xd8-\\xde",qwt="\\ufe0e\\ufe0f",Cje=Hwt+Uwt+Wwt+Ywt,_je="['’]",VX="["+Cje+"]",Gwt="["+Vwt+"]",Sje="\\d+",Kwt="["+bje+"]",Eje="["+xje+"]",kje="[^"+yje+Cje+Sje+bje+xje+wje+"]",Zwt="\\ud83c[\\udffb-\\udfff]",Xwt="(?:"+Gwt+"|"+Zwt+")",Qwt="[^"+yje+"]",jje="(?:\\ud83c[\\udde6-\\uddff]){2}",Tje="[\\ud800-\\udbff][\\udc00-\\udfff]",nv="["+wje+"]",Jwt="\\u200d",HX="(?:"+Eje+"|"+kje+")",eCt="(?:"+nv+"|"+kje+")",UX="(?:"+_je+"(?:d|ll|m|re|s|t|ve))?",WX="(?:"+_je+"(?:D|LL|M|RE|S|T|VE))?",Aje=Xwt+"?",Dje="["+qwt+"]?",tCt="(?:"+Jwt+"(?:"+[Qwt,jje,Tje].join("|")+")"+Dje+Aje+")*",nCt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rCt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",oCt=Dje+Aje+tCt,iCt="(?:"+[Kwt,jje,Tje].join("|")+")"+oCt,sCt=RegExp([nv+"?"+Eje+"+"+UX+"(?="+[VX,nv,"$"].join("|")+")",eCt+"+"+WX+"(?="+[VX,nv+HX,"$"].join("|")+")",nv+"?"+HX+"+"+UX,nv+"+"+WX,rCt,nCt,Sje,iCt].join("|"),"g");function aCt(e){return e.match(sCt)||[]}var lCt=aCt,cCt=Rwt,uCt=Lwt,dCt=ru,fCt=lCt;function hCt(e,t,n){return e=dCt(e),t=n?void 0:t,t===void 0?uCt(e)?fCt(e):cCt(e):e.match(t)||[]}var Pje=hCt;const Ije=Pe(Pje);var pCt=gwt,mCt=vje,gCt=Pje,vCt="['’]",yCt=RegExp(vCt,"g");function bCt(e){return function(t){return pCt(gCt(mCt(t).replace(yCt,"")),e,"")}}var aB=bCt;function xCt(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var Oje=xCt,wCt=Oje;function CCt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:wCt(e,t,n)}var $je=CCt,_Ct="\\ud800-\\udfff",SCt="\\u0300-\\u036f",ECt="\\ufe20-\\ufe2f",kCt="\\u20d0-\\u20ff",jCt=SCt+ECt+kCt,TCt="\\ufe0e\\ufe0f",ACt="\\u200d",DCt=RegExp("["+ACt+_Ct+jCt+TCt+"]");function PCt(e){return DCt.test(e)}var Rje=PCt;function ICt(e){return e.split("")}var OCt=ICt,Mje="\\ud800-\\udfff",$Ct="\\u0300-\\u036f",RCt="\\ufe20-\\ufe2f",MCt="\\u20d0-\\u20ff",FCt=$Ct+RCt+MCt,LCt="\\ufe0e\\ufe0f",BCt="["+Mje+"]",RF="["+FCt+"]",MF="\\ud83c[\\udffb-\\udfff]",NCt="(?:"+RF+"|"+MF+")",Fje="[^"+Mje+"]",Lje="(?:\\ud83c[\\udde6-\\uddff]){2}",Bje="[\\ud800-\\udbff][\\udc00-\\udfff]",zCt="\\u200d",Nje=NCt+"?",zje="["+LCt+"]?",VCt="(?:"+zCt+"(?:"+[Fje,Lje,Bje].join("|")+")"+zje+Nje+")*",HCt=zje+Nje+VCt,UCt="(?:"+[Fje+RF+"?",RF,Lje,Bje,BCt].join("|")+")",WCt=RegExp(MF+"(?="+MF+")|"+UCt+HCt,"g");function YCt(e){return e.match(WCt)||[]}var qCt=YCt,GCt=OCt,KCt=Rje,ZCt=qCt;function XCt(e){return KCt(e)?ZCt(e):GCt(e)}var Vje=XCt,QCt=$je,JCt=Rje,e_t=Vje,t_t=ru;function n_t(e){return function(t){t=t_t(t);var n=JCt(t)?e_t(t):void 0,r=n?n[0]:t.charAt(0),o=n?QCt(n,1).join(""):t.slice(1);return r[e]()+o}}var r_t=n_t,o_t=r_t,i_t=o_t("toUpperCase"),lB=i_t;const Hje=Pe(lB);var s_t=aB,a_t=lB,l_t=s_t(function(e,t,n){return e+(n?" ":"")+a_t(t)}),c_t=l_t;const pn=Pe(c_t);var u_t=_h,d_t=io,f_t=fl,h_t="[object String]";function p_t(e){return typeof e=="string"||!d_t(e)&&f_t(e)&&u_t(e)==h_t}var m_t=p_t;const XA=Pe(m_t);let g_t=e=>crypto.getRandomValues(new Uint8Array(e)),v_t=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(o),l=o;for(;l--;)if(s+=e[a[l]&r]||"",s.length===i)return s}}},y_t=(e,t=21)=>v_t(e,t,g_t),b_t=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var x_t=["presence","listen"],T5=globalThis&&globalThis.__assign||function(){return T5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},T5.apply(this,arguments)},w_t=y_t("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),C_t="♥";function YX(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:S_t(t,"v1"),id:n})}function __t(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function S_t(e,t){return T5(T5({},e),{apiVersion:t})}var E_t=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,o=r===void 0?w_t:r,i=m7(e.pipe(rt(function(m){return Vi(m,"message")})),function(m){return m.data===C_t}),s=i[0],a=i[1],l=a.pipe(ft(function(m){var v=__t(m.data),g=v[0],y=v[1];return g?(console.warn("Unable to parse message: %s",g.message),tr):!y||!y.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",y),tr):ve(y)}),ga()),u=n?Go([n,e]).pipe(nr(function(m,v){var g=m[0],y=m[1],x=v[0],b=v[1];return g===x&&y===b}),rt(function(m){var v=m[0],g=m[1];return v?d(g,"authorization",{authorization:"Bearer ".concat(v)}).pipe(Mi(1),yA(g)):ve(g)}),Mo({refCount:!0,bufferSize:1})):e;function d(m,v,g){g===void 0&&(g={});var y=o();return ln(l.pipe(pt(function(x){return x.id===y}),le(function(x){return x.result})),xo(function(){return m.send(YX(v,g,y)),tr}))}function f(m,v){return u.pipe(Mi(1),ft(function(g){return d(g,m,v).pipe(Mi(1))}))}function p(m,v){return u.pipe(Mi(1),ft(function(g){return d(g,"".concat(m,"_subscribe"),v).pipe(Mi(1),ft(function(y){return l.pipe(pt(function(x){return x.method==="".concat(m,"_subscription")&&x.params.subscription===y}),le(function(x){return x.params.result}),LEe(function(){g.readyState!==g.CLOSED&&g.readyState!==g.CLOSING&&g.send(YX("".concat(m,"_unsubscribe"),{subscriptionId:y},o()))}))}))}))}return{heartbeats:ln(u,s,a).pipe(le(function(){return new Date})),request:function(m,v){return k_t(m)?p(m,v):f(m,v)}}};function k_t(e){return x_t.includes(e)}var j_t=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qX=function(e){j_t(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.type=r,s.code=o,s.reason=i,s}return t}(Error);function T_t(e){return function(t){return new mt(function(n){var r=e(t),o=!1,i=function(){n.next(r)},s=function(){n.error(new qX("WebSocket connection error","CONNECTION_ERROR"))},a=function(l){o?n.complete():n.error(new qX("WebSocket connection error","CONNECTION_CLOSED",l.code,l.reason))};return r.onopen=i,r.onclose=a,r.onerror=s,function(){o=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var A_t=function(e,t){return function(n){return olt(n,Ko(e).pipe(ft(function(){return t})))}},GX;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(GX||(GX={}));var D_t=function(e){return e};function P_t(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,o=T_t(function(i,s){return new window.WebSocket(i,s)});return E_t(o(e).pipe(n?A_t(n,ud(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):D_t,Mo({refCount:!0}),y7(Vi(window,"beforeunload"))),{token$:r})}function I_t(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var O_t=I_t,$_t=F7,R_t=RA;function M_t(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),o?R_t(n,a,l):$_t(n,a,l)}return n}var O1=M_t,F_t=O1,L_t=Ih;function B_t(e,t){return e&&F_t(t,L_t(t),e)}var N_t=B_t;function z_t(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var V_t=z_t,H_t=dl,U_t=DA,W_t=V_t,Y_t=Object.prototype,q_t=Y_t.hasOwnProperty;function G_t(e){if(!H_t(e))return W_t(e);var t=U_t(e),n=[];for(var r in e)r=="constructor"&&(t||!q_t.call(e,r))||n.push(r);return n}var K_t=G_t,Z_t=eke,X_t=K_t,Q_t=Ph;function J_t(e){return Q_t(e)?Z_t(e,!0):X_t(e)}var cB=J_t,e2t=O1,t2t=cB;function n2t(e,t){return e&&e2t(t,t2t(t),e)}var r2t=n2t,A5={exports:{}};A5.exports;(function(e,t){var n=nc,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,p=a?a(f):new u.constructor(f);return u.copy(p),p}e.exports=l})(A5,A5.exports);var o2t=A5.exports;function i2t(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var uB=i2t,s2t=O1,a2t=S7;function l2t(e,t){return s2t(e,a2t(e),t)}var c2t=l2t,u2t=_7,d2t=M7,f2t=S7,h2t=QEe,p2t=Object.getOwnPropertySymbols,m2t=p2t?function(e){for(var t=[];e;)u2t(t,f2t(e)),e=d2t(e);return t}:h2t,Uje=m2t,g2t=O1,v2t=Uje;function y2t(e,t){return g2t(e,v2t(e),t)}var b2t=y2t,x2t=ZEe,w2t=Uje,C2t=cB;function _2t(e){return x2t(e,C2t,w2t)}var dB=_2t,S2t=Object.prototype,E2t=S2t.hasOwnProperty;function k2t(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&E2t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var j2t=k2t,KX=KEe;function T2t(e){var t=new e.constructor(e.byteLength);return new KX(t).set(new KX(e)),t}var fB=T2t,A2t=fB;function D2t(e,t){var n=t?A2t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var P2t=D2t,I2t=/\w*$/;function O2t(e){var t=new e.constructor(e.source,I2t.exec(e));return t.lastIndex=e.lastIndex,t}var $2t=O2t,ZX=l1,XX=ZX?ZX.prototype:void 0,QX=XX?XX.valueOf:void 0;function R2t(e){return QX?Object(QX.call(e)):{}}var M2t=R2t,F2t=fB;function L2t(e,t){var n=t?F2t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var B2t=L2t,N2t=fB,z2t=P2t,V2t=$2t,H2t=M2t,U2t=B2t,W2t="[object Boolean]",Y2t="[object Date]",q2t="[object Map]",G2t="[object Number]",K2t="[object RegExp]",Z2t="[object Set]",X2t="[object String]",Q2t="[object Symbol]",J2t="[object ArrayBuffer]",eSt="[object DataView]",tSt="[object Float32Array]",nSt="[object Float64Array]",rSt="[object Int8Array]",oSt="[object Int16Array]",iSt="[object Int32Array]",sSt="[object Uint8Array]",aSt="[object Uint8ClampedArray]",lSt="[object Uint16Array]",cSt="[object Uint32Array]";function uSt(e,t,n){var r=e.constructor;switch(t){case J2t:return N2t(e);case W2t:case Y2t:return new r(+e);case eSt:return z2t(e,n);case tSt:case nSt:case rSt:case oSt:case iSt:case sSt:case aSt:case lSt:case cSt:return U2t(e,n);case q2t:return new r;case G2t:case X2t:return new r(e);case K2t:return V2t(e);case Z2t:return new r;case Q2t:return H2t(e)}}var dSt=uSt,fSt=dl,JX=Object.create,hSt=function(){function e(){}return function(t){if(!fSt(t))return{};if(JX)return JX(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),hB=hSt,pSt=hB,mSt=M7,gSt=DA;function vSt(e){return typeof e.constructor=="function"&&!gSt(e)?pSt(mSt(e)):{}}var ySt=vSt,bSt=$C,xSt=fl,wSt="[object Map]";function CSt(e){return xSt(e)&&bSt(e)==wSt}var _St=CSt,SSt=_St,ESt=j1,eQ=k7,tQ=eQ&&eQ.isMap,kSt=tQ?ESt(tQ):SSt,jSt=kSt,TSt=$C,ASt=fl,DSt="[object Set]";function PSt(e){return ASt(e)&&TSt(e)==DSt}var ISt=PSt,OSt=ISt,$St=j1,nQ=k7,rQ=nQ&&nQ.isSet,RSt=rQ?$St(rQ):OSt,MSt=RSt,FSt=w7,LSt=O_t,BSt=F7,NSt=N_t,zSt=r2t,VSt=o2t,HSt=uB,USt=c2t,WSt=b2t,YSt=rke,qSt=dB,GSt=$C,KSt=j2t,ZSt=dSt,XSt=ySt,QSt=io,JSt=TA,eEt=jSt,tEt=dl,nEt=MSt,rEt=Ih,oEt=cB,iEt=1,sEt=2,aEt=4,Wje="[object Arguments]",lEt="[object Array]",cEt="[object Boolean]",uEt="[object Date]",dEt="[object Error]",Yje="[object Function]",fEt="[object GeneratorFunction]",hEt="[object Map]",pEt="[object Number]",qje="[object Object]",mEt="[object RegExp]",gEt="[object Set]",vEt="[object String]",yEt="[object Symbol]",bEt="[object WeakMap]",xEt="[object ArrayBuffer]",wEt="[object DataView]",CEt="[object Float32Array]",_Et="[object Float64Array]",SEt="[object Int8Array]",EEt="[object Int16Array]",kEt="[object Int32Array]",jEt="[object Uint8Array]",TEt="[object Uint8ClampedArray]",AEt="[object Uint16Array]",DEt="[object Uint32Array]",Wn={};Wn[Wje]=Wn[lEt]=Wn[xEt]=Wn[wEt]=Wn[cEt]=Wn[uEt]=Wn[CEt]=Wn[_Et]=Wn[SEt]=Wn[EEt]=Wn[kEt]=Wn[hEt]=Wn[pEt]=Wn[qje]=Wn[mEt]=Wn[gEt]=Wn[vEt]=Wn[yEt]=Wn[jEt]=Wn[TEt]=Wn[AEt]=Wn[DEt]=!0;Wn[dEt]=Wn[Yje]=Wn[bEt]=!1;function wE(e,t,n,r,o,i){var s,a=t&iEt,l=t&sEt,u=t&aEt;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!tEt(e))return e;var d=QSt(e);if(d){if(s=KSt(e),!a)return HSt(e,s)}else{var f=GSt(e),p=f==Yje||f==fEt;if(JSt(e))return VSt(e,a);if(f==qje||f==Wje||p&&!o){if(s=l||p?{}:XSt(e),!a)return l?WSt(e,zSt(s,e)):USt(e,NSt(s,e))}else{if(!Wn[f])return o?e:{};s=ZSt(e,f,a)}}i||(i=new FSt);var m=i.get(e);if(m)return m;i.set(e,s),nEt(e)?e.forEach(function(y){s.add(wE(y,t,n,y,e,i))}):eEt(e)&&e.forEach(function(y,x){s.set(x,wE(y,t,n,x,e,i))});var v=u?l?qSt:YSt:l?oEt:rEt,g=d?void 0:v(e);return LSt(g||e,function(y,x){g&&(x=y,y=e[x]),BSt(s,x,wE(y,t,n,x,e,i))}),s}var pB=wE;function PEt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var IEt=PEt,OEt=RC,$Et=Oje;function REt(e,t){return t.length<2?e:OEt(e,$Et(t,0,-1))}var MEt=REt,FEt=D1,LEt=IEt,BEt=MEt,NEt=lg;function zEt(e,t){return t=FEt(t,e),e=BEt(e,t),e==null||delete e[NEt(LEt(t))]}var VEt=zEt,HEt=Bke;function UEt(e){return HEt(e)?void 0:e}var WEt=UEt,YEt=nu,qEt=pB,GEt=VEt,KEt=D1,ZEt=O1,XEt=WEt,QEt=L7,JEt=dB,ekt=1,tkt=2,nkt=4,rkt=QEt(function(e,t){var n={};if(e==null)return n;var r=!1;t=YEt(t,function(i){return i=KEt(i,e),r||(r=i.length>1),i}),ZEt(e,JEt(e),n),r&&(n=qEt(n,ekt|tkt|nkt,XEt));for(var o=t.length;o--;)GEt(n,t[o]);return n}),okt=rkt;const Hi=Pe(okt);var ikt=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const BC=Pe(ikt);var skt=io;function akt(){if(!arguments.length)return[];var e=arguments[0];return skt(e)?e:[e]}var lkt=akt;const NC=Pe(lkt);var ckt=nu,ukt=Oh,dkt=jke,fkt=io;function hkt(e,t){var n=fkt(e)?ckt:dkt;return n(e,ukt(t))}var pkt=hkt,mkt=A1,gkt=pkt;function vkt(e,t){return mkt(gkt(e,t),1)}var ykt=vkt;const bkt=Pe(ykt);var xkt="Expected a function";function wkt(e){if(typeof e!="function")throw new TypeError(xkt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var Gje=wkt;const Ckt=Pe(Gje);var _kt=nu,Skt=Oh,Ekt=Nke,kkt=dB;function jkt(e,t){if(e==null)return{};var n=_kt(kkt(e),function(r){return[r]});return t=Skt(t),Ekt(e,n,function(r,o){return t(r,o[0])})}var Tkt=jkt,Akt=Oh,Dkt=Gje,Pkt=Tkt;function Ikt(e,t){return Pkt(e,Dkt(Akt(t)))}var Okt=Ikt;const Kje=Pe(Okt);function $kt(e){return e===void 0}var Rkt=$kt;const Zje=Pe(Rkt);var Mkt=ru,Fkt=lB;function Lkt(e){return Fkt(Mkt(e).toLowerCase())}var Xje=Lkt;const hg=Pe(Xje);var Bkt=nu,Nkt=uB,zkt=io,Vkt=Gm,Hkt=yke,Ukt=lg,Wkt=ru;function Ykt(e){return zkt(e)?Bkt(e,Ukt):Vkt(e)?[e]:Nkt(Hkt(Wkt(e)))}var qkt=Ykt;const Gkt=Pe(qkt);function Kkt(){}var mB=Kkt;const Qje=Pe(mB);var zO=oke,Zkt=mB,Xkt=C7,Qkt=1/0,Jkt=zO&&1/Xkt(new zO([,-0]))[1]==Qkt?function(e){return new zO(e)}:Zkt,e5t=Jkt,t5t=EA,n5t=$7,r5t=R7,o5t=kA,i5t=e5t,s5t=C7,a5t=200;function l5t(e,t,n){var r=-1,o=n5t,i=e.length,s=!0,a=[],l=a;if(n)s=!1,o=r5t;else if(i>=a5t){var u=t?null:i5t(e);if(u)return s5t(u);s=!1,o=o5t,l=new t5t}else l=t?[]:a;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),a.push(d)}else o(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var QA=l5t,c5t=Oh,u5t=QA;function d5t(e,t){return e&&e.length?u5t(e,c5t(t)):[]}var f5t=d5t;const mh=Pe(f5t),ps=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],oQ=[...ps],VO={name:"any",type:null,jsonType:"any"},h5t={get(){return VO},extend(e,t){const n=Object.assign(St(VO,oQ),e,{type:VO,of:e.of.map(o=>({name:o.name,type:t(Hi(o,"name"))}))});return r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,St(i,oQ),{type:o});return r(s)}}}}};var Rh={prepare:e=>({title:String(e)})};const iQ=[...ps],HO={name:"string",title:"String",type:null,jsonType:"string"},p5t={get(){return HO},extend(e){const t=Object.assign(St(HO,iQ),e,{type:HO,preview:Rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,iQ),{type:r});return n(i)}}}}},sQ=[...ps,"rows"],UO={name:"text",title:"Text",type:null,jsonType:"string"},m5t={get(){return UO},extend(e){const t=Object.assign(St(UO,sQ),e,{type:UO,preview:Rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,sQ),{type:r});return n(i)}}}}},aQ=[...ps],WO={name:"datetime",title:"Datetime",type:null,jsonType:"string"},g5t={get(){return WO},extend(e){const t=Object.assign(St(WO,aQ),e,{type:WO,preview:Rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,aQ),{type:r});return n(i)}}}}},lQ=[...ps],YO={name:"date",title:"Datetime",type:null,jsonType:"string"},v5t={get(){return YO},extend(e){const t=Object.assign(St(YO,lQ),e,{type:YO,preview:Rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,lQ),{type:r});return n(i)}}}}},cQ=[...ps],qO={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},y5t={get(){return qO},extend(e){const t=Object.assign(St(qO,cQ),e,{type:qO,preview:Rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,cQ),{type:r});return n(i)}}}}},uQ=[...ps],GO={name:"url",title:"Url",type:null,jsonType:"string"},b5t={get(){return GO},extend(e){const t=Object.assign(St(GO,uQ),e,{type:GO,preview:Rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,uQ),{type:r});return n(i)}}}}},dQ=[...ps],KO={name:"email",title:"Email",type:null,jsonType:"string"},x5t={get(){return KO},extend(e){const t=Object.assign(St(KO,dQ),e,{type:KO,preview:Rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,dQ),{type:r});return n(i)}}}}},fQ=[...ps],ZO={name:"number",title:"Number",type:null,jsonType:"number"},w5t={get(){return ZO},extend(e){const t=Object.assign(St(ZO,fQ),e,{type:ZO,preview:Rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,fQ),{type:r});return n(i)}}}}};function Kn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const o=n();return Object.defineProperty(e,t,{value:o,writable:!!r.writable,configurable:!1}),o}}),e}function C5t(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function FF(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const o=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map((s,a)=>FF(s,t,n+1)).concat(o>0?"…+".concat(o):[]).join(", ");return n===0?i:"[".concat(i,"]")}if(typeof e=="object"&&e!==null){const o=Object.keys(e).filter(s=>!t.ignoreKeys.includes(s)&&typeof e[s]<"u");if(C5t(St(e,o)))return"{empty}";const i=o.slice(0,t.maxBreadth).map(s=>"".concat(s,": ").concat(FF(e[s],t,n+1))).join(", ");return n===0?i:"{".concat(i,"}")}const r=String(e);return r===""?'""':r}function _5t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return FF(e,n,0)}const S5t={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function E5t(e){return t=>({title:_5t(St(t,e),S5t)})}function k5t(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")}const Jje=["title","name","label","heading","header","caption"],j5t=["description",...Jje];function eTe(e,t){return BC(e.to||[]).some(n=>n.type===t)}function hQ(e){return eTe(e,"sanity.imageAsset")}function T5t(e){const t=e.fields||[],n=t.find(hQ);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(hQ));return r?"".concat(r.name,".asset"):void 0}function pQ(e){return eTe(e,"sanity.fileAsset")}function A5t(e){const t=e.fields||[],n=t.find(pQ);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(pQ));return r?"".concat(r.name,".asset"):void 0}function D5t(e){const t={fields:[],...e},n=t.fields.filter(u=>u.type==="string").map(u=>u.name),r=t.fields.filter(k5t).map(u=>u.name);let o=Jje.find(u=>n.includes(u)||r.includes(u)),i=j5t.find(u=>u!==o&&(n.includes(u)||r.includes(u)));o||(o=n[0]||r[0],i=n[1]||r[1]);const s=t.fields.find(u=>u.type==="image"),a=T5t(t);if(!o){const u=A5t(t);u&&(o="".concat(u,".originalFilename")),a&&(o="".concat(a,".originalFilename"))}if(!o&&!a){const u=t.fields.map(f=>f.name);return{select:u.reduce((f,p)=>(f[p]=p,f),{}),prepare:E5t(u)}}return{select:Kje({title:o,description:i,media:s?s.name:a},Zje)}}function P5t(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(e.name,`".
`))}function I5t(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,`".
`))}function O5t(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function $5t(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...St(e,["prepare","component"]),select:O5t(t)}:{...St(e,["prepare","component"]),select:t}}function zC(e){return function(){return P5t(e),I5t(e),$5t(e.preview||(e.options||{}).preview)||D5t(e)}}const R5t=["title","name","label","heading","header","caption","description"],M5t=["string","boolean","number"],mQ=e=>M5t.includes(e.type);function F5t(e){let t=R5t.filter(n=>e.fields.some(r=>mQ(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(mQ).map(n=>n.name)),t.map(n=>({name:n,title:hg(pn(n)),by:[{field:n,direction:"asc"}]}))}function gQ(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!Tr(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:Gkt(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const n0=Symbol("__cachedStringFields"),L5t=e=>e.type&&e.type.name==="reference",B5t=["style","list"],gB=e=>e.name==="block"||e.type&&gB(e.type),N5t=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(gB);function JA(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return n;const i=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?z5t(e,t,i,r,o):e.jsonType==="object"&&Array.isArray(e.fields)&&!L5t(e)?V5t(e,t,i,r,o):i}function z5t(e,t,n,r,o){return e.of.reduce((i,s)=>JA(s,t,i,r,o-1),n)}function V5t(e,t,n,r,o){const i=gB(e);return e.fields.reduce((s,a)=>{if(i&&B5t.includes(a.name))return s;const l=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return JA(a.type,t,s,r.concat(l),o-1)},n)}const tTe=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],vQ={title:10,subtitle:5,description:1.5};function nTe(e){var t;const n=(t=e==null?void 0:e.preview)==null?void 0:t.select;return n?Object.keys(n).filter(r=>r in vQ).map(r=>({weight:vQ[r],path:n[r].split(".")})):[]}function H5t(e,t){return e[n0]||(e[n0]=mh([...tTe,...nTe(e),...W5t(e,t).map(n=>({weight:1,path:n})),...Y5t(e,t).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),e[n0]}function U5t(e){return e[n0]||(e[n0]=mh([...tTe,...nTe(e)],t=>t.path.join("."))),e[n0]}function W5t(e,t){return JA(e,(r,o,i)=>o.jsonType==="string"?[...r,i]:r,[],[],t)}function Y5t(e,t){return JA(e,(r,o,i)=>N5t(o)?[...r,i]:r,[],[],t)}function q5t(e){return U5t(e)}function G5t(e){return H5t(e,4)}const yQ=[...ps,"orderings","__experimental_search","blockEditor","icon"],rTe={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},o=Object.assign(St(this.get(),yQ),n,{type:this.get(),title:n.title||(n.name?pn(n.name):""),options:r,orderings:n.orderings||F5t(n),fields:n.fields.map(s=>{const{name:a,fieldset:l,group:u,...d}=s;return Kn({name:a,group:u,fieldset:l},"type",()=>t({...d,title:s.title||pn(a)}))})});return Kn(o,"fieldsets",()=>eD(n,o.fields)),Kn(o,"groups",()=>K5t(n,o.fields)),Kn(o,"preview",zC(n)),Kn(o,"__experimental_search",()=>{const s=n.__experimental_search?gQ(n.__experimental_search):null;return s?s.map(a=>a==="defaults"?gQ(n):a):G5t(o)},{enumerable:!1}),i(o);function i(s){return{get(){return s},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const l=Object.assign({},s,St(a,yQ),{title:a.title||n.title||(n.name?pn(n.name):""),type:s});return Kn(l,"__experimental_search",()=>s.__experimental_search),i(l)}}}}};function eD(e,t){const n={};for(const o of e.fieldsets||[]){if(n[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:pn(e.name),"'"));n[o.name]={title:pn(o.name),...o,fields:[]}}const r=new Set;for(const o of t){if(!o.fieldset){r.add({single:!0,field:o});continue}const i=n[o.fieldset];if(!i)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));i.fields.push(o),r.add(i)}return Array.from(r)}function K5t(e,t){const n={};let r=0;for(const o of e.groups||[]){if(n[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:pn(e.name),"'"));if(n[o.name]={title:pn(o.name),...o,fields:[]},o.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(e.title?e.title:pn(e.name),"' - only 1 is supported"))}return t.forEach(o=>{const i=NC(o.group||[]);i.length!==0&&i.forEach(s=>{const a=n[s];if(!a)throw new Error("Field group '".concat(s,"' is not defined in schema for type '").concat(e.title?e.name:pn(e.name),"'"));a.fields.push(o)})}),bkt(n).filter(o=>o.fields.length>0)}const Z5t={name:"_ref",title:"Referenced document ID",type:"string"},X5t={name:"_weak",title:"Weak reference",type:"boolean"},Q5t=[Z5t,X5t],bQ=[...ps],XO={name:"reference",title:"Reference",type:null,jsonType:"object"};function J5t(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function ejt(e){return!e.to||e.to.length===0?"Reference":"Reference to ".concat(J5t(BC(e.to).map(t=>t.title),"or").toLowerCase())}const tjt={get(){return XO},extend(e,t){if(!e.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(e.name));const n=Object.assign(St(XO,bQ),e,{type:XO});return Kn(n,"fields",()=>Q5t.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Kn(n,"fieldsets",()=>eD(e,n.fields)),Kn(n,"to",()=>BC(e.to).map(o=>t(o))),Kn(n,"title",()=>e.title||ejt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,St(i,bQ),{type:o});return r(s)}}}}},njt={name:"_ref",title:"Referenced document ID",type:"string"},rjt={name:"_weak",title:"Weak reference marker",type:"boolean"},ojt={name:"_dataset",title:"Target dataset",type:"string"},ijt={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},sjt=[njt,rjt,ojt,ijt],xQ=[...ps],QO={name:"crossDatasetReference",type:null,jsonType:"object"};function ajt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function ljt(e){return!e.to||e.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(ajt(BC(e.to).map(t=>t.title||hg(t.type)),"or").toLowerCase())}const cjt={get(){return QO},extend(e,t){if(!e.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));const n=Object.assign(St(QO,xQ),e,{type:QO});return Kn(n,"fields",()=>sjt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Kn(n,"to",()=>BC(e.to).map(o=>({...o,__experimental_search:q5t(o)}))),Kn(n,"title",()=>e.title||ljt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,St(i,xQ),{type:o});return r(s)}}}}},ujt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},djt={name:"hotspot",type:"sanity.imageHotspot"},fjt={name:"crop",type:"sanity.imageCrop"},wQ=[...ps],CQ={name:"image",title:"Image",type:null,jsonType:"object"},hjt={},pjt={get(){return CQ},extend(e,t){const n={...e.options||hjt};let r=[djt,fjt];n.hotspot||(r=r.map(l=>({...l,hidden:!0})));const o=[ujt,...r,...e.fields||[]],i={...e,fields:o},s=Object.assign(St(this.get(),wQ),i,{type:CQ,title:i.title||(i.name?pn(i.name):""),options:n,fields:i.fields.map(l=>{const{name:u,fieldset:d,...f}=l,p={name:u,fieldset:d,isCustomized:!!e.fields};return Kn(p,"type",()=>t({...f,title:l.title||pn(u)}))})});return Kn(s,"fieldsets",()=>eD(i,s.fields)),Kn(s,"preview",zC(Object.assign({},i,{fields:o}))),a(s);function a(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},l,St(u,wQ),{type:l});return a(d)}}}}},mjt={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},_Q=[...ps],JO={name:"file",title:"File",type:null,jsonType:"object"},gjt={accept:""},vjt={get(){return JO},extend(e,t){const n={...e.options||gjt},r=[mjt,...e.fields||[]],o={...e,fields:r},i=Object.assign(St(JO,_Q),o,{type:JO,title:o.title||(o.name?pn(o.name):""),options:n,fields:o.fields.map(a=>{const{name:l,fieldset:u,...d}=a,f={name:l,fieldset:u,isCustomized:!!e.fields};return Kn(f,"type",()=>t({...d,title:a.title||pn(l)}))})});return Kn(i,"fieldsets",()=>eD(o,i.fields)),Kn(i,"preview",zC(Object.assign({},o,{fields:r}))),s(i);function s(a){return{get(){return a},extend:l=>{if(l.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,St(l,_Q),{type:a});return s(u)}}}}},yjt={name:"document",title:"Document",type:null,jsonType:"object"},bjt={get(){return yjt},extend:rTe.extend},SQ=[...ps],e3={name:"array",type:null,jsonType:"array",of:[]},xjt={get(){return e3},extend(e,t){const n=Object.assign(St(e3,SQ),e,{type:e3});return Kn(n,"of",()=>e.of.map(o=>t(o))),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,St(i,SQ),{type:o});return r(s)}}}}},wjt={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},Cjt={type:"text",name:"text",title:"Text"},_jt={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},EQ={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},Sjt=[EQ.bullet,EQ.numbered],Cu={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},Ejt=[Cu.normal,Cu.h1,Cu.h2,Cu.h3,Cu.h4,Cu.h5,Cu.h6,Cu.blockquote],kjt={title:"Strong",value:"strong"},jjt={title:"Italic",value:"em"},Tjt={title:"Code",value:"code"},Ajt={title:"Underline",value:"underline"},Djt={title:"Strike",value:"strike-through"},Py={strong:kjt,em:jjt,code:Tjt,underline:Ajt,strikeThrough:Djt},Pjt=[Py.strong,Py.em,Py.code,Py.underline,Py.strikeThrough],kQ=["type","name","title","jsonType","description","options","fieldsets","icon"],t3={name:"block",title:"Block",type:null,jsonType:"object"},Ijt={},Ojt={get(){return t3},extend(e,t){const n={...e.options||Ijt},{marks:r,styles:o,lists:i,of:s,...a}=e,l=Fjt(r,s),u=Rjt(o),d=Mjt(i),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||oTe},m=[l,u,d,f,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),v=Object.assign(St(t3,kQ),a,{type:t3,options:n});return Kn(v,"fields",()=>m.map(y=>{const{name:x,...b}=y;return{name:x,type:t(b)}})),Kn(v,"preview",zC(e)),g(v);function g(y){return{get(){return y},extend:x=>{if(x.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const b=Object.assign({},y,St(x,kQ),{type:y});return g(b)}}}}};function $jt(e){return e.some(t=>t.value==="normal")?e:[Cu.normal,...e]}function Rjt(e){return{name:"style",title:"Style",type:"string",options:{list:$jt(e||Ejt)}}}function Mjt(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||Sjt}}}const oTe=[wjt];function Fjt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[Cjt,_jt],annotations:e&&e.annotations?e.annotations:oTe,decorators:e&&e.decorators?e.decorators:Pjt},...t.filter(n=>n.type!=="span")]}}const jQ=["type","name","title","jsonType","description","options","fieldsets","icon"],n3={name:"span",title:"Span",type:null,jsonType:"object"},Ljt={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},Bjt={name:"text",title:"Text",type:"string"},Njt={},zjt={get(){return n3},extend(e,t){const n={...e.options||Njt},{annotations:r=[],marks:o=[]}=e,i=[Ljt,Bjt],s=Object.assign(St(n3,jQ),e,{type:n3,options:n});return Kn(s,"fields",()=>i.map(l=>{const{name:u,...d}=l;return{name:u,type:t(d)}})),Kn(s,"annotations",()=>r.map(t)),Kn(s,"marks",()=>o.map(t)),Kn(s,"preview",zC(e)),a(s);function a(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},l,St(u,jQ),{type:l});return a(d)}}}}};var Vjt=Object.freeze({__proto__:null,any:h5t,array:xjt,block:Ojt,boolean:y5t,crossDatasetReference:cjt,date:v5t,datetime:g5t,document:bjt,email:x5t,file:vjt,image:pjt,number:w5t,object:rTe,reference:tjt,span:zjt,string:p5t,text:m5t,url:b5t});function Hjt(e){const t=Object.assign(Object.create(null),Vjt),n=e.types.reduce((s,a)=>{if(s[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return s[a.name]=a,s},{});return e.types.forEach(i),t;function r(s){if(!t[s]){if(!n[s])throw new Error("Unknown type: ".concat(s));i(n[s])}}function o(s){return r(s.type),t[s.type].extend(s,o).get()}function i(s){r(s.type),!t[s.name]&&(t[s.name]=t[s.type].extend(s,o))}}let Ujt=class iTe{static compile(t){return new iTe(t)}constructor(t){this._original=t,this._registry=Hjt(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const vB=Ujt;var Wjt=QA;function Yjt(e){return e&&e.length?Wjt(e):[]}var qjt=Yjt;const wo=Pe(qjt),Gjt={},Kjt=Object.freeze(Object.defineProperty({__proto__:null,default:Gjt},Symbol.toStringTag,{value:"Module"})),Zjt=k9e(Kjt);var yB=typeof Map=="function"&&Map.prototype,r3=Object.getOwnPropertyDescriptor&&yB?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,D5=yB&&r3&&typeof r3.get=="function"?r3.get:null,TQ=yB&&Map.prototype.forEach,bB=typeof Set=="function"&&Set.prototype,o3=Object.getOwnPropertyDescriptor&&bB?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,P5=bB&&o3&&typeof o3.get=="function"?o3.get:null,AQ=bB&&Set.prototype.forEach,Xjt=typeof WeakMap=="function"&&WeakMap.prototype,ax=Xjt?WeakMap.prototype.has:null,Qjt=typeof WeakSet=="function"&&WeakSet.prototype,lx=Qjt?WeakSet.prototype.has:null,Jjt=typeof WeakRef=="function"&&WeakRef.prototype,DQ=Jjt?WeakRef.prototype.deref:null,eTt=Boolean.prototype.valueOf,tTt=Object.prototype.toString,nTt=Function.prototype.toString,rTt=String.prototype.match,xB=String.prototype.slice,wf=String.prototype.replace,oTt=String.prototype.toUpperCase,PQ=String.prototype.toLowerCase,sTe=RegExp.prototype.test,IQ=Array.prototype.concat,jc=Array.prototype.join,iTt=Array.prototype.slice,OQ=Math.floor,LF=typeof BigInt=="function"?BigInt.prototype.valueOf:null,i3=Object.getOwnPropertySymbols,BF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,B0=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ui=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===B0||"symbol")?Symbol.toStringTag:null,aTe=Object.prototype.propertyIsEnumerable,$Q=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function RQ(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||sTe.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-OQ(-e):OQ(e);if(r!==e){var o=String(r),i=xB.call(t,o.length+1);return wf.call(o,n,"$&_")+"."+wf.call(wf.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return wf.call(t,n,"$&_")}var NF=Zjt,MQ=NF.custom,FQ=cTe(MQ)?MQ:null,sTt=function e(t,n,r,o){var i=n||{};if(rf(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(rf(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=rf(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(rf(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(rf(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return dTe(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return a?RQ(t,l):l}if(typeof t=="bigint"){var u=String(t)+"n";return a?RQ(t,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return zF(t)?"[Array]":"[Object]";var f=STt(i,r);if(typeof o>"u")o=[];else if(uTe(o,t)>=0)return"[Circular]";function p(P,I,R){if(I&&(o=iTt.call(o),o.push(I)),R){var O={depth:i.depth};return rf(i,"quoteStyle")&&(O.quoteStyle=i.quoteStyle),e(P,O,r+1,o)}return e(P,i,r+1,o)}if(typeof t=="function"&&!LQ(t)){var m=mTt(t),v=w2(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+jc.call(v,", ")+" }":"")}if(cTe(t)){var g=B0?wf.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):BF.call(t);return typeof t=="object"&&!B0?Iy(g):g}if(wTt(t)){for(var y="<"+PQ.call(String(t.nodeName)),x=t.attributes||[],b=0;b<x.length;b++)y+=" "+x[b].name+"="+lTe(aTt(x[b].value),"double",i);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+PQ.call(String(t.nodeName))+">",y}if(zF(t)){if(t.length===0)return"[]";var w=w2(t,p);return f&&!_Tt(w)?"["+VF(w,f)+"]":"[ "+jc.call(w,", ")+" ]"}if(cTt(t)){var C=w2(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!aTe.call(t,"cause")?"{ ["+String(t)+"] "+jc.call(IQ.call("[cause]: "+p(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+jc.call(C,", ")+" }"}if(typeof t=="object"&&s){if(FQ&&typeof t[FQ]=="function"&&NF)return NF(t,{depth:d-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(gTt(t)){var _=[];return TQ&&TQ.call(t,function(P,I){_.push(p(I,t,!0)+" => "+p(P,t))}),BQ("Map",D5.call(t),_,f)}if(bTt(t)){var S=[];return AQ&&AQ.call(t,function(P){S.push(p(P,t))}),BQ("Set",P5.call(t),S,f)}if(vTt(t))return s3("WeakMap");if(xTt(t))return s3("WeakSet");if(yTt(t))return s3("WeakRef");if(dTt(t))return Iy(p(Number(t)));if(hTt(t))return Iy(p(LF.call(t)));if(fTt(t))return Iy(eTt.call(t));if(uTt(t))return Iy(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===Ds)return"{ [object globalThis] }";if(!lTt(t)&&!LQ(t)){var E=w2(t,p),j=$Q?$Q(t)===Object.prototype:t instanceof Object||t.constructor===Object,k=t instanceof Object?"":"null prototype",T=!j&&Ui&&Object(t)===t&&Ui in t?xB.call(Mh(t),8,-1):k?"Object":"",A=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",D=A+(T||k?"["+jc.call(IQ.call([],T||[],k||[]),": ")+"] ":"");return E.length===0?D+"{}":f?D+"{"+VF(E,f)+"}":D+"{ "+jc.call(E,", ")+" }"}return String(t)};function lTe(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function aTt(e){return wf.call(String(e),/"/g,"&quot;")}function zF(e){return Mh(e)==="[object Array]"&&(!Ui||!(typeof e=="object"&&Ui in e))}function lTt(e){return Mh(e)==="[object Date]"&&(!Ui||!(typeof e=="object"&&Ui in e))}function LQ(e){return Mh(e)==="[object RegExp]"&&(!Ui||!(typeof e=="object"&&Ui in e))}function cTt(e){return Mh(e)==="[object Error]"&&(!Ui||!(typeof e=="object"&&Ui in e))}function uTt(e){return Mh(e)==="[object String]"&&(!Ui||!(typeof e=="object"&&Ui in e))}function dTt(e){return Mh(e)==="[object Number]"&&(!Ui||!(typeof e=="object"&&Ui in e))}function fTt(e){return Mh(e)==="[object Boolean]"&&(!Ui||!(typeof e=="object"&&Ui in e))}function cTe(e){if(B0)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!BF)return!1;try{return BF.call(e),!0}catch{}return!1}function hTt(e){if(!e||typeof e!="object"||!LF)return!1;try{return LF.call(e),!0}catch{}return!1}var pTt=Object.prototype.hasOwnProperty||function(e){return e in this};function rf(e,t){return pTt.call(e,t)}function Mh(e){return tTt.call(e)}function mTt(e){if(e.name)return e.name;var t=rTt.call(nTt.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function uTe(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function gTt(e){if(!D5||!e||typeof e!="object")return!1;try{D5.call(e);try{P5.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function vTt(e){if(!ax||!e||typeof e!="object")return!1;try{ax.call(e,ax);try{lx.call(e,lx)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function yTt(e){if(!DQ||!e||typeof e!="object")return!1;try{return DQ.call(e),!0}catch{}return!1}function bTt(e){if(!P5||!e||typeof e!="object")return!1;try{P5.call(e);try{D5.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function xTt(e){if(!lx||!e||typeof e!="object")return!1;try{lx.call(e,lx);try{ax.call(e,ax)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function wTt(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function dTe(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return dTe(xB.call(e,0,t.maxStringLength),t)+r}var o=wf.call(wf.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,CTt);return lTe(o,"single",t)}function CTt(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+oTt.call(t.toString(16))}function Iy(e){return"Object("+e+")"}function s3(e){return e+" { ? }"}function BQ(e,t,n,r){var o=r?VF(n,r):jc.call(n,", ");return e+" ("+t+") {"+o+"}"}function _Tt(e){for(var t=0;t<e.length;t++)if(uTe(e[t],`
`)>=0)return!1;return!0}function STt(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=jc.call(Array(e.indent+1)," ");else return null;return{base:n,prev:jc.call(Array(t+1),n)}}function VF(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+jc.call(e,","+n)+`
`+t.prev}function w2(e,t){var n=zF(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=rf(e,o)?t(e[o],e):""}var i=typeof i3=="function"?i3(e):[],s;if(B0){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var l in e)rf(e,l)&&(n&&String(Number(l))===l&&l<e.length||B0&&s["$"+l]instanceof Symbol||(sTe.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof i3=="function")for(var u=0;u<i.length;u++)aTe.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}const Av=Pe(sTt);function ETt(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var kTt=ETt,jTt=kke;function TTt(e,t,n,r){return jTt(e,function(o,i,s){t(r,o,n(o),s)}),r}var ATt=TTt,DTt=kTt,PTt=ATt,ITt=Oh,OTt=io;function $Tt(e,t){return function(n,r){var o=OTt(n)?DTt:PTt,i=t?t():{};return o(n,e,ITt(r),i)}}var wB=$Tt,RTt=wB,MTt=RTt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),FTt=MTt;const CB=Pe(FTt);var LTt=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var o="",i=0;i<r;i++)i===r-1?(n.oxfordComma&&(o+=","),o+=" "+n.conjunction+" "):i!==0&&(o+=", "),o+=t[i];return o};const Is=Pe(LTt);var _B={exports:{}};const a3=[],NQ=[],fTe=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,o=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-o);)r--,o--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,o-=i,r===0)return o;let s,a,l,u,d=0,f=0;for(;d<r;)NQ[d]=e.charCodeAt(i+d),a3[d]=++d;for(;f<o;)for(s=t.charCodeAt(i+f),l=f++,a=f,d=0;d<r;d++)u=s===NQ[d]?l:l+1,l=a3[d],a=a3[d]=l>a?u>a?a+1:u:u>l?l+1:u;return a};_B.exports=fTe;_B.exports.default=fTe;var BTt=_B.exports;const NTt=Pe(BTt),zTt="https://docs.sanity.io/help/";function SB(e){return zTt+e}const nt={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function hTe(e,t,n){if(n&&!Object.keys(nt).some(r=>nt[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}const De=(e,t)=>hTe("error",e,t),Yr=(e,t)=>hTe("warning",e,t);function VTt(e){return $n(e.map(t=>pTe(t))).filter(t=>t.problems.length>0)}function pg(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>Gn(n,e);return function(r,o){const i=[...o,{kind:"type",type:r.type,name:r.name}],s=t(r)||[],a=Array.isArray(s)?s.map(l=>{const u={kind:"property",name:e},d=[...i,u];return pTe(l,d)}):[[{path:i,problems:[De("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:r._problems||[]},...$n(a)]}}const HTt=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],zQ=pg("fields"),UTt=pg("fields"),WTt=pg("fields"),YTt=pg("of"),qTt=pg("to",e=>"to"in e?HTt(e.to):[]),GTt=pg("marks.annotations"),KTt=pg("of"),ZTt=(e,t)=>[...GTt(e,t),...KTt(e,t)];function XTt(e){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function pTe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(e.type){case"object":return zQ(e,t);case"document":return zQ(e,t);case"array":return YTt(e,t);case"reference":return qTt(e,t);case"block":return ZTt(e,t);case"image":return UTt(e,t);case"file":return WTt(e,t);default:return XTt(e,t)}}function tD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=e.reduce((r,o)=>{const i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const QTt=e=>e,JTt={name:"type",type:null},eAt=["any","time","date"];function tAt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:QTt;const r=Object.create(null),o=Object.create(null),i=t.map(v=>v.name),s=eAt.concat(i),a=e.map(v=>v&&v.name).filter(Boolean);t.forEach(v=>{r[v.name]=v}),e.forEach((v,g)=>{o[v&&v.name||"__unnamed_".concat(g)]={}});function l(v){return v==="type"?JTt:r[v]||o[v]||null}const u=wo($n(tD(a)));function d(v){return u.includes(v)}function f(){return a.concat(i)}function p(v){return v==="type"||s.includes(v)}const m=v=>(g,y)=>n(g,{visit:m(!1),isRoot:v,getType:l,getTypeNames:f,isReserved:p,isDuplicate:d,index:y});return t.forEach(v=>{Object.assign(r[v.name],m(v))}),e.forEach((v,g)=>{Object.assign(o[v&&v.name||"__unnamed_".concat(g)],m(!0)(v,g))}),{get(v){const g=o[v]||r[v];if(g)return g;throw new Error("No such type: ".concat(v))},has(v){return v in o||v in r},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const mTe=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],gTe=mTe.map(e=>e.name);function nAt(e,t){return tAt(e,mTe,t)}const rAt=/^Symbol\(react\..+\)$/;function C2(e){return typeof e==="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&rAt.test(String(e==null?void 0:e.$$typeof))}function vTe(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!C2(t.input)&&n.push(Yr("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Av(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!C2(t.field)&&n.push(Yr("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Av(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!C2(t.item)&&n.push(Yr("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Av(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!C2(t.preview)&&n.push(Yr("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Av(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const VQ=/^[A-Za-z]+[0-9A-Za-z_]*$/,oAt=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function iAt(e){return typeof e!="string"?[De('Field names must be strings. Saw "'.concat(Av(e),'"'),nt.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[De('Invalid field name "'.concat(e,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),nt.OBJECT_FIELD_NAME_INVALID)]:VQ.test(e)?oAt.test(e)?[]:[Yr("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),nt.OBJECT_FIELD_NAME_INVALID]:[De('Invalid field name: "'.concat(e,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(VQ),")."),nt.OBJECT_FIELD_NAME_INVALID)]}function EB(e,t){if(!Tr(e))return[De("Incorrect type for field definition - should be an object, saw ".concat(Av(e)),nt.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?iAt(e.name):[De("Missing field name",nt.OBJECT_FIELD_NAME_INVALID)]),n.push(...vTe(e)),n}function sAt(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function kB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(e))return[De('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),nt.OBJECT_FIELDS_INVALID)];const o=e.filter(s=>typeof s.name=="string");sAt(o).forEach(s=>{n.push(De("Found ".concat(s.length,' fields with name "').concat(s[0].name,'" in object'),nt.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(De("Object should have at least one field",nt.OBJECT_FIELDS_INVALID));const i=e.filter(s=>s.type==="block").map(s=>'"'.concat(s.name,'"'));if(i.length>0){const s=i.join(", ");n.push(De("Invalid standalone block field(s) ".concat(s,". Block content must be defined as an array of blocks"),nt.STANDALONE_BLOCK_TYPE))}return n}function aAt(e){return Tr(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[De('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?Tr(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(De('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[De('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[De('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}var yTe=(e,t)=>{let n=kB(e.fields),r=e.preview;if(r){const o=aAt(e.preview);n=n.concat(o),r=o.some(i=>i.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(De('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((o,i)=>{const{name:s,...a}=o,{_problems:l,...u}=t.visit(a,i);return{name:s,...u,_problems:EB(o).concat(l||[])}}),_problems:n}},lAt=(e,t)=>{const n=yTe(e,t),{initialValue:r,initialValues:o}=n;return typeof r<"u"&&!Tr(r)&&typeof r!="function"&&n._problems.push(De('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&n._problems.push(De('Found property "initialValues" - did you mean "initialValue"?')),n};function cAt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var uAt=(e,t)=>{const n=Array.isArray(e.to)||Tr(e.to),r=cAt(e),o=$n([n?tD(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>De("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),nt.REFERENCE_TO_INVALID)):De('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',nt.REFERENCE_TO_INVALID)]);return n&&r.length===0&&o.push(De('The reference type should define at least one accepted type. Please check the "to" property.',nt.REFERENCE_TO_INVALID)),o.push(...dAt(e)),{...e,to:(n?r:[]).map(t.visit),_problems:o}};function dAt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>De("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),nt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?Tr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(De("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",nt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(De("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!Tr(t.filterParams)?n.concat(De("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>De('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(De("The reference type expects `options` to be an object",nt.REFERENCE_INVALID_OPTIONS)):n}function HQ(e){return e==="string"||e==="number"||e==="boolean"}function fAt(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function cx(e){return'"'.concat(e,'"')}function UQ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return e.length===1?"":t}function WQ(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):typeof e=="object"&&e!==null?"object with keys ".concat(Is(Object.keys(e).map(cx))):cx(e)}var hAt=(e,t)=>{var n,r,o;const i=Array.isArray(e.of);if(i){const v=e.of.reduce((g,y,x)=>{if(typeof y.name=="string"&&y.name!==y.type&&gTe.includes(y.name))return g.concat(De('Found array member declaration with the same type name as a built-in type ("'.concat(y.name,'"). Array members can not be given the same name as a built-in type.'),nt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(y.type==="object"&&y.name&&t.getType(y.name))return g.concat(Yr('Found array member declaration with the same name as the global schema type "'.concat(y.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),nt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(y.type==="array")return g.concat(De('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',nt.ARRAY_OF_ARRAY));if(y)return g;const b="Found ".concat(y===null?"null":typeof y,", expected member declaration");return g.concat(De("Found invalid type member declaration in array at index ".concat(x,": ").concat(b),nt.ARRAY_OF_INVALID))},[]);if(v.length>0)return{...e,of:[],_problems:v}}const s=$n([i?tD(e.of,v=>"".concat(v.name,";").concat(v.type)).map(v=>De("Found ".concat(v.length,' members with same type, but not unique names "').concat(v[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),nt.ARRAY_OF_NOT_UNIQUE)):De('The array type is missing or having an invalid value for the required "of" property',nt.ARRAY_OF_INVALID)]),a=i?e.of:[],l=a.some(v=>v.type==="object"&&typeof v.name>"u");a.some(v=>v.type==="block")&&l&&s.push(De("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",nt.ARRAY_OF_INVALID));const[d,f]=CB(a,v=>{var g;return HQ(v.type)||HQ((g=t.getType(v.type))==null?void 0:g.jsonType)}),p=d.length>0&&f.length>0;if(p){const v=d.map(y=>y.type),g=f.map(y=>y.type);s.push(De("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(UQ(v)," ").concat(Is(v.map(cx))," and object type").concat(UQ(g)," ").concat(Is(g.map(cx)),")"),nt.ARRAY_OF_INVALID))}const m=(n=e==null?void 0:e.options)==null?void 0:n.list;return!p&&Array.isArray(m)&&(d.length>0?m.forEach(g=>{var y;const x=(y=g==null?void 0:g.value)!=null?y:g;if(!d.some(w=>typeof x===t.getType(w.type).jsonType)){const w=Is(d.map(C=>C.name||C.type),{conjunction:"or"});s.push(De("An invalid entry found in options.list: ".concat(WQ(x),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),nt.ARRAY_PREDEFINED_CHOICES_INVALID))}}):m.forEach(g=>{const y=g._type||"object";f.some(b=>fAt(y,b))||s.push(De("An invalid entry found in options.list: ".concat(WQ(g),'. Must be an object with "_type" set to ').concat(Is(f.map(b=>b.name||b.type).map(b=>b==="object"?"undefined":cx(b)),{conjunction:"or"})),nt.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((o=e==null?void 0:e.options)==null?void 0:o.layout)==="tags"&&s.push(Yr("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:a.map(t.visit),_problems:s}},pAt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Yr('Heads up! The "slugifyFn" option has been renamed to "slugify".',nt.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},mAt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...kB(r,{allowEmpty:!0}));const o=Array.isArray(r)?r==null?void 0:r.filter(i=>i.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(De("Invalid type for file `metadata` field - must be an array of strings",nt.ASSET_METADATA_FIELD_INVALID)):o.length>0&&n.push(De("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((i,s)=>{const{name:a,...l}=i,{_problems:u,...d}=t.visit(l,s);return{name:a,...d,_problems:EB(i).concat(u||[])}}),_problems:n}};const YQ=["dimensions","hasAlpha","isOpaque"];var gAt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...kB(r,{allowEmpty:!0}));let o=e.options;const i=o==null?void 0:o.metadata,s=Array.isArray(i)?i.filter(u=>YQ.includes(u)):[],a=["asset","hotspot","crop"],l=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof i<"u"&&!Array.isArray(i)?n.push(De("Invalid type for image `metadata` field - must be an array of strings",nt.ASSET_METADATA_FIELD_INVALID)):s.length>0?(n.push(Yr("Image `metadata` field contains superfluous properties (they are always included): ".concat(s.join(", ")))),o={...o,metadata:i.filter(u=>!YQ.includes(u))}):l.length>0&&n.push(De("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:o,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...p}=u,{_problems:m,...v}=t.visit(p,d);return{name:f,...v,_problems:EB(u).concat(m||[])}}),_problems:n}};function bTe(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(e.name,". No parent type found"));return bTe(r,t,n)}const ua=e=>Array.isArray(e)?"array":typeof e,VC=e=>'"'.concat(e,'"'),vAt=["components","lists","marks","name","of","options","styles","title","type","validation"],yAt=["decorators","annotations"],bAt=["blockEditor","title","value","component"],xAt=["blockEditor","title","value","icon","component"],wAt=["title","value","icon","component"],qQ=["file","image","object","reference"];function CAt(e,t){const n=[];let r=e.styles,o=e.lists,i=e.marks,s=e.of;const a=Object.keys(e).filter(l=>!vAt.includes(l)&&!l.startsWith("_"));return a.length>0&&n.push(De("Found unknown properties for block declaration: ".concat(Is(a.map(VC))))),i&&(i=_At(e.marks,t,n)),r&&(r=EAt(r,t,n)),o&&(o=SAt(o,t,n)),s&&(s=TAt(s,t,n)),{...Hi(e,a),marks:i,styles:r,name:e.name||e.type,of:s,_problems:n}}function _At(e,t,n){let r=e.decorators,o=e.annotations;if(!Tr(e))return n.push(De('"marks" declaration should be an object, got '.concat(ua(e)))),n;const i=Object.keys(e).filter(s=>!yAt.includes(s)&&!s.startsWith("_"));return i.length>0&&n.push(De("Found unknown properties for block declaration: ".concat(Is(i.map(VC))))),r&&!Array.isArray(r)?n.push(De('"marks.decorators" declaration should be an array, got '.concat(ua(r)))):r&&(r.filter(s=>!!s.blockEditor).forEach(s=>{s.icon=s.blockEditor.icon,s.component=s.blockEditor.render}),r=kAt(r,t,n)),o&&!Array.isArray(o)?n.push(De('"marks.annotations" declaration should be an array, got '.concat(ua(o)))):o&&(o=jAt(o,t,n)),{...e,decorators:r,annotations:o}}function SAt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!Tr(r)){n.push(De("List must be an object, got ".concat(ua(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!wAt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for list ".concat(i,": ").concat(Is(s.map(VC))))),r.value?typeof r.value!="string"?n.push(De("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(ua(r.value)))):r.title||n.push(Yr("List type ".concat(i,' is missing recommended "title" property'))):n.push(De("List #".concat(o,' is missing required "value" property')))}),e):(n.push(De('"lists" declaration should be an array, got '.concat(ua(e)))),n)}function EAt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!Tr(r)){n.push(De("Style must be an object, got ".concat(ua(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!bAt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for style ".concat(i,": ").concat(Is(s.map(VC))))),r.value?typeof r.value!="string"?n.push(De("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(ua(r.value)))):r.title||n.push(Yr("Style ".concat(i,' is missing recommended "title" property'))):n.push(De("Style #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Yr('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',nt.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(De('"styles" declaration should be an array, got '.concat(ua(e)))),n)}function kAt(e,t,n){return e.forEach((r,o)=>{if(!Tr(r)){n.push(De("Annotation must be an object, got ".concat(ua(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!xAt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for decorator ".concat(i,": ").concat(Is(s.map(VC))))),r.value?typeof r.value!="string"?n.push(De("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(ua(r.value)))):r.title||n.push(Yr("Decorator ".concat(i,' is missing recommended "title" property'))):n.push(De("Decorator #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Yr('Decorator "'.concat(i,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),nt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function jAt(e,t,n){return e.map(r=>{var o,i;if(!Tr(r))return{...r,_problems:[De("Annotation must be an object, got ".concat(ua(r)))]};const{_problems:s}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!bTe(a,"object",t)&&s.push(De('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(Yr('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',nt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((i=r.components)!=null&&i.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:s}})}function TAt(e,t,n){if(!Array.isArray(e)){n.push(De('"of" declaration should be an array, got '.concat(ua(e))));return}return e.map(r=>{const{_problems:o}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Yr('Found array member declaration with the same name as the global schema type "'.concat(r.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),nt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let i=r;for(;i&&!i.jsonType;)i=t.getType(i.type);const s=gTe.filter(a=>!qQ.includes(a));return i&&i.jsonType!=="object"||s.some(a=>a===r.type)?{...r,_problems:[De("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(qQ.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),nt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:o}})}function AAt(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[De('Type has propery "fields", but is not an object/document type.')]:[]}const DAt=e=>'"'.concat(e,'"');function PAt(e,t){const n=t.getTypeNames();if(!e)return[De("Type is missing a type. Valid types are: ".concat(Is(n)),nt.TYPE_MISSING_TYPE)];if(typeof e!="string")return[De('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(Is(n)),nt.TYPE_MISSING_TYPE)];if(!n.includes(e)){const o=n.map(s=>[NTt(e,s),s]).filter(s=>{let[a]=s;return a<3}).map(s=>{let[a,l]=s;return l}),i=o.length>0?" Did you mean ".concat(Is(o.map(DAt),{conjunction:"or"}),"?"):"";return[De("Unknown type: ".concat(e,".").concat(i,`

Valid types are: `).concat(Is(n)))]}return[]}function IAt(e){var t,n,r;const o=[];return e!=null&&e.inputComponent&&o.push(Yr('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&o.push(Yr('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&o.push(Yr('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&o.push(Yr('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&o.push(Yr('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var GQ=(e,t)=>({...e,_problems:[...PAt(e.type,t),...AAt(e,t),...IAt(e)].filter(Boolean)}),OAt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[De("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",nt.TYPE_INVALID)]};const r=[];return $At(e)?r.push(De("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",nt.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(De('Invalid type name: "'.concat(e.name,'" is a reserved name.'),nt.TYPE_NAME_RESERVED)):r.push(De("Missing type name",nt.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(De('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...vTe(e)),"title"in e&&typeof e.title!="string"&&r.push(Yr("Type title is not a string.",nt.TYPE_TITLE_INVALID)),{...e,_problems:r}};function $At(e){return!e.name&&e.default&&(e.default.name||e.default.title)}function RAt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const MAt=/^[a-z0-9~][-_a-z0-9]+$/;function FAt(e){return e.length>=2&&e.toLowerCase()===e&&MAt.test(e)||'The provided dataset "'.concat(e,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var LAt=(e,t)=>{const n=Array.isArray(e.to)||Tr(e.to),r=RAt(e),o=$n([n?tD(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>De("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),nt.CROSS_DATASET_REFERENCE_INVALID)):De('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',nt.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&o.push(De('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',nt.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((i,s)=>{i.type||o.push(De("The referenced type at index ".concat(s," must be named. Specify the name of the type you want to create references to."),nt.CROSS_DATASET_REFERENCE_INVALID)),Tr(i.preview)||o.push(De('Missing required preview config for the referenced type "'.concat(i.type||"<unknown type>",'"'),nt.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const i=FAt(e.dataset);i!==!0&&o.push(De(i,nt.CROSS_DATASET_REFERENCE_INVALID))}else o.push(De("A cross dataset reference must specify a `dataset`",nt.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&o.push(De('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',nt.CROSS_DATASET_REFERENCE_INVALID)),o.push(...BAt(e)),{...e,_problems:o}};function BAt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>De("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),nt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?Tr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(De("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",nt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(De("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!Tr(t.filterParams)?n.concat(De("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>De('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(De("The reference type expects `options` to be an object",nt.REFERENCE_INVALID_OPTIONS)):n}const NAt={array:hAt,object:yTe,slug:pAt,file:mAt,image:gAt,block:CAt,document:lAt,reference:uAt,crossDatasetReference:LAt},zAt=e=>t=>({name:"<unnamed_type_@_index_".concat(e.index,">"),...t,_problems:[]});function KQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r,o)=>t.reduce((i,s)=>{const a=s(i,o);return{...a,_problems:i._problems.concat(a._problems)}},{_problems:[],...r})}function VAt(e){return nAt(e,(t,n)=>{const r=t&&t.type&&NAt[t.type]||zAt(n);return n.isRoot?KQ(OAt,GQ,r)(t,n):KQ(GQ,r)(t,n)})}const HF="__experimental_actions",xTe=["create","update","delete","publish"],l3=xTe,HAt=e=>HF in e?e[HF]:xTe,UAt=(e,t)=>{if(!Array.isArray(t))throw new Error("The value of <type>.".concat(HF," should be an array with any of the actions ").concat(l3.join(", ")));const n=Dm(t,l3);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(l3.join(", ")));return t},WAt=e=>UAt(e.name,HAt(e)),ZQ=(e,t)=>WAt(e).includes(t);var YAt=pB,qAt=1,GAt=4;function KAt(e){return YAt(e,qAt|GAt)}var ZAt=KAt;const XAt=Pe(ZAt);function qe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function QAt(e){return qe(1,arguments),e instanceof Date||Kl(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ke(e){qe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Kl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function hd(e){if(qe(1,arguments),!QAt(e)&&typeof e!="number")return!1;var t=Ke(e);return!isNaN(Number(t))}function At(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function JAt(e,t){qe(2,arguments);var n=Ke(e).getTime(),r=At(t);return new Date(n+r)}function wTe(e,t){qe(2,arguments);var n=At(t);return JAt(e,-n)}var eDt=864e5;function tDt(e){qe(1,arguments);var t=Ke(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/eDt)+1}function N0(e){qe(1,arguments);var t=1,n=Ke(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function CTe(e){qe(1,arguments);var t=Ke(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=N0(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=N0(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function nDt(e){qe(1,arguments);var t=CTe(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=N0(n);return r}var rDt=6048e5;function _Te(e){qe(1,arguments);var t=Ke(e),n=N0(t).getTime()-nDt(t).getTime();return Math.round(n/rDt)+1}var oDt={};function Pd(){return oDt}function Pm(e,t){var n,r,o,i,s,a,l,u;qe(1,arguments);var d=Pd(),f=At((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(e),m=p.getUTCDay(),v=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function jB(e,t){var n,r,o,i,s,a,l,u;qe(1,arguments);var d=Ke(e),f=d.getUTCFullYear(),p=Pd(),m=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,m),v.setUTCHours(0,0,0,0);var g=Pm(v,t),y=new Date(0);y.setUTCFullYear(f,0,m),y.setUTCHours(0,0,0,0);var x=Pm(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function iDt(e,t){var n,r,o,i,s,a,l,u;qe(1,arguments);var d=Pd(),f=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=jB(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var v=Pm(m,t);return v}var sDt=6048e5;function STe(e,t){qe(1,arguments);var n=Ke(e),r=Pm(n,t).getTime()-iDt(n,t).getTime();return Math.round(r/sDt)+1}function wn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var aDt={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return wn(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):wn(r+1,2)},d:function(t,n){return wn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return wn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return wn(t.getUTCHours(),n.length)},m:function(t,n){return wn(t.getUTCMinutes(),n.length)},s:function(t,n){return wn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return wn(i,n.length)}};const Ud=aDt;var Lg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lDt={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return Ud.y(t,n)},Y:function(t,n,r,o){var i=jB(t,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return wn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):wn(s,n.length)},R:function(t,n){var r=CTe(t);return wn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return wn(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return wn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return wn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return Ud.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return wn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=STe(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):wn(i,n.length)},I:function(t,n,r){var o=_Te(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):wn(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ud.d(t,n)},D:function(t,n,r){var o=tDt(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):wn(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return wn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return wn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return wn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=Lg.noon:o===0?i=Lg.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=Lg.evening:o>=12?i=Lg.afternoon:o>=4?i=Lg.morning:i=Lg.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Ud.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ud.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):wn(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):wn(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ud.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ud.s(t,n)},S:function(t,n){return Ud.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return QQ(s);case"XXXX":case"XX":return Sp(s);case"XXXXX":case"XXX":default:return Sp(s,":")}},x:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return QQ(s);case"xxxx":case"xx":return Sp(s);case"xxxxx":case"xxx":default:return Sp(s,":")}},O:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+XQ(s,":");case"OOOO":default:return"GMT"+Sp(s,":")}},z:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+XQ(s,":");case"zzzz":default:return"GMT"+Sp(s,":")}},t:function(t,n,r,o){var i=o._originalDate||t,s=Math.floor(i.getTime()/1e3);return wn(s,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,s=i.getTime();return wn(s,n.length)}};function XQ(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=t||"";return n+String(o)+s+wn(i,2)}function QQ(e,t){if(e%60===0){var n=e>0?"-":"+";return n+wn(Math.abs(e)/60,2)}return Sp(e,t)}function Sp(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=wn(Math.floor(o/60),2),s=wn(o%60,2);return r+i+n+s}const cDt=lDt;var JQ=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},ETe=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},uDt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return JQ(t,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",JQ(o,n)).replace("{{time}}",ETe(i,n))},dDt={p:ETe,P:uDt};const UF=dDt;function I5(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var fDt=["D","DD"],hDt=["YY","YYYY"];function kTe(e){return fDt.indexOf(e)!==-1}function jTe(e){return hDt.indexOf(e)!==-1}function O5(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var pDt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mDt=function(t,n,r){var o,i=pDt[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const gDt=mDt;function c3(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var vDt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yDt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bDt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xDt={date:c3({formats:vDt,defaultWidth:"full"}),time:c3({formats:yDt,defaultWidth:"full"}),dateTime:c3({formats:bDt,defaultWidth:"full"})};const wDt=xDt;var CDt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_Dt=function(t,n,r,o){return CDt[t]};const SDt=_Dt;function Oy(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[l]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var EDt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kDt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jDt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TDt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ADt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DDt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},PDt=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},IDt={ordinalNumber:PDt,era:Oy({values:EDt,defaultWidth:"wide"}),quarter:Oy({values:kDt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Oy({values:jDt,defaultWidth:"wide"}),day:Oy({values:TDt,defaultWidth:"wide"}),dayPeriod:Oy({values:ADt,defaultWidth:"wide",formattingValues:DDt,defaultFormattingWidth:"wide"})};const ODt=IDt;function $y(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?RDt(a,function(f){return f.test(s)}):$Dt(a,function(f){return f.test(s)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(s.length);return{value:u,rest:d}}}function $Dt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function RDt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function MDt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(o.length);return{value:s,rest:a}}}var FDt=/^(\d+)(th|st|nd|rd)?/i,LDt=/\d+/i,BDt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NDt={any:[/^b/i,/^(a|c)/i]},zDt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VDt={any:[/1/i,/2/i,/3/i,/4/i]},HDt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UDt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WDt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YDt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qDt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GDt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KDt={ordinalNumber:MDt({matchPattern:FDt,parsePattern:LDt,valueCallback:function(t){return parseInt(t,10)}}),era:$y({matchPatterns:BDt,defaultMatchWidth:"wide",parsePatterns:NDt,defaultParseWidth:"any"}),quarter:$y({matchPatterns:zDt,defaultMatchWidth:"wide",parsePatterns:VDt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:$y({matchPatterns:HDt,defaultMatchWidth:"wide",parsePatterns:UDt,defaultParseWidth:"any"}),day:$y({matchPatterns:WDt,defaultMatchWidth:"wide",parsePatterns:YDt,defaultParseWidth:"any"}),dayPeriod:$y({matchPatterns:qDt,defaultMatchWidth:"any",parsePatterns:GDt,defaultParseWidth:"any"})};const ZDt=KDt;var XDt={code:"en-US",formatDistance:gDt,formatLong:wDt,formatRelative:SDt,localize:ODt,match:ZDt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const TTe=XDt;var QDt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JDt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ePt=/^'([^]*?)'?$/,tPt=/''/g,nPt=/[a-zA-Z]/;function ci(e,t,n){var r,o,i,s,a,l,u,d,f,p,m,v,g,y,x,b,w,C;qe(2,arguments);var _=String(t),S=Pd(),E=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:S.locale)!==null&&r!==void 0?r:TTe,j=At((i=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=At((m=(v=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&v!==void 0?v:(w=S.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=Ke(e);if(!hd(T))throw new RangeError("Invalid time value");var A=I5(T),D=wTe(T,A),P={firstWeekContainsDate:j,weekStartsOn:k,locale:E,_originalDate:T},I=_.match(JDt).map(function(R){var O=R[0];if(O==="p"||O==="P"){var V=UF[O];return V(R,E.formatLong)}return R}).join("").match(QDt).map(function(R){if(R==="''")return"'";var O=R[0];if(O==="'")return rPt(R);var V=cDt[O];if(V)return!(n!=null&&n.useAdditionalWeekYearTokens)&&jTe(R)&&O5(R,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&kTe(R)&&O5(R,t,String(e)),V(D,R,E.localize,P);if(O.match(nPt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return R}).join("");return I}function rPt(e){var t=e.match(ePt);return t?t[1].replace(tPt,"'"):e}var Mc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mc||(Mc={}));var $5=function(e){return e},eJ="beforeunload",oPt="popstate";function iPt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var E=r.location,j=E.pathname,k=E.search,T=E.hash,A=o.state||{};return[A.idx,$5({pathname:j,search:k,hash:T,state:A.usr||null,key:A.key||"default"})]}var s=null;function a(){if(s)m.call(s),s=null;else{var E=Mc.Pop,j=i(),k=j[0],T=j[1];if(m.length){if(k!=null){var A=d-k;A&&(s={action:E,location:T,retry:function(){_(A*-1)}},_(A))}}else b(E)}}r.addEventListener(oPt,a);var l=Mc.Pop,u=i(),d=u[0],f=u[1],p=R5(),m=R5();d==null&&(d=0,o.replaceState(fd({},o.state,{idx:d}),""));function v(E){return typeof E=="string"?E:ATe(E)}function g(E,j){return j===void 0&&(j=null),$5(fd({pathname:f.pathname,hash:"",search:""},typeof E=="string"?YF(E):E,{state:j,key:WF()}))}function y(E,j){return[{usr:E.state,key:E.key,idx:j},v(E)]}function x(E,j,k){return!m.length||(m.call({action:E,location:j,retry:k}),!1)}function b(E){l=E;var j=i();d=j[0],f=j[1],p.call({action:l,location:f})}function w(E,j){var k=Mc.Push,T=g(E,j);function A(){w(E,j)}if(x(k,T,A)){var D=y(T,d+1),P=D[0],I=D[1];try{o.pushState(P,"",I)}catch{r.location.assign(I)}b(k)}}function C(E,j){var k=Mc.Replace,T=g(E,j);function A(){C(E,j)}if(x(k,T,A)){var D=y(T,d),P=D[0],I=D[1];o.replaceState(P,"",I),b(k)}}function _(E){o.go(E)}var S={get action(){return l},get location(){return f},createHref:v,push:w,replace:C,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(j){return p.push(j)},block:function(j){var k=m.push(j);return m.length===1&&r.addEventListener(eJ,nJ),function(){k(),m.length||r.removeEventListener(eJ,nJ)}}};return S}function sPt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,o=t.initialIndex,i=r.map(function(w){var C=$5(fd({pathname:"/",search:"",hash:"",state:null,key:WF()},typeof w=="string"?YF(w):w));return C}),s=tJ(o??i.length-1,0,i.length-1),a=Mc.Pop,l=i[s],u=R5(),d=R5();function f(w){return typeof w=="string"?w:ATe(w)}function p(w,C){return C===void 0&&(C=null),$5(fd({pathname:l.pathname,search:"",hash:""},typeof w=="string"?YF(w):w,{state:C,key:WF()}))}function m(w,C,_){return!d.length||(d.call({action:w,location:C,retry:_}),!1)}function v(w,C){a=w,l=C,u.call({action:a,location:l})}function g(w,C){var _=Mc.Push,S=p(w,C);function E(){g(w,C)}m(_,S,E)&&(s+=1,i.splice(s,i.length,S),v(_,S))}function y(w,C){var _=Mc.Replace,S=p(w,C);function E(){y(w,C)}m(_,S,E)&&(i[s]=S,v(_,S))}function x(w){var C=tJ(s+w,0,i.length-1),_=Mc.Pop,S=i[C];function E(){x(w)}m(_,S,E)&&(s=C,v(_,S))}var b={get index(){return s},get action(){return a},get location(){return l},createHref:f,push:g,replace:y,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(C){return u.push(C)},block:function(C){return d.push(C)}};return b}function tJ(e,t,n){return Math.min(Math.max(e,t),n)}function nJ(e){e.preventDefault(),e.returnValue=""}function R5(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function WF(){return Math.random().toString(36).substr(2,8)}function ATe(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function YF(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var DTe={exports:{}},PTe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=h;function aPt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lPt=typeof Object.is=="function"?Object.is:aPt,cPt=HC.useSyncExternalStore,uPt=HC.useRef,dPt=HC.useEffect,fPt=HC.useMemo,hPt=HC.useDebugValue;PTe.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=uPt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=fPt(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&s.hasValue){var v=s.value;if(o(v,m))return f=v}return f=m}if(v=f,lPt(d,m))return v;var g=r(m);return o!==void 0&&o(v,g)?v:(d=m,f=g)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,o]);var a=cPt(e,i[0],i[1]);return dPt(function(){s.hasValue=!0,s.value=a},[a]),hPt(a),a};DTe.exports=PTe;var TB=DTe.exports,pPt=ru,ITe=/[\\^$.*+?()[\]{}|]/g,mPt=RegExp(ITe.source);function gPt(e){return e=pPt(e),e&&mPt.test(e)?e.replace(ITe,"\\$&"):e}var vPt=gPt;const AB=Pe(vPt);var Id={};Object.defineProperty(Id,"__esModule",{value:!0});var yPt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),u3={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},bPt={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:yPt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},OTe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var _2=1;_2<20;_2++)OTe["f"+_2]=111+_2;function nD(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return $Te(s,t)}),o=function(a){return r.some(function(l){return RTe(l,a)})},i=n==null?o:o(n);return i}function xPt(e,t){return nD(e,t)}function wPt(e,t){return nD(e,{byKey:!0},t)}function $Te(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in u3)r[u3[s]]=!1;var a=!0,l=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=DB(p),g=u3[v];(i===1||!g)&&(n?r.key=v:r.which=MTe(p)),g&&(r[g]=m?null:!0)}}catch(y){l=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(l)throw u}}return r}function RTe(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function MTe(e){e=DB(e);var t=OTe[e]||e.toUpperCase().charCodeAt(0);return t}function DB(e){return e=e.toLowerCase(),e=bPt[e]||e,e}var Ti=Id.default=nD;Id.isHotkey=nD;Id.isCodeHotkey=xPt;Id.isKeyHotkey=wPt;Id.parseHotkey=$Te;Id.compareHotkey=RTe;Id.toKeyCode=MTe;Id.toKeyName=DB;var CPt=nke,_Pt=$C,SPt=jA,EPt=io,kPt=Ph,jPt=TA,TPt=DA,APt=j7,DPt="[object Map]",PPt="[object Set]",IPt=Object.prototype,OPt=IPt.hasOwnProperty;function $Pt(e){if(e==null)return!0;if(kPt(e)&&(EPt(e)||typeof e=="string"||typeof e.splice=="function"||jPt(e)||APt(e)||SPt(e)))return!e.length;var t=_Pt(e);if(t==DPt||t==PPt)return!e.size;if(TPt(e))return!CPt(e).length;for(var n in e)if(OPt.call(e,n))return!1;return!0}var RPt=$Pt;const MPt=Pe(RPt);var FPt=ru,LPt=0;function BPt(e){var t=++LPt;return FPt(e)+t}var NPt=BPt;const FTe=Pe(NPt);function rs(e,t){qe(2,arguments);var n=Ke(e),r=At(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function PB(e,t){qe(2,arguments);var n=Ke(e),r=At(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function z0(e,t){var n,r,o,i,s,a,l,u;qe(1,arguments);var d=Pd(),f=At((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(e),m=p.getDay(),v=(m<f?7:0)+m-f;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function gh(e){qe(1,arguments);var t=Ke(e);return t.setHours(0,0,0,0),t}var zPt=864e5;function VPt(e,t){qe(2,arguments);var n=gh(e),r=gh(t),o=n.getTime()-I5(n),i=r.getTime()-I5(r);return Math.round((o-i)/zPt)}function HPt(e,t){qe(2,arguments);var n=At(t),r=n*7;return rs(e,r)}function ux(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var rD=6e4,oD=36e5,UPt=1e3;function hf(e,t){qe(2,arguments);var n=gh(e),r=gh(t);return n.getTime()===r.getTime()}function WPt(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function YPt(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getFullYear()-r.getFullYear()}function rJ(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function LTe(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=rJ(n,r),i=Math.abs(VPt(n,r));n.setDate(n.getDate()-o*i);var s=+(rJ(n,r)===-o),a=o*(i-s);return a===0?0:a}function IB(e,t){return qe(2,arguments),Ke(e).getTime()-Ke(t).getTime()}var oJ={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},qPt="trunc";function iD(e){return e?oJ[e]:oJ[qPt]}function GPt(e,t,n){qe(2,arguments);var r=IB(e,t)/oD;return iD(n==null?void 0:n.roundingMethod)(r)}function KPt(e,t,n){qe(2,arguments);var r=IB(e,t)/rD;return iD(n==null?void 0:n.roundingMethod)(r)}function M5(e){qe(1,arguments);var t=Ke(e);return t.setHours(23,59,59,999),t}function ZPt(e){qe(1,arguments);var t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function XPt(e){qe(1,arguments);var t=Ke(e);return M5(t).getTime()===ZPt(t).getTime()}function QPt(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=ux(n,r),i=Math.abs(WPt(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=ux(n,r)===-o;XPt(Ke(e))&&i===1&&ux(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function JPt(e,t,n){qe(2,arguments);var r=IB(e,t)/1e3;return iD(n==null?void 0:n.roundingMethod)(r)}function eIt(e,t,n){qe(2,arguments);var r=LTe(e,t)/7;return iD(n==null?void 0:n.roundingMethod)(r)}function tIt(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=ux(n,r),i=Math.abs(YPt(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=ux(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function iJ(e){qe(1,arguments);var t=Ke(e);return t.setSeconds(0,0),t}function BTe(e,t){qe(1,arguments);var n=e||{},r=Ke(n.start),o=Ke(n.end),i=o.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var s=z0(r,t),a=z0(o,t);s.setHours(15),a.setHours(15),i=a.getTime();for(var l=[],u=s;u.getTime()<=i;)u.setHours(0),l.push(Ke(u)),u=HPt(u,1),u.setHours(15);return l}function NTe(e){qe(1,arguments);var t=Ke(e);return t.setDate(1),t.setHours(0,0,0,0),t}function sJ(e){qe(1,arguments);var t=Ke(e);return t.setSeconds(59,999),t}function nIt(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function rIt(e){qe(1,arguments);var t=Ke(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function oIt(e){qe(1,arguments);var t=Ke(e),n=t.getMinutes();return n}function iIt(e,t){var n,r,o,i,s,a,l,u;qe(1,arguments);var d=Ke(e),f=d.getFullYear(),p=Pd(),m=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,m),v.setHours(0,0,0,0);var g=z0(v,t),y=new Date(0);y.setFullYear(f,0,m),y.setHours(0,0,0,0);var x=z0(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function sIt(e,t){var n,r,o,i,s,a,l,u;qe(1,arguments);var d=Pd(),f=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=iIt(e,t),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var v=z0(m,t);return v}var aIt=6048e5;function zTe(e,t){qe(1,arguments);var n=Ke(e),r=z0(n,t).getTime()-sIt(n,t).getTime();return Math.round(r/aIt)+1}function VTe(e){qe(1,arguments);var t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function qF(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getTime()>r.getTime()}function HTe(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getTime()<r.getTime()}function aJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lIt(e,t){if(e){if(typeof e=="string")return aJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aJ(e,t)}}function lJ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=lIt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function ze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u5(e,t)}function F5(e){return F5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F5(e)}function cIt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uIt(e,t){if(t&&(Kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ze(e)}function fn(e){var t=cIt();return function(){var r=F5(e),o;if(t){var i=F5(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return uIt(this,o)}}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n5e(r.key),r)}}function Qt(e,t,n){return t&&cJ(e.prototype,t),n&&cJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var dIt=10,UTe=function(){function e(){Xt(this,e),Fe(this,"priority",void 0),Fe(this,"subPriority",0)}return Qt(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),fIt=function(e){dn(n,e);var t=fn(n);function n(r,o,i,s,a){var l;return Xt(this,n),l=t.call(this),l.value=r,l.validateValue=o,l.setValue=i,l.priority=s,a&&(l.subPriority=a),l}return Qt(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(UTe),hIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",dIt),Fe(ze(r),"subPriority",-1),r}return Qt(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(UTe),bn=function(){function e(){Xt(this,e),Fe(this,"incompatibleTokens",void 0),Fe(this,"priority",void 0),Fe(this,"subPriority",void 0)}return Qt(e,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new fIt(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),pIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",140),Fe(ze(r),"incompatibleTokens",["R","u","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(bn),no={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ic={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ro(e,t){return e&&{value:t(e.value),rest:e.rest}}function $r(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Oc(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*oD+i*rD+s*UPt),rest:t.slice(n[0].length)}}function WTe(e){return $r(no.anyDigitsSigned,e)}function Zr(e,t){switch(e){case 1:return $r(no.singleDigit,t);case 2:return $r(no.twoDigits,t);case 3:return $r(no.threeDigits,t);case 4:return $r(no.fourDigits,t);default:return $r(new RegExp("^\\d{1,"+e+"}"),t)}}function L5(e,t){switch(e){case 1:return $r(no.singleDigitSigned,t);case 2:return $r(no.twoDigitsSigned,t);case 3:return $r(no.threeDigitsSigned,t);case 4:return $r(no.fourDigitsSigned,t);default:return $r(new RegExp("^-?\\d{1,"+e+"}"),t)}}function OB(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function YTe(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,s=Math.floor(i/100)*100,a=e>=i%100;o=e+s-(a?100:0)}return n?o:1-o}function qTe(e){return e%400===0||e%4===0&&e%100!==0}var mIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",130),Fe(ze(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return ro(Zr(4,o),a);case"yo":return ro(s.ordinalNumber(o,{unit:"year"}),a);default:return ro(Zr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var l=YTe(s.year,a);return o.setUTCFullYear(l,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(bn),gIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",130),Fe(ze(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return ro(Zr(4,o),a);case"Yo":return ro(s.ordinalNumber(o,{unit:"year"}),a);default:return ro(Zr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var l=jB(o,a);if(s.isTwoDigitYear){var u=YTe(s.year,l);return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Pm(o,a)}var d=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(d,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Pm(o,a)}}]),n}(bn),vIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",130),Fe(ze(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i){return L5(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),N0(a)}}]),n}(bn),yIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",130),Fe(ze(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i){return L5(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(bn),bIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",120),Fe(ze(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return Zr(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(bn),xIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",120),Fe(ze(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return Zr(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(bn),wIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Fe(ze(r),"priority",110),r}return Qt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"M":return ro($r(no.month,o),a);case"MM":return ro(Zr(2,o),a);case"Mo":return ro(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(bn),CIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",110),Fe(ze(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"L":return ro($r(no.month,o),a);case"LL":return ro(Zr(2,o),a);case"Lo":return ro(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(bn);function _It(e,t,n){qe(2,arguments);var r=Ke(e),o=At(t),i=STe(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var SIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",100),Fe(ze(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return $r(no.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return Zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return Pm(_It(o,s,a),a)}}]),n}(bn);function EIt(e,t){qe(2,arguments);var n=Ke(e),r=At(t),o=_Te(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var kIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",100),Fe(ze(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return $r(no.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return Zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return N0(EIt(o,s))}}]),n}(bn),jIt=[31,28,31,30,31,30,31,31,30,31,30,31],TIt=[31,29,31,30,31,30,31,31,30,31,30,31],AIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",90),Fe(ze(r),"subPriority",1),Fe(ze(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return $r(no.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return Zr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=qTe(s),l=o.getUTCMonth();return a?i>=1&&i<=TIt[l]:i>=1&&i<=jIt[l]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(bn),DIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",90),Fe(ze(r),"subpriority",1),Fe(ze(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return $r(no.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return Zr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=qTe(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(bn);function $B(e,t,n){var r,o,i,s,a,l,u,d;qe(2,arguments);var f=Pd(),p=At((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&o!==void 0?o:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Ke(e),v=At(t),g=m.getUTCDay(),y=v%7,x=(y+7)%7,b=(x<p?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+b),m}var PIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",90),Fe(ze(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=$B(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(bn),IIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",90),Fe(ze(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s,a){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return ro(Zr(i.length,o),l);case"eo":return ro(s.ordinalNumber(o,{unit:"day"}),l);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=$B(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(bn),OIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",90),Fe(ze(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s,a){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return ro(Zr(i.length,o),l);case"co":return ro(s.ordinalNumber(o,{unit:"day"}),l);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=$B(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(bn);function $It(e,t){qe(2,arguments);var n=At(t);n%7===0&&(n=n-7);var r=1,o=Ke(e),i=o.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+l),o}var RIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",90),Fe(ze(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return Zr(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return ro(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return ro(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return ro(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return ro(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=$It(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(bn),MIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",80),Fe(ze(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(OB(s),0,0,0),o}}]),n}(bn),FIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",80),Fe(ze(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(OB(s),0,0,0),o}}]),n}(bn),LIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",80),Fe(ze(r),"incompatibleTokens",["a","b","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(OB(s),0,0,0),o}}]),n}(bn),BIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",70),Fe(ze(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return $r(no.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return Zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(bn),NIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",70),Fe(ze(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return $r(no.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return Zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(bn),zIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",70),Fe(ze(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return $r(no.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return Zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(bn),VIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",70),Fe(ze(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return $r(no.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return Zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(bn),HIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",60),Fe(ze(r),"incompatibleTokens",["t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return $r(no.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return Zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(bn),UIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",50),Fe(ze(r),"incompatibleTokens",["t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return $r(no.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return Zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(bn),WIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",30),Fe(ze(r),"incompatibleTokens",["t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i){var s=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return ro(Zr(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(bn),YIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",10),Fe(ze(r),"incompatibleTokens",["t","T","x"]),r}return Qt(n,[{key:"parse",value:function(o,i){switch(i){case"X":return Oc(Ic.basicOptionalMinutes,o);case"XX":return Oc(Ic.basic,o);case"XXXX":return Oc(Ic.basicOptionalSeconds,o);case"XXXXX":return Oc(Ic.extendedOptionalSeconds,o);case"XXX":default:return Oc(Ic.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(bn),qIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",10),Fe(ze(r),"incompatibleTokens",["t","T","X"]),r}return Qt(n,[{key:"parse",value:function(o,i){switch(i){case"x":return Oc(Ic.basicOptionalMinutes,o);case"xx":return Oc(Ic.basic,o);case"xxxx":return Oc(Ic.basicOptionalSeconds,o);case"xxxxx":return Oc(Ic.extendedOptionalSeconds,o);case"xxx":default:return Oc(Ic.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(bn),GIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",40),Fe(ze(r),"incompatibleTokens","*"),r}return Qt(n,[{key:"parse",value:function(o){return WTe(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(bn),KIt=function(e){dn(n,e);var t=fn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",20),Fe(ze(r),"incompatibleTokens","*"),r}return Qt(n,[{key:"parse",value:function(o){return WTe(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(bn),ZIt={G:new pIt,y:new mIt,Y:new gIt,R:new vIt,u:new yIt,Q:new bIt,q:new xIt,M:new wIt,L:new CIt,w:new SIt,I:new kIt,d:new AIt,D:new DIt,E:new PIt,e:new IIt,c:new OIt,i:new RIt,a:new MIt,b:new FIt,B:new LIt,h:new BIt,H:new NIt,K:new zIt,k:new VIt,m:new HIt,s:new UIt,S:new WIt,X:new YIt,x:new qIt,t:new GIt,T:new KIt},XIt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QIt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JIt=/^'([^]*?)'?$/,eOt=/''/g,tOt=/\S/,nOt=/[a-zA-Z]/;function rOt(e,t,n,r){var o,i,s,a,l,u,d,f,p,m,v,g,y,x,b,w,C,_;qe(3,arguments);var S=String(e),E=String(t),j=Pd(),k=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:j.locale)!==null&&o!==void 0?o:TTe;if(!k.match)throw new RangeError("locale must contain match property");var T=At((s=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=At((v=(g=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(b=r.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:j.weekStartsOn)!==null&&g!==void 0?g:(C=j.locale)===null||C===void 0||(_=C.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?Ke(n):new Date(NaN);var D={firstWeekContainsDate:T,weekStartsOn:A,locale:k},P=[new hIt],I=E.match(QIt).map(function(ie){var re=ie[0];if(re in UF){var K=UF[re];return K(ie,k.formatLong)}return ie}).join("").match(XIt),R=[],O=lJ(I),V;try{var B=function(){var re=V.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&jTe(re)&&O5(re,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&kTe(re)&&O5(re,E,e);var K=re[0],X=ZIt[K];if(X){var ce=X.incompatibleTokens;if(Array.isArray(ce)){var me=R.find(function(Ce){return ce.includes(Ce.token)||Ce.token===K});if(me)throw new RangeError("The format string mustn't contain `".concat(me.fullToken,"` and `").concat(re,"` at the same time"))}else if(X.incompatibleTokens==="*"&&R.length>0)throw new RangeError("The format string mustn't contain `".concat(re,"` and any other token at the same time"));R.push({token:K,fullToken:re});var ae=X.run(S,re,k.match,D);if(!ae)return{v:new Date(NaN)};P.push(ae.setter),S=ae.rest}else{if(K.match(nOt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");if(re==="''"?re="'":K==="'"&&(re=oOt(re)),S.indexOf(re)===0)S=S.slice(re.length);else return{v:new Date(NaN)}}};for(O.s();!(V=O.n()).done;){var H=B();if(Kl(H)==="object")return H.v}}catch(ie){O.e(ie)}finally{O.f()}if(S.length>0&&tOt.test(S))return new Date(NaN);var W=P.map(function(ie){return ie.priority}).sort(function(ie,re){return re-ie}).filter(function(ie,re,K){return K.indexOf(ie)===re}).map(function(ie){return P.filter(function(re){return re.priority===ie}).sort(function(re,K){return K.subPriority-re.subPriority})}).map(function(ie){return ie[0]}),z=Ke(n);if(isNaN(z.getTime()))return new Date(NaN);var G=wTe(z,I5(z)),ee={},N=lJ(W),Y;try{for(N.s();!(Y=N.n()).done;){var q=Y.value;if(!q.validate(G,D))return new Date(NaN);var Z=q.set(G,ee,D);Array.isArray(Z)?(G=Z[0],nIt(ee,Z[1])):G=Z}}catch(ie){N.e(ie)}finally{N.f()}return G}function oOt(e){return e.match(JIt)[1].replace(eOt,"'")}function GTe(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function iOt(e,t){qe(2,arguments);var n=At(t);return rs(e,-n)}function sOt(e,t){var n;qe(1,arguments);var r=At((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=uOt(e),i;if(o.date){var s=dOt(o.date,r);i=fOt(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),l=0,u;if(o.time&&(l=hOt(o.time),isNaN(l)))return new Date(NaN);if(o.timezone){if(u=pOt(o.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+l+u)}var S2={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},aOt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,lOt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,cOt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function uOt(e){var t={},n=e.split(S2.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],S2.timeZoneDelimiter.test(t.date)&&(t.date=e.split(S2.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=S2.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function dOt(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function fOt(e,t){if(t===null)return new Date(NaN);var n=e.match(aOt);if(!n)return new Date(NaN);var r=!!n[4],o=Ry(n[1]),i=Ry(n[2])-1,s=Ry(n[3]),a=Ry(n[4]),l=Ry(n[5])-1;if(r)return bOt(t,a,l)?mOt(t,a,l):new Date(NaN);var u=new Date(0);return!vOt(t,i,s)||!yOt(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}function Ry(e){return e?parseInt(e):1}function hOt(e){var t=e.match(lOt);if(!t)return NaN;var n=d3(t[1]),r=d3(t[2]),o=d3(t[3]);return xOt(n,r,o)?n*oD+r*rD+o*1e3:NaN}function d3(e){return e&&parseFloat(e.replace(",","."))||0}function pOt(e){if(e==="Z")return 0;var t=e.match(cOt);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return wOt(r,o)?n*(r*oD+o*rD):NaN}function mOt(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var gOt=[31,null,31,30,31,30,31,31,30,31,30,31];function KTe(e){return e%400===0||e%4===0&&e%100!==0}function vOt(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(gOt[t]||(KTe(e)?29:28))}function yOt(e,t){return t>=1&&t<=(KTe(e)?366:365)}function bOt(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function xOt(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function wOt(e,t){return t>=0&&t<=59}function ZTe(e,t){qe(2,arguments);var n=Ke(e),r=At(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=rIt(s);return n.setMonth(r,Math.min(i,a)),n}function COt(e,t){if(qe(2,arguments),Kl(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Ke(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=ZTe(n,t.month)),t.date!=null&&n.setDate(At(t.date)),t.hours!=null&&n.setHours(At(t.hours)),t.minutes!=null&&n.setMinutes(At(t.minutes)),t.seconds!=null&&n.setSeconds(At(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(At(t.milliseconds)),n)}function _Ot(e,t){qe(2,arguments);var n=Ke(e),r=At(t);return n.setDate(r),n}function f3(e,t){qe(2,arguments);var n=Ke(e),r=At(t);return n.setHours(r),n}function CE(e,t){qe(2,arguments);var n=Ke(e),r=At(t);return n.setMinutes(r),n}function SOt(e,t){qe(2,arguments);var n=Ke(e),r=At(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function uJ(){return gh(Date.now())}function EOt(e,t){qe(2,arguments);var n=At(t);return PB(e,-n)}function dJ(e,t){if(qe(2,arguments),!t||Kl(t)!=="object")return new Date(NaN);var n=t.years?At(t.years):0,r=t.months?At(t.months):0,o=t.weeks?At(t.weeks):0,i=t.days?At(t.days):0,s=t.hours?At(t.hours):0,a=t.minutes?At(t.minutes):0,l=t.seconds?At(t.seconds):0,u=EOt(e,r+n*12),d=iOt(u,i+o*7),f=a+s*60,p=l+f*60,m=p*1e3,v=new Date(d.getTime()-m);return v}const RB=[],MB=[],XTe=new Set,UC=new Map,WC=new Map,QTe=e=>typeof e=="string"?new RegExp("^".concat(e,"$"),"i"):e,B5=(e,t)=>typeof t!="string"?e:e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase(),JTe=(e,t,n)=>{if(!e.length||XTe.has(e))return t;let{length:r}=n;for(;r--;){const o=n[r];if(o[0].test(t))return t.replace(o[0],function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[l,u]=s,d=o[1].replace(/\$(\d{1,2})/g,(f,p)=>s[p]||"");return B5(l===""?t[u-1]:l,d)})}return t},eAe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?B5(e,o):t.has(o)?B5(e,t.get(o)):JTe(o,e,r)},tAe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?!0:t.has(o)?!1:JTe(o,o,r)===o},qr=(e,t,n)=>{const r=t===1?qr.singular(e):qr.plural(e);return n?"".concat(t," ").concat(r):r};qr.plural=e=>eAe(e,WC,UC,RB);qr.singular=e=>eAe(e,UC,WC,MB);qr.addPluralRule=(e,t)=>{RB.push([QTe(e),t])};qr.addSingularRule=(e,t)=>{MB.push([QTe(e),t])};qr.addIrregularRule=(e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();WC.set(r,n),UC.set(n,r)};qr.addUncountableRule=e=>{if(typeof e=="string"){XTe.add(e.toLowerCase());return}qr.addPluralRule(e,"$0"),qr.addSingularRule(e,"$0")};qr.isPlural=e=>tAe(e,WC,UC,RB);qr.isSingular=e=>tAe(e,UC,WC,MB);const kOt=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],jOt=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],TOt=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],AOt=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[e,t]of kOt)qr.addIrregularRule(e,t);for(const[e,t]of jOt)qr.addPluralRule(e,t);for(const[e,t]of TOt)qr.addSingularRule(e,t);for(const e of AOt)qr.addUncountableRule(e);var nAe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ds,function(){function n(){return n=Object.assign||function(A){for(var D=1;D<arguments.length;D++){var P=arguments[D];for(var I in P)Object.prototype.hasOwnProperty.call(P,I)&&(A[I]=P[I])}return A},n.apply(this,arguments)}function r(A,D){if(A){if(typeof A=="string")return o(A,D);var P=Object.prototype.toString.call(A).slice(8,-1);if(P==="Object"&&A.constructor&&(P=A.constructor.name),P==="Map"||P==="Set")return Array.from(A);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return o(A,D)}}function o(A,D){(D==null||D>A.length)&&(D=A.length);for(var P=0,I=new Array(D);P<D;P++)I[P]=A[P];return I}function i(A,D){var P=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(P)return(P=P.call(A)).next.bind(P);if(Array.isArray(A)||(P=r(A))||D&&A&&typeof A.length=="number"){P&&(A=P);var I=0;return function(){return I>=A.length?{done:!0}:{done:!1,value:A[I++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(A){var D=A.split("-"),P=D[1],I=D[2],R=D[3];if(!P||!I||!R)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');var O=I.split("x"),V=O[0],B=O[1],H=+V,W=+B,z=isFinite(H)&&isFinite(W);if(!z)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');return{id:P,width:H,height:W,format:R}}var l=function(D){var P=D;return P?typeof P._ref=="string":!1},u=function(D){var P=D;return P?typeof P._id=="string":!1},d=function(D){var P=D;return P&&P.asset?typeof P.asset.url=="string":!1};function f(A){if(!A)return null;var D;if(typeof A=="string"&&p(A))D={asset:{_ref:m(A)}};else if(typeof A=="string")D={asset:{_ref:A}};else if(l(A))D={asset:A};else if(u(A))D={asset:{_ref:A._id||""}};else if(d(A))D={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")D=n({},A);else return null;var P=A;return P.crop&&(D.crop=P.crop),P.hotspot&&(D.hotspot=P.hotspot),v(D)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var D=A.split("/").slice(-1);return("image-"+D[0]).replace(/\.([a-z]+)$/,"-$1")}function v(A){if(A.crop&&A.hotspot)return A;var D=n({},A);return D.crop||(D.crop={left:0,top:0,bottom:0,right:0}),D.hotspot||(D.hotspot={x:.5,y:.5,height:1,width:1}),D}var g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function y(A){var D=n({},A||{}),P=D.source;delete D.source;var I=f(P);if(!I)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(P)+")");var R=I.asset._ref||I.asset._id||"",O=a(R),V=Math.round(I.crop.left*O.width),B=Math.round(I.crop.top*O.height),H={left:V,top:B,width:Math.round(O.width-I.crop.right*O.width-V),height:Math.round(O.height-I.crop.bottom*O.height-B)},W=I.hotspot.height*O.height/2,z=I.hotspot.width*O.width/2,G=I.hotspot.x*O.width,ee=I.hotspot.y*O.height,N={left:G-z,top:ee-W,right:G+z,bottom:ee+W};return D.rect||D.focalPoint||D.ignoreImageParams||D.crop||(D=n({},D,b({crop:H,hotspot:N},D))),x(n({},D,{asset:O}))}function x(A){var D=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),P=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,I=D+"/images/"+A.projectId+"/"+A.dataset+"/"+P,R=[];if(A.rect){var O=A.rect,V=O.left,B=O.top,H=O.width,W=O.height,z=V!==0||B!==0||W!==A.asset.height||H!==A.asset.width;z&&R.push("rect="+V+","+B+","+H+","+W)}A.bg&&R.push("bg="+A.bg),A.focalPoint&&(R.push("fp-x="+A.focalPoint.x),R.push("fp-y="+A.focalPoint.y));var G=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return G&&R.push("flip="+G),g.forEach(function(ee){var N=ee[0],Y=ee[1];typeof A[N]<"u"?R.push(Y+"="+encodeURIComponent(A[N])):typeof A[Y]<"u"&&R.push(Y+"="+encodeURIComponent(A[Y]))}),R.length===0?I:I+"?"+R.join("&")}function b(A,D){var P,I=D.width,R=D.height;if(!(I&&R))return{width:I,height:R,rect:A.crop};var O=A.crop,V=A.hotspot,B=I/R,H=O.width/O.height;if(H>B){var W=Math.round(O.height),z=Math.round(W*B),G=Math.max(0,Math.round(O.top)),ee=Math.round((V.right-V.left)/2+V.left),N=Math.max(0,Math.round(ee-z/2));N<O.left?N=O.left:N+z>O.left+O.width&&(N=O.left+O.width-z),P={left:N,top:G,width:z,height:W}}else{var Y=O.width,q=Math.round(Y/B),Z=Math.max(0,Math.round(O.left)),ie=Math.round((V.bottom-V.top)/2+V.top),re=Math.max(0,Math.round(ie-q/2));re<O.top?re=O.top:re+q>O.top+O.height&&(re=O.top+O.height-q),P={left:Z,top:re,width:Y,height:q}}return{width:I,height:R,rect:P}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],_=["format"];function S(A){return A&&"config"in A?typeof A.config=="function":!1}function E(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function j(A){for(var D=g,P=i(D),I;!(I=P()).done;){var R=I.value,O=R[0],V=R[1];if(A===O||A===V)return O}return A}function k(A){if(S(A)){var D=A.config(),P=D.apiHost,I=D.projectId,R=D.dataset,O=P||"https://api.sanity.io";return new T(null,{baseUrl:O.replace(/^https:\/\/api\./,"https://cdn."),projectId:I,dataset:R})}var V=A;if(E(V)){var B=V.clientConfig,H=B.apiHost,W=B.projectId,z=B.dataset,G=H||"https://api.sanity.io";return new T(null,{baseUrl:G.replace(/^https:\/\/api\./,"https://cdn."),projectId:W,dataset:z})}return new T(null,A)}var T=function(){function A(P,I){this.options=void 0,this.options=P?n({},P.options||{},I||{}):n({},I||{})}var D=A.prototype;return D.withOptions=function(I){var R=I.baseUrl||this.options.baseUrl,O={baseUrl:R};for(var V in I)if(I.hasOwnProperty(V)){var B=j(V);O[B]=I[V]}return new A(this,n({baseUrl:R},O))},D.image=function(I){return this.withOptions({source:I})},D.dataset=function(I){return this.withOptions({dataset:I})},D.projectId=function(I){return this.withOptions({projectId:I})},D.bg=function(I){return this.withOptions({bg:I})},D.dpr=function(I){return this.withOptions(I&&I!==1?{dpr:I}:{})},D.width=function(I){return this.withOptions({width:I})},D.height=function(I){return this.withOptions({height:I})},D.focalPoint=function(I,R){return this.withOptions({focalPoint:{x:I,y:R}})},D.maxWidth=function(I){return this.withOptions({maxWidth:I})},D.minWidth=function(I){return this.withOptions({minWidth:I})},D.maxHeight=function(I){return this.withOptions({maxHeight:I})},D.minHeight=function(I){return this.withOptions({minHeight:I})},D.size=function(I,R){return this.withOptions({width:I,height:R})},D.blur=function(I){return this.withOptions({blur:I})},D.sharpen=function(I){return this.withOptions({sharpen:I})},D.rect=function(I,R,O,V){return this.withOptions({rect:{left:I,top:R,width:O,height:V}})},D.format=function(I){return this.withOptions({format:I})},D.invert=function(I){return this.withOptions({invert:I})},D.orientation=function(I){return this.withOptions({orientation:I})},D.quality=function(I){return this.withOptions({quality:I})},D.forceDownload=function(I){return this.withOptions({download:I})},D.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},D.flipVertical=function(){return this.withOptions({flipVertical:!0})},D.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},D.fit=function(I){if(w.indexOf(I)===-1)throw new Error('Invalid fit mode "'+I+'"');return this.withOptions({fit:I})},D.crop=function(I){if(C.indexOf(I)===-1)throw new Error('Invalid crop mode "'+I+'"');return this.withOptions({crop:I})},D.saturation=function(I){return this.withOptions({saturation:I})},D.auto=function(I){if(_.indexOf(I)===-1)throw new Error('Invalid auto mode "'+I+'"');return this.withOptions({auto:I})},D.pad=function(I){return this.withOptions({pad:I})},D.url=function(){return y(this.options)},D.toString=function(){return this.url()},A}();return k})})(nAe);var DOt=nAe.exports;const sD=Pe(DOt);function POt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,fw(e,t)}function GF(e){return GF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},GF(e)}function fw(e,t){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},fw(e,t)}function IOt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _E(e,t,n){return IOt()?_E=Reflect.construct.bind():_E=function(o,i,s){var a=[null];a.push.apply(a,i);var l=Function.bind.apply(o,a),u=new l;return s&&fw(u,s.prototype),u},_E.apply(null,arguments)}function OOt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function KF(e){var t=typeof Map=="function"?new Map:void 0;return KF=function(r){if(r===null||!OOt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return _E(r,arguments,GF(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),fw(o,r)},KF(e)}var E2=Object.freeze({left:0,top:0,bottom:0,right:0}),k2=Object.freeze({x:.5,y:.5,height:1,width:1}),$Ot=function(t){var n=t.top,r=t.bottom,o=t.left,i=t.right,s=E2.top,a=E2.bottom,l=E2.left,u=E2.right;return n===s&&r===a&&o===l&&i===u},ROt=function(t){var n=t.x,r=t.y,o=t.width,i=t.height,s=k2.x,a=k2.y,l=k2.width,u=k2.height;return n===s&&r===a&&o===l&&i===u},FB=function(e){POt(t,e);function t(n,r){var o;return r===void 0&&(r="Failed to resolve asset ID from source"),o=e.call(this,r)||this,o.unresolvable=!0,o.input=n,o}return t}(KF(Error));function MOt(e){var t=e;return!!(t.unresolvable&&"input"in t)}function FOt(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(MOt(t))return;throw t}}}var pf="https://cdn.sanity.io",LOt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,BOt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,rAe=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,oAe=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function NOt(e){return YC(e)&&typeof e._ref=="string"}function zOt(e){return YC(e)&&typeof e._id=="string"}function VOt(e){return YC(e)&&typeof e.path=="string"}function HOt(e){return YC(e)&&typeof e.url=="string"}function UOt(e){var t=e;return YC(t)&&t.asset&&typeof t.asset=="object"}function YC(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function WOt(e){if(rAe.test(e))return e;if(!e.startsWith(pf+"/"))throw new FB('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(pf.length+1,n)}var YOt="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function qOt(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3],i=(r||"").split("x").map(Number),s=i[0],a=i[1];if(!n||!r||!o||!(s>0)||!(a>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+YOt+'".');return{type:"image",assetId:n,width:s,height:a,extension:o}}function GOt(e){var t=iAe(e),n=qOt(t),r=n.width,o=n.height,i=r/o;return{width:r,height:o,aspectRatio:i}}function iAe(e){var t=UOt(e)?e.asset:e,n="";typeof t=="string"?n=KOt(t):NOt(t)?n=t._ref:zOt(t)?n=t._id:VOt(t)?n=Dv(pf+"/"+t.path):HOt(t)&&(n=Dv(t.url));var r=n&&oAe.test(n);if(!r)throw new FB(e);return n}var sAe=FOt(iAe);function KOt(e){if(oAe.test(e))return e;if(e.indexOf(pf+"/images")===0||e.indexOf(pf+"/files")===0)return Dv(e);if(rAe.test(e))return Dv(pf+"/"+e);if(XOt(e))return Dv(pf+"/files/a/b/"+e);if(ZOt(e))return Dv(pf+"/images/a/b/"+e);throw new FB(e)}function Dv(e){var t=WOt(e),n=t.split("/"),r=n[0],o=n[3],i=r.replace(/s$/,"");return i+"-"+o.replace(/\./g,"-")}function ZOt(e){return BOt.test(e)}function XOt(e){return LOt.test(e)}function fJ(e){var t=sAe(e);return t?t.startsWith("file-"):!1}function dx(e){var t=sAe(e);return t?t.startsWith("image-"):!1}function QOt(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}var JOt=QOt;const aD=Pe(JOt);var e3t=RA,t3t=wB,n3t=t3t(function(e,t,n){e3t(e,n,t)}),r3t=n3t;const LB=Pe(r3t);var o3t=ru;function i3t(e){return o3t(e).toLowerCase()}var s3t=i3t;const r0=Pe(s3t);var a3t=A1,l3t=P1,c3t=QA,u3t=$A,d3t=l3t(function(e){return c3t(a3t(e,1,u3t,!0))}),f3t=d3t;const aAe=Pe(f3t);function h3t(){}var BB=h3t,p3t=hB,m3t=BB;function N5(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}N5.prototype=p3t(m3t.prototype);N5.prototype.constructor=N5;var NB=N5,hJ=ike,g3t=hJ&&new hJ,v3t=g3t,pJ=v3t,y3t=mB,b3t=pJ?function(e){return pJ.get(e)}:y3t,lAe=b3t,x3t={},w3t=x3t,mJ=w3t,C3t=Object.prototype,_3t=C3t.hasOwnProperty;function S3t(e){for(var t=e.name+"",n=mJ[t],r=_3t.call(mJ,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var cAe=S3t,E3t=hB,k3t=BB,j3t=4294967295;function z5(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j3t,this.__views__=[]}z5.prototype=E3t(k3t.prototype);z5.prototype.constructor=z5;var zB=z5,T3t=zB,A3t=NB,D3t=uB;function P3t(e){if(e instanceof T3t)return e.clone();var t=new A3t(e.__wrapped__,e.__chain__);return t.__actions__=D3t(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var I3t=P3t,O3t=zB,gJ=NB,$3t=BB,R3t=io,M3t=fl,F3t=I3t,L3t=Object.prototype,B3t=L3t.hasOwnProperty;function V5(e){if(M3t(e)&&!R3t(e)&&!(e instanceof O3t)){if(e instanceof gJ)return e;if(B3t.call(e,"__wrapped__"))return F3t(e)}return new gJ(e)}V5.prototype=$3t.prototype;V5.prototype.constructor=V5;var N3t=V5,z3t=zB,V3t=lAe,H3t=cAe,U3t=N3t;function W3t(e){var t=H3t(e),n=U3t[t];if(typeof n!="function"||!(t in z3t.prototype))return!1;if(e===n)return!0;var r=V3t(n);return!!r&&e===r[0]}var Y3t=W3t,vJ=NB,q3t=L7,G3t=lAe,h3=cAe,K3t=io,yJ=Y3t,Z3t="Expected a function",X3t=8,Q3t=32,J3t=128,e$t=256;function t$t(e){return q3t(function(t){var n=t.length,r=n,o=vJ.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(Z3t);if(o&&!s&&h3(i)=="wrapper")var s=new vJ([],!0)}for(r=s?r:n;++r<n;){i=t[r];var a=h3(i),l=a=="wrapper"?G3t(i):void 0;l&&yJ(l[0])&&l[1]==(J3t|X3t|Q3t|e$t)&&!l[4].length&&l[9]==1?s=s[h3(l[0])].apply(s,l[3]):s=i.length==1&&yJ(i)?s[a]():s.thru(i)}return function(){var u=arguments,d=u[0];if(s&&u.length==1&&K3t(d))return s.plant(d).value();for(var f=0,p=n?t[f].apply(this,u):d;++f<n;)p=t[f].call(this,p);return p}})}var n$t=t$t,r$t=n$t,o$t=r$t(),i$t=o$t;const s$t=Pe(i$t);var a$t=O7;function l$t(e,t){for(var n=e.length;n--&&a$t(t,e[n],0)>-1;);return n}var c$t=l$t,u$t=O7;function d$t(e,t){for(var n=-1,r=e.length;++n<r&&u$t(t,e[n],0)>-1;);return n}var f$t=d$t,h$t=xke,p$t=Mbe,m$t=$je,g$t=c$t,v$t=f$t,bJ=Vje,y$t=ru;function b$t(e,t,n){if(e=y$t(e),e&&(n||t===void 0))return p$t(e);if(!e||!(t=h$t(t)))return e;var r=bJ(e),o=bJ(t),i=v$t(r,o),s=g$t(r,o)+1;return m$t(r,i,s).join("")}var x$t=b$t;const w$t=Pe(x$t);var j2,C$t=new Uint8Array(16);function _$t(){if(!j2&&(j2=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!j2))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return j2(C$t)}const S$t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function E$t(e){return typeof e=="string"&&S$t.test(e)}var ti=[];for(var p3=0;p3<256;++p3)ti.push((p3+256).toString(16).substr(1));function k$t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ti[e[t+0]]+ti[e[t+1]]+ti[e[t+2]]+ti[e[t+3]]+"-"+ti[e[t+4]]+ti[e[t+5]]+"-"+ti[e[t+6]]+ti[e[t+7]]+"-"+ti[e[t+8]]+ti[e[t+9]]+"-"+ti[e[t+10]]+ti[e[t+11]]+ti[e[t+12]]+ti[e[t+13]]+ti[e[t+14]]+ti[e[t+15]]).toLowerCase();if(!E$t(n))throw TypeError("Stringified UUID is invalid");return n}function Od(e,t,n){e=e||{};var r=e.random||(e.rng||_$t)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return k$t(r)}function VB(e){return window.crypto.getRandomValues(e)}var uAe=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function j$t(e){for(const t in e)if(!(t==="_type"||t==="_key")&&uAe(e,t)&&!HB(e[t]))return!1;return!0}function T$t(e){for(let t=0;t<e.length;t++)if(!HB(e[t]))return!1;return!0}function HB(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?T$t(e):t==="object"?j$t(e):!1}function A$t(e){for(const t in e)if(!(t==="_type"||t==="_key")&&uAe(e,t)&&e[t]!==void 0)return!1;return!0}const D$t=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function P$t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return VB(t),t}function qC(e){const t=D$t();return P$t(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const I$t=Object.prototype.toString;function O$t(e){switch(I$t.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function Fs(e){const t=O$t(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var ZF={exports:{}};function $$t(e){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=a,n.humanize=OA(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var E=m[b];C=S.call(g,E),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var R$t=$$t;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=R$t(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(ZF,ZF.exports);var M$t=ZF.exports;const Sb=Pe(M$t);var F$t=N$t,dAe="֑-߿יִ-﷽ﹰ-ﻼ",fAe="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",L$t=new RegExp("^[^"+fAe+"]*["+dAe+"]"),B$t=new RegExp("^[^"+dAe+"]*["+fAe+"]");function N$t(e){return e=String(e||""),L$t.test(e)?"rtl":B$t.test(e)?"ltr":"neutral"}const hAe=Pe(F$t),xJ=e=>typeof e=="object"&&e!=null&&e.nodeType===1,wJ=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",m3=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return wJ(n.overflowY,t)||wJ(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},T2=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,z$t=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},CJ=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:l,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:O=>O!==u;if(!xJ(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let v=e;for(;xJ(v)&&f(v);){if(v=z$t(v),v===p){m.push(v);break}v!=null&&v===document.body&&m3(v)&&!m3(document.documentElement)||v!=null&&m3(v,d)&&m.push(v)}const g=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,y=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:x,scrollY:b}=window,{height:w,width:C,top:_,right:S,bottom:E,left:j}=e.getBoundingClientRect(),{top:k,right:T,bottom:A,left:D}=(O=>{const V=window.getComputedStyle(O);return{top:parseFloat(V.scrollMarginTop)||0,right:parseFloat(V.scrollMarginRight)||0,bottom:parseFloat(V.scrollMarginBottom)||0,left:parseFloat(V.scrollMarginLeft)||0}})(e);let P=a==="start"||a==="nearest"?_-k:a==="end"?E+A:_+w/2-k+A,I=l==="center"?j+C/2-D+T:l==="end"?S+T:j-D;const R=[];for(let O=0;O<m.length;O++){const V=m[O],{height:B,width:H,top:W,right:z,bottom:G,left:ee}=V.getBoundingClientRect();if(s==="if-needed"&&_>=0&&j>=0&&E<=y&&S<=g&&_>=W&&E<=G&&j>=ee&&S<=z)return R;const N=getComputedStyle(V),Y=parseInt(N.borderLeftWidth,10),q=parseInt(N.borderTopWidth,10),Z=parseInt(N.borderRightWidth,10),ie=parseInt(N.borderBottomWidth,10);let re=0,K=0;const X="offsetWidth"in V?V.offsetWidth-V.clientWidth-Y-Z:0,ce="offsetHeight"in V?V.offsetHeight-V.clientHeight-q-ie:0,me="offsetWidth"in V?V.offsetWidth===0?0:H/V.offsetWidth:0,ae="offsetHeight"in V?V.offsetHeight===0?0:B/V.offsetHeight:0;if(p===V)re=a==="start"?P:a==="end"?P-y:a==="nearest"?T2(b,b+y,y,q,ie,b+P,b+P+w,w):P-y/2,K=l==="start"?I:l==="center"?I-g/2:l==="end"?I-g:T2(x,x+g,g,Y,Z,x+I,x+I+C,C),re=Math.max(0,re+b),K=Math.max(0,K+x);else{re=a==="start"?P-W-q:a==="end"?P-G+ie+ce:a==="nearest"?T2(W,G,B,q,ie+ce,P,P+w,w):P-(W+B/2)+ce/2,K=l==="start"?I-ee-Y:l==="center"?I-(ee+H/2)+X/2:l==="end"?I-z+Z+X:T2(ee,z,H,Y,Z+X,I,I+C,C);const{scrollLeft:Ce,scrollTop:_e}=V;re=ae===0?0:Math.max(0,Math.min(_e+re/ae,V.scrollHeight-B/ae+ce)),K=me===0?0:Math.max(0,Math.min(Ce+K/me,V.scrollWidth-H/me+X)),P+=_e-re,I+=Ce-K}R.push({el:V,top:re,left:K})}return R},V$t=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function V0(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(CJ(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:s}of CJ(e,V$t(t))){const a=i-n.top+n.bottom,l=s-n.left+n.right;o.scroll({top:a,left:l,behavior:r})}}var pAe=Symbol.for("immer-nothing"),_J=Symbol.for("immer-draftable"),va=Symbol.for("immer-state");function Il(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var H0=Object.getPrototypeOf;function Im(e){return!!e&&!!e[va]}function Om(e){var t;return e?mAe(e)||Array.isArray(e)||!!e[_J]||!!((t=e.constructor)!=null&&t[_J])||cD(e)||uD(e):!1}var H$t=Object.prototype.constructor.toString();function mAe(e){if(!e||typeof e!="object")return!1;const t=H0(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===H$t}function hw(e,t){lD(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function lD(e){const t=e[va];return t?t.type_:Array.isArray(e)?1:cD(e)?2:uD(e)?3:0}function XF(e,t){return lD(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gAe(e,t,n){const r=lD(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function U$t(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cD(e){return e instanceof Map}function uD(e){return e instanceof Set}function Ep(e){return e.copy_||e.base_}function QF(e,t){if(cD(e))return new Map(e);if(uD(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&mAe(e))return H0(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[va];let r=Reflect.ownKeys(n);for(let o=0;o<r.length;o++){const i=r[o],s=n[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(H0(e),n)}function UB(e,t=!1){return dD(e)||Im(e)||!Om(e)||(lD(e)>1&&(e.set=e.add=e.clear=e.delete=W$t),Object.freeze(e),t&&hw(e,(n,r)=>UB(r,!0))),e}function W$t(){Il(2)}function dD(e){return Object.isFrozen(e)}var Y$t={};function $m(e){const t=Y$t[e];return t||Il(0,e),t}var pw;function vAe(){return pw}function q$t(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SJ(e,t){t&&($m("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function JF(e){e4(e),e.drafts_.forEach(G$t),e.drafts_=null}function e4(e){e===pw&&(pw=e.parent_)}function EJ(e){return pw=q$t(pw,e)}function G$t(e){const t=e[va];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function kJ(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[va].modified_&&(JF(t),Il(4)),Om(e)&&(e=H5(t,e),t.parent_||U5(t,e)),t.patches_&&$m("Patches").generateReplacementPatches_(n[va].base_,e,t.patches_,t.inversePatches_)):e=H5(t,n,[]),JF(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pAe?e:void 0}function H5(e,t,n){if(dD(t))return t;const r=t[va];if(!r)return hw(t,(o,i)=>jJ(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return U5(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),hw(i,(a,l)=>jJ(e,r,o,a,l,n,s)),U5(e,o,!1),n&&e.patches_&&$m("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function jJ(e,t,n,r,o,i,s){if(Im(o)){const a=i&&t&&t.type_!==3&&!XF(t.assigned_,r)?i.concat(r):void 0,l=H5(e,o,a);if(gAe(n,r,l),Im(l))e.canAutoFreeze_=!1;else return}else s&&n.add(o);if(Om(o)&&!dD(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;H5(e,o),(!t||!t.scope_.parent_)&&U5(e,o)}}function U5(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&UB(t,n)}function K$t(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:vAe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=WB;n&&(o=[r],i=mw);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=s,a}var WB={get(e,t){if(t===va)return e;const n=Ep(e);if(!XF(n,t))return Z$t(e,n,t);const r=n[t];return e.finalized_||!Om(r)?r:r===g3(e.base_,t)?(v3(e),e.copy_[t]=n4(r,e)):r},has(e,t){return t in Ep(e)},ownKeys(e){return Reflect.ownKeys(Ep(e))},set(e,t,n){const r=yAe(Ep(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=g3(Ep(e),t),i=o==null?void 0:o[va];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(U$t(n,o)&&(n!==void 0||XF(e.base_,t)))return!0;v3(e),t4(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return g3(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,v3(e),t4(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ep(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Il(11)},getPrototypeOf(e){return H0(e.base_)},setPrototypeOf(){Il(12)}},mw={};hw(WB,(e,t)=>{mw[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});mw.deleteProperty=function(e,t){return mw.set.call(this,e,t,void 0)};mw.set=function(e,t,n){return WB.set.call(this,e[0],t,n,e[0])};function g3(e,t){const n=e[va];return(n?Ep(n):e)[t]}function Z$t(e,t,n){var o;const r=yAe(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function yAe(e,t){if(!(t in e))return;let n=H0(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=H0(n)}}function t4(e){e.modified_||(e.modified_=!0,e.parent_&&t4(e.parent_))}function v3(e){e.copy_||(e.copy_=QF(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var X$t=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(l=i,...u){return s.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&Il(6),r!==void 0&&typeof r!="function"&&Il(7);let o;if(Om(t)){const i=EJ(this),s=n4(t,void 0);let a=!0;try{o=n(s),a=!1}finally{a?JF(i):e4(i)}return SJ(i,r),kJ(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===pAe&&(o=void 0),this.autoFreeze_&&UB(o,!0),r){const i=[],s=[];$m("Patches").generateReplacementPatches_(t,o,i,s),r(i,s)}return o}else Il(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,o;return[this.produce(t,n,(s,a)=>{r=s,o=a}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Om(e)||Il(8),Im(e)&&(e=Q$t(e));const t=EJ(this),n=n4(e,void 0);return n[va].isManual_=!0,e4(t),n}finishDraft(e,t){const n=e&&e[va];(!n||!n.isManual_)&&Il(9);const{scope_:r}=n;return SJ(r,t),kJ(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=$m("Patches").applyPatches_;return Im(e)?r(e,t):this.produce(e,o=>r(o,t))}};function n4(e,t){const n=cD(e)?$m("MapSet").proxyMap_(e,t):uD(e)?$m("MapSet").proxySet_(e,t):K$t(e,t);return(t?t.scope_:vAe()).drafts_.push(n),n}function Q$t(e){return Im(e)||Il(10,e),bAe(e)}function bAe(e){if(!Om(e)||dD(e))return e;const t=e[va];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=QF(e,t.scope_.immer_.useStrictShallowCopy_)}else n=QF(e,!0);return hw(n,(r,o)=>{gAe(n,r,bAe(o))}),t&&(t.finalized_=!1),n}var ya=new X$t,YB=ya.produce;ya.produceWithPatches.bind(ya);ya.setAutoFreeze.bind(ya);ya.setUseStrictShallowCopy.bind(ya);ya.applyPatches.bind(ya);var TJ=ya.createDraft.bind(ya),AJ=ya.finishDraft.bind(ya),J$t={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=J.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},eRt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=It.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},tRt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ue.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},W5=new WeakMap,Y5=new WeakMap,fx=new WeakMap,xAe=new WeakMap,DJ=new WeakMap,PJ=new WeakMap,IJ=new WeakMap,J={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=J.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],i=t[r];if(o!==i)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return J.equals(r,o)&&i>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return J.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return J.equals(r,o)&&i<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return J.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&J.compare(e,t)===0},isBefore(e,t){return J.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&J.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&J.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&J.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&J.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],i=t[t.length-1];return o!==i&&J.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!J.isAncestor(t,e)&&!J.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:i}=t;(J.equals(i,r)||J.endsBefore(i,r)||J.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(J.equals(s,r)||J.isAncestor(s,r))return null;J.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:a,position:l}=t;J.equals(a,r)||J.endsBefore(a,r)?r[a.length-1]-=1:J.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=l);break}case"split_node":{var{path:u,position:d}=t;if(J.equals(u,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else J.endsBefore(u,r)?r[u.length-1]+=1:J.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:p}=t;if(J.equals(f,p))return r;if(J.isAncestor(f,r)||J.equals(f,r)){var m=p.slice();return J.endsBefore(f,p)&&f.length<p.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else J.isSibling(f,p)&&(J.isAncestor(p,r)||J.equals(p,r))?J.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:J.endsBefore(p,r)||J.equals(p,r)||J.isAncestor(p,r)?(J.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):J.endsBefore(f,r)&&(J.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1);break}}return r}};function gw(e){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gw(e)}function nRt(e,t){if(gw(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gw(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rRt(e){var t=nRt(e,"string");return gw(t)==="symbol"?t:String(t)}function ms(e,t,n){return t=rRt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function My(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OJ(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var oRt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,i=Se.parent(e,r),s=r[r.length-1];if(s>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(s,0,o),t)for(var[a,l]of ue.points(t))t[l]=It.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var p=Se.leaf(e,u),m=p.text.slice(0,d),v=p.text.slice(d);if(p.text=m+f+v,t)for(var[g,y]of ue.points(t))t[y]=It.transform(g,n);break}case"merge_node":{var{path:x}=n,b=Se.get(e,x),w=J.previous(x),C=Se.get(e,w),_=Se.parent(e,x),S=x[x.length-1];if(xe.isText(b)&&xe.isText(C))C.text+=b.text;else if(!xe.isText(b)&&!xe.isText(C))C.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat(Wo.stringify(b)," ").concat(Wo.stringify(C)));if(_.children.splice(S,1),t)for(var[E,j]of ue.points(t))t[j]=It.transform(E,n);break}case"move_node":{var{path:k,newPath:T}=n;if(J.isAncestor(k,T))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(T,"] because the destination is inside itself."));var A=Se.get(e,k),D=Se.parent(e,k),P=k[k.length-1];D.children.splice(P,1);var I=J.transform(k,n),R=Se.get(e,J.parent(I)),O=I[I.length-1];if(R.children.splice(O,0,A),t)for(var[V,B]of ue.points(t))t[B]=It.transform(V,n);break}case"remove_node":{var{path:H}=n,W=H[H.length-1],z=Se.parent(e,H);if(z.children.splice(W,1),t)for(var[G,ee]of ue.points(t)){var N=It.transform(G,n);if(t!=null&&N!=null)t[ee]=N;else{var Y=void 0,q=void 0;for(var[Z,ie]of Se.texts(e))if(J.compare(ie,H)===-1)Y=[Z,ie];else{q=[Z,ie];break}var re=!1;Y&&q&&(J.equals(q[1],H)?re=!J.hasPrevious(q[1]):re=J.common(Y[1],H).length<J.common(q[1],H).length),Y&&!re?(G.path=Y[1],G.offset=Y[0].text.length):q?(G.path=q[1],G.offset=0):t=null}}break}case"remove_text":{var{path:K,offset:X,text:ce}=n;if(ce.length===0)break;var me=Se.leaf(e,K),ae=me.text.slice(0,X),Ce=me.text.slice(X+ce.length);if(me.text=ae+Ce,t)for(var[_e,he]of ue.points(t))t[he]=It.transform(_e,n);break}case"set_node":{var{path:be,properties:Le,newProperties:$e}=n;if(be.length===0)throw new Error("Cannot set properties on the root node!");var ct=Se.get(e,be);for(var ot in $e){if(ot==="children"||ot==="text")throw new Error('Cannot set the "'.concat(ot,'" property of nodes!'));var Nt=$e[ot];Nt==null?delete ct[ot]:ct[ot]=Nt}for(var Rt in Le)$e.hasOwnProperty(Rt)||delete ct[Rt];break}case"set_selection":{var{newProperties:Ae}=n;if(Ae==null)t=Ae;else{if(t==null){if(!ue.isRange(Ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Wo.stringify(Ae)," when there is no current selection."));t=My({},Ae)}for(var Ge in Ae){var Ye=Ae[Ge];if(Ye==null){if(Ge==="anchor"||Ge==="focus")throw new Error('Cannot remove the "'.concat(Ge,'" selection property'));delete t[Ge]}else t[Ge]=Ye}}break}case"split_node":{var{path:tt,position:wt,properties:Ee}=n;if(tt.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(tt,"] because the root node cannot be split."));var Be=Se.get(e,tt),ut=Se.parent(e,tt),bi=tt[tt.length-1],sn;if(xe.isText(Be)){var ei=Be.text.slice(0,wt),Gt=Be.text.slice(wt);Be.text=ei,sn=My(My({},Ee),{},{text:Gt})}else{var so=Be.children.slice(0,wt),wl=Be.children.slice(wt);Be.children=so,sn=My(My({},Ee),{},{children:wl})}if(ut.children.splice(bi+1,0,sn),t)for(var[Cl,Hs]of ue.points(t))t[Hs]=It.transform(Cl,n);break}}return t},iRt={transform(e,t){e.children=TJ(e.children);var n=e.selection&&TJ(e.selection);try{n=oRt(e,n,t)}finally{e.children=AJ(e.children),n?e.selection=Im(n)?AJ(n):n:e.selection=null}}},sRt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},aRt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},wAe=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(ii(r)&&ii(o)){if(!wAe(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1}else if(r!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function lRt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function pd(e,t){if(e==null)return{};var n=lRt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var cRt=["anchor","focus"];function $J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function uRt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$J(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$J(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ue={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return ue.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=ue.edges(e);return t},equals(e,t){return It.equals(e.anchor,t.anchor)&&It.equals(e.focus,t.focus)},includes(e,t){if(ue.isRange(t)){if(ue.includes(e,t.anchor)||ue.includes(e,t.focus))return!0;var[n,r]=ue.edges(e),[o,i]=ue.edges(t);return It.isBefore(n,o)&&It.isAfter(r,i)}var[s,a]=ue.edges(e),l=!1,u=!1;return It.isPoint(t)?(l=It.compare(t,s)>=0,u=It.compare(t,a)<=0):(l=J.compare(t,s.path)>=0,u=J.compare(t,a.path)<=0),l&&u},intersection(e,t){var n=pd(e,cRt),[r,o]=ue.edges(e),[i,s]=ue.edges(t),a=It.isBefore(r,i)?i:r,l=It.isBefore(o,s)?o:s;return It.isBefore(l,a)?null:uRt({anchor:a,focus:l},n)},isBackward(e){var{anchor:t,focus:n}=e;return It.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return It.equals(t,n)},isExpanded(e){return!ue.isCollapsed(e)},isForward(e){return!ue.isBackward(e)},isRange(e){return ii(e)&&It.isPoint(e.anchor)&&It.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=ue.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return YB(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,i,s;if(o==="inward"){var a=ue.isCollapsed(r);ue.isForward(r)?(i="forward",s=a?i:"backward"):(i="backward",s=a?i:"forward")}else o==="outward"?ue.isForward(r)?(i="backward",s="forward"):(i="forward",s="backward"):(i=o,s=o);var l=It.transform(r.anchor,t,{affinity:i}),u=It.transform(r.focus,t,{affinity:s});if(!l||!u)return null;r.anchor=l,r.focus=u})}},RJ=e=>ii(e)&&Se.isNodeList(e.children)&&!F.isEditor(e),Ie={isAncestor(e){return ii(e)&&Se.isNodeList(e.children)},isElement:RJ,isElementList(e){return Array.isArray(e)&&e.every(t=>Ie.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return RJ(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},dRt=["children"],fRt=["text"],MJ=new WeakMap,Se={ancestor(e,t){var n=Se.get(e,t);if(xe.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Wo.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of J.ancestors(t,n)){var o=Se.ancestor(e,r),i=[o,r];yield i}}()},child(e,t){if(xe.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Wo.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Wo.stringify(e)));return n},children(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:r=!1}=n,o=Se.ancestor(e,t),{children:i}=o,s=r?i.length-1:0;r?s>=0:s<i.length;){var a=Se.child(o,s),l=t.concat(s);yield[a,l],s=r?s-1:s+1}}()},common(e,t,n){var r=J.common(t,n),o=Se.get(e,r);return[o,r]},descendant(e,t){var n=Se.get(e,t);if(F.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Wo.stringify(n)));return n},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Se.nodes(e,t))r.length!==0&&(yield[n,r])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Se.nodes(e,t))Ie.isElement(n)&&(yield[n,r])}()},extractProps(e){if(Ie.isAncestor(e)){var t=pd(e,dRt);return t}else{var t=pd(e,fRt);return t}},first(e,t){for(var n=t.slice(),r=Se.get(e,n);r&&!(xe.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(xe.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Wo.stringify(e)));var n=YB({children:e.children},r=>{var[o,i]=ue.edges(t),s=Se.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!ue.includes(t,m)}});for(var[,a]of s){if(!ue.includes(t,a)){var l=Se.parent(r,a),u=a[a.length-1];l.children.splice(u,1)}if(J.equals(a,i.path)){var d=Se.leaf(r,a);d.text=d.text.slice(0,i.offset)}if(J.equals(a,o.path)){var f=Se.leaf(r,a);f.text=f.text.slice(o.offset)}}F.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(xe.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Wo.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(xe.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return xe.isText(e)||Ie.isElement(e)||F.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=MJ.get(e);if(t!==void 0)return t;var n=e.every(r=>Se.isNode(r));return MJ.set(e,n),n},last(e,t){for(var n=t.slice(),r=Se.get(e,n);r&&!(xe.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=Se.get(e,t);if(!xe.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Wo.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of J.levels(t,n)){var o=Se.get(e,r);yield[o,r]}}()},matches(e,t){return Ie.isElement(e)&&Ie.isElementProps(t)&&Ie.matches(e,t)||xe.isText(e)&&xe.isTextProps(t)&&xe.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,s=new Set,a=[],l=e;!(i&&(r?J.isBefore(a,i):J.isAfter(a,i)));){if(s.has(l)||(yield[l,a]),!s.has(l)&&!xe.isText(l)&&l.children.length!==0&&(n==null||n([l,a])===!1)){s.add(l);var u=r?l.children.length-1:0;J.isAncestor(a,o)&&(u=o[a.length]),a=a.concat(u),l=Se.get(e,a);continue}if(a.length===0)break;if(!r){var d=J.next(a);if(Se.has(e,d)){a=d,l=Se.get(e,a);continue}}if(r&&a[a.length-1]!==0){var f=J.previous(a);a=f,l=Se.get(e,a);continue}a=J.parent(a),l=Se.get(e,a),s.add(l)}}()},parent(e,t){var n=J.parent(t),r=Se.get(e,n);if(xe.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return xe.isText(e)?e.text:e.children.map(Se.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Se.nodes(e,t))xe.isText(n)&&(yield[n,r])}()}};function FJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FJ(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Pv={isNodeOperation(e){return Pv.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!ii(e))return!1;switch(e.type){case"insert_node":return J.isPath(e.path)&&Se.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&J.isPath(e.path);case"merge_node":return typeof e.position=="number"&&J.isPath(e.path)&&ii(e.properties);case"move_node":return J.isPath(e.path)&&J.isPath(e.newPath);case"remove_node":return J.isPath(e.path)&&Se.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&J.isPath(e.path);case"set_node":return J.isPath(e.path)&&ii(e.properties)&&ii(e.newProperties);case"set_selection":return e.properties===null&&ue.isRange(e.newProperties)||e.newProperties===null&&ue.isRange(e.properties)||ii(e.properties)&&ii(e.newProperties);case"split_node":return J.isPath(e.path)&&typeof e.position=="number"&&ii(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Pv.isOperation(t))},isSelectionOperation(e){return Pv.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Pv.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return br(br({},e),{},{type:"remove_node"});case"insert_text":return br(br({},e),{},{type:"remove_text"});case"merge_node":return br(br({},e),{},{type:"split_node",path:J.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(J.equals(t,n))return e;if(J.isSibling(n,t))return br(br({},e),{},{path:t,newPath:n});var r=J.transform(n,e),o=J.transform(J.next(n),e);return br(br({},e),{},{path:r,newPath:o})}case"remove_node":return br(br({},e),{},{type:"insert_node"});case"remove_text":return br(br({},e),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:s}=e;return br(br({},e),{},{properties:s,newProperties:i})}case"set_selection":{var{properties:a,newProperties:l}=e;return a==null?br(br({},e),{},{properties:l,newProperties:null}):l==null?br(br({},e),{},{properties:null,newProperties:a}):br(br({},e),{},{properties:l,newProperties:a})}case"split_node":return br(br({},e),{},{type:"merge_node",path:J.next(e.path)})}}},LJ=new WeakMap,hRt=e=>{var t=LJ.get(e);if(t!==void 0)return t;if(!ii(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||ii(e.marks))&&(e.selection===null||ue.isRange(e.selection))&&Se.isNodeList(e.children)&&Pv.isOperationList(e.operations);return LJ.set(e,n),n},F={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return hRt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},pRt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(J.isPath)}};function BJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function NJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BJ(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var It={compare(e,t){var n=J.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return It.compare(e,t)===1},isBefore(e,t){return It.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&J.equals(e.path,t.path)},isPoint(e){return ii(e)&&typeof e.offset=="number"&&J.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return YB(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:i,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=J.transform(i,t,n);break}case"insert_text":{J.equals(t.path,i)&&(t.offset<s||t.offset===s&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{J.equals(t.path,i)&&(r.offset+=t.position),r.path=J.transform(i,t,n);break}case"remove_text":{J.equals(t.path,i)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(J.equals(t.path,i)||J.isAncestor(t.path,i))return null;r.path=J.transform(i,t,n);break}case"split_node":{if(J.equals(t.path,i)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(r.offset-=t.position,r.path=J.transform(i,t,NJ(NJ({},n),{},{affinity:"forward"})))}else r.path=J.transform(i,t,n);break}}})}},zJ=void 0,Wo={setScrubber(e){zJ=e},stringify(e){return JSON.stringify(e,zJ)}},mRt=["text"],gRt=["anchor","focus"];function VJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VJ(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var xe={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(i){var s=pd(i,mRt);return s}return wAe(r?o(e):e,r?o(t):t)},isText(e){return ii(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>xe.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[gu({},e)];for(var r of t){var o=pd(r,gRt),[i,s]=ue.edges(r),a=[],l=0,u=i.offset,d=s.offset;for(var f of n){var{length:p}=f.text,m=l;if(l+=p,u<=m&&l<=d){Object.assign(f,o),a.push(f);continue}if(u!==d&&(u===l||d===m)||u>l||d<m||d===m&&m!==0){a.push(f);continue}var v=f,g=void 0,y=void 0;if(d<l){var x=d-m;y=gu(gu({},v),{},{text:v.text.slice(x)}),v=gu(gu({},v),{},{text:v.text.slice(0,x)})}if(u>m){var b=u-m;g=gu(gu({},v),{},{text:v.text.slice(0,b)}),v=gu(gu({},v),{},{text:v.text.slice(b)})}Object.assign(v,o),g&&a.push(g),a.push(v),y&&a.push(y)}n=a}return n}},qB=e=>e.selection?e.selection:e.children.length>0?F.end(e,[]):[0],$1=(e,t)=>{var[n]=F.node(e,t);return r=>r===n},GB=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?CRt(t):t,i=yt.None,s=yt.None,a=0,l=null,u=null;for(var d of o){var f=d.codePointAt(0);if(!f)break;var p=$Rt(d,f);if([i,s]=r?[s,p]:[p,i],Iv(i,yt.ZWJ)&&Iv(s,yt.ExtPict)&&(r?l=HJ(t.substring(0,a)):l=HJ(t.substring(0,t.length-a)),!l)||Iv(i,yt.RI)&&Iv(s,yt.RI)&&(u!==null?u=!u:r?u=!0:u=BRt(t.substring(0,t.length-a)),!u)||i!==yt.None&&s!==yt.None&&MRt(i,s))break;a+=d.length}return a||1},vRt=/\s/,yRt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,bRt=/['\u2018\u2019]/,xRt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var i=GB(t,n),[s,a]=KB(t,i,n);if(wRt(s,a,n))o=!0,r+=i;else if(!o)r+=i;else break;t=a}return r},KB=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},wRt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(vRt.test(t))return!1;if(bRt.test(t)){var o=GB(n,r),[i,s]=KB(n,o,r);if(e(i,s,r))return!0}return!yRt.test(t)},CRt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(SRt(o.charCodeAt(0))){var i=t.charAt(n-r-1);if(_Rt(i.charCodeAt(0))){yield i+o,r++;continue}}yield o}},_Rt=e=>e>=55296&&e<=56319,SRt=e=>e>=56320&&e<=57343,yt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(yt||(yt={}));var ERt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,kRt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,jRt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,TRt=/^[\u1100-\u115F\uA960-\uA97C]$/,ARt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,DRt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,PRt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,IRt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,ORt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,$Rt=(e,t)=>{var n=yt.Any;return e.search(ERt)!==-1&&(n|=yt.Extend),t===8205&&(n|=yt.ZWJ),t>=127462&&t<=127487&&(n|=yt.RI),e.search(kRt)!==-1&&(n|=yt.Prepend),e.search(jRt)!==-1&&(n|=yt.SpacingMark),e.search(TRt)!==-1&&(n|=yt.L),e.search(ARt)!==-1&&(n|=yt.V),e.search(DRt)!==-1&&(n|=yt.T),e.search(PRt)!==-1&&(n|=yt.LV),e.search(IRt)!==-1&&(n|=yt.LVT),e.search(ORt)!==-1&&(n|=yt.ExtPict),n};function Iv(e,t){return(e&t)!==0}var RRt=[[yt.L,yt.L|yt.V|yt.LV|yt.LVT],[yt.LV|yt.V,yt.V|yt.T],[yt.LVT|yt.T,yt.T],[yt.Any,yt.Extend|yt.ZWJ],[yt.Any,yt.SpacingMark],[yt.Prepend,yt.Any],[yt.ZWJ,yt.ExtPict],[yt.RI,yt.RI]];function MRt(e,t){return RRt.findIndex(n=>Iv(e,n[0])&&Iv(t,n[1]))===-1}var FRt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,HJ=e=>e.search(FRt)!==-1,LRt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,BRt=e=>{var t=e.match(LRt);if(t===null)return!1;var n=t[0].length/2;return n%2===1},NRt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=qB(e)}=n;if(J.isPath(o)&&(o=F.range(e,o)),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var i=ue.end(o);if(!r&&F.void(e,{at:i}))return;var s=ue.start(o),a=F.pointRef(e,s),l=F.pointRef(e,i);se.delete(e,{at:o,voids:r});var u=a.unref(),d=l.unref();o=u||d,se.setSelection(e,{anchor:o,focus:o})}if(!(!r&&F.void(e,{at:o})||F.elementReadOnly(e,{at:o}))){var{path:f,offset:p}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:p,text:t})}})}};function UJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function A2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UJ(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var se=A2(A2(A2(A2({},iRt),sRt),aRt),NRt),zRt=(e,t)=>{for(var n of F.pathRefs(e))J$t.transform(n,t);for(var r of F.pointRefs(e))eRt.transform(r,t);for(var o of F.rangeRefs(e))tRt.transform(o,t);var i=W5.get(e)||[],s=Y5.get(e)||new Set,a,l,u=v=>{if(v){var g=v.join(",");l.has(g)||(l.add(g),a.push(v))}};if(J.operationCanTransformPath(t)){a=[],l=new Set;for(var d of i){var f=J.transform(d,t);u(f)}}else a=i,l=s;var p=e.getDirtyPaths(t);for(var m of p)u(m);W5.set(e,a),Y5.set(e,l),se.transform(e,t),e.operations.push(t),F.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),fx.get(e)||(fx.set(e,!0),Promise.resolve().then(()=>{fx.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},VRt=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return J.levels(n)}case"insert_node":{var{node:r,path:o}=t,i=J.levels(o),s=xe.isText(r)?[]:Array.from(Se.nodes(r),T=>{var[,A]=T;return o.concat(A)});return[...i,...s]}case"merge_node":{var{path:a}=t,l=J.ancestors(a),u=J.previous(a);return[...l,u]}case"move_node":{var{path:d,newPath:f}=t;if(J.equals(d,f))return[];var p=[],m=[];for(var v of J.ancestors(d)){var g=J.transform(v,t);p.push(g)}for(var y of J.ancestors(f)){var x=J.transform(y,t);m.push(x)}var b=m[m.length-1],w=f[f.length-1],C=b.concat(w);return[...p,...m,C]}case"remove_node":{var{path:_}=t,S=J.ancestors(_);return[...S]}case"split_node":{var{path:E}=t,j=J.levels(E),k=J.next(E);return[...j,k]}default:return[]}},HRt=e=>{var{selection:t}=e;return t?Se.fragment(e,t):[]},URt=(e,t)=>{var[n,r]=t;if(!xe.isText(n)){if(Ie.isElement(n)&&n.children.length===0){var o={text:""};se.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var i=F.isEditor(n)?!1:Ie.isElement(n)&&(e.isInline(n)||n.children.length===0||xe.isText(n.children[0])||e.isInline(n.children[0])),s=0,a=0;a<n.children.length;a++,s++){var l=Se.get(e,r);if(!xe.isText(l)){var u=l.children[s],d=l.children[s-1],f=a===n.children.length-1,p=xe.isText(u)||Ie.isElement(u)&&e.isInline(u);if(p!==i)se.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(Ie.isElement(u)){if(e.isInline(u)){if(d==null||!xe.isText(d)){var m={text:""};se.insertNodes(e,m,{at:r.concat(s),voids:!0}),s++}else if(f){var v={text:""};se.insertNodes(e,v,{at:r.concat(s+1),voids:!0}),s++}}}else d!=null&&xe.isText(d)&&(xe.equals(u,d,{loose:!0})?(se.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):d.text===""?(se.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):u.text===""&&(se.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},WRt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},YRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:i=t.selection,match:s}=n;if(i){var a=F.path(t,i),l=o==="lowest";for(var[u,d]of F.levels(t,{at:a,voids:r,match:s,reverse:l}))if(!xe.isText(u)){if(ue.isRange(i)){if(J.isAncestor(d,i.anchor.path)&&J.isAncestor(d,i.focus.path))return[u,d]}else if(!J.equals(a,d))return[u,d]}}};function WJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function YJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WJ(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var qRt=(e,t,n)=>{var{selection:r}=e;if(r){var o=(f,p)=>{if(!xe.isText(f))return!1;var[m,v]=F.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},i=ue.isExpanded(r),s=!1;if(!i){var[a,l]=F.node(e,r);if(a&&o(a,l)){var[u]=F.parent(e,l);s=u&&e.markableVoid(u)}}if(i||s)se.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=YJ(YJ({},F.marks(e)||{}),{},{[t]:n});e.marks=d,fx.get(e)||e.onChange()}}};function qJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function GJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qJ(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var GRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.point(t,n,{edge:"end"}),i=F.end(t,[]),s={anchor:o,focus:i},{distance:a=1}=r,l=0,u;for(var d of F.positions(t,GJ(GJ({},r),{},{at:s}))){if(l>a)break;l!==0&&(u=d),l++}return u};function KJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ZJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KJ(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var KRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.start(t,[]),i=F.point(t,n,{edge:"start"}),s={anchor:o,focus:i},{distance:a=1}=r,l=0,u;for(var d of F.positions(t,ZJ(ZJ({},r),{},{at:s,reverse:!0}))){if(l>a)break;l!==0&&(u=d),l++}return u},ZRt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&se.delete(e,{unit:t,reverse:!0})},XRt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&se.delete(e,{unit:t})},QRt=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&ue.isExpanded(r)&&se.delete(t,{reverse:n==="backward"})},JRt=(e,t)=>[F.start(e,t),F.end(e,t)];function XJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function QJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XJ(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var eMt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(t,QJ(QJ({},n),{},{match:r=>Ie.isElement(r)&&F.isElementReadOnly(t,r)}))},tMt=(e,t)=>F.point(e,t,{edge:"end"}),nMt=(e,t)=>{var n=F.path(e,t,{edge:"start"});return F.node(e,n)},rMt=(e,t)=>{var n=F.range(e,t);return Se.fragment(e,n)};function JJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function eee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JJ(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var oMt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(t,eee(eee({},n),{},{match:r=>Ie.isElement(r)&&F.isVoid(t,r)}))},iMt=(e,t)=>t.children.some(n=>Ie.isElement(n)&&F.isBlock(e,n)),sMt=(e,t)=>t.children.some(n=>xe.isText(n)||F.isInline(e,n)),aMt=(e,t)=>Se.has(e,t),lMt=(e,t)=>t.children.every(n=>xe.isText(n)),cMt=e=>{se.splitNodes(e,{always:!0})},uMt=(e,t,n)=>{se.insertNodes(e,t,n)},dMt=e=>{se.splitNodes(e,{always:!0})};function tee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function fMt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tee(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var hMt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:i}=t;if(o){if(i){var s=fMt({text:n},i);se.insertNodes(t,s,{at:r.at,voids:r.voids})}else se.insertText(t,n,r);t.marks=null}},pMt=(e,t)=>!e.isInline(t),mMt=(e,t,n)=>F.isStart(e,t,n)||F.isEnd(e,t,n),gMt=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&xe.isText(r)&&r.text===""&&!e.isVoid(t)},vMt=(e,t,n)=>{var r=F.end(e,n);return It.equals(t,r)},yMt=e=>{var t=xAe.get(e);return t===void 0?!0:t},bMt=(e,t,n)=>{if(t.offset!==0)return!1;var r=F.start(e,n);return It.equals(t,r)},xMt=(e,t)=>{var n=F.path(e,t,{edge:"end"});return F.node(e,n)},wMt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=Se.leaf(t,o);return[i,o]};function CMt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(i==null&&(i=()=>!0),!!n){var s=[],a=F.path(e,n);for(var[l,u]of Se.levels(e,a))if(i(l,u)&&(s.push([l,u]),!o&&Ie.isElement(l)&&F.isVoid(e,l)))break;r&&s.reverse(),yield*s}}()}var _Mt=["text"],SMt=["text"],EMt=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(ue.isExpanded(r)){var[o]=F.nodes(t,{match:xe.isText});if(o){var[i]=o,s=pd(i,_Mt);return s}else return{}}var{anchor:a}=r,{path:l}=a,[u]=F.leaf(t,l);if(a.offset===0){var d=F.previous(t,{at:l,match:xe.isText}),f=F.above(t,{match:x=>Ie.isElement(x)&&F.isVoid(t,x)&&t.markableVoid(x)});if(!f){var p=F.above(t,{match:x=>Ie.isElement(x)&&F.isBlock(t,x)});if(d&&p){var[m,v]=d,[,g]=p;J.isAncestor(g,v)&&(u=m)}}}var y=pd(u,SMt);return y},kMt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=F.after(t,s,{voids:o});if(a){var[,l]=F.last(t,[]),u=[a.path,l];if(J.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(J.isPath(s)){var[d]=F.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=F.nodes(t,{at:u,match:i,mode:r,voids:o});return f}}},jMt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=Se.get(t,o);return[i,o]};function TMt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:l}=t;if(l||(l=()=>!0),!!n){var u,d;if(pRt.isSpan(n))u=n[0],d=n[1];else{var f=F.path(e,n,{edge:"start"}),p=F.path(e,n,{edge:"end"});u=i?p:f,d=i?f:p}var m=Se.nodes(e,{reverse:i,from:u,to:d,pass:C=>{var[_]=C;return Ie.isElement(_)?!!(!s&&(F.isVoid(e,_)||F.isElementReadOnly(e,_))||a&&!F.isSelectable(e,_)):!1}}),v=[],g;for(var[y,x]of m)if(!(a&&Ie.isElement(y)&&!F.isSelectable(e,y))){var b=g&&J.compare(x,g[1])===0;if(!(r==="highest"&&b)){if(!l(y,x)){if(o&&!b&&xe.isText(y))return;continue}if(r==="lowest"&&b){g=[y,x];continue}var w=r==="lowest"?g:[y,x];w&&(o?v.push(w):yield w),g=[y,x]}}r==="lowest"&&g&&(o?v.push(g):yield g),o&&(yield*v)}}()}var AMt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,i=d=>W5.get(d)||[],s=d=>Y5.get(d)||new Set,a=d=>{var f=i(d).pop(),p=f.join(",");return s(d).delete(p),f};if(F.isNormalizing(t)){if(r){var l=Array.from(Se.nodes(t),d=>{var[,f]=d;return f}),u=new Set(l.map(d=>d.join(",")));W5.set(t,l),Y5.set(t,u)}i(t).length!==0&&F.withoutNormalizing(t,()=>{for(var d of i(t))if(Se.has(t,d)){var f=F.node(t,d),[p,m]=f;Ie.isElement(p)&&p.children.length===0&&t.normalizeNode(f,{operation:o})}for(var v=i(t),g=v.length,y=0;v.length!==0;){if(!t.shouldNormalize({dirtyPaths:v,iteration:y,initialDirtyPathsLength:g,operation:o}))return;var x=a(t);if(Se.has(t,x)){var b=F.node(t,x);t.normalizeNode(b,{operation:o})}y++,v=i(t)}})}},DMt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=J.parent(o),s=F.node(t,i);return s},PMt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,l=F.pathRefs(t);return l.delete(i),i.current=null,a}},s=F.pathRefs(t);return s.add(i),i},IMt=e=>{var t=DJ.get(e);return t||(t=new Set,DJ.set(e,t)),t},OMt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:i}=r;if(J.isPath(n)){if(i==="start"){var[,s]=Se.first(t,n);n=s}else if(i==="end"){var[,a]=Se.last(t,n);n=a}}return ue.isRange(n)&&(i==="start"?n=ue.start(n):i==="end"?n=ue.end(n):n=J.common(n.anchor.path,n.focus.path)),It.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},$Mt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,l=F.pointRefs(t);return l.delete(i),i.current=null,a}},s=F.pointRefs(t);return s.add(i),i},RMt=e=>{var t=PJ.get(e);return t||(t=new Set,PJ.set(e,t)),t},MMt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(J.isPath(n)){var i;if(o==="end"){var[,s]=Se.last(t,n);i=s}else{var[,a]=Se.first(t,n);i=a}var l=Se.get(t,i);if(!xe.isText(l))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:i,offset:o==="end"?l.text.length:0}}if(ue.isRange(n)){var[u,d]=ue.edges(n);return o==="start"?u:d}return n};function FMt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1,ignoreNonSelectable:s=!1}=t;if(!n)return;var a=F.range(e,n),[l,u]=ue.edges(a),d=o?u:l,f=!1,p="",m=0,v=0,g=0;for(var[y,x]of F.nodes(e,{at:n,reverse:o,voids:i,ignoreNonSelectable:s})){if(Ie.isElement(y)){if(!i&&(e.isVoid(y)||e.isElementReadOnly(y))){yield F.start(e,x);continue}if(e.isInline(y))continue;if(F.hasInlines(e,y)){var b=J.isAncestor(x,u.path)?u:F.end(e,x),w=J.isAncestor(x,l.path)?l:F.start(e,x);p=F.string(e,{anchor:w,focus:b},{voids:i}),f=!0}}if(xe.isText(y)){var C=J.equals(x,d.path);for(C?(v=o?d.offset:y.text.length-d.offset,g=d.offset):(v=y.text.length,g=o?v:0),(C||f||r==="offset")&&(yield{path:x,offset:g},f=!1);;){if(m===0){if(p==="")break;m=_(p,r,o),p=KB(p,m,o)[1]}if(g=o?g-m:g+m,v=v-m,v<0){m=-v;break}m=0,yield{path:x,offset:g}}}}function _(S,E,j){return E==="character"?GB(S,j):E==="word"?xRt(S,j):E==="line"||E==="block"?S.length:1}}()}var LMt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=F.before(t,s,{voids:o});if(a){var[,l]=F.first(t,[]),u=[a.path,l];if(J.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(J.isPath(s)){var[d]=F.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=F.nodes(t,{reverse:!0,at:u,match:i,mode:r,voids:o});return f}}},BMt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,l=F.rangeRefs(t);return l.delete(i),i.current=null,a}},s=F.rangeRefs(t);return s.add(i),i},NMt=e=>{var t=IJ.get(e);return t||(t=new Set,IJ.set(e,t)),t},zMt=(e,t,n)=>{if(ue.isRange(t)&&!n)return t;var r=F.start(e,t),o=F.end(e,n||t);return{anchor:r,focus:o}};function nee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function VMt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nee(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var HMt=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!xe.isText(d))return!1;var[p,m]=F.parent(e,f);return!e.isVoid(p)||e.markableVoid(p)},o=ue.isExpanded(n),i=!1;if(!o){var[s,a]=F.node(e,n);if(s&&r(s,a)){var[l]=F.parent(e,a);i=l&&e.markableVoid(l)}}if(o||i)se.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=VMt({},F.marks(e)||{});delete u[t],e.marks=u,fx.get(e)||e.onChange()}}},UMt=(e,t)=>{xAe.set(e,t)},WMt=(e,t)=>F.point(e,t,{edge:"start"}),YMt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,i=F.range(t,n),[s,a]=ue.edges(i),l="";for(var[u,d]of F.nodes(t,{at:i,match:xe.isText,voids:o})){var f=u.text;J.equals(d,a.path)&&(f=f.slice(0,a.offset)),J.equals(d,s.path)&&(f=f.slice(s.offset)),l+=f}return l},qMt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[i,s]=ue.edges(n);if(i.offset!==0||s.offset!==0||ue.isCollapsed(n)||J.hasPrevious(s.path))return n;var a=F.above(t,{at:s,match:v=>Ie.isElement(v)&&F.isBlock(t,v),voids:o}),l=a?a[1]:[],u=F.start(t,i),d={anchor:u,focus:s},f=!0;for(var[p,m]of F.nodes(t,{at:d,match:xe.isText,reverse:!0,voids:o})){if(f){f=!1;continue}if(p.text!==""||J.isBefore(m,l)){s={path:m,offset:p.text.length};break}}return{anchor:i,focus:s}},GMt=(e,t)=>{var n=F.isNormalizing(e);F.setNormalizing(e,!1);try{t()}finally{F.setNormalizing(e,n)}F.normalize(e)},KMt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var r,o,{reverse:i=!1,unit:s="character",distance:a=1,voids:l=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(ue.isRange(u)&&ue.isCollapsed(u)&&(f=!0,u=u.anchor),It.isPoint(u)){var p=F.void(t,{at:u,mode:"highest"});if(!l&&p){var[,m]=p;u=m}else{var v={unit:s,distance:a},g=i?F.before(t,u,v)||F.start(t,[]):F.after(t,u,v)||F.end(t,[]);u={anchor:u,focus:g},d=!0}}if(J.isPath(u)){se.removeNodes(t,{at:u,voids:l});return}if(!ue.isCollapsed(u)){if(!d){var[,y]=ue.edges(u),x=F.end(t,[]);It.equals(y,x)||(u=F.unhangRange(t,u,{voids:l}))}var[b,w]=ue.edges(u),C=F.above(t,{match:ae=>Ie.isElement(ae)&&F.isBlock(t,ae),at:b,voids:l}),_=F.above(t,{match:ae=>Ie.isElement(ae)&&F.isBlock(t,ae),at:w,voids:l}),S=C&&_&&!J.equals(C[1],_[1]),E=J.equals(b.path,w.path),j=l?null:(r=F.void(t,{at:b,mode:"highest"}))!==null&&r!==void 0?r:F.elementReadOnly(t,{at:b,mode:"highest"}),k=l?null:(o=F.void(t,{at:w,mode:"highest"}))!==null&&o!==void 0?o:F.elementReadOnly(t,{at:w,mode:"highest"});if(j){var T=F.before(t,b);T&&C&&J.isAncestor(C[1],T.path)&&(b=T)}if(k){var A=F.after(t,w);A&&_&&J.isAncestor(_[1],A.path)&&(w=A)}var D=[],P;for(var I of F.nodes(t,{at:u,voids:l})){var[R,O]=I;P&&J.compare(O,P)===0||(!l&&Ie.isElement(R)&&(F.isVoid(t,R)||F.isElementReadOnly(t,R))||!J.isCommon(O,b.path)&&!J.isCommon(O,w.path))&&(D.push(I),P=O)}var V=Array.from(D,ae=>{var[,Ce]=ae;return F.pathRef(t,Ce)}),B=F.pointRef(t,b),H=F.pointRef(t,w),W="";if(!E&&!j){var z=B.current,[G]=F.leaf(t,z),{path:ee}=z,{offset:N}=b,Y=G.text.slice(N);Y.length>0&&(t.apply({type:"remove_text",path:ee,offset:N,text:Y}),W=Y)}if(V.reverse().map(ae=>ae.unref()).filter(ae=>ae!==null).forEach(ae=>se.removeNodes(t,{at:ae,voids:l})),!k){var q=H.current,[Z]=F.leaf(t,q),{path:ie}=q,re=E?b.offset:0,K=Z.text.slice(re,w.offset);K.length>0&&(t.apply({type:"remove_text",path:ie,offset:re,text:K}),W=K)}!E&&S&&H.current&&B.current&&se.mergeNodes(t,{at:H.current,hanging:!0,voids:l}),f&&i&&s==="character"&&W.length>1&&W.match(/[\u0E00-\u0E7F]+/)&&se.insertText(t,W.slice(0,W.length-a));var X=B.unref(),ce=H.unref(),me=i?X||ce:ce||X;n.at==null&&me&&se.select(t,me)}}})},ZMt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1}=r,{at:s=qB(t)}=r;if(n.length){if(ue.isRange(s))if(o||(s=F.unhangRange(t,s,{voids:i})),ue.isCollapsed(s))s=s.anchor;else{var[,a]=ue.edges(s);if(!i&&F.void(t,{at:a}))return;var l=F.pointRef(t,a);se.delete(t,{at:s}),s=l.unref()}else J.isPath(s)&&(s=F.start(t,s));if(!(!i&&F.void(t,{at:s}))){var u=F.above(t,{at:s,match:N=>Ie.isElement(N)&&F.isInline(t,N),mode:"highest",voids:i});if(u){var[,d]=u;if(F.isEnd(t,s,d)){var f=F.after(t,d);s=f}else if(F.isStart(t,s,d)){var p=F.before(t,d);s=p}}var m=F.above(t,{match:N=>Ie.isElement(N)&&F.isBlock(t,N),at:s,voids:i}),[,v]=m,g=F.isStart(t,s,v),y=F.isEnd(t,s,v),x=g&&y,b=!g||g&&y,w=!y,[,C]=Se.first({children:n},[]),[,_]=Se.last({children:n},[]),S=[],E=N=>{var[Y,q]=N,Z=q.length===0;return Z?!1:x?!0:!(b&&J.isAncestor(q,C)&&Ie.isElement(Y)&&!t.isVoid(Y)&&!t.isInline(Y)||w&&J.isAncestor(q,_)&&Ie.isElement(Y)&&!t.isVoid(Y)&&!t.isInline(Y))};for(var j of Se.nodes({children:n},{pass:E}))E(j)&&S.push(j);var k=[],T=[],A=[],D=!0,P=!1;for(var[I]of S)Ie.isElement(I)&&!t.isInline(I)?(D=!1,P=!0,T.push(I)):D?k.push(I):A.push(I);var[R]=F.nodes(t,{at:s,match:N=>xe.isText(N)||F.isInline(t,N),mode:"highest",voids:i}),[,O]=R,V=F.isStart(t,s,O),B=F.isEnd(t,s,O),H=F.pathRef(t,y&&!A.length?J.next(v):v),W=F.pathRef(t,B?J.next(O):O);se.splitNodes(t,{at:s,match:N=>P?Ie.isElement(N)&&F.isBlock(t,N):xe.isText(N)||F.isInline(t,N),mode:P?"lowest":"highest",always:P&&(!g||k.length>0)&&(!y||A.length>0),voids:i});var z=F.pathRef(t,!V||V&&B?J.next(O):O);if(se.insertNodes(t,k,{at:z.current,match:N=>xe.isText(N)||F.isInline(t,N),mode:"highest",voids:i}),x&&!k.length&&T.length&&!A.length&&se.delete(t,{at:v,voids:i}),se.insertNodes(t,T,{at:H.current,match:N=>Ie.isElement(N)&&F.isBlock(t,N),mode:"lowest",voids:i}),se.insertNodes(t,A,{at:W.current,match:N=>xe.isText(N)||F.isInline(t,N),mode:"highest",voids:i}),!r.at){var G;if(A.length>0&&W.current?G=J.previous(W.current):T.length>0&&H.current?G=J.previous(H.current):z.current&&(G=J.previous(z.current)),G){var ee=F.end(t,G);se.select(t,ee)}}z.unref(),H.unref(),W.unref()}}})},XMt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")se.select(t,o.anchor);else if(r==="focus")se.select(t,o.focus);else if(r==="start"){var[i]=ue.edges(o);se.select(t,i)}else if(r==="end"){var[,s]=ue.edges(o);se.select(t,s)}}else return},QMt=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},JMt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:i="character",reverse:s=!1}=n,{edge:a=null}=n;if(r){a==="start"&&(a=ue.isBackward(r)?"focus":"anchor"),a==="end"&&(a=ue.isBackward(r)?"anchor":"focus");var{anchor:l,focus:u}=r,d={distance:o,unit:i,ignoreNonSelectable:!0},f={};if(a==null||a==="anchor"){var p=s?F.before(t,l,d):F.after(t,l,d);p&&(f.anchor=p)}if(a==null||a==="focus"){var m=s?F.before(t,u,d):F.after(t,u,d);m&&(f.focus=m)}se.setSelection(t,f)}},eFt=(e,t)=>{var{selection:n}=e;if(t=F.range(e,t),n){se.setSelection(e,t);return}if(!ue.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Wo.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function ree(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ree(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ree(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var tFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:i="both"}=r;if(o){i==="start"&&(i=ue.isBackward(o)?"focus":"anchor"),i==="end"&&(i=ue.isBackward(o)?"anchor":"focus");var{anchor:s,focus:a}=o,l=i==="anchor"?s:a;se.setSelection(t,{[i==="anchor"?"anchor":"focus"]:oee(oee({},l),n)})}},nFt=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var i in t)(i==="anchor"&&t.anchor!=null&&!It.equals(t.anchor,n.anchor)||i==="focus"&&t.focus!=null&&!It.equals(t.focus,n.focus)||i!=="anchor"&&i!=="focus"&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},rFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1,mode:s="lowest"}=r,{at:a,match:l,select:u}=r;if(Se.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(a||(a=qB(t),u=!0),u==null&&(u=!1),ue.isRange(a))if(o||(a=F.unhangRange(t,a,{voids:i})),ue.isCollapsed(a))a=a.anchor;else{var[,f]=ue.edges(a),p=F.pointRef(t,f);se.delete(t,{at:a}),a=p.unref()}if(It.isPoint(a)){l==null&&(xe.isText(d)?l=E=>xe.isText(E):t.isInline(d)?l=E=>xe.isText(E)||F.isInline(t,E):l=E=>Ie.isElement(E)&&F.isBlock(t,E));var[m]=F.nodes(t,{at:a.path,match:l,mode:s,voids:i});if(m){var[,v]=m,g=F.pathRef(t,v),y=F.isEnd(t,a,v);se.splitNodes(t,{at:a,match:l,mode:s,voids:i});var x=g.unref();a=y?J.next(x):x}else return}var b=J.parent(a),w=a[a.length-1];if(!(!i&&F.void(t,{at:b}))){for(var C of n){var _=b.concat(w);w++,t.apply({type:"insert_node",path:_,node:C}),a=J.next(a)}if(a=J.previous(a),u){var S=F.end(t,a);S&&se.select(t,S)}}}})},oFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:i=!1}=n,{match:s}=n;if(s==null&&(s=J.isPath(r)?$1(t,r):C=>Ie.isElement(C)&&F.isBlock(t,C)),!!r){var a=F.nodes(t,{at:r,match:s,mode:o,voids:i}),l=Array.from(a,C=>{var[,_]=C;return F.pathRef(t,_)});for(var u of l){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=F.node(t,J.parent(d)),[p,m]=f,v=d[d.length-1],{length:g}=p.children;if(g===1){var y=J.next(m);se.moveNodes(t,{at:d,to:y,voids:i}),se.removeNodes(t,{at:m,voids:i})}else if(v===0)se.moveNodes(t,{at:d,to:m,voids:i});else if(v===g-1){var x=J.next(m);se.moveNodes(t,{at:d,to:x,voids:i})}else{var b=J.next(d),w=J.next(m);se.splitNodes(t,{at:b,voids:i}),se.moveNodes(t,{at:d,to:w,voids:i})}}}})},iFt=["text"],sFt=["children"],CAe=(e,t)=>{if(Ie.isElement(t)){var n=t;return F.isVoid(e,t)?!0:n.children.length===1?CAe(e,n.children[0]):!1}else return!F.isEditor(t)},aFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:i=!1,voids:s=!1,mode:a="lowest"}=n;if(o){if(r==null)if(J.isPath(o)){var[l]=F.parent(t,o);r=T=>l.children.includes(T)}else r=T=>Ie.isElement(T)&&F.isBlock(t,T);if(!i&&ue.isRange(o)&&(o=F.unhangRange(t,o,{voids:s})),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var[,u]=ue.edges(o),d=F.pointRef(t,u);se.delete(t,{at:o}),o=d.unref(),n.at==null&&se.select(t,o)}var[f]=F.nodes(t,{at:o,match:r,voids:s,mode:a}),p=F.previous(t,{at:o,match:r,voids:s,mode:a});if(!(!f||!p)){var[m,v]=f,[g,y]=p;if(!(v.length===0||y.length===0)){var x=J.next(y),b=J.common(v,y),w=J.isSibling(v,y),C=Array.from(F.levels(t,{at:v}),T=>{var[A]=T;return A}).slice(b.length).slice(0,-1),_=F.above(t,{at:v,mode:"highest",match:T=>C.includes(T)&&CAe(t,T)}),S=_&&F.pathRef(t,_[1]),E,j;if(xe.isText(m)&&xe.isText(g)){var k=pd(m,iFt);j=g.text.length,E=k}else if(Ie.isElement(m)&&Ie.isElement(g)){var k=pd(m,sFt);j=g.children.length,E=k}else throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat(Wo.stringify(m)," ").concat(Wo.stringify(g)));w||se.moveNodes(t,{at:v,to:x,voids:s}),S&&se.removeNodes(t,{at:S.current,voids:s}),Ie.isElement(g)&&F.isEmpty(t,g)||xe.isText(g)&&g.text===""&&y[y.length-1]!==0?se.removeNodes(t,{at:y,voids:s}):t.apply({type:"merge_node",path:x,position:j,properties:E}),S&&S.unref()}}}})},lFt=(e,t)=>{F.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:s}=t;if(r){s==null&&(s=J.isPath(r)?$1(e,r):m=>Ie.isElement(m)&&F.isBlock(e,m));var a=F.pathRef(e,n),l=F.nodes(e,{at:r,match:s,mode:o,voids:i}),u=Array.from(l,m=>{var[,v]=m;return F.pathRef(e,v)});for(var d of u){var f=d.unref(),p=a.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:p}),a.current&&J.isSibling(p,f)&&J.isAfter(p,f)&&(a.current=J.next(a.current))}a.unref()}})},cFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=J.isPath(s)?$1(t,s):m=>Ie.isElement(m)&&F.isBlock(t,m)),!r&&ue.isRange(s)&&(s=F.unhangRange(t,s,{voids:o}));var l=F.nodes(t,{at:s,match:a,mode:i,voids:o}),u=Array.from(l,m=>{var[,v]=m;return F.pathRef(t,v)});for(var d of u){var f=d.unref();if(f){var[p]=F.node(t,f);t.apply({type:"remove_node",path:f,node:p})}}}})},uFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{match:o,at:i=t.selection,compare:s,merge:a}=r,{hanging:l=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(i){if(o==null&&(o=J.isPath(i)?$1(t,i):j=>Ie.isElement(j)&&F.isBlock(t,j)),!l&&ue.isRange(i)&&(i=F.unhangRange(t,i,{voids:f})),d&&ue.isRange(i)){if(ue.isCollapsed(i)&&F.leaf(t,i.anchor)[0].text.length>0)return;var p=F.rangeRef(t,i,{affinity:"inward"}),[m,v]=ue.edges(i),g=u==="lowest"?"lowest":"highest",y=F.isEnd(t,v,v.path);se.splitNodes(t,{at:v,match:o,mode:g,voids:f,always:!y});var x=F.isStart(t,m,m.path);se.splitNodes(t,{at:m,match:o,mode:g,voids:f,always:!x}),i=p.unref(),r.at==null&&se.select(t,i)}s||(s=(j,k)=>j!==k);for(var[b,w]of F.nodes(t,{at:i,match:o,mode:u,voids:f})){var C={},_={};if(w.length!==0){var S=!1;for(var E in n)E==="children"||E==="text"||s(n[E],b[E])&&(S=!0,b.hasOwnProperty(E)&&(C[E]=b[E]),a?n[E]!=null&&(_[E]=a(b[E],n[E])):n[E]!=null&&(_[E]=n[E]));S&&t.apply({type:"set_node",path:w,properties:C,newProperties:_})}}}})},dFt=(e,t)=>{if(ue.isCollapsed(t))return t.anchor;var[,n]=ue.edges(t),r=F.pointRef(e,n);return se.delete(e,{at:t}),r.unref()},fFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection,height:a=0,always:l=!1}=n;if(i==null&&(i=H=>Ie.isElement(H)&&F.isBlock(t,H)),ue.isRange(s)&&(s=dFt(t,s)),J.isPath(s)){var u=s,d=F.point(t,u),[f]=F.parent(t,u);i=H=>H===f,a=d.path.length-u.length+1,s=d,l=!0}if(s){var p=F.pointRef(t,s,{affinity:"backward"}),m;try{var[v]=F.nodes(t,{at:s,match:i,mode:r,voids:o});if(!v)return;var g=F.void(t,{at:s,mode:"highest"}),y=0;if(!o&&g){var[x,b]=g;if(Ie.isElement(x)&&t.isInline(x)){var w=F.after(t,b);if(!w){var C={text:""},_=J.next(b);se.insertNodes(t,C,{at:_,voids:o}),w=F.point(t,_)}s=w,l=!0}var S=s.path.length-b.length;a=S+1,l=!0}m=F.pointRef(t,s);var E=s.path.length-a,[,j]=v,k=s.path.slice(0,E),T=a===0?s.offset:s.path[E]+y;for(var[A,D]of F.levels(t,{at:k,reverse:!0,voids:o})){var P=!1;if(D.length<j.length||D.length===0||!o&&Ie.isElement(A)&&F.isVoid(t,A))break;var I=p.current,R=F.isEnd(t,I,D);if(l||!p||!F.isEdge(t,I,D)){P=!0;var O=Se.extractProps(A);t.apply({type:"split_node",path:D,position:T,properties:O})}T=D[D.length-1]+(P||R?1:0)}if(n.at==null){var V=m.current||F.end(t,[]);se.select(t,V)}}finally{var B;p.unref(),(B=m)===null||B===void 0||B.unref()}}})},hFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var i of n)o[i]=null;se.setNodes(t,o,r)},pFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=J.isPath(s)?$1(t,s):m=>Ie.isElement(m)&&F.isBlock(t,m)),J.isPath(s)&&(s=F.range(t,s));var l=ue.isRange(s)?F.rangeRef(t,s):null,u=F.nodes(t,{at:s,match:a,mode:r,voids:i}),d=Array.from(u,m=>{var[,v]=m;return F.pathRef(t,v)}).reverse(),f=function(){var v=p.unref(),[g]=F.node(t,v),y=F.range(t,v);o&&l&&(y=ue.intersection(l.current,y)),se.liftNodes(t,{at:y,match:x=>Ie.isAncestor(g)&&g.children.includes(x),voids:i})};for(var p of d)f();l&&l.unref()}})};function iee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function see(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iee(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var mFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{mode:o="lowest",split:i=!1,voids:s=!1}=r,{match:a,at:l=t.selection}=r;if(l){if(a==null&&(J.isPath(l)?a=$1(t,l):t.isInline(n)?a=y=>Ie.isElement(y)&&F.isInline(t,y)||xe.isText(y):a=y=>Ie.isElement(y)&&F.isBlock(t,y)),i&&ue.isRange(l)){var[u,d]=ue.edges(l),f=F.rangeRef(t,l,{affinity:"inward"});se.splitNodes(t,{at:d,match:a,voids:s}),se.splitNodes(t,{at:u,match:a,voids:s}),l=f.unref(),r.at==null&&se.select(t,l)}var p=Array.from(F.nodes(t,{at:l,match:t.isInline(n)?y=>Ie.isElement(y)&&F.isBlock(t,y):y=>F.isEditor(y),mode:"lowest",voids:s})),m=function(){var x=ue.isRange(l)?ue.intersection(l,F.range(t,g)):l;if(!x)return 0;var b=Array.from(F.nodes(t,{at:x,match:a,mode:o,voids:s}));if(b.length>0){var[w]=b,C=b[b.length-1],[,_]=w,[,S]=C;if(_.length===0&&S.length===0)return 0;var E=J.equals(_,S)?J.parent(_):J.common(_,S),j=F.range(t,_,S),k=F.node(t,E),[T]=k,A=E.length+1,D=J.next(S.slice(0,A)),P=see(see({},n),{},{children:[]});se.insertNodes(t,P,{at:D,voids:s}),se.moveNodes(t,{at:j,match:I=>Ie.isAncestor(T)&&T.children.includes(I),to:D.concat(0),voids:s})}},v;for(var[,g]of p)v=m()}})},gFt=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zRt(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qRt(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZRt(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XRt(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QRt(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HRt(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cMt(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dMt(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZMt(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uMt(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hMt(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return URt(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HMt(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VRt(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WRt(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YRt(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GRt(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KRt(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XMt(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KMt(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QMt(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JRt(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return eMt(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tMt(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return nMt(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return rMt(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return EMt(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return iMt(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sMt(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return aMt(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lMt(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return rFt(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pMt(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return mMt(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return gMt(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vMt(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yMt(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bMt(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xMt(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wMt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return CMt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return oFt(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return aFt(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JMt(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lFt(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kMt(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jMt(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TMt(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AMt(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DMt(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return OMt(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return PMt(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IMt(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MMt(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Mt(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return RMt(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FMt(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LMt(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zMt(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BMt(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NMt(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cFt(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return eFt(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uFt(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return UMt(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tFt(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return nFt(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fFt(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WMt(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YMt(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qMt(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hFt(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pFt(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return oMt(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GMt(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return mFt(e,...r)}};return e},$d={};Object.defineProperty($d,"__esModule",{value:!0});var vFt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),y3={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},_Ae={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:vFt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},ZB={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var D2=1;D2<20;D2++)ZB["f"+D2]=111+D2;function fD(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return SAe(s,t)}),o=function(a){return r.some(function(l){return EAe(l,a)})},i=n==null?o:o(n);return i}function yFt(e,t){return fD(e,t)}function bFt(e,t){return fD(e,{byKey:!0},t)}function SAe(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in y3)r[y3[s]]=!1;var a=!0,l=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=XB(p),g=y3[v];if(p.length>1&&!g&&!_Ae[p]&&!ZB[v])throw new TypeError('Unknown modifier: "'+p+'"');(i===1||!g)&&(n?r.key=v:r.which=kAe(p)),g&&(r[g]=m?null:!0)}}catch(y){l=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(l)throw u}}return r}function EAe(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function kAe(e){e=XB(e);var t=ZB[e]||e.toUpperCase().charCodeAt(0);return t}function XB(e){return e=e.toLowerCase(),e=_Ae[e]||e,e}$d.default=fD;var b3=$d.isHotkey=fD;$d.isCodeHotkey=yFt;$d.isKeyHotkey=bFt;$d.parseHotkey=SAe;$d.compareHotkey=EAe;$d.toKeyCode=kAe;$d.toKeyName=XB;function xFt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function U0(e,t){if(e==null)return{};var n=xFt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vw(e){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vw(e)}function wFt(e,t){if(vw(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vw(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CFt(e){var t=wFt(e,"string");return vw(t)==="symbol"?t:String(t)}function Ja(e,t,n){return t=CFt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QB=h.createContext(null),iu=()=>{var e=h.useContext(QB);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},jAe=parseInt(ne.version.split(".")[0],10),_Ft=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,aee=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),As=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Ov=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Eb=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),SFt=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),TAe=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),EFt=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),kFt=As&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),jFt=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),TFt=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),AFt=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),SE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wd=(!EFt||!kFt)&&!SFt&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",JB=new WeakMap,eN=new WeakMap,AAe=new WeakMap,EE=new WeakMap,r4=new WeakMap,yw=new WeakMap,cm=new WeakMap,q5=new WeakMap,hD=new WeakMap,o4=new WeakMap,Cf=new WeakMap,zp=new WeakMap,hx=new WeakMap,i4=new WeakMap,tN=new WeakMap,Fl=new WeakMap,Mu=new WeakMap,Ss=new WeakMap,of=new WeakMap,sf=new WeakMap,DAe=new WeakMap,W0=Symbol("placeholder"),PAe=Symbol("mark-placeholder"),DFt=globalThis.Text,nN=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,PFt=e=>vh(e)&&e.nodeType===8,Ya=e=>vh(e)&&e.nodeType===1,vh=e=>{var t=nN(e);return!!t&&e instanceof t.Node},s4=e=>{var t=e&&e.anchorNode&&nN(e.anchorNode);return!!t&&e instanceof t.Selection},IAe=e=>vh(e)&&e.nodeType===3,IFt=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,OFt=e=>{var[t,n]=e;if(Ya(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=OAe(t,o,r?"backward":"forward"),r=o<n;Ya(t)&&t.childNodes.length;){var i=r?t.childNodes.length-1:0;t=RFt(t,i,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},$Ft=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},OAe=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],i=t,s=!1,a=!1;(PFt(o)||Ya(o)&&o.childNodes.length===0||Ya(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&a);){if(i>=r.length){s=!0,i=t-1,n="backward";continue}if(i<0){a=!0,i=t+1,n="forward";continue}o=r[i],t=i,i+=n==="forward"?1:-1}return[o,t]},RFt=(e,t,n)=>{var[r]=OAe(e,t,n);return r},$Ae=e=>{var t="";if(IAe(e)&&e.nodeValue)return e.nodeValue;if(Ya(e)){for(var n of Array.from(e.childNodes))t+=$Ae(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},MFt=/data-slate-fragment="(.+?)"/m,FFt=e=>{var t=e.getData("text/html"),[,n]=t.match(MFt)||[];return n},rN=(e,t,n)=>{var{target:r}=t;if(Ya(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=pe.getWindow(e);if(o.contains(r))return pe.hasDOMNode(e,r,{editable:!0});var i=n.find(s=>{var{addedNodes:a,removedNodes:l}=s;for(var u of a)if(u===r||u.contains(r))return!0;for(var d of l)if(d===r||d.contains(r))return!0});return!i||i===t?!1:rN(e,i,n)},LFt=0;class BFt{constructor(){Ja(this,"id",void 0),this.id="".concat(LFt++)}}var pe={androidPendingDiffs:e=>Ss.get(e),androidScheduleFlush:e=>{var t;(t=tN.get(e))===null||t===void 0||t()},blur:e=>{var t=pe.toDOMNode(e,e),n=pe.findDocumentOrShadowRoot(e);Cf.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=pe.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&se.deselect(e)},findDocumentOrShadowRoot:e=>{var t=pe.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=pe.toSlateNode(e,t.target),s=pe.findPath(e,i);if(Ie.isElement(i)&&F.isVoid(e,i)){var a=o.getBoundingClientRect(),l=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=F.point(e,s,{edge:l?"start":"end"}),d=l?F.before(e,u):F.after(e,u);if(d){var f=F.range(e,d);return f}}var p,{document:m}=pe.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var v=m.caretPositionFromPoint(n,r);v&&(p=m.createRange(),p.setStart(v.offsetNode,v.offset),p.setEnd(v.offsetNode,v.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var g=pe.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return g},findKey:(e,t)=>{var n=q5.get(t);return n||(n=new BFt,q5.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=eN.get(r);if(o==null){if(F.isEditor(r))return n;break}var i=JB.get(r);if(i==null)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat(Wo.stringify(t)))},focus:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Cf.get(t)){if(n.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(t.operations.length>0){setTimeout(()=>{pe.focus(t,{retries:n.retries-1})},10);return}var r=pe.toDOMNode(t,t),o=pe.findDocumentOrShadowRoot(t);if(o.activeElement!==r){if(t.selection&&o instanceof Document){var i=o.getSelection(),s=pe.toDOMRange(t,t.selection);i==null||i.removeAllRanges(),i==null||i.addRange(s)}t.selection||(se.select(t,F.start(t,[])),t.onChange()),r.focus({preventScroll:!0}),Cf.set(t,!0)}}},getWindow:e=>{var t=AAe.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,i=pe.toDOMNode(t,t),s;try{s=Ya(n)?n:n.parentElement}catch(a){if(a instanceof Error&&!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===i&&(!o||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>vh(t)&&pe.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return F.hasPath(e,n.path)&&F.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>pe.hasEditableTarget(e,t)||pe.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>vh(t)&&pe.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!zp.get(e),isFocused:e=>!!Cf.get(e),isReadOnly:e=>!!o4.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(o4.get(e))return!1;var n=pe.hasTarget(e,t)&&pe.toSlateNode(e,t);return Ie.isElement(n)&&F.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=hD.get(e),r=F.isEditor(t)?EE.get(e):n==null?void 0:n.get(pe.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Wo.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=F.node(e,t.path),r=pe.toDOMNode(e,n),o;F.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i="[data-slate-string], [data-slate-zero-width]",s=Array.from(r.querySelectorAll(i)),a=0,l=0;l<s.length;l++){var u=s[l],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,p=u.getAttribute("data-slate-length"),m=p==null?f:parseInt(p,10),v=a+m,g=s[l+1];if(t.offset===v&&g!==null&&g!==void 0&&g.hasAttribute("data-slate-mark-placeholder")){var y,x=g.childNodes[0];o=[x instanceof DFt?x:g,(y=g.textContent)!==null&&y!==void 0&&y.startsWith("\uFEFF")?1:0];break}if(t.offset<=v){var b=Math.min(f,Math.max(0,t.offset-a));o=[d,b];break}a=v}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Wo.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=ue.isBackward(t),i=pe.toDOMPoint(e,n),s=ue.isCollapsed(t)?i:pe.toDOMPoint(e,r),a=pe.getWindow(e),l=a.document.createRange(),[u,d]=o?s:i,[f,p]=o?i:s,m=Ya(u)?u:u.parentElement,v=!!m.getAttribute("data-slate-zero-width"),g=Ya(f)?f:f.parentElement,y=!!g.getAttribute("data-slate-zero-width");return l.setStart(u,v?1:d),l.setEnd(f,y?1:p),l},toSlateNode:(e,t)=>{var n=Ya(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?yw.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[i,s]=r?t:OFt(t),a=i.parentNode,l=null,u=0;if(a){var d,f,p=pe.toDOMNode(e,e),m=a.closest('[data-slate-void="true"]'),v=m&&p.contains(m)?m:null,g=a.closest("[data-slate-leaf]"),y=null;if(g){if(l=g.closest('[data-slate-node="text"]'),l){var x=pe.getWindow(e),b=x.document.createRange();b.setStart(l,0),b.setEnd(i,s);var w=b.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(I=>{if(As&&!r&&I.hasAttribute("data-slate-zero-width")&&I.textContent.length>0&&I.textContext!=="\uFEFF"){I.textContent.startsWith("\uFEFF")&&(I.textContent=I.textContent.slice(1));return}I.parentNode.removeChild(I)}),u=w.textContent.length,y=l}}else if(v){for(var _=v.querySelectorAll("[data-slate-leaf]"),S=0;S<_.length;S++){var E=_[S];if(pe.hasDOMNode(e,E)){g=E;break}}g?(l=g.closest('[data-slate-node="text"]'),y=g,u=y.textContent.length,y.querySelectorAll("[data-slate-zero-width]").forEach(I=>{u-=I.textContent.length})):u=1}y&&u===y.textContent.length&&As&&y.getAttribute("data-slate-zero-width")==="z"&&(d=y.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(a.hasAttribute("data-slate-zero-width")||Ov&&(f=y.textContent)!==null&&f!==void 0&&f.endsWith(`

`))&&u--}if(As&&!l&&!r){var j=a.hasAttribute("data-slate-node")?a:a.closest("[data-slate-node]");if(j&&pe.hasDOMNode(e,j,{editable:!0})){var k=pe.toSlateNode(e,j),{path:T,offset:A}=F.start(e,pe.findPath(e,k));return j.querySelector("[data-slate-leaf]")||(A=s),{path:T,offset:A}}}if(!l){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var D=pe.toSlateNode(e,l),P=pe.findPath(e,D);return{path:P,offset:u}},toSlateRange:(e,t,n)=>{var r,{exactMatch:o,suppressThrow:i}=n,s=s4(t)?t.anchorNode:t.startContainer,a,l,u,d,f;if(s)if(s4(t)){if(Ov&&t.rangeCount>1){u=t.focusNode;var p=t.getRangeAt(0),m=t.getRangeAt(t.rangeCount-1);if(u instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement){let S=function(E){return E.childElementCount>0?S(E.children[0]):E};var v=p.startContainer,g=m.startContainer,y=S(v.children[p.startOffset]),x=S(g.children[m.startOffset]);d=0,x.childNodes.length>0?a=x.childNodes[0]:a=x,y.childNodes.length>0?u=y.childNodes[0]:u=y,x instanceof HTMLElement?l=x.innerHTML.length:l=0}else p.startContainer===u?(a=m.endContainer,l=m.endOffset,d=p.startOffset):(a=p.startContainer,l=p.endOffset,d=m.startOffset)}else a=t.anchorNode,l=t.anchorOffset,u=t.focusNode,d=t.focusOffset;TAe&&$Ft(a)||Ov?f=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:f=t.isCollapsed}else a=t.startContainer,l=t.startOffset,u=t.endContainer,d=t.endOffset,f=t.collapsed;if(a==null||u==null||l==null||d==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if(Ov&&(r=u.textContent)!==null&&r!==void 0&&r.endsWith(`

`)&&d===u.textContent.length&&d--,"getAttribute"in u&&u.getAttribute("contenteditable")==="false"&&u.getAttribute("data-slate-void")!=="true"){var b;u=a,d=((b=a.textContent)===null||b===void 0?void 0:b.length)||0}var w=pe.toSlatePoint(e,[a,l],{exactMatch:o,suppressThrow:i});if(!w)return null;var C=f?w:pe.toSlatePoint(e,[u,d],{exactMatch:o,suppressThrow:i});if(!C)return null;var _={anchor:w,focus:C};return ue.isExpanded(_)&&ue.isForward(_)&&Ya(u)&&F.void(e,{at:_.focus,mode:"highest"})&&(_=F.unhangRange(e,_,{voids:!0})),_}};function NFt(e,t){var{path:n,diff:r}=t;if(!F.hasPath(e,n))return!1;var o=Se.get(e,n);if(!xe.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var i=J.next(n);if(!F.hasPath(e,i))return!1;var s=Se.get(e,i);return xe.isText(s)&&s.text.startsWith(r.text)}function RAe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,i)=>o.slice(0,i.start)+i.text+o.slice(i.end),e)}function zFt(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function VFt(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function MAe(e,t){var{start:n,end:r,text:o}=t,i=e.slice(n,r),s=zFt(i,o),a=Math.min(i.length-s,o.length-s),l=VFt(i,o,a),u={start:n+s,end:r-l,text:o.slice(s,o.length-l)};return u.start===u.end&&u.text.length===0?null:u}function HFt(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),i=RAe(e,t,n),s=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),a=i.slice(r,s),l=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return MAe(e,{start:r,end:l,text:a})}function UFt(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function a4(e,t){var{path:n,offset:r}=t;if(!F.hasPath(e,n))return null;var o=Se.get(e,n);if(!xe.isText(o))return null;var i=F.above(e,{match:a=>Ie.isElement(a)&&F.isBlock(e,a),at:n});if(!i)return null;for(;r>o.text.length;){var s=F.next(e,{at:n,match:xe.isText});if(!s||!J.isDescendant(s[1],i[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function lee(e,t){var n=a4(e,t.anchor);if(!n)return null;if(ue.isCollapsed(t))return{anchor:n,focus:n};var r=a4(e,t.focus);return r?{anchor:n,focus:r}:null}function l4(e,t,n){var r=Ss.get(e),o=r==null?void 0:r.find(d=>{var{path:f}=d;return J.equals(f,t.path)});if(!o||t.offset<=o.diff.start)return It.transform(t,n,{affinity:"backward"});var{diff:i}=o;if(t.offset<=i.start+i.text.length){var s={path:t.path,offset:i.start},a=It.transform(s,n,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-i.start}:null}var l={path:t.path,offset:t.offset-i.text.length+i.end-i.start},u=It.transform(l,n,{affinity:"backward"});return u?n.type==="split_node"&&J.equals(n.path,t.path)&&l.offset<n.position&&i.start<n.position?u:{path:u.path,offset:u.offset+i.text.length-i.end+i.start}:null}function cee(e,t,n){var r=l4(e,t.anchor,n);if(!r)return null;if(ue.isCollapsed(t))return{anchor:r,focus:r};var o=l4(e,t.focus,n);return o?{anchor:r,focus:o}:null}function WFt(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!J.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!J.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!J.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:J.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:J.transform(n,t,{affinity:"forward"})};case"merge_node":return J.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:J.transform(n,t)}:{diff:r,id:o,path:J.transform(n,t)}}var i=J.transform(n,t);return i?{diff:r,path:i,id:o}:null}function uee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function P2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uee(Object(n),!0).forEach(function(r){Ja(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var YFt=25,qFt=200,GFt=function(){},KFt=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function ZFt(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,i=null,s=null,a=null,l=0,u=!1,d=()=>{var D=sf.get(t);if(sf.delete(t),D){var{selection:P}=t,I=lee(t,D);I&&(!P||!ue.equals(I,P))&&se.select(t,I)}},f=()=>{var D=of.get(t);if(of.delete(t),!!D){if(D.at){var P=It.isPoint(D.at)?a4(t,D.at):lee(t,D.at);if(!P)return;var I=F.range(t,P);(!t.selection||!ue.equals(t.selection,I))&&se.select(t,P)}D.run()}},p=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),!C()&&!w()){d();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var D=t.selection&&F.rangeRef(t,t.selection,{affinity:"forward"});Mu.set(t,t.marks),GFt("flush",of.get(t),Ss.get(t));for(var P=C(),I;I=(R=Ss.get(t))===null||R===void 0?void 0:R[0];){var R,O,V=Fl.get(t);V!==void 0&&(Fl.delete(t),t.marks=V),V&&u===!1&&(u=null);var B=UFt(I);(!t.selection||!ue.equals(t.selection,B))&&se.select(t,B),I.diff.text?F.insertText(t,I.diff.text):F.deleteFragment(t),Ss.set(t,(O=Ss.get(t))===null||O===void 0?void 0:O.filter(z=>{var{id:G}=z;return G!==I.id})),NFt(t,I)||(P=!1,of.delete(t),Mu.delete(t),o="action",sf.delete(t),n.cancel(),r.cancel(),D==null||D.unref())}var H=D==null?void 0:D.unref();if(H&&!sf.get(t)&&(!t.selection||!ue.equals(H,t.selection))&&se.select(t,H),w()){f();return}P&&n(),n.flush(),r.flush(),d();var W=Mu.get(t);Mu.delete(t),W!==void 0&&(t.marks=W,t.onChange())},m=D=>{i&&clearTimeout(i),i=setTimeout(()=>{zp.set(t,!1),p()},YFt)},v=D=>{zp.set(t,!0),i&&(clearTimeout(i),i=null)},g=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,I=r4.get(t);if(I){if(C()||P){I.style.display="none";return}I.style.removeProperty("display")}},y=(D,P)=>{var I,R=(I=Ss.get(t))!==null&&I!==void 0?I:[];Ss.set(t,R);var O=Se.leaf(t,D),V=R.findIndex(W=>J.equals(W.path,D));if(V<0){var B=MAe(O.text,P);B&&R.push({path:D,diff:P,id:l++}),g();return}var H=HFt(O.text,R[V].diff,P);if(!H){R.splice(V,1),g();return}R[V]=P2(P2({},R[V]),{},{diff:H})},x=function(P){var{at:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,sf.delete(t),n.cancel(),r.cancel(),w()&&p(),of.set(t,{at:I,run:P}),a=setTimeout(p)},b=D=>{var P;s&&(clearTimeout(s),s=null);var{inputType:I}=D,R=null,O=D.dataTransfer||D.data||void 0;u!==!1&&I!=="insertText"&&I!=="insertCompositionText"&&(u=!1);var[V]=D.getTargetRanges();V&&(R=pe.toSlateRange(t,V,{exactMatch:!1,suppressThrow:!0}));var B=pe.getWindow(t),H=B.getSelection();if(!R&&H&&(V=H,R=pe.toSlateRange(t,H,{exactMatch:!1,suppressThrow:!0})),R=(P=R)!==null&&P!==void 0?P:t.selection,!!R){var W=!0;if(I.startsWith("delete")){if(ue.isExpanded(R)){var[z,G]=ue.edges(R),ee=Se.leaf(t,z.path);if(ee.text.length===z.offset&&G.offset===0){var N=F.next(t,{at:z.path,match:xe.isText});N&&J.equals(N[1],G.path)&&(R={anchor:G,focus:G})}}var Y=I.endsWith("Backward")?"backward":"forward",[q,Z]=ue.edges(R),[ie,re]=F.leaf(t,q.path),K={text:"",start:q.offset,end:Z.offset},X=Ss.get(t),ce=X==null?void 0:X.find(tt=>J.equals(tt.path,re)),me=ce?[ce.diff,K]:[K],ae=RAe(ie.text,...me);if(ae.length===0&&(W=!1),ue.isExpanded(R)){if(W&&J.equals(R.anchor.path,R.focus.path)){var Ce={path:R.anchor.path,offset:q.offset},_e=F.range(t,Ce,Ce);return E(_e),y(R.anchor.path,{text:"",end:Z.offset,start:q.offset})}return x(()=>F.deleteFragment(t,{direction:Y}),{at:R})}}switch(I){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return x(()=>F.deleteFragment(t),{at:R});case"deleteContent":case"deleteContentForward":{var{anchor:he}=R;if(W&&ue.isCollapsed(R)){var be=Se.leaf(t,he.path);if(he.offset<be.text.length)return y(he.path,{text:"",start:he.offset,end:he.offset+1})}return x(()=>F.deleteForward(t),{at:R})}case"deleteContentBackward":{var Le,{anchor:$e}=R,ct=s4(V)?V.isCollapsed:!!((Le=V)!==null&&Le!==void 0&&Le.collapsed);return W&&ct&&ue.isCollapsed(R)&&$e.offset>0?y($e.path,{text:"",start:$e.offset-1,end:$e.offset}):x(()=>F.deleteBackward(t),{at:R})}case"deleteEntireSoftLine":return x(()=>{F.deleteBackward(t,{unit:"line"}),F.deleteForward(t,{unit:"line"})},{at:R});case"deleteHardLineBackward":return x(()=>F.deleteBackward(t,{unit:"block"}),{at:R});case"deleteSoftLineBackward":return x(()=>F.deleteBackward(t,{unit:"line"}),{at:R});case"deleteHardLineForward":return x(()=>F.deleteForward(t,{unit:"block"}),{at:R});case"deleteSoftLineForward":return x(()=>F.deleteForward(t,{unit:"line"}),{at:R});case"deleteWordBackward":return x(()=>F.deleteBackward(t,{unit:"word"}),{at:R});case"deleteWordForward":return x(()=>F.deleteForward(t,{unit:"word"}),{at:R});case"insertLineBreak":return x(()=>F.insertSoftBreak(t),{at:R});case"insertParagraph":return x(()=>F.insertBreak(t),{at:R});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(KFt(O))return x(()=>pe.insertData(t,O),{at:R});var ot=O??"";if(Fl.get(t)&&(ot=ot.replace("\uFEFF","")),I==="insertText"&&/.*\n.*\n$/.test(ot)&&(ot=ot.slice(0,-1)),ot.includes(`
`))return x(()=>{var tt=ot.split(`
`);tt.forEach((wt,Ee)=>{wt&&F.insertText(t,wt),Ee!==tt.length-1&&F.insertSoftBreak(t)})},{at:R});if(J.equals(R.anchor.path,R.focus.path)){var[Nt,Rt]=ue.edges(R),Ae={start:Nt.offset,end:Rt.offset,text:ot};if(ot&&u&&I==="insertCompositionText"){var Ge=u.start+u.text.search(/\S|$/),Ye=Ae.start+Ae.text.search(/\S|$/);Ye===Ge+1&&Ae.end===u.start+u.text.length?(Ae.start-=1,u=null,T()):u=!1}else I==="insertText"?u===null?u=Ae:u&&ue.isCollapsed(R)&&u.end+u.text.length===Nt.offset?u=P2(P2({},u),{},{text:u.text+ot}):u=!1:u=!1;if(W){y(Nt.path,Ae);return}}return x(()=>F.insertText(t,ot),{at:R})}}}},w=()=>!!of.get(t),C=()=>{var D;return!!((D=Ss.get(t))!==null&&D!==void 0&&D.length)},_=()=>w()||C(),S=()=>o,E=D=>{sf.set(t,D),s&&(clearTimeout(s),s=null);var{selection:P}=t;if(D){var I=!P||!J.equals(P.anchor.path,D.anchor.path),R=!P||!J.equals(P.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(I&&u||R)&&(u=!1),(I||C())&&(s=setTimeout(p,qFt))}},j=()=>{(w()||!C())&&p()},k=D=>{C()||(g(!0),setTimeout(g))},T=()=>{w()||(a=setTimeout(p))},A=D=>{if(!(C()||w())&&D.some(I=>rN(t,I,D))){var P;(P=DAe.get(t))===null||P===void 0||P()}};return{flush:p,scheduleFlush:T,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:_,isFlushing:S,handleUserSelect:E,handleCompositionEnd:m,handleCompositionStart:v,handleDOMBeforeInput:b,handleKeyDown:k,handleDomMutations:A,handleInput:j}}function XFt(){var e=h.useRef(!1);return h.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var bw=SE?h.useLayoutEffect:h.useEffect;function QFt(e,t,n){var[r]=h.useState(()=>new MutationObserver(t));bw(()=>{r.takeRecords()}),h.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var JFt=["node"];function dee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function e4t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dee(Object(n),!0).forEach(function(r){Ja(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var t4t={subtree:!0,childList:!0,characterData:!0},n4t=As?e=>{var{node:t}=e,n=U0(e,JFt);if(!As)return null;var r=iu(),o=XFt(),[i]=h.useState(()=>ZFt(e4t({editor:r},n)));return QFt(t,i.handleDomMutations,t4t),tN.set(r,i.scheduleFlush),o&&i.flush(),i}:()=>null,r4t=["anchor","focus"],o4t=["anchor","focus"],i4t=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),FAe=(e,t)=>{var n=U0(e,r4t),r=U0(t,o4t);return e[W0]===t[W0]&&i4t(n,r)},s4t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!ue.equals(r,o)||!FAe(r,o))return!1}return!0},a4t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!FAe(r,o))return!1}return!0};function fee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function l4t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fee(Object(n),!0).forEach(function(r){Ja(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var c4t=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,i=iu(),s=pe.findPath(i,o),a=J.parent(s),l=!!n[PAe];return i.isVoid(r)?ne.createElement(x3,{length:Se.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!i.isInline(r)&&F.string(i,a)===""?ne.createElement(x3,{isLineBreak:!0,isMarkPlaceholder:l}):n.text===""?ne.createElement(x3,{isMarkPlaceholder:l}):t&&n.text.slice(-1)===`
`?ne.createElement(hee,{isTrailing:!0,text:n.text}):ne.createElement(hee,{text:n.text})},hee=e=>{var{text:t,isTrailing:n=!1}=e,r=h.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[i]=h.useState(o);return bw(()=>{var s=o();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),ne.createElement(u4t,{ref:r},i)},u4t=h.memo(h.forwardRef((e,t)=>ne.createElement("span",{"data-slate-string":!0,ref:t},e.children))),x3=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),ne.createElement("span",l4t({},o),!As||!n?"\uFEFF":null,n?ne.createElement("br",null):null)};function pee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function LAe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pee(Object(n),!0).forEach(function(r){Ja(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d4t(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function mee(e){e.current&&(clearTimeout(e.current),e.current=null)}var f4t=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:i,renderLeaf:s=b=>ne.createElement(p4t,LAe({},b))}=e,a=iu(),l=h.useRef(null),u=h.useRef(null),[d,f]=h.useState(!1),p=h.useRef(null),m=h.useCallback(b=>{if(d4t(l,b==null),b==null){var w;r4.delete(a),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(r4.set(a,b),!l.current){var C=window.ResizeObserver||pke;l.current=new C(()=>{var _;(_=t.onPlaceholderResize)===null||_===void 0||_.call(t,b)})}l.current.observe(b),u.current=b}},[u,t,a]),v=ne.createElement(c4t,{isLast:n,leaf:t,parent:o,text:r}),g=!!t[W0];if(h.useEffect(()=>(g?p.current||(p.current=setTimeout(()=>{f(!0),p.current=null},300)):(mee(p),f(!1)),()=>mee(p)),[g,f]),g&&d){var y={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Eb?"inherit":void 0},contentEditable:!1,ref:m}};v=ne.createElement(ne.Fragment,null,i(y),v)}var x={"data-slate-leaf":!0};return s({attributes:x,children:v,leaf:t,text:r})},h4t=ne.memo(f4t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&xe.equals(t.leaf,e.leaf)&&t.leaf[W0]===e.leaf[W0]),p4t=e=>{var{attributes:t,children:n}=e;return ne.createElement("span",LAe({},t),n)},m4t=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:i,text:s}=e,a=iu(),l=h.useRef(null),u=xe.decorations(s,t),d=pe.findKey(a,s),f=[],p=0;p<u.length;p++){var m=u[p];f.push(ne.createElement(h4t,{isLast:n&&p===u.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:m,text:s,parent:r,renderLeaf:i}))}var v=h.useCallback(g=>{var y=hD.get(a);g?(y==null||y.set(d,g),cm.set(s,g),yw.set(g,s)):(y==null||y.delete(d),cm.delete(s),l.current&&yw.delete(l.current)),l.current=g},[l,a,d,s]);return ne.createElement("span",{"data-slate-node":"text",ref:v},f)},BAe=ne.memo(m4t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&a4t(t.decorations,e.decorations));function gee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function c4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gee(Object(n),!0).forEach(function(r){Ja(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var g4t=e=>{var{decorations:t,element:n,renderElement:r=b=>ne.createElement(y4t,c4({},b)),renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=iu(),l=x4t(),u=a.isInline(n),d=pe.findKey(a,n),f=h.useCallback(b=>{var w=hD.get(a);b?(w==null||w.set(d,b),cm.set(n,b),yw.set(b,n)):(w==null||w.delete(d),cm.delete(n))},[a,d,n]),p=HAe({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&F.hasInlines(a,n)){var v=Se.string(n),g=hAe(v);g==="rtl"&&(m.dir=g)}if(F.isVoid(a,n)){m["data-slate-void"]=!0,!l&&u&&(m.contentEditable=!1);var y=u?"span":"div",[[x]]=Se.texts(n);p=ne.createElement(y,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},ne.createElement(BAe,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:x})),JB.set(x,0),eN.set(x,n)}return r({attributes:m,children:p,element:n})},v4t=ne.memo(g4t,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&s4t(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&ue.equals(e.selection,t.selection))),y4t=e=>{var{attributes:t,children:n,element:r}=e,o=iu(),i=o.isInline(r)?"span":"div";return ne.createElement(i,c4(c4({},t),{},{style:{position:"relative"}}),n)},NAe=h.createContext(()=>[]),b4t=()=>h.useContext(NAe),zAe=h.createContext(!1),VAe=()=>h.useContext(zAe),HAe=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=b4t(),l=iu(),u=pe.findPath(l,n),d=[],f=Ie.isElement(n)&&!l.isInline(n)&&F.hasInlines(l,n),p=0;p<n.children.length;p++){var m=u.concat(p),v=n.children[p],g=pe.findKey(l,v),y=F.range(l,m),x=s&&ue.intersection(y,s),b=a([v,m]);for(var w of t){var C=ue.intersection(w,y);C&&b.push(C)}Ie.isElement(v)?d.push(ne.createElement(zAe.Provider,{key:"provider-".concat(g.id),value:!!x},ne.createElement(v4t,{decorations:b,element:v,key:g.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:x}))):d.push(ne.createElement(BAe,{decorations:b,key:g.id,isLast:f&&p===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:v})),JB.set(v,p),eN.set(v,n)}return d},UAe=h.createContext(!1),x4t=()=>h.useContext(UAe),WAe=h.createContext(null),pD=()=>{var e=h.useContext(WAe);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function w4t(){var e=iu(),t=h.useRef(!1),n=h.useRef(0),r=h.useCallback(()=>{if(!t.current){t.current=!0;var o=pe.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return h.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var C4t=3,_4t={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},S4t={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},E4t={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},xr=e=>{var t=_4t[e],n=S4t[e],r=E4t[e],o=t&&b3(t),i=n&&b3(n),s=r&&b3(r);return a=>!!(o&&o(a)||aee&&i&&i(a)||!aee&&s&&s(a))},Dr={isBold:xr("bold"),isCompose:xr("compose"),isMoveBackward:xr("moveBackward"),isMoveForward:xr("moveForward"),isDeleteBackward:xr("deleteBackward"),isDeleteForward:xr("deleteForward"),isDeleteLineBackward:xr("deleteLineBackward"),isDeleteLineForward:xr("deleteLineForward"),isDeleteWordBackward:xr("deleteWordBackward"),isDeleteWordForward:xr("deleteWordForward"),isExtendBackward:xr("extendBackward"),isExtendForward:xr("extendForward"),isExtendLineBackward:xr("extendLineBackward"),isExtendLineForward:xr("extendLineForward"),isItalic:xr("italic"),isMoveLineBackward:xr("moveLineBackward"),isMoveLineForward:xr("moveLineForward"),isMoveWordBackward:xr("moveWordBackward"),isMoveWordForward:xr("moveWordForward"),isRedo:xr("redo"),isSoftBreak:xr("insertSoftBreak"),isSplitBlock:xr("splitBlock"),isTransposeCharacter:xr("transposeCharacter"),isUndo:xr("undo")},k4t=(e,t)=>{var n=[],r=()=>{n=[]},o=s=>{if(t.current){var a=s.filter(l=>rN(e,l,s));n.push(...a)}};function i(){n.length>0&&(n.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(a=>{s.target.insertBefore(a,s.nextSibling)}),s.addedNodes.forEach(a=>{s.target.removeChild(a)}))}),r())}return{registerMutations:o,restoreDOM:i,clear:r}},j4t={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class YAe extends h.Component{constructor(){super(...arguments),Ja(this,"context",null),Ja(this,"manager",null),Ja(this,"mutationObserver",null)}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,j4t)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=k4t(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var i;(i=this.manager)===null||i===void 0||i.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}Ja(YAe,"contextType",QB);var T4t=As?YAe:e=>{var{children:t}=e;return ne.createElement(ne.Fragment,null,t)},A4t=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],D4t=["text"];function vee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vee(Object(n),!0).forEach(function(r){Ja(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var P4t=e=>ne.createElement(ne.Fragment,null,HAe(e)),I4t=e=>{var t=h.useCallback(N=>ne.createElement(O4t,yc({},N)),[]),{autoFocus:n,decorate:r=$4t,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:a,renderLeaf:l,renderPlaceholder:u=t,scrollSelectionIntoView:d=R4t,style:f={},as:p="div",disableDefaultStyles:m=!1}=e,v=U0(e,A4t),g=pD(),[y,x]=h.useState(!1),b=h.useRef(null),w=h.useRef([]),[C,_]=h.useState(),{onUserInput:S,receivedUserInput:E}=w4t(),[,j]=h.useReducer(N=>N+1,0);DAe.set(g,j),o4.set(g,s);var k=h.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);h.useEffect(()=>{b.current&&n&&b.current.focus()},[n]);var T=h.useRef(),A=h.useMemo(()=>PA(()=>{var N=T.current;if((As||!pe.isComposing(g))&&(!k.isUpdatingSelection||N!=null&&N.isFlushing())&&!k.isDraggingInternally){var Y=pe.findDocumentOrShadowRoot(g),{activeElement:q}=Y,Z=pe.toDOMNode(g,g),ie=Y.getSelection();if(q===Z?(k.latestElement=q,Cf.set(g,!0)):Cf.delete(g),!ie)return se.deselect(g);var{anchorNode:re,focusNode:K}=ie,X=pe.hasEditableTarget(g,re)||pe.isTargetInsideNonReadonlyVoid(g,re),ce=pe.hasEditableTarget(g,K)||pe.isTargetInsideNonReadonlyVoid(g,K);if(X&&ce){var me=pe.toSlateRange(g,ie,{exactMatch:!1,suppressThrow:!0});me&&(!pe.isComposing(g)&&!(N!=null&&N.hasPendingChanges())&&!(N!=null&&N.isFlushing())?se.select(g,me):N==null||N.handleUserSelect(me))}s&&(!X||!ce)&&se.deselect(g)}},100),[g,s,k]),D=h.useMemo(()=>uC(A,0),[A]);T.current=n4t({node:b,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:D}),bw(()=>{var N,Y,q;b.current&&(q=nN(b.current))?(AAe.set(g,q),EE.set(g,b.current),cm.set(g,b.current),yw.set(b.current,g)):cm.delete(g);var{selection:Z}=g,ie=pe.findDocumentOrShadowRoot(g),re=ie.getSelection();if(!(!re||!pe.isFocused(g)||(N=T.current)!==null&&N!==void 0&&N.hasPendingAction())){var K=ae=>{var Ce=re.type!=="None";if(!(!Z&&!Ce)){var _e=re.focusNode,he;if(Ov&&re.rangeCount>1){var be=re.getRangeAt(0),Le=re.getRangeAt(re.rangeCount-1);be.startContainer===_e?he=Le.endContainer:he=be.startContainer}else he=re.anchorNode;var $e=EE.get(g),ct=!1;if($e.contains(he)&&$e.contains(_e)&&(ct=!0),Ce&&ct&&Z&&!ae){var ot=pe.toSlateRange(g,re,{exactMatch:!0,suppressThrow:!0});if(ot&&ue.equals(ot,Z)){var Nt;if(!k.hasMarkPlaceholder||(Nt=he)!==null&&Nt!==void 0&&(Nt=Nt.parentElement)!==null&&Nt!==void 0&&Nt.hasAttribute("data-slate-mark-placeholder"))return}}if(Z&&!pe.hasRange(g,Z)){g.selection=pe.toSlateRange(g,re,{exactMatch:!1,suppressThrow:!0});return}k.isUpdatingSelection=!0;var Rt=Z&&pe.toDOMRange(g,Z);return Rt?(pe.isComposing(g)&&!As?re.collapseToEnd():ue.isBackward(Z)?re.setBaseAndExtent(Rt.endContainer,Rt.endOffset,Rt.startContainer,Rt.startOffset):re.setBaseAndExtent(Rt.startContainer,Rt.startOffset,Rt.endContainer,Rt.endOffset),d(g,Rt)):re.removeAllRanges(),Rt}};re.rangeCount<=1&&K();var X=((Y=T.current)===null||Y===void 0?void 0:Y.isFlushing())==="action";if(!As||!X){setTimeout(()=>{k.isUpdatingSelection=!1});return}var ce=null,me=requestAnimationFrame(()=>{if(X){var ae=Ce=>{try{var _e=pe.toDOMNode(g,g);_e.focus(),K(Ce)}catch{}};ae(),ce=setTimeout(()=>{ae(!0),k.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(me),ce&&clearTimeout(ce)}}});var P=h.useCallback(N=>{if(S(),!s&&pe.hasEditableTarget(g,N.target)&&!M4t(N,o)){var Y;if(T.current)return T.current.handleDOMBeforeInput(N);D.flush(),A.flush();var{selection:q}=g,{inputType:Z}=N,ie=N.dataTransfer||N.data||void 0,re=Z==="insertCompositionText"||Z==="deleteCompositionText";if(re&&pe.isComposing(g))return;var K=!1;if(Z==="insertText"&&q&&ue.isCollapsed(q)&&N.data&&N.data.length===1&&/[a-z ]/i.test(N.data)&&q.anchor.offset!==0){var X,ce;K=!0,g.marks&&(K=!1);var{anchor:me}=q,[ae,Ce]=pe.toDOMPoint(g,me),_e=(X=ae.parentElement)===null||X===void 0?void 0:X.closest("a"),he=pe.getWindow(g);if(K&&_e&&pe.hasDOMNode(g,_e)){var be,Le=he==null?void 0:he.document.createTreeWalker(_e,NodeFilter.SHOW_TEXT).lastChild();Le===ae&&((be=Le.textContent)===null||be===void 0?void 0:be.length)===Ce&&(K=!1)}if(K&&ae.parentElement&&(he==null||(ce=he.getComputedStyle(ae.parentElement))===null||ce===void 0?void 0:ce.whiteSpace)==="pre"){var $e=F.above(g,{at:me.path,match:Ge=>Ie.isElement(Ge)&&F.isBlock(g,Ge)});$e&&Se.string($e[0]).includes("	")&&(K=!1)}}if(!Z.startsWith("delete")||Z.startsWith("deleteBy")){var[ct]=N.getTargetRanges();if(ct){var ot=pe.toSlateRange(g,ct,{exactMatch:!1,suppressThrow:!1});if(!q||!ue.equals(q,ot)){K=!1;var Nt=!re&&g.selection&&F.rangeRef(g,g.selection);se.select(g,ot),Nt&&hx.set(g,Nt)}}}if(re)return;if(K||N.preventDefault(),q&&ue.isExpanded(q)&&Z.startsWith("delete")){var Rt=Z.endsWith("Backward")?"backward":"forward";F.deleteFragment(g,{direction:Rt});return}switch(Z){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{F.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{F.deleteForward(g);break}case"deleteContentBackward":{F.deleteBackward(g);break}case"deleteEntireSoftLine":{F.deleteBackward(g,{unit:"line"}),F.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{F.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{F.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{F.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{F.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{F.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{F.deleteForward(g,{unit:"word"});break}case"insertLineBreak":F.insertSoftBreak(g);break;case"insertParagraph":{F.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Z==="insertFromComposition"&&pe.isComposing(g)&&(x(!1),zp.set(g,!1)),(ie==null?void 0:ie.constructor.name)==="DataTransfer"?pe.insertData(g,ie):typeof ie=="string"&&(K?w.current.push(()=>F.insertText(g,ie)):F.insertText(g,ie));break}}var Ae=(Y=hx.get(g))===null||Y===void 0?void 0:Y.unref();hx.delete(g),Ae&&(!g.selection||!ue.equals(g.selection,Ae))&&se.select(g,Ae)}},[g,A,S,o,s,D]),I=h.useCallback(N=>{N==null?(A.cancel(),D.cancel(),EE.delete(g),cm.delete(g),b.current&&Wd&&b.current.removeEventListener("beforeinput",P)):Wd&&N.addEventListener("beforeinput",P),b.current=N},[A,D,g,P]);bw(()=>{var N=pe.getWindow(g);return N.document.addEventListener("selectionchange",D),()=>{N.document.removeEventListener("selectionchange",D)}},[D]);var R=r([g,[]]),O=i&&g.children.length===1&&Array.from(Se.texts(g)).length===1&&Se.string(g)===""&&!y,V=h.useCallback(N=>{if(N&&O){var Y;_((Y=N.getBoundingClientRect())===null||Y===void 0?void 0:Y.height)}else _(void 0)},[O]);if(O){var B=F.start(g,[]);R.push({[W0]:!0,placeholder:i,onPlaceholderResize:V,anchor:B,focus:B})}var{marks:H}=g;if(k.hasMarkPlaceholder=!1,g.selection&&ue.isCollapsed(g.selection)&&H){var{anchor:W}=g.selection,z=Se.leaf(g,W.path),G=U0(z,D4t);if(!xe.equals(z,H,{loose:!0})){k.hasMarkPlaceholder=!0;var ee=Object.fromEntries(Object.keys(G).map(N=>[N,null]));R.push(yc(yc(yc({[PAe]:!0},ee),H),{},{anchor:W,focus:W}))}}return h.useEffect(()=>{setTimeout(()=>{var{selection:N}=g;if(N){var{anchor:Y}=N,q=Se.leaf(g,Y.path);if(H&&!xe.equals(q,H,{loose:!0})){Fl.set(g,H);return}}Fl.delete(g)})}),ne.createElement(UAe.Provider,{value:s},ne.createElement(NAe.Provider,{value:r},ne.createElement(T4t,{node:b,receivedUserInput:E},ne.createElement(p,yc(yc({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},v),{},{spellCheck:Wd||!SE?v.spellCheck:!1,autoCorrect:Wd||!SE?v.autoCorrect:"false",autoCapitalize:Wd||!SE?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:I,style:yc(yc({},m?{}:yc({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},C?{minHeight:C}:{})),f),onBeforeInput:h.useCallback(N=>{if(!Wd&&!s&&!Qi(N,v.onBeforeInput)&&pe.hasSelectableTarget(g,N.target)&&(N.preventDefault(),!pe.isComposing(g))){var Y=N.data;F.insertText(g,Y)}},[v.onBeforeInput,g,s]),onInput:h.useCallback(N=>{if(!Qi(N,v.onInput)){if(T.current){T.current.handleInput();return}for(var Y of w.current)Y();w.current=[]}},[v.onInput]),onBlur:h.useCallback(N=>{if(!(s||k.isUpdatingSelection||!pe.hasSelectableTarget(g,N.target)||Qi(N,v.onBlur))){var Y=pe.findDocumentOrShadowRoot(g);if(k.latestElement!==Y.activeElement){var{relatedTarget:q}=N,Z=pe.toDOMNode(g,g);if(q!==Z&&!(Ya(q)&&q.hasAttribute("data-slate-spacer"))){if(q!=null&&vh(q)&&pe.hasDOMNode(g,q)){var ie=pe.toSlateNode(g,q);if(Ie.isElement(ie)&&!g.isVoid(ie))return}if(Eb){var re=Y.getSelection();re==null||re.removeAllRanges()}Cf.delete(g)}}}},[s,k.isUpdatingSelection,k.latestElement,g,v.onBlur]),onClick:h.useCallback(N=>{if(pe.hasTarget(g,N.target)&&!Qi(N,v.onClick)&&vh(N.target)){var Y=pe.toSlateNode(g,N.target),q=pe.findPath(g,Y);if(!F.hasPath(g,q)||Se.get(g,q)!==Y)return;if(N.detail===C4t&&q.length>=1){var Z=q;if(!(Ie.isElement(Y)&&F.isBlock(g,Y))){var ie,re=F.above(g,{match:_e=>Ie.isElement(_e)&&F.isBlock(g,_e),at:q});Z=(ie=re==null?void 0:re[1])!==null&&ie!==void 0?ie:q.slice(0,1)}var K=F.range(g,Z);se.select(g,K);return}if(s)return;var X=F.start(g,q),ce=F.end(g,q),me=F.void(g,{at:X}),ae=F.void(g,{at:ce});if(me&&ae&&J.equals(me[1],ae[1])){var Ce=F.range(g,X);se.select(g,Ce)}}},[g,v.onClick,s]),onCompositionEnd:h.useCallback(N=>{if(pe.hasSelectableTarget(g,N.target)){var Y;if(pe.isComposing(g)&&(x(!1),zp.set(g,!1)),(Y=T.current)===null||Y===void 0||Y.handleCompositionEnd(N),Qi(N,v.onCompositionEnd)||As)return;if(!Eb&&!jFt&&!_Ft&&!AFt&&!TFt&&N.data){var q=Fl.get(g);Fl.delete(g),q!==void 0&&(Mu.set(g,g.marks),g.marks=q),F.insertText(g,N.data);var Z=Mu.get(g);Mu.delete(g),Z!==void 0&&(g.marks=Z)}}},[v.onCompositionEnd,g]),onCompositionUpdate:h.useCallback(N=>{pe.hasSelectableTarget(g,N.target)&&!Qi(N,v.onCompositionUpdate)&&(pe.isComposing(g)||(x(!0),zp.set(g,!0)))},[v.onCompositionUpdate,g]),onCompositionStart:h.useCallback(N=>{if(pe.hasSelectableTarget(g,N.target)){var Y;if((Y=T.current)===null||Y===void 0||Y.handleCompositionStart(N),Qi(N,v.onCompositionStart)||As)return;x(!0);var{selection:q}=g;if(q){if(ue.isExpanded(q)){F.deleteFragment(g);return}var Z=F.above(g,{match:K=>Ie.isElement(K)&&F.isInline(g,K),mode:"highest"});if(Z){var[,ie]=Z;if(F.isEnd(g,q.anchor,ie)){var re=F.after(g,ie);se.setSelection(g,{anchor:re,focus:re})}}}}},[v.onCompositionStart,g]),onCopy:h.useCallback(N=>{pe.hasSelectableTarget(g,N.target)&&!Qi(N,v.onCopy)&&!yee(N)&&(N.preventDefault(),pe.setFragmentData(g,N.clipboardData,"copy"))},[v.onCopy,g]),onCut:h.useCallback(N=>{if(!s&&pe.hasSelectableTarget(g,N.target)&&!Qi(N,v.onCut)&&!yee(N)){N.preventDefault(),pe.setFragmentData(g,N.clipboardData,"cut");var{selection:Y}=g;if(Y)if(ue.isExpanded(Y))F.deleteFragment(g);else{var q=Se.parent(g,Y.anchor.path);F.isVoid(g,q)&&se.delete(g)}}},[s,g,v.onCut]),onDragOver:h.useCallback(N=>{if(pe.hasTarget(g,N.target)&&!Qi(N,v.onDragOver)){var Y=pe.toSlateNode(g,N.target);Ie.isElement(Y)&&F.isVoid(g,Y)&&N.preventDefault()}},[v.onDragOver,g]),onDragStart:h.useCallback(N=>{if(!s&&pe.hasTarget(g,N.target)&&!Qi(N,v.onDragStart)){var Y=pe.toSlateNode(g,N.target),q=pe.findPath(g,Y),Z=Ie.isElement(Y)&&F.isVoid(g,Y)||F.void(g,{at:q,voids:!0});if(Z){var ie=F.range(g,q);se.select(g,ie)}k.isDraggingInternally=!0,pe.setFragmentData(g,N.dataTransfer,"drag")}},[s,g,v.onDragStart,k]),onDrop:h.useCallback(N=>{if(!s&&pe.hasTarget(g,N.target)&&!Qi(N,v.onDrop)){N.preventDefault();var Y=g.selection,q=pe.findEventRange(g,N),Z=N.dataTransfer;se.select(g,q),k.isDraggingInternally&&Y&&!ue.equals(Y,q)&&!F.void(g,{at:q,voids:!0})&&se.delete(g,{at:Y}),pe.insertData(g,Z),pe.isFocused(g)||pe.focus(g)}k.isDraggingInternally=!1},[s,g,v.onDrop,k]),onDragEnd:h.useCallback(N=>{!s&&k.isDraggingInternally&&v.onDragEnd&&pe.hasTarget(g,N.target)&&v.onDragEnd(N),k.isDraggingInternally=!1},[s,k,v,g]),onFocus:h.useCallback(N=>{if(!s&&!k.isUpdatingSelection&&pe.hasEditableTarget(g,N.target)&&!Qi(N,v.onFocus)){var Y=pe.toDOMNode(g,g),q=pe.findDocumentOrShadowRoot(g);if(k.latestElement=q.activeElement,Ov&&N.target!==Y){Y.focus();return}Cf.set(g,!0)}},[s,k,g,v.onFocus]),onKeyDown:h.useCallback(N=>{if(!s&&pe.hasEditableTarget(g,N.target)){var Y;(Y=T.current)===null||Y===void 0||Y.handleKeyDown(N);var{nativeEvent:q}=N;if(pe.isComposing(g)&&q.isComposing===!1&&(zp.set(g,!1),x(!1)),Qi(N,v.onKeyDown)||pe.isComposing(g))return;var{selection:Z}=g,ie=g.children[Z!==null?Z.focus.path[0]:0],re=hAe(Se.string(ie))==="rtl";if(Dr.isRedo(q)){N.preventDefault();var K=g;typeof K.redo=="function"&&K.redo();return}if(Dr.isUndo(q)){N.preventDefault();var X=g;typeof X.undo=="function"&&X.undo();return}if(Dr.isMoveLineBackward(q)){N.preventDefault(),se.move(g,{unit:"line",reverse:!0});return}if(Dr.isMoveLineForward(q)){N.preventDefault(),se.move(g,{unit:"line"});return}if(Dr.isExtendLineBackward(q)){N.preventDefault(),se.move(g,{unit:"line",edge:"focus",reverse:!0});return}if(Dr.isExtendLineForward(q)){N.preventDefault(),se.move(g,{unit:"line",edge:"focus"});return}if(Dr.isMoveBackward(q)){N.preventDefault(),Z&&ue.isCollapsed(Z)?se.move(g,{reverse:!re}):se.collapse(g,{edge:"start"});return}if(Dr.isMoveForward(q)){N.preventDefault(),Z&&ue.isCollapsed(Z)?se.move(g,{reverse:re}):se.collapse(g,{edge:"end"});return}if(Dr.isMoveWordBackward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)&&se.collapse(g,{edge:"focus"}),se.move(g,{unit:"word",reverse:!re});return}if(Dr.isMoveWordForward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)&&se.collapse(g,{edge:"focus"}),se.move(g,{unit:"word",reverse:re});return}if(Wd){if((TAe||Eb)&&Z&&(Dr.isDeleteBackward(q)||Dr.isDeleteForward(q))&&ue.isCollapsed(Z)){var ce=Se.parent(g,Z.anchor.path);if(Ie.isElement(ce)&&F.isVoid(g,ce)&&(F.isInline(g,ce)||F.isBlock(g,ce))){N.preventDefault(),F.deleteBackward(g,{unit:"block"});return}}}else{if(Dr.isBold(q)||Dr.isItalic(q)||Dr.isTransposeCharacter(q)){N.preventDefault();return}if(Dr.isSoftBreak(q)){N.preventDefault(),F.insertSoftBreak(g);return}if(Dr.isSplitBlock(q)){N.preventDefault(),F.insertBreak(g);return}if(Dr.isDeleteBackward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g);return}if(Dr.isDeleteForward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g);return}if(Dr.isDeleteLineBackward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g,{unit:"line"});return}if(Dr.isDeleteLineForward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g,{unit:"line"});return}if(Dr.isDeleteWordBackward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g,{unit:"word"});return}if(Dr.isDeleteWordForward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g,{unit:"word"});return}}}},[s,g,v.onKeyDown]),onPaste:h.useCallback(N=>{!s&&pe.hasEditableTarget(g,N.target)&&!Qi(N,v.onPaste)&&(!Wd||IFt(N.nativeEvent)||Eb)&&(N.preventDefault(),pe.insertData(g,N.clipboardData))},[s,g,v.onPaste])}),ne.createElement(P4t,{decorations:R,node:g,renderElement:a,renderPlaceholder:u,renderLeaf:l,selection:g.selection})))))},O4t=e=>{var{attributes:t,children:n}=e;return ne.createElement("span",yc({},t),n,As&&ne.createElement("br",null))},$4t=()=>[],R4t=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&ue.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),V0(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Qi=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},yee=e=>vh(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),M4t=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},F4t=h.createContext(!1),L4t=h.createContext({});function B4t(e){var t=h.useRef([]).current,n=h.useRef({editor:e}).current,r=h.useCallback(i=>{n.editor=i,t.forEach(s=>s(i))},[t,n]),o=h.useMemo(()=>({getSlate:()=>n.editor,addEventListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var N4t=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],z4t=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:o,onValueChange:i,initialValue:s}=e,a=U0(e,N4t),[l,u]=ne.useState(()=>{if(!Se.isNodeList(s))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Wo.stringify(s)));if(!F.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(Wo.stringify(t)));return t.children=s,Object.assign(t,a),{v:0,editor:t}}),{selectorContext:d,onChange:f}=B4t(t),p=h.useCallback(g=>{var y;switch(r&&r(t.children),g==null||(y=g.operation)===null||y===void 0?void 0:y.type){case"set_selection":o==null||o(t.selection);break;default:i==null||i(t.children)}u(x=>({v:x.v+1,editor:t})),f(t)},[t,f,r,o,i]);h.useEffect(()=>(i4.set(t,p),()=>{i4.set(t,()=>{})}),[t,p]);var[m,v]=h.useState(pe.isFocused(t));return h.useEffect(()=>{v(pe.isFocused(t))},[t]),bw(()=>{var g=()=>v(pe.isFocused(t));return jAe>=17?(document.addEventListener("focusin",g),document.addEventListener("focusout",g),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",g)}):(document.addEventListener("focus",g,!0),document.addEventListener("blur",g,!0),()=>{document.removeEventListener("focus",g,!0),document.removeEventListener("blur",g,!0)})},[]),ne.createElement(L4t.Provider,{value:d},ne.createElement(WAe.Provider,{value:l},ne.createElement(QB.Provider,{value:l.editor},ne.createElement(F4t.Provider,{value:m},n))))},bee=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},xee=(e,t,n)=>{var r=pe.toDOMRange(e,t).getBoundingClientRect(),o=pe.toDOMRange(e,n).getBoundingClientRect();return bee(r,o)&&bee(o,r)},V4t=(e,t)=>{var n=F.range(e,ue.end(t)),r=Array.from(F.positions(e,{at:t})),o=0,i=r.length,s=Math.floor(i/2);if(xee(e,F.range(e,r[o]),n))return F.range(e,r[o],n);if(r.length<2)return F.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)xee(e,F.range(e,r[s]),n)?i=s:o=s,s=Math.floor((o+i)/2);return F.range(e,r[i],n)};function wee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Cee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wee(Object(n),!0).forEach(function(r){Ja(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var H4t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:i,deleteBackward:s,addMark:a,removeMark:l}=r;return hD.set(r,new WeakMap),r.addMark=(u,d)=>{var f,p;(f=tN.get(r))===null||f===void 0||f(),!Fl.get(r)&&(p=Ss.get(r))!==null&&p!==void 0&&p.length&&Fl.set(r,null),Mu.delete(r),a(u,d)},r.removeMark=u=>{var d;!Fl.get(r)&&(d=Ss.get(r))!==null&&d!==void 0&&d.length&&Fl.set(r,null),Mu.delete(r),l(u)},r.deleteBackward=u=>{if(u!=="line")return s(u);if(r.selection&&ue.isCollapsed(r.selection)){var d=F.above(r,{match:v=>Ie.isElement(v)&&F.isBlock(r,v),at:r.selection});if(d){var[,f]=d,p=F.range(r,f,r.selection.anchor),m=V4t(r,p);ue.isCollapsed(m)||se.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=[],p=Ss.get(r);if(p!=null&&p.length){var m=p.map(I=>WFt(I,u)).filter(Boolean);Ss.set(r,m)}var v=sf.get(r);v&&sf.set(r,cee(r,v,u));var g=of.get(r);if(g!=null&&g.at){var y=It.isPoint(g==null?void 0:g.at)?l4(r,g.at,u):cee(r,g.at,u);of.set(r,y?Cee(Cee({},g),{},{at:y}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...Bg(r,u.path));break}case"set_selection":{var x;(x=hx.get(r))===null||x===void 0||x.unref(),hx.delete(r);break}case"insert_node":case"remove_node":{d.push(...Bg(r,J.parent(u.path)));break}case"merge_node":{var b=J.previous(u.path);d.push(...Bg(r,b));break}case"move_node":{var w=J.common(J.parent(u.path),J.parent(u.newPath));d.push(...Bg(r,w));var C;J.isBefore(u.path,u.newPath)?(d.push(...Bg(r,J.parent(u.path))),C=u.newPath):(d.push(...Bg(r,J.parent(u.newPath))),C=u.path);var _=Se.get(t,J.parent(C)),S=pe.findKey(r,_),E=F.pathRef(r,J.parent(C));f.push([E,S]);break}}o(u);for(var[j,k]of d){var[T]=F.node(r,j);q5.set(T,k)}for(var[A,D]of f)if(A.current){var[P]=F.node(r,A.current);q5.set(P,D)}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,p]=ue.edges(d),m=F.void(r,{at:f.path}),v=F.void(r,{at:p.path});if(!(ue.isCollapsed(d)&&!m)){var g=pe.toDOMRange(r,d),y=g.cloneContents(),x=y.childNodes[0];if(y.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(x=T)}),v){var[b]=v,w=g.cloneRange(),C=pe.toDOMNode(r,b);w.setEndAfter(C),y=w.cloneContents()}if(m&&(x=y.querySelector("[data-slate-spacer]")),Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),IAe(x)){var _=x.ownerDocument.createElement("span");_.style.whiteSpace="pre",_.appendChild(x),y.appendChild(_),x=_}var S=r.getFragment(),E=JSON.stringify(S),j=window.btoa(encodeURIComponent(E));x.setAttribute("data-slate-fragment",j),u.setData("application/".concat(n),j);var k=y.ownerDocument.createElement("div");return k.appendChild(y),k.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(k),u.setData("text/html",k.innerHTML),u.setData("text/plain",$Ae(k)),y.ownerDocument.body.removeChild(k),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||FFt(u);if(d){var f=decodeURIComponent(window.atob(d)),p=JSON.parse(f);return r.insertFragment(p),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),p=!1;for(var m of f)p&&se.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=u=>{var d=jAe<18?YKe.unstable_batchedUpdates:f=>f();d(()=>{var f=i4.get(r);f&&f(u),i(u)})},r},Bg=(e,t)=>{var n=[];for(var[r,o]of F.levels(e,{at:t})){var i=pe.findKey(e,r);n.push([o,i])}return n},U4t=Lbe,_ee=1/0,W4t=17976931348623157e292;function Y4t(e){if(!e)return e===0?e:0;if(e=U4t(e),e===_ee||e===-_ee){var t=e<0?-1:1;return t*W4t}return e===e?e:0}var qAe=Y4t,q4t=qAe;function G4t(e){var t=q4t(e),n=t%1;return t===t?n?t-n:t:0}var K4t=G4t,Z4t=Mke,X4t=Oh,Q4t=K4t,J4t=Math.max;function eLt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:Q4t(n);return o<0&&(o=J4t(r+o,0)),Z4t(e,X4t(t),o)}var GAe=eLt;const oN=Pe(GAe);var tLt=pB,nLt=4;function rLt(e){return tLt(e,nLt)}var oLt=rLt;const KAe=Pe(oLt);function kE(e){return!!e&&(typeof e=="object"||typeof e=="function")}function G5(e){return kE(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>kE(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>kE(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function w3(e){return kE(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function md(e){return!!e&&(typeof e=="object"||typeof e=="function")}function See(e){return md(e)?e.jsonType==="object":!1}function iLt(e){return md(e)?e.jsonType==="array":!1}function sLt(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function aLt(e){return md(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function lLt(e){if(!md(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(f4),n=e.fields.find(u4),r=e.fields.find(d4);return f4(t)&&u4(n)&&d4(r)}function u4(e){return!md(e)||e.name!=="style"?!1:md(e.type)&&e.type.jsonType==="string"}function d4(e){return!md(e)||e.name!=="listItem"?!1:md(e.type)&&e.type.jsonType==="string"}function f4(e){return!md(e)||e.name!=="children"||!iLt(e.type)?!1:e.type.of.some(aLt)}function iN(e){return e.type?iN(e.type):e.name==="block"}function cLt(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(iN);if(!lLt(r))throw new Error("'block' type is not defined in this schema (required).");const o=(n=(t=r.fields.find(f4))==null?void 0:t.type)==null?void 0:n.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const i=o.find(l=>l.name==="span");if(!i)throw new Error("No `span` type found in `block` schema type `children` definition");const s=o.filter(l=>l.name!=="span"&&See(l)),a=e.of.filter(l=>l.name!==r.name&&See(l));return{styles:uLt(r),decorators:fLt(i),annotations:dLt(i),lists:hLt(r),types:{block:e,span:i,inlineObjects:s,blockObjects:a}}}function uLt(e){const t=e.fields.find(u4);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=ZAe(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function dLt(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function fLt(e){return e.decorators}function hLt(e){const t=e.fields.find(d4);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=ZAe(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function ZAe(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>sLt(n)?n:{title:n,value:n}):[]}const pLt=Object.prototype.toString;function XAe(e){switch(pLt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function mLt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return VB(t),t}const QAe=[];for(let e=0;e<256;++e)QAe[e]=(e+256).toString(16).substring(1);function h4(e){return mLt(e).reduce((t,n)=>t+QAe[n],"").slice(0,e)}const gLt=["pre","textarea","code"],Y0="normal",js=Object.freeze({_type:"block",markDefs:[],style:Y0}),jE=Object.freeze({_type:"span",marks:[]}),K5={p:js,blockquote:{...js,style:"blockquote"}},JAe={span:{object:"text"}},Z5={ol:{object:null},ul:{object:null}},X5={h1:{...js,style:"h1"},h2:{...js,style:"h2"},h3:{...js,style:"h3"},h4:{...js,style:"h4"},h5:{...js,style:"h5"},h6:{...js,style:"h6"}},vLt={br:{...js,style:Y0}},eDe={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},tDe={li:{...js,style:Y0,level:1,listItem:"bullet"}},yLt={...K5,...JAe,...Z5,...tDe,...X5,...vLt};wo(Object.values(yLt).filter(e=>"style"in e).map(e=>e.style));wo(Object.values(eDe));const Rm={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var bLt=(e,t)=>{function n(r){var o,i;if(r.nodeType===Rm.BOOLEAN_TYPE&&!gLt.includes(((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())||""))r.textContent=((i=r.textContent)==null?void 0:i.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let s=0;s<r.childNodes.length;s++)n(r.childNodes[s])}return n(t.body),t};const xLt=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var wLt=(e,t)=>{var n,r,o;const i=t.evaluate("/html/body/text()",t,null,Rm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const l=i.snapshotItem(a),u=l.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(n=l.parentNode)==null||n.replaceChild(d,l)}else(r=l.parentNode)==null||r.removeChild(l)}const s=t.evaluate(xLt.join("|"),t,null,Rm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const l=s.snapshotItem(a);l&&((o=l.parentNode)==null||o.removeChild(l))}return t};const CLt=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,_Lt=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],SLt=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],ELt={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function kLt(e){return CLt.test(e)}var jLt=(e,t)=>{var n;if(!kLt(e))return t;const r=t.evaluate(_Lt.join("|"),t,i=>i==="o"?"urn:schemas-microsoft-com:office:office":null,Rm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const s=r.snapshotItem(i);s!=null&&s.parentNode&&s.parentNode.removeChild(s)}const o=t.evaluate(SLt.join("|"),t,null,Rm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i),a=ELt[s.className],l=new Text(s.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(p=>{f=document.createElement(p),d.appendChild(f),d=f}),f.appendChild(l),(n=s==null?void 0:s.parentNode)==null||n.replaceChild(u,s)}return t},TLt=(e,t)=>{var n;const r=t.evaluate('//b[contains(@id, "docs-internal-guid")]',t,null,Rm.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(r){const o=t.evaluate("//*",t,null,Rm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i);s==null||s.setAttribute("data-is-google-docs","true")}return(n=t.body.firstElementChild)==null||n.replaceWith(...Array.from(r.childNodes)),t}return t},ALt=[bLt,jLt,TLt,wLt];function DLt(e){const t=cLt(e),n=t.styles.map(s=>s.value||s.title),r=t.decorators.map(s=>s.value||s.title),o=t.annotations.map(s=>s.value||s.title||""),i=t.lists.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:o,enabledListTypes:i}}function Pr(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function PLt(e,t){const n=t(ILt(e));return ALt.forEach(r=>{r(e,n)}),n}function ILt(e){return e.trim()}function OLt(){if(XAe(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function $Lt(e){let t=0;const n=[],r=o=>{const i=[];o.forEach(s=>{t===0&&n.push(s),G5(s)&&(t>0&&(i.push(s),n.push(s)),t++,r(s.children)),s._type==="__block"&&(i.push(s),n.push(s.block))}),i.forEach(s=>{o.splice(o.indexOf(s),1)}),t--};return r(e),n}function RLt(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function MLt(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function Eee(e){return[" "," "].includes(e)}function FLt(e){return e.forEach(t=>{G5(t)&&t.children.forEach((n,r)=>{if(!o0(n))return;const o=RLt(t,r),i=MLt(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&o&&o0(o)&&/\s/.test(o.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&i&&o0(i)&&/\s/.test(i.text.substring(i.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),i&&Wt(i.marks,n.marks)&&Eee(n.text)?(i.text+=" ",t.children.splice(r,1)):o&&Wt(o.marks,n.marks)&&Eee(n.text)&&(o.text=" ".concat(o.text),t.children.splice(r,1))})}),e}function LLt(e){return e.reduce((t,n,r,o)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const i=t[t.length-1];if(r>0&&!G5(o[r-1])&&G5(i))return i.children.push(n),t;const s={...js,children:[n]};return t.push(s),t},[])}function BLt(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function o0(e){return e._type==="span"}function kee(e){return e._type==="block"}function jee(e){return e._type==="__decorator"}function Tee(e){return e._type==="__annotation"}function Fh(e){return e.nodeType===1}function NLt(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function zLt(e,t){return[{deserialize(n){if(Pr(n)==="pre")return;const o=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&Pr(n.parentNode)!=="body";if(n.nodeName==="#text"&&o)return{...jE,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(Pr(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...jE,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(Pr(n)!=="blockquote")return;const o={...K5,...X5};delete o.blockquote;const i=[];return n.childNodes.forEach((s,a)=>{if(s.nodeType===1&&Object.keys(o).includes(s.localName.toLowerCase())){if(!n.ownerDocument)return;const l=n.ownerDocument.createElement("span");l.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(u=>{l.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&l.appendChild(n.ownerDocument.createTextNode("\r")),i.push(l)}else i.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(i)}}},{deserialize(n,r){const o={...K5,...X5},i=Pr(n);let s=i?o[i]:void 0;if(s)return n.parentNode&&Pr(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(s.style)||(s=js),{...s,children:r(n.childNodes)})}},{deserialize(n,r){const o=Pr(n);if(!(!o||!(o in JAe)))return r(n.childNodes)}},{deserialize(n,r){if(Pr(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const o=Pr(n);if(!(!o||!(o in Z5)))return r(n.childNodes)}},{deserialize(n){if(Pr(n)==="br")return{...jE,text:`
`}}},{deserialize(n,r,o){const i=Pr(n),s=i?tDe[i]:void 0,a=Pr(n.parentNode)||"";if(!s||!n.parentNode||!Z5[a])return;const l=NLt(a,t.enabledListTypes);return l?(s.listItem=l,{...s,children:r(n.childNodes)}):o({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const o=eDe[Pr(n)||""];if(!(!o||!t.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:r(n.childNodes)}}},{deserialize(n,r){if(Pr(n)!="a")return;const o=t.enabledBlockAnnotations.includes("link"),i=Fh(n)&&n.getAttribute("href");if(!i)return r(n.childNodes);let s;return o?(s={_key:h4(12),_type:"link",href:i},{_type:"__annotation",markDef:s,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(i,")")))&&r(n.childNodes)}}]}const nDe=Object.keys(Z5);function VLt(e){const t=Fh(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function HLt(e){const t=Fh(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")}function Aee(e){return Fh(e)&&!!e.getAttribute("data-is-google-docs")}function ULt(e){const t=Pr(e.parentNode);if(!(t&&!nDe.includes(t)))return Pr(e.parentNode)==="ul"?"bullet":"number"}function WLt(e){let t=0;if(Pr(e)==="li"){let n=e.parentNode;for(;n;){const r=Pr(n);r&&nDe.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const YLt={...K5,...X5};function qLt(e,t){const n=Pr(e.firstChild),r=n&&YLt[n];return!r||!t.includes(r.style)?Y0:r.style}function GLt(e,t){return[{deserialize(n){if(Fh(n)&&Pr(n)==="span"&&Aee(n)){const r={...jE,marks:[],text:n.textContent};return HLt(n)&&r.marks.push("strong"),VLt(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var o;if(Pr(n)==="li"&&Aee(n))return{...js,listItem:ULt(n),level:WLt(n),style:qLt(n,t.enabledBlockStyles),children:r(((o=n.firstChild)==null?void 0:o.childNodes)||[])}}}]}function KLt(e){const t=Fh(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function ZLt(e){const t=Fh(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function XLt(e){return Fh(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function QLt(){return[{deserialize(e,t){if(Pr(e)==="p"&&XLt(e))return{...js,listItem:KLt(e),level:ZLt(e),style:Y0,children:t(e.childNodes)}}}]}function JLt(e,t){return[...QLt(),...GLt(e,t),...zLt(e,t)]}class e6t{constructor(t){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._markDefs=[],this.deserialize=a=>{this._markDefs=[];const{parseHtml:l}=this,u=l(a),d=Array.from(u.childNodes),f=FLt($Lt(LLt(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(v=>$n(m.children.map(g=>g.marks||[])).includes(v._key)))});const p=this.blockContentType.of.find(iN);return p?f.map(m=>(m._type==="block"&&(m._type=p.name),m)):f},this.deserializeElements=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=[];return a.forEach(u=>{l=l.concat(n.deserializeElement(u))}),l},this.deserializeElement=a=>{var l,u;const d=m=>{if(BLt(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},f=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const v=this.rules[m];if(!v.deserialize)continue;const g=v.deserialize(a,d,f),y=XAe(g);if(y!=="array"&&y!=="object"&&y!=="null"&&y!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(p,'".'));if(g!==void 0){{if(g===null)throw new Error("Deserializer rule returned `null`");Array.isArray(g)?p=g:jee(g)?p=this.deserializeDecorator(g):Tee(g)?p=this.deserializeAnnotation(g):p=g}if(g&&!Array.isArray(g)&&kee(g)&&"listItem"in g){let x=(l=a.parentNode)==null?void 0:l.parentNode;for(;x&&Pr(x)==="li";)x=(u=x.parentNode)==null?void 0:u.parentNode,g.level=g.level?g.level+1:1}g&&!Array.isArray(g)&&kee(g)&&g.style==="blockquote"&&g.children.forEach((x,b)=>{o0(x)&&x.text==="\r"&&(x.text=`

`,(b===0||b===g.children.length-1)&&g.children.splice(b,1))});break}}return p||d(a.childNodes)||[]},this.deserializeDecorator=a=>{const{name:l}=a,u=d=>{if(jee(d))return this.deserializeDecorator(d);if(o0(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(l);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])},this.deserializeAnnotation=a=>{const{markDef:l}=a;this._markDefs.push(l);const u=d=>{if(Tee(d))return this.deserializeAnnotation(d);if(o0(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(l._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])};const{rules:o=[]}=r;if(!t)throw new Error("Parameter 'blockContentType' is required");const i=JLt(t,DLt(t));this.rules=[...o,...i];const s=r.parseHtml||OLt();this.blockContentType=t,this.parseHtml=a=>PLt(a,s).body}}function xw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:h4(12)};const n={_key:h4(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const o=[],i=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((s,a)=>{const l=s[s.length-1];return l&&w3(a)&&w3(l)&&Wt(l.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(l.text+=a.text),s):(s.push(a),s)},[]).map((s,a)=>{if(!s)throw new Error("missing child");return s._key="".concat(n._key).concat(a),w3(s)&&(s.marks?i&&(s.marks=s.marks.filter(l=>{var u;const d=i.includes(l),f=(u=n.markDefs)==null?void 0:u.some(p=>p._key===l);return d||f})):s.marks=[],o.push(...s.marks)),s}),n.markDefs=(n.markDefs||[]).filter(s=>o.includes(s._key)),n}function Dee(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new e6t(t,n).deserialize(e).map(o=>xw(o))}function Pee(e){return vB.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function Iee(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const o=(t=e.of)==null?void 0:t.find(rDe);if(!o)throw new Error("Block type is not defined in this schema (required)");const i=(n=o.fields)==null?void 0:n.find(d=>d.name==="children");if(!i)throw new Error("Children field for block type found in schema (required)");const s=i.type.of;if(!s)throw new Error("Valid types for block children not found in schema (required)");const a=s.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const l=s.filter(d=>d.name!=="span")||[],u=((r=e.of)==null?void 0:r.filter(d=>d.name!==o.name))||[];return{styles:t6t(o),decorators:n6t(a),lists:r6t(o),block:o,span:a,portableText:e,inlineObjects:l,blockObjects:u,annotations:a.annotations}}function t6t(e){var t,n,r;const o=(t=e.fields)==null?void 0:t.find(s=>s.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const i=((n=o.type.options)==null?void 0:n.list)&&((r=o.type.options.list)==null?void 0:r.filter(s=>s.value));if(!i||i.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return i}function n6t(e){return e.decorators}function r6t(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(i=>i.name==="listItem");if(!r)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const o=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(i=>i.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function rDe(e){return e.type?rDe(e.type):e.name==="block"?e:null}const p4="sanity-pte:";Sb(p4);function Xr(e){const t="".concat(p4).concat(e);return Sb&&Sb.enabled(t)?Sb(t):Sb(p4)}const ww=()=>qC(12),oDe=h.createContext(ww),o6t=()=>{const e=h.useContext(oDe);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},Q5=new WeakMap,TE=new WeakMap,I2=new WeakMap,Fy=new WeakMap,Ly=new WeakMap,By=new WeakMap,m4=new WeakMap,La=new WeakMap,J5=new WeakMap;function i6t(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function g4(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function GC(e){const[t,n]=e;return[t,n]}function Oee(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,l=1;for(let u=0;u!==-1;){const d=n.substring(s-l);if(u=r.indexOf(d),u===-1)return a;l+=u,(u===0||n.substring(s-l)===r.substring(0,l))&&(a=l,l++)}return a}function sN(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function mD(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function iDe(e){let t=e.map(f=>GC(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,l=0,u=0,d=0;for(;s<t.length;)t[s][0]===_t?(r[o++]=s,a=u,l=d,u=0,d=0,i=t[s][1]):(t[s][0]===Qn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,l)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[In,i]),t[r[o-1]+1][0]=Qn,o--,o--,s=o>0?r[o-1]:-1,a=0,l=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=gD(t)),t=sDe(t),s=1;s<t.length;){if(t[s-1][0]===In&&t[s][0]===Qn){const f=t[s-1][1],p=t[s][1],m=Oee(f,p),v=Oee(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[_t,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[_t,f.substring(0,v)]),t[s-1][0]=Qn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=In,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const $ee=/[^a-zA-Z0-9]/,Ree=/\s/,Mee=/[\r\n]/,s6t=/\n\r?\n$/,a6t=/^\r?\n\r?\n/;function sDe(e){const t=e.map(o=>GC(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),l=s.match($ee),u=a.match($ee),d=l&&s.match(Ree),f=u&&a.match(Ree),p=d&&s.match(Mee),m=f&&a.match(Mee),v=p&&o.match(s6t),g=m&&i.match(a6t);return v||g?5:p||m?4:l&&!d&&f?3:d||f?2:l||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===_t&&t[r+1][0]===_t){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=mD(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let l=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,l=o,u=i,d=s)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function gD(e){let t=e.map(u=>GC(u));t.push([_t,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Qn:o++,s+=t[n][1],n++;break;case In:r++,i+=t[n][1],n++;break;case _t:r+o>1?(r!==0&&o!==0&&(a=sN(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===_t?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[_t,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=mD(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[In,i]),n++),s.length&&(t.splice(n,0,[Qn,s]),n++),n++):n!==0&&t[n-1][0]===_t?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===_t&&t[n+1][0]===_t&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=gD(t)),t}function l6t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function aDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>GC(p)),r=!1;const o=[];let i=0,s=null,a=0,l=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===_t?(n[a][1].length<t&&(d||f)?(o[i++]=a,l=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===In?f=!0:d=!0,s&&(l&&u&&d&&f||s.length<t/2&&l6t(l,u,d,f)===3)&&(n.splice(o[i-1],0,[In,s]),n[o[i-1]+1][0]=Qn,i--,s=null,l&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=gD(n)),n}function c6t(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,l=new Array(a),u=new Array(a);for(let y=0;y<a;y++)l[y]=-1,u[y]=-1;l[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let y=0;y<i&&!(Date.now()>n);y++){for(let x=-y+p;x<=y-m;x+=2){const b=s+x;let w;x===-y||x!==y&&l[b-1]<l[b+1]?w=l[b+1]:w=l[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(l[b]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return Fee(e,t,w,C,n)}}}for(let x=-y+v;x<=y-g;x+=2){const b=s+x;let w;x===-y||x!==y&&u[b-1]<u[b+1]?w=u[b+1]:w=u[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[b]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&l[_]!==-1){const S=l[_],E=s+S-_;if(w=r-w,S>=w)return Fee(e,t,S,E,n)}}}}return[[In,e],[Qn,t]]}function Fee(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),u=Mm(i,s,{checkLines:!1,deadline:o}),d=Mm(a,l,{checkLines:!1,deadline:o});return u.concat(d)}function u6t(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=Lee(r,o,Math.ceil(r.length/4)),s=Lee(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let l,u,d,f;e.length>t.length?(l=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],l=a[2],u=a[3]);const p=a[4];return[l,u,d,f,p]}function Lee(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,l,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=sN(e.slice(n),t.slice(o)),f=mD(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),l=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",l||"",u||"",i||""]:null}function d6t(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function f6t(e,t){const n=[],r={};n[0]="";function o(l){let u="",d=0,f=-1,p=n.length;for(;f<l.length-1;){f=l.indexOf(`
`,d),f===-1&&(f=l.length-1);let m=l.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=l.slice(d),f=l.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function h6t(e,t,n){let r=e,o=t;const i=f6t(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Mm(r,o,{checkLines:!1,deadline:n.deadline});d6t(a,s),a=iDe(a),a.push([_t,""]);let l=0,u=0,d=0,f="",p="";for(;l<a.length;){switch(a[l][0]){case Qn:d++,p+=a[l][1];break;case In:u++,f+=a[l][1];break;case _t:if(u>=1&&d>=1){a.splice(l-u-d,u+d),l=l-u-d;const m=Mm(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(l,0,m[v]);l+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}l++}return a.pop(),a}function p6t(e,t,n){let r;if(!e)return[[Qn,t]];if(!t)return[[In,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Qn,o.substring(0,s)],[_t,i],[Qn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=In,r[2][0]=In),r;if(i.length===1)return[[In,e],[Qn,t]];const a=u6t(e,t);if(a){const l=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Mm(l,d,n),v=Mm(u,f,n);return m.concat([[_t,p]],v)}return n.checkLines&&e.length>100&&t.length>100?h6t(e,t,n):c6t(e,t,n.deadline)}const In=-1,Qn=1,_t=0;function aN(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Mm(e,t,g6t(n||{}));return y6t(r),r}function Mm(e,t,n){let r=e,o=t;if(r===o)return r?[[_t,r]]:[];let i=sN(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=mD(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let l=p6t(r,o,n);return s&&l.unshift([_t,s]),a&&l.push([_t,a]),l=gD(l),l}function m6t(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function g6t(e){return{checkLines:!0,deadline:m6t(e.timeout||1),...e}}function O2(e,t,n){return n===1?e+t:t+e}function $2(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function v6t(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function Bee(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Qn){o===null&&(o=s);continue}else if(u===In){i===null&&(i=s);continue}else if(u===_t){if(o===null&&i===null){const[f,p]=$2(e[t][1],n);e[t][1]=f,e[s][1]=O2(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&v6t(e,o,i,n)){const[u,d]=$2(e[o][1],r),[f]=$2(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=O2(e[t][1],d,n);return}const[a,l]=$2(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Qn,l]),i!==null&&i>=s&&i++):e[o][1]=O2(e[o][1],l,r),i===null?e.splice(s,0,[In,l]):e[i][1]=O2(e[i][1],l,r)}function y6t(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];i6t(i)&&n===_t&&Bee(e,t,1),g4(o)&&n===_t&&Bee(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const b6t={threshold:.5,distance:1e3};function x6t(e){return{...b6t,...e}}const w6t=32;function C6t(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>w6t)throw new Error("Pattern too long for this browser.");const o=x6t(r),i=_6t(t);function s(v,g){const y=v/t.length,x=Math.abs(n-g);return o.distance?y+x/o.distance:x?1:y}let a=o.threshold,l=e.indexOf(t,n);l!==-1&&(a=Math.min(s(0,l),a),l=e.lastIndexOf(t,n+t.length),l!==-1&&(a=Math.min(s(0,l),a)));const u=1<<t.length-1;l=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const y=Math.min(n+f,e.length)+t.length,x=new Array(y+2);x[y+1]=(1<<v)-1;for(let b=y;b>=g;b--){const w=i[e.charAt(b-1)];if(v===0?x[b]=(x[b+1]<<1|1)&w:x[b]=(x[b+1]<<1|1)&w|((m[b+1]|m[b])<<1|1)|m[b+1],x[b]&u){const C=s(v,b-1);if(C<=a)if(a=C,l=b-1,l>n)g=Math.max(1,2*n-l);else break}}if(s(v+1,n)>a)break;m=x}return l}function _6t(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function C3(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return C6t(e,t,r)}function ej(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function lN(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Qn&&(t[n]=e[n][1]);return t.join("")}function lDe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==In&&(t[n]=e[n][1]);return t.join("")}function _f(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=cDe(r)}return t}function S6t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const l=t.codePointAt(o);if(typeof l>"u")return o;r+=cDe(l),l>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(l=>GC(l)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function cDe(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const af=32,cN=4,E6t={margin:4};function _3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...E6t,...e}}function k6t(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=aN(e,t,{checkLines:!0});return r.length>2&&(r=iDe(r),r=aDe(r)),S3(e,r,_3(n))}if(e&&Array.isArray(e)&&typeof t>"u")return S3(lN(e),e,_3(n));if(typeof e=="string"&&t&&Array.isArray(t))return S3(e,t,_3(n));throw new Error("Unknown call format to make()")}function S3(e,t,n){if(t.length===0)return[];const r=[];let o=ej(0,0),i=0,s=0,a=0,l=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,y=g.length,x=_f(g);switch(!i&&v!==_t&&(o.start1=s,o.start2=a,o.utf8Start1=l,o.utf8Start2=u),v){case Qn:o.diffs[i++]=m,o.length2+=y,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case In:o.length1+=y,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+y);break;case _t:y<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=y,o.length2+=y,o.utf8Length1+=x,o.utf8Length2+=x):y>=2*n.margin&&i&&(Nee(o,d,n),r.push(o),o=ej(-1,-1),i=0,d=f,s=a,l=u);break;default:throw new Error("Unknown diff type")}v!==Qn&&(s+=y,l+=x),v!==In&&(a+=y,u+=x)}return i&&(Nee(o,d,n),r.push(o)),r}function Nee(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<af-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&g4(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([_t,s]);const a=s.length,l=_f(s);let u=e.start2+e.length1+o;u<t.length&&g4(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([_t,d]);const f=d.length,p=_f(d);e.start1-=a,e.start2-=a,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=l+p,e.utf8Length2+=l+p}function j6t(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Qn:n+=s.length;break;case In:r+=s.length;break;case _t:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function zee(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Qn&&(n+=e[s][1].length),e[s][0]!==In&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===In?i:i+(t-o)}function T6t(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cN;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==_t)i.unshift([_t,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==_t)i.push([_t,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function A6t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cN;const n=af;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const l=ej(i-a.length,s-a.length);let u=!0;if(a!==""){const p=_f(a);l.length1=a.length,l.utf8Length1=p,l.length2=a.length,l.utf8Length2=p,l.diffs.push([_t,a])}for(;o.diffs.length!==0&&l.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=_f(m);if(p===Qn){l.length2+=m.length,l.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&l.diffs.push(g),u=!1}else p===In&&l.diffs.length===1&&l.diffs[0][0]===_t&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=v,i+=m.length,u=!1,l.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-l.length1-t),v=_f(m),l.length1+=m.length,l.utf8Length1+=v,i+=m.length,p===_t?(l.length2+=m.length,l.utf8Length2+=v,s+=m.length):u=!1,l.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=lDe(l.diffs),a=a.substring(a.length-t);const d=lN(o.diffs).substring(0,t),f=_f(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=f,l.utf8Length2+=f,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===_t?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([_t,d])),u||e.splice(++r,0,l)}}}function uDe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=S6t(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||cN,s=n.deleteThreshold||.4,a=T6t(o,i);r=a+r+a,A6t(o,i);let l=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+l,p=lN(o[d].diffs);let m,v=-1;if(p.length>af?(m=C3(r,p.substring(0,af),f),m!==-1&&(v=C3(r,p.substring(p.length-af),f+p.length-af),(v===-1||m>=v)&&(m=-1))):m=C3(r,p,f),m===-1)u[d]=!1,l-=o[d].length2-o[d].length1;else{u[d]=!0,l=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+af),p===g)r=r.substring(0,m)+lDe(o[d].diffs)+r.substring(m+p.length);else{let y=aN(p,g,{checkLines:!1});if(p.length>af&&j6t(y)/p.length>s)u[d]=!1;else{y=sDe(y);let x=0,b=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==_t&&(b=zee(y,x)),C[0]===Qn?r=r.substring(0,m+b)+C[1]+r.substring(m+b):C[0]===In&&(r=r.substring(0,m+b)+r.substring(m+zee(y,x+C[1].length))),C[0]!==In&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function D6t(e){return e.map(P6t).join("")}function P6t(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const l=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Qn:u="+";break;case In:u="-";break;case _t:u=" ";break;default:throw new Error("Unknown patch operation.")}l[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return l.join("").replace(/%20/g," ")}const I6t=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function uN(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(I6t);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=ej(R2(o[1]),R2(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=R2(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=R2(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let l;try{l=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=_f(l)-l.length;if(a==="-")i.diffs.push([In,l]),i.length1-=u;else if(a==="+")i.diffs.push([Qn,l]),i.length2-=u;else if(a===" ")i.diffs.push([_t,l]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(l));r++}}return t}function R2(e){return parseInt(e,10)}function dDe(e){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function Vee(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=k6t(e,t),o=D6t(r);return{type:"diffMatchPatch",path:n,value:o}}function ju(e,t){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:t,items:e}}function Pl(e){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function na(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const O6t=[],$6t=[],fDe="void-child";function Vp(e,t){const n=t[e._key];return n&&Wt(e,n)?n:(t[e._key]=e,e)}function Vc(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e&&Array.isArray(e)?e.map(o=>{const{_type:i,_key:s,...a}=o,l=[{_key:fDe,_type:"span",text:"",marks:[]}];if(o&&o._type===n.block.name){const d=o;let f=!1;const p=typeof d.style>"u",m=typeof d.markDefs>"u",v=typeof d.children>"u",g=v?[{_type:n.span.name,_key:ww(),text:"",marks:[]}]:d.children.map(y=>{const{_type:x,_key:b,...w}=y;return x!=="span"?(f=!0,Vp({_type:x,_key:b,children:l,value:w,__inline:!0},r)):x==="span"&&!("marks"in w)?Vp({_key:b,_type:x,...w,marks:$6t},r):y});return!p&&!m&&!v&&!f&&Ie.isElement(o)?o:(p&&(a.style=n.styles[0].value),m&&(a.markDefs=O6t),Vp({_type:i,_key:s,...a,children:g},r))}return Vp({_type:i,_key:s,children:l,value:a},r)}):[]}function _r(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.map(r=>{const{_key:o,_type:i}=r;if(!o||!i)throw new Error("Not a valid block");if(i===t&&"children"in r&&Array.isArray(r.children)&&o){let a=!1;const l=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:p,_type:m,__inline:v,children:g,...y}=u;return Vp({...y,...f,_key:p,_type:m},n)}return u});return a?Vp({...r,children:l,_key:o,_type:i},n):r}const s="value"in r&&r.value;return Vp({_key:o,_type:i,...typeof s=="object"?s:{}},n)})}function tj(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Ie.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&xe.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const kp=Xr("operationToPatches");kp.enabled=!1;function R6t(e){const t=e.block.name;function n(d,f,p){kp.enabled&&kp("Operation",JSON.stringify(f,null,2));const m=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&d.isTextSpan(m.children[f.path[1]])&&m.children[f.path[1]];if(!v)throw new Error("Could not find child");const g=[{_key:m._key},"children",{_key:v._key},"text"],y=p[f.path[0]],x=d.isTextBlock(y)&&y.children[f.path[1]],b=d.isTextSpan(x)?x.text:"",w=Vee(b,v.text,g);return w.value.length?[w]:[]}function r(d,f,p){const m=d&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&m.children[f.path[1]]||void 0,g=d.isTextSpan(v)?v:void 0;if(v&&!g)throw new Error("Expected span");if(!g)throw new Error("Could not find child");const y=[{_key:m._key},"children",{_key:g._key},"text"],x=p[f.path[0]],b=d.isTextBlock(x)&&x.children[f.path[1]],w=d.isTextSpan(b)&&b.text,C=Vee(w||"",g.text,y);return C.value?[C]:[]}function o(d,f){if(f.path.length===1){const p=d.children[f.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=Kje({...d.children[f.path[0]],...f.newProperties},Zje);return[Pl(_r([m],t)[0],[{_key:p._key}])]}else if(f.path.length===2){const p=d.children[f.path[0]];if(d.isTextBlock(p)){const m=p.children[f.path[1]];if(m){const v=p._key,g=m._key,y=[];return Object.keys(f.newProperties).forEach(x=>{const b=Gn(f.newProperties,x);y.push(Pl(b,[{_key:v},"children",{_key:g},x]))}),y}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function i(d,f,p){const m=p[f.path[0]],v=d.isTextBlock(m);if(f.path.length===1){const g=f.path[0]===0?"before":"after",y=p[f.path[0]-1],x=f.path[0]===0?m==null?void 0:m._key:y==null?void 0:y._key;return x?[ju([_r([f.node],t)[0]],g,[{_key:x}])]:[dDe(p,[]),ju([_r([f.node],t)[0]],"before",[f.path[0]])]}else if(v&&f.path.length===2&&d.children[f.path[0]]){const g=m.children.length===0||!m.children[f.path[1]-1]?"before":"after",y={...f.node};!y._type&&xe.isText(y)&&(y._type="span",y.marks=[]);const b=_r([{_key:"bogus",_type:t,children:[y]}],t)[0].children[0];return[ju([b],g,[{_key:m._key},"children",m.children.length<=1||!m.children[f.path[1]-1]?0:{_key:m.children[f.path[1]-1]._key}])]}return kp("Something was inserted into a void block. Not producing editor patches."),[]}function s(d,f,p){const m=[],v=d.children[f.path[0]];if(!d.isTextBlock(v))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const g=p[f.path[0]];if(d.isTextBlock(g)){const y=_r([d.children[f.path[0]+1]],t)[0];y&&(m.push(ju([y],"after",[{_key:v._key}])),g.children.slice(f.position).forEach(b=>{const w=[{_key:g._key},"children",{_key:b._key}];m.push(na(w))}))}return m}if(f.path.length===2){const g=v.children[f.path[1]];if(d.isTextSpan(g)){const y=_r([{...v,children:v.children.slice(f.path[1]+1,f.path[1]+2)}],t)[0].children;m.push(ju(y,"after",[{_key:v._key},"children",{_key:g._key}])),m.push(Pl(g.text,[{_key:v._key},"children",{_key:g._key},"text"]))}return m}return m}function a(d,f,p){const m=p[f.path[0]];if(f.path.length===1){if(m&&m._key)return[na([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&f.path.length===2){const v=d.isTextBlock(m)&&m.children&&m.children[f.path[1]];return v?[na([{_key:m._key},"children",{_key:v._key}])]:(kp("Span not found in editor trying to remove node"),[])}else return kp("Not creating patch inside object block"),[]}function l(d,f,p){const m=[],v=p[f.path[0]],g=d.children[f.path[0]];if(f.path.length===1)if(v!=null&&v._key){const y=_r([d.children[f.path[0]-1]],t)[0];m.push(Pl(y,[{_key:y._key}])),m.push(na([{_key:v._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(g)){const y=d.isTextBlock(v)&&v.children[f.path[1]]||void 0,x=g.children[f.path[1]-1];d.isTextSpan(x)&&(m.push(Pl(x.text,[{_key:v._key},"children",{_key:x._key},"text"])),y&&m.push(na([{_key:v._key},"children",{_key:y._key}])))}else kp("Void nodes can't be merged, not creating any patches");return m}function u(d,f,p){const m=[],v=p[f.path[0]],g=p[f.newPath[0]];if(f.path.length===1){const y=f.path[0]>f.newPath[0]?"before":"after";m.push(na([{_key:v._key}])),m.push(ju([_r([v],t)[0]],y,[{_key:g._key}]))}else if(f.path.length===2&&d.isTextBlock(v)&&d.isTextBlock(g)){const y=v.children[f.path[1]],x=g.children[f.newPath[1]],b=f.newPath[1]===g.children.length?"after":"before",w=_r([v],t)[0].children[f.path[1]];m.push(na([{_key:v._key},"children",{_key:y._key}])),m.push(ju([w],b,[{_key:g._key},"children",{_key:x._key}]))}return m}return{insertNodePatch:i,insertTextPatch:n,mergeNodePatch:l,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:o,splitNodePatch:s}}function Hee(e,t,n){const r=[e.path[0]];if(!t)return null;const o=t[r[0]];if(!o)return null;const i=[{_key:o._key}];if(o._type!==n.block.name)return i;let s;const a=e.path.slice(0,2),l=Array.isArray(o.children)&&o.children[a[1]];return l&&(s=["children",{_key:l._key}]),s?[...i,...s]:i}function Uee(e,t){if(!t)return[];const[n,r]=Array.from(F.nodes(t,{at:[],match:s=>Lr(e.path[0])&&s._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Ie.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const o=[e.path[2]],i=n.children.findIndex(s=>Wt([{_key:s._key}],o));if(i>=0&&n.children[i]){const s=n.children[i];return Ie.isElement(s)&&t.isVoid(s)?r.concat(i).concat(0):r.concat(i)}return r}function Hp(e,t,n){if(!t)return null;let r=null,o=null;const i=t.anchor&&Hee(t.anchor,e,n);i&&t.anchor&&(r={path:i,offset:t.anchor.offset});const s=t.focus&&Hee(t.focus,e,n);return s&&t.focus&&(o={path:s,offset:t.focus.offset}),r&&o?{anchor:r,focus:o}:null}function AE(e,t){if(!e||!t)return null;const n={path:Uee(e.anchor,t),offset:e.anchor.offset},r={path:Uee(e.focus,t),offset:e.focus.offset};return n&&r?{anchor:n,focus:r}:null}function v4(e){if(e){const t=e&&window.getSelection();t==null||t.removeAllRanges()}}const Ny=Xr("API:editable");function M6t(e,t,n){return function(o){return e.setEditable({focus:()=>{pe.focus(o)},blur:()=>{pe.blur(o)},toggleMark:i=>{o.pteToggleMark(i)},toggleList:i=>{o.pteToggleListItem(i)},toggleBlockStyle:i=>{o.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return o.pteIsMarkActive(i)}catch(s){return console.warn(s),!1}},marks:()=>({...F.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:i=>{const s=AE(i,o);s?se.select(o,s):se.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const i=Se.descendant(o,o.selection.focus.path.slice(0,1));if(i)return _r([i],t.block.name,La.get(o))[0]}},focusChild:()=>{if(o.selection){const i=Se.descendant(o,o.selection.focus.path.slice(0,1));if(i&&o.isTextBlock(i))return _r([i],t.block.name,La.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const[l]=Array.from(F.nodes(o,{at:o.selection.focus.path.slice(0,1),match:v=>v._type===t.block.name}))[0]||[void 0];if(!l)throw new Error("No focused text block");if(i.name!==t.span.name&&!t.inlineObjects.some(v=>v.name===i.name))throw new Error("This type cannot be inserted as a child to a text block");const d=Vc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...s||{}}]}],e)[0].children[0],f=o.selection.focus.path.slice(0,2),p=d._type===t.span.name,m=Se.get(o,f);return p&&m._type!==t.span.name&&(Ny("Inserting span child next to inline object child, moving selection + 1"),o.move({distance:1,unit:"character"})),se.insertNodes(o,d,{select:!0,at:o.selection}),o.onChange(),((a=Hp(_r(o.children,t.block.name,La.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},insertBlock:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const l=Vc([{_key:n(),_type:i.name,...s||{}}],e)[0];return F.insertNode(o,l),o.onChange(),((a=Hp(_r(o.children,t.block.name,La.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},hasBlockStyle:i=>{try{return o.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return o.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const s=AE({focus:{path:i,offset:0},anchor:{path:i,offset:0}},o);if(s){const[a,l]=F.node(o,s.focus.path.slice(0,1));if(a&&l&&typeof a._key=="string"){if(i.length===1&&s.focus.path.length===1)return[_r([a],t.block.name)[0],[{_key:a._key}]];const u=_r([a],t.block.name,La.get(o))[0];if(o.isTextBlock(u)){const d=u.children[s.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let s;try{const[a]=Array.from(F.nodes(o,{at:[],match:l=>l._key===i._key})||[])[0]||[void 0];s=pe.toDOMNode(o,a)}catch{}return s},activeAnnotations:()=>{var i;if(!o.selection||o.selection.focus.path.length<2)return[];try{const s=[],a=F.nodes(o,{at:o.selection,match:l=>xe.isText(l)&&l.marks!==void 0&&Array.isArray(l.marks)&&l.marks.length>0});for(const[l,u]of a){const[d]=F.node(o,u,{depth:1});o.isTextBlock(d)&&((i=d.markDefs)==null||i.forEach(f=>{xe.isText(l)&&l.marks&&Array.isArray(l.marks)&&l.marks.includes(f._key)&&s.push(f)}))}return s}catch{return[]}},addAnnotation:(i,s)=>{const{selection:a}=o;if(a){const[l]=F.node(o,a.focus,{depth:1});if(Ie.isElement(l)&&l._type===t.block.name){const u=n();if(o.isTextBlock(l)){se.setNodes(o,{markDefs:[...l.markDefs||[],{_type:i.name,_key:u,...s}]},{at:a.focus}),o.onChange(),ue.isCollapsed(a)&&(o.pteExpandToWord(),o.onChange());const[d]=F.node(o,a.focus,{depth:2});if(o.selection){F.withoutNormalizing(o,()=>{se.setNodes(o,{},{match:xe.isText,split:!0}),o.selection&&xe.isText(d)&&(se.setNodes(o,{marks:[...d.marks||[],u]},{at:o.selection,match:p=>p._type===t.span.name}),o.onChange())}),F.normalize(o),o.onChange();const f=Hp(_r(o.children,t.block.name,La.get(o)),o.selection,t);if(f&&typeof l._key=="string")return F.withoutNormalizing(o,()=>{o.selection&&(se.insertNodes(o,[{_type:"span",text:"",marks:[],_key:n()}],{at:ue.end(o.selection)}),o.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:l._key},"markDefs",{_key:u}]}}}}}},delete:(i,s)=>{if(i){const a=AE(i,o);if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw new Error("Invalid range");if(a){if(!(s!=null&&s.mode)||(s==null?void 0:s.mode)==="selected"){Ny("Deleting content in selection"),se.delete(o,{at:a,hanging:!0,voids:!0}),o.onChange();return}(s==null?void 0:s.mode)==="blocks"&&(Ny("Deleting blocks touched by selection"),se.removeNodes(o,{at:a,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&Ie.isElement(u)})),(s==null?void 0:s.mode)==="children"&&(Ny("Deleting children touched by selection"),se.removeNodes(o,{at:a,voids:!0,match:u=>u._type===t.span.name||!o.isTextBlock(u)&&Ie.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:i=>{let{selection:s}=o;if(Ny("Removing annotation",i),s){if(ue.isCollapsed(s)){const[a,l]=F.node(o,s,{depth:2});xe.isText(a)&&a.marks&&typeof a.text=="string"&&(se.select(o,l),s=o.selection)}F.withoutNormalizing(o,()=>{if(s&&ue.isExpanded(s)){if(s=o.selection,!s)return;se.setNodes(o,{},{match:xe.isText,split:!0}),o.onChange(),[...F.nodes(o,{at:s,match:l=>xe.isText(l)&&l.marks!==void 0&&Array.isArray(l.marks)&&l.marks.length>0})].forEach(l=>{let[u,d]=l;var f;const[p]=F.node(o,d,{depth:1});o.isTextBlock(p)&&((f=p.markDefs)==null||f.filter(m=>m._type===i.name).forEach(m=>{if(xe.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(m._key)){const v=[...(u.marks||[]).filter(g=>g!==m._key)];se.setNodes(o,{marks:v},{at:d,voids:!1,split:!1})}}))})}}),F.normalize(o),o.onChange()}},getSelection:()=>{let i=null;if(o.selection){const s=J5.get(o.selection);if(s)return s;i=Hp(_r(o.children,t.block.name,La.get(o)),o.selection,t),J5.set(o.selection,i)}return i},getValue:()=>_r(o.children,t.block.name,La.get(o)),isCollapsedSelection:()=>!!o.selection&&ue.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&ue.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()}}),o}}function F6t(e){return function(n){const{apply:r}=n;return n.apply=o=>{const i=e;i>0&&n.children.length>=i&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||r(o)},n}}const nj=new WeakMap;function Cw(e,t){const n=hDe(e);nj.set(e,!0),t(),nj.set(e,n)}function hDe(e){return nj.get(e)}function L6t(e,t){return function(r){nj.set(r,!1);const{apply:o,normalizeNode:i}=r;return r.apply=s=>{if(s.type==="split_node"&&(s.properties={...s.properties,_key:t()}),s.type==="insert_node"){const a=!hDe(r)||!("_key"in s.node);F.isEditor(s.node)||(s.node={...s.node,...a?{_key:t()}:{}})}o(s)},r.normalizeNode=s=>{const[a,l]=s;if(Ie.isElement(a)&&a._type===e.block.name){a._key||se.setNodes(r,{_key:t()},{at:l});for(const[u,d]of Se.children(r,l))if(!u._key){se.setNodes(r,{_key:t()},{at:d});return}}i(s)},r}}const rj=new WeakMap;function y4(e,t){const n=pDe(e);rj.set(e,!1),t(),rj.set(e,n)}function pDe(e){return rj.get(e)}const Wee="before",Yee="after";function B6t(e,t,n){if(t!==Wee&&t!==Yee)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(Wee," or ").concat(Yee));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=qee(...o);if(e.length===0)return s;const a=e.length,l=Math.abs((a+n)%a)%a,u=t==="after"?l+1:l,d=e.slice();return d.splice(u,0,...qee(s)),d}function qee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const Gee=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function N6t(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function z6t(e,t){if(typeof t=="number")return t;const n=oN(e,t);return n===-1?!1:n}function V6t(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!Gee(t.value,"from")||!Gee(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return N6t(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=z6t(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return B6t(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=dN(n[i],{...t,path:o}),n}function H6t(e,t){const n=KAe(e);if(t.path.length===0){if(t.type==="set"){if(!cC(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Hi(n,r):(n[r]=dN(n[r],{...t,path:o}),n)}const mDe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},U6t=Object.keys(mDe);function W6t(e,t){if(!U6t.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return mDe[t.type](e,t.value)}const gDe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=uDe(uN(t),e,{allowExceedingIndices:!0});return n}},Y6t=Object.keys(gDe);function q6t(e,t){if(!Y6t.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));const n=gDe[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function G6t(e,t){return t.reduce(dN,e)}function K6t(e,t){return Array.isArray(e)?V6t(e,t):XA(e)?q6t(e,t):cC(e)?H6t(e,t):W6t(e,t)}function dN(e,t){return K6t(e,t)}const Er=Xr("applyPatches"),fN=Er.enabled&&!0;function Z6t(e){let t;return function(n,r){let o=!1;fN&&(Er(`

NEW PATCH =============================================================`),Er(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":o=Q6t(n,r,e);break;case"unset":o=e8t(n,r,t);break;case"set":o=J6t(n,r);break;case"diffMatchPatch":o=X6t(n,r);break;default:Er("Unhandled patch",r.type)}}catch(i){console.error(i)}return t=r,o}}function X6t(e,t){const{block:n,child:r,childPath:o}=vD(e,t.path);if(!n)return Er("Block not found"),!1;if(!r||!o)return Er("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!xe.isText(r))return!1;const s=uN(t.value),[a]=uDe(s,r.text,{allowExceedingIndices:!0}),l=aDe(aN(r.text,a),5);Ts(e,"before");let u=0;for(const[d,f]of l)d===Qn?(e.apply({type:"insert_text",path:o,offset:u,text:f}),u+=f.length):d===In?e.apply({type:"remove_text",path:o,offset:u,text:f}):d===_t&&(u+=f.length);return Ts(e,"after"),!0}function Q6t(e,t,n){const{block:r,child:o,blockPath:i,childPath:s}=vD(e,t.path);if(!r||!i)return Er("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return Er("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:v}=t,g=Vc(m,{schemaTypes:n},m4.get(e)),y=i[0],x=v==="after"?y+1:y;return Er("Inserting blocks at path [".concat(x,"]")),Ts(e,"before"),se.insertNodes(e,g,{at:[x]}),Ts(e,"after"),!0}const{items:a,position:l}=t;if(!o||!s)return Er("Child not found"),!1;const u=r&&Vc([{...r,children:a}],{schemaTypes:n},m4.get(e)),d=s[1],f=l==="after"?d+1:d,p=[s[0],f];return Er("Inserting children at path ".concat(p)),Ts(e,"before"),u&&Ie.isElement(u[0])&&se.insertNodes(e,u[0].children,{at:p}),Ts(e,"after"),!0}function J6t(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:o,child:i,childPath:s}=vD(e,t.path);if(!r)return Er("Block not found"),!1;const a=e.isTextBlock(r);if(a&&t.path.length>1&&t.path[1]!=="children")return Er("Ignoring setting void value"),!1;if(Ts(e,"before"),a&&i&&s){if(xe.isText(n)&&xe.isText(i)){const l=i.text;n.text!==l&&(Er("Setting text property"),e.apply({type:"remove_text",path:s,offset:0,text:l}),e.apply({type:"insert_text",path:s,offset:0,text:n.text}),e.onChange())}else Er("Setting non-text property"),e.apply({type:"set_node",path:s,properties:{},newProperties:n});return!0}else if(Ie.isElement(r)&&t.path.length===1&&o){Er("Setting block property");const{children:l,...u}=n,{children:d,...f}=r||{children:void 0};e.apply({type:"set_node",path:o,properties:{...f},newProperties:u}),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:o.concat(m),node:p})}),Array.isArray(l)&&l.forEach((p,m)=>{e.apply({type:"insert_node",path:o.concat(m),node:p})})}else if(r&&"value"in r){const l=G6t([r.value],[t])[0];return se.setNodes(e,{...r,value:l},{at:o}),!0}return Ts(e,"after"),!0}function e8t(e,t,n){if(t.path.length===0){Er("Removing everything"),Ts(e,"before");const a=e.selection;return se.deselect(e),e.children.forEach((l,u)=>{se.removeNodes(e,{at:[u]})}),se.insertNodes(e,e.createPlaceholderBlock()),a&&se.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),Ts(e,"after"),!0}const{block:r,blockPath:o,child:i,childPath:s}=vD(e,t.path);if(t.path.length===1){if(!r||!o)return Er("Block not found"),!1;const a=o[0];return Er("Removing block at path [".concat(a,"]")),Ts(e,"before"),se.removeNodes(e,{at:[a]}),Ts(e,"after"),!0}if(e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3){if(!i||!s)return Er("Child not found"),!1;const a=s[1];return Er("Unsetting child at path ".concat(JSON.stringify(s))),Ts(e,"before"),fN&&Er("Removing child at path ".concat(JSON.stringify([s,a]))),se.removeNodes(e,{at:s}),Ts(e,"after"),!0}return!1}function vDe(e){return typeof e=="object"&&"_key"in e}function Ts(e,t){fN&&(Er("Children ".concat(t,":"),JSON.stringify(e.children,null,2)),Er("Selection ".concat(t,": "),JSON.stringify(e.selection,null,2)))}function t8t(e,t){let n=-1;const r=e.children.find((o,i)=>{const s=vDe(t[0])?o._key===t[0]._key:i===t[0];return s&&(n=i),s});return r?{block:r,path:[n]}:{}}function vD(e,t){const{block:n,path:r}=t8t(e,t);if(!(Ie.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let o=-1;const i=n.children.find((s,a)=>{const l=vDe(t[2])?s._key===t[2]._key:a===t[2];return l&&(o=a),l});return i?{block:n,child:i,blockPath:r,childPath:r==null?void 0:r.concat(o)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function yDe(e,t){const n=bDe(e)||!1;Q5.set(e,!0),t(),Q5.set(e,n)}function bDe(e){return Q5.get(e)}function n8t(e){return TE.get(e)}const oi=Xr("plugin:withUndoRedo"),Kee=oi.enabled&&!1,i0=new WeakMap,E3=new WeakMap,r8t=1e3,xDe=e=>{const t=i0.get(e);return t===void 0?!0:t},o8t=e=>(E3.get(e)||E3.set(e,[]),E3.get(e)||[]);function i8t(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return o=>{let i=_r(o.children,r.name);const s=o8t(o);n&&o.subscriptions.push(()=>{oi("Subscribing to patches");const l=n.subscribe(u=>{let{patches:d,snapshot:f}=u,p=!1;d.forEach(m=>{if(!p&&m.origin!=="local"&&s){if(m.type==="unset"&&m.path.length===0){oi("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},s.splice(0,s.length),i0.set(o,!0),p=!0;return}s.push({patch:m,time:new Date,snapshot:f,previousSnapshot:i})}}),i=f});return()=>{oi("Unsubscribing to patches"),l.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:a}=o;return o.apply=l=>{if(t){a(l);return}const{operations:u,history:d}=o,{undos:f}=d,p=f[f.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],v=a8t(l,m),g=xDe(o);let y=!0;if(g){if(p?u.length===0&&(y=s8t(l,m)||v):y=!1,p&&y)p.operations.push(l);else{const x={operations:[...o.selection===null?[]:[c8t(o)],l],timestamp:new Date};f.push(x),oi("Created new undo step",p)}for(;f.length>r8t;)f.shift();l8t(l)&&(d.redos=[])}a(l)},o.undo=()=>{if(t)return;const{undos:l}=o.history;if(l.length>0){const u=l[l.length-1];if(oi("Undoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=$n(f.map(m=>Zee(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),v4(!!o.selection);try{F.withoutNormalizing(o,()=>{_w(o,()=>{f.map(Pv.inverse).reverse().forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){oi("Could not perform undo step",p),s.splice(0,s.length),se.deselect(o),o.history={undos:[],redos:[]},i0.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(t)return;const{redos:l}=o.history;if(l.length>0){const u=l[l.length-1];if(oi("Redoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=$n(f.map(m=>Zee(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),v4(!!o.selection);try{F.withoutNormalizing(o,()=>{_w(o,()=>{f.forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){oi("Could not perform redo step",p),s.splice(0,s.length),se.deselect(o),o.history={undos:[],redos:[]},i0.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function Zee(e,t,n,r,o){Kee&&(oi("Adjusting '".concat(n.type,"' operation paths for '").concat(t.type,"' patch")),oi("Operation ".concat(JSON.stringify(n))),oi("Patch ".concat(JSON.stringify(t))));const i={...n};if(t.type==="insert"&&t.path.length===1){const s=(r||[]).findIndex(a=>Wt({_key:a._key},t.path[0]));return oi("Adjusting block path (+".concat(t.items.length,") for '").concat(i.type,"' operation and patch '").concat(t.type,"'")),[Xee(i,t.items.length,s)]}if(t.type==="unset"&&t.path.length===1){const s=(o||[]).findIndex(a=>Wt({_key:a._key},t.path[0]));return"path"in i&&Array.isArray(i.path)&&i.path[0]===s?(oi("Skipping transformation that targeted removed block"),[]):(Kee&&(oi("Selection ".concat(JSON.stringify(e.selection))),oi("Adjusting block path (-1) for '".concat(i.type,"' operation and patch '").concat(t.type,"'"))),[Xee(i,-1,s)])}if(t.type==="unset"&&t.path.length===0)return oi("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if(t.type==="diffMatchPatch"){const s=u8t(e,i);return!s||!Wt({_key:s._key},t.path[0])?[i]:(uN(t.value).forEach(l=>{var u,d,f,p;let m=0,v=l.utf8Start1;const{diffs:g}=l;if(g.forEach((y,x)=>{const[b,w]=y;b===Qn?(m+=w.length,v+=w.length):b===In?(m-=w.length,v-=w.length):b===_t&&(g.slice(x).every(C=>{let[_]=C;return _===_t})||(v+=w.length))}),i.type==="insert_text"&&v<i.offset&&(i.offset+=m),i.type==="remove_text"&&v<=i.offset-i.text.length&&(i.offset+=m),i.type==="set_selection"){const y=(u=i.properties)!=null&&u.focus?{...i.properties.focus}:void 0,x=(d=i==null?void 0:i.properties)!=null&&d.anchor?{...i.properties.anchor}:void 0,b=(f=i==null?void 0:i.newProperties)!=null&&f.focus?{...i.newProperties.focus}:void 0,w=(p=i==null?void 0:i.newProperties)!=null&&p.anchor?{...i.newProperties.anchor}:void 0;(y&&x||b&&w)&&([y,x,b,w].forEach(_=>{_&&v<_.offset&&(_.offset+=m)}),y&&x&&(i.properties={focus:y,anchor:x}),b&&w&&(i.newProperties={focus:b,anchor:w}))}}),[i])}return[i]}function Xee(e,t,n){var r,o,i,s;const a={...e};if(n>=0&&a.type!=="set_selection"&&Array.isArray(a.path)&&a.path[0]>=n+t&&a.path[0]+t>-1){const l=[a.path[0]+t,...a.path.slice(1)];a.path=l}if(a.type==="set_selection"){const l=(r=a.properties)!=null&&r.focus?{...a.properties.focus}:void 0,u=(o=a==null?void 0:a.properties)!=null&&o.anchor?{...a.properties.anchor}:void 0,d=(i=a==null?void 0:a.newProperties)!=null&&i.focus?{...a.newProperties.focus}:void 0,f=(s=a==null?void 0:a.newProperties)!=null&&s.anchor?{...a.newProperties.anchor}:void 0;(l&&u||d&&f)&&([l,u,d,f].forEach(m=>{m&&m.path[0]>=n+t&&m.path[0]+t>-1&&(m.path=[m.path[0]+t,...m.path.slice(1)])}),l&&u&&(a.properties={focus:l,anchor:u}),d&&f&&(a.newProperties={focus:d,anchor:f}))}return a}const s8t=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&J.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&J.equals(e.path,t.path)),a8t=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),l8t=e=>e.type!=="set_selection";function _w(e,t){const n=xDe(e);i0.set(e,!1),t(),i0.set(e,n)}function c8t(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function u8t(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const M2=Xr("plugin:withPatches");function d8t(e){let{change$:t,patches$:n,patchFunctions:r,readOnly:o,schemaTypes:i}=e,s;const a=Z6t(i);return function(u){Q5.set(u,!1),rj.set(u,!0),s=[...u.children];const{apply:d}=u;let f=[];const p=()=>{if(f.length===0)return;const v=f;f=[];let g=!1;yDe(u,()=>{F.withoutNormalizing(u,()=>{y4(u,()=>{_w(u,()=>{Cw(u,()=>{v.forEach(y=>{(y.type==="insert"||y.type==="unset")&&v4(!!u.selection),M2.enabled&&M2("Handling remote patch ".concat(JSON.stringify(y))),g=a(u,y)})})})})}),g&&(u.normalize(),u.onChange())})},m=v=>{let{patches:g}=v;const y=g.filter(x=>x.origin!=="local");y.length!==0&&(f=f.concat(y),p())};return n&&u.subscriptions.push(()=>{M2("Subscribing to patches$");const v=n.subscribe(m);return()=>{M2("Unsubscribing to patches$"),v.unsubscribe()}}),u.apply=v=>{if(o)return d(v),u;let g=[];s=u.children;const y=tj(s,i);d(v);const x=tj(u.children,i);if(!pDe(u))return u;switch(y&&!x&&v.type!=="set_selection"&&g.push(ju(s,"before",[0])),v.type){case"insert_text":g=[...g,...r.insertTextPatch(u,v,s)];break;case"remove_text":g=[...g,...r.removeTextPatch(u,v,s)];break;case"remove_node":g=[...g,...r.removeNodePatch(u,v,s)];break;case"split_node":g=[...g,...r.splitNodePatch(u,v,s)];break;case"insert_node":g=[...g,...r.insertNodePatch(u,v,s)];break;case"set_node":g=[...g,...r.setNodePatch(u,v,s)];break;case"merge_node":g=[...g,...r.mergeNodePatch(u,v,s)];break;case"move_node":g=[...g,...r.moveNodePatch(u,v,s)];break}return!y&&x&&["merge_node","set_node","remove_text","remove_node"].includes(v.type)&&(g=[...g,na([])],t.next({type:"unset",previousValue:_r(s,i.block.name,La.get(u))})),y&&g.length>0&&(g=[dDe([],[]),...g]),g.length>0&&g.forEach(b=>{t.next({type:"patch",patch:{...b,origin:"local"}})}),u},u}}const f8t=Xr("plugin:withPlaceholderBlock");function h8t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){return o.createPlaceholderBlock=()=>(f8t("Creating placeholder block"),{_type:t.block.name,_key:n(),style:t.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),o}}const F2=Xr("plugin:withPortableTextBlockStyle");function p8t(e){const t=e.styles[0].value;return function(r){const{normalizeNode:o}=r;return r.normalizeNode=i=>{o(i);const[,s]=i;for(const a of r.operations)if(a.type==="split_node"&&a.path.length===1&&r.isTextBlock(a.properties)&&a.properties.style!==t&&a.path[0]===s[0]&&!J.equals(s,a.path)){const[l]=F.node(r,[a.path[0]+1,0]);if(xe.isText(l)&&l.text===""){F2("Normalizing split node to ".concat(t," style"),a),se.setNodes(r,{style:t},{at:[a.path[0]+1],voids:!1});break}}},r.pteHasBlockStyle=i=>r.selection?[...F.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)&&a.style===i})].length>0:!1,r.pteToggleBlockStyle=i=>{if(!r.selection)return;[...F.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)})].forEach(a=>{let[l,u]=a;r.isTextBlock(l)&&l.style===i?(F2("Unsetting block style '".concat(i,"'")),se.setNodes(r,{...l,style:t},{at:u})):(i?F2("Setting style '".concat(i,"'")):F2("Setting default style",t),se.setNodes(r,{...l,style:i||t},{at:u}))}),r.onChange()},r}}const tp=Xr("plugin:withPortableTextLists"),k3=10;function m8t(e){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?(tp("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):(tp("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...F.nodes(n,{at:n.selection,match:i=>Ie.isElement(i)&&i._type===e.block.name})].forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){const{listItem:l,level:u,...d}=s,f={...d,listItem:void 0,level:void 0};tp("Unsetting list '".concat(r,"'")),se.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...F.nodes(n,{at:n.selection,match:i=>n.isTextBlock(i)})].forEach(i=>{let[s,a]=i;tp("Setting list '".concat(r,"'")),se.setNodes(n,{...s,level:1,listItem:r||e.lists[0]&&e.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...F.nodes(n,{at:n.selection,match:o=>Ie.isElement(o)&&n.isListBlock(o)&&o.children.length===1&&xe.isText(o.children[0])&&o.children[0].text===""})];return r.length===0?!1:(r.forEach(o=>{let[i,s]=o;Ie.isElement(i)&&(tp("Unset list"),se.setNodes(n,{...i,level:void 0,listItem:void 0},{at:s}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const o=[...F.nodes(n,{at:n.selection,match:i=>!!n.isListBlock(i)})];return o.length===0?!1:(o.forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){let l=s.level||1;r?(l--,tp("Decrementing list level",Math.min(k3,Math.max(1,l)))):(l++,tp("Incrementing list level",Math.min(k3,Math.max(1,l)))),se.setNodes(n,{level:Math.min(k3,Math.max(1,l))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...F.nodes(n,{at:n.selection,match:i=>n.isListBlock(i)&&i.listItem===r})].length>0:!1,n}}const Yd=Xr("plugin:withPortableTextMarkModel");function g8t(e,t){return function(i){const{apply:s,normalizeNode:a}=i,l=e.decorators.map(d=>d.value),u=()=>{i.selection&&(se.select(i,{...i.selection}),i.selection={...i.selection});const d=Hp(i.children,i.selection,e);t.next({type:"selection",selection:d})};return i.normalizeNode=d=>{a(d),i.operations.some(g=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(g.type))&&n(i);const[f,p]=d,m=xe.isText(f)&&f._type===e.span.name,v=i.isTextBlock(f);if(m||v){m&&!Array.isArray(f.marks)&&(Yd("Adding .marks to span node"),se.setNodes(i,{marks:[]},{at:p}),i.onChange());for(const g of i.operations){if(g.type==="merge_node"&&g.path.length===1&&"markDefs"in g.properties&&g.properties._type===e.block.name&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]-1>=0){const[y,x]=F.node(i,[g.path[0]-1]);if(Yd("Copying markDefs over to merged block",g),i.isTextBlock(y)){const b=Array.isArray(y.markDefs)&&y.markDefs||[],w=wo([...b,...g.properties.markDefs]);Wt(w,y.markDefs)||(se.setNodes(i,{markDefs:w},{at:x,voids:!1}),i.onChange())}}if(g.type==="split_node"&&g.path.length===1&&Ie.isElementProps(g.properties)&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]+1<i.children.length){const[y,x]=F.node(i,[g.path[0]+1]);if(Yd("Copying markDefs over to split block",g),i.isTextBlock(y)){const b=Array.isArray(y.markDefs)&&y.markDefs||[];se.setNodes(i,{markDefs:wo([...b,...g.properties.markDefs])},{at:x,voids:!1}),i.onChange()}}if(g.type==="split_node"&&g.path.length===2&&g.properties._type===e.span.name&&"marks"in g.properties&&Array.isArray(g.properties.marks)&&g.properties.marks.length>0&&g.path[0]+1<i.children.length){const[y,x]=F.node(i,[g.path[0]+1,0]);xe.isText(y)&&y.text===""&&Array.isArray(y.marks)&&y.marks.length>0&&(se.setNodes(i,{marks:[]},{at:x,voids:!1}),i.onChange())}if(g.type==="split_node"&&g.path.length===1&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0){const[y,x]=F.node(i,[g.path[0]]);i.isTextBlock(y)&&y.children.length===1&&y.markDefs&&y.markDefs.length>0&&xe.isText(y.children[0])&&y.children[0].text===""&&(!y.children[0].marks||y.children[0].marks.length===0)&&(se.setNodes(i,{markDefs:[]},{at:x}),i.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(se.setNodes(i,{marks:[]},{at:p,voids:!1}),i.onChange())}v&&i.operations.some(g=>["split_node","remove_node","remove_text","merge_node"].includes(g.type))&&r(i)},i.apply=d=>{var f,p;if(d.type==="insert_text"){const{selection:m}=i;if(m&&ue.isCollapsed(m)&&((p=(f=F.marks(i))==null?void 0:f.marks)!=null&&p.some(v=>!l.includes(v)))){const[v]=Array.from(F.nodes(i,{mode:"lowest",at:m.focus,match:g=>g._type===e.span.name,voids:!1}))[0]||[void 0];if(xe.isText(v)&&v.text.length===m.focus.offset&&Array.isArray(v.marks)&&v.marks.length>0){s(d),se.splitNodes(i,{match:xe.isText,at:{...m.focus,offset:m.focus.offset}});const g=({...F.marks(i)||{}}.marks||[]).filter(y=>l.includes(y));se.setNodes(i,{marks:g},{at:J.next(m.focus.path)}),Yd("Inserting text at end of annotation");return}}}s(d)},i.addMark=d=>{if(i.selection){if(ue.isExpanded(i.selection)){se.setNodes(i,{},{match:xe.isText,split:!0});const f=[...F.nodes(i,{at:i.selection,match:xe.isText})];if($n(f.map(m=>m[0]).map(m=>m.marks)).includes(d))return i.removeMark(d),i;F.withoutNormalizing(i,()=>{f.forEach(m=>{let[v,g]=m;const y=[...(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),d];se.setNodes(i,{marks:y},{at:g,match:xe.isText,split:!0,hanging:!0})})}),F.normalize(i)}else{const f={...F.marks(i)||{}}.marks||[],p={...F.marks(i)||{},marks:[...f,d]};return i.marks=p,u(),i}i.onChange(),u()}return i},i.removeMark=d=>{const{selection:f}=i;if(f){if(ue.isExpanded(f))F.withoutNormalizing(i,()=>{se.setNodes(i,{},{match:xe.isText,split:!0}),i.selection&&[...F.nodes(i,{at:i.selection,match:xe.isText})].forEach(m=>{let[v,g]=m;const y=i.children[g[0]];Ie.isElement(y)&&y.children.includes(v)&&se.setNodes(i,{marks:(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),_type:"span"},{at:g})})}),F.normalize(i);else{const p={...F.marks(i)||{}}.marks||[],m={...F.marks(i)||{},marks:p.filter(v=>v!==d)};return i.marks={marks:m.marks,_type:"span"},u(),i}i.onChange(),u()}return i},i.pteIsMarkActive=d=>{if(!i.selection)return!1;let f={...F.marks(i)||{}}.marks||[];return ue.isExpanded(i.selection)&&Array.from(F.nodes(i,{match:xe.isText,at:i.selection})).forEach(p=>{const[m]=p;f=wo([...f,...m.marks||[]])}),f.includes(d)},i.pteToggleMark=d=>{i.pteIsMarkActive(d)?(Yd("Remove mark '".concat(d,"'")),F.removeMark(i,d)):(Yd("Add mark '".concat(d,"'")),F.addMark(i,d,!0))},i};function n(o){const{selection:i}=o;if(i)for(const[s,a]of Array.from(F.nodes(o,{at:F.range(o,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[l]=a.length>1?F.node(o,J.parent(a)):[void 0],u=[a[0],a[1]+1];if(o.isTextBlock(l)){const d=l.children[u[1]];xe.isText(s)&&xe.isText(d)&&Wt(d.marks,s.marks)&&(Yd("Merging spans"),se.mergeNodes(o,{at:u,voids:!0}),o.onChange())}}}function r(o){const{selection:i}=o;if(i){const s=F.nodes(o,{at:i,match:a=>a._type===e.block.name});for(const[a,l]of s)if(o.isTextBlock(a)){const u=(a.markDefs||[]).filter(d=>a.children.find(f=>xe.isText(f)&&Array.isArray(f.marks)&&f.marks.includes(d._key)));Wt(u,a.markDefs)||(Yd("Removing markDef not in use"),se.setNodes(o,{markDefs:u},{at:l}),o.onChange())}}}}const wDe=Xr("plugin:withPortableTextSelections"),v8t=wDe.enabled&&!1;function y8t(e,t){let n=null;return function(o){const i=()=>{if(n!==o.selection){let a=null;if(o.selection){const l=J5.get(o.selection);if(l)a=l;else{const u=o.children;a=Hp(u,o.selection,t),J5.set(o.selection,a)}}v8t&&wDe("Emitting selection ".concat(JSON.stringify(a||null)," (").concat(JSON.stringify(o.selection),")")),a?e.next({type:"selection",selection:a}):e.next({type:"selection",selection:null})}n=o.selection},{onChange:s}=o;return o.onChange=()=>{const a=o.operations.length>0;s(),a&&i()},o}}const b8t=Xr("plugin:withSchemaTypes");function x8t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){o.isTextBlock=s=>Xu(s)&&s._type===t.block.name,o.isTextSpan=s=>aa(s)&&s._type==t.span.name,o.isListBlock=s=>w9e(s)&&s._type===t.block.name,o.isVoid=s=>t.block.name!==s._type&&(t.blockObjects.map(a=>a.name).includes(s._type)||t.inlineObjects.map(a=>a.name).includes(s._type)),o.isInline=s=>t.inlineObjects.map(l=>l.name).includes(s._type)&&"__inline"in s&&s.__inline===!0;const{normalizeNode:i}=o;return o.normalizeNode=s=>{const[a,l]=s;if(a._type===void 0&&l.length===2){b8t("Setting span type on text node without a type");const u=a,d=u._key||n();se.setNodes(o,{...u,_type:t.span.name,_key:d},{at:l})}i(s)},o}}const j3=Xr("plugin:withUtils");function w8t(e){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!ue.isExpanded(r)){const[o]=F.node(n,r.focus,{depth:2});if(!o||!xe.isText(o)||o.text.length===0){j3("pteExpandToWord: Can't expand to word here");return}const{focus:i}=r,s=i.offset,a=o.text.slice(0,s),l=o.text.slice(s,-1),u=v=>v.match(/\s/g),d=a.split("").reverse().findIndex(v=>u(v)),f=d>-1?a.length-d:0,p=l.split("").findIndex(v=>u(v)),m=a.length+(p>-1?p:l.length+1);if(!(f===m||isNaN(f)||isNaN(m))){j3("pteExpandToWord: Expanding to focused word"),se.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:m}});return}j3("pteExpandToWord: Can't expand to word here")}},n}}const T3=Xr("plugin:withHotKeys"),C8t={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function _8t(e,t,n,r){const o=["enter","tab","shift","delete","end"],i=r||C8t,s=()=>Vc([{_type:e.block.name,_key:t(),style:"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0];return function(l){return l.pteWithHotKeys=u=>{var d,f;Object.keys(i).forEach(b=>{if(b==="marks")for(const w in i[b]){if(o.includes(w))throw new Error("The hotkey ".concat(w," is reserved!"));if(Ti(w,u.nativeEvent)){u.preventDefault();const C=i[b];if(C){const _=C[w];T3("HotKey ".concat(w," to toggle ").concat(_)),l.pteToggleMark(_)}}}if(b==="custom")for(const w in i[b]){if(o.includes(w))throw new Error("The hotkey ".concat(w," is reserved!"));if(Ti(w,u.nativeEvent)){const C=i[b];if(C){const _=C[w];_(u,n)}}}});const p=Ti("enter",u.nativeEvent),m=Ti("tab",u.nativeEvent),v=Ti("shift+enter",u.nativeEvent),g=Ti("shift+tab",u.nativeEvent),y=Ti("backspace",u.nativeEvent),x=Ti("delete",u.nativeEvent);if(y&&l.selection&&l.selection.focus.path[0]>0&&ue.isCollapsed(l.selection)){const b=J.previous(l.selection.focus.path.slice(0,1)),w=Se.descendant(l,b),C=Se.descendant(l,l.selection.focus.path.slice(0,1));if(w&&C&&F.isVoid(l,w)&&l.selection.focus.offset===0){T3("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation();const _=Xu(C),S=_&&C.children.length===1&&((f=(d=C.children)==null?void 0:d[0])==null?void 0:f.text)==="";if(!_||S){se.removeNodes(l,{match:E=>E===C}),se.select(l,b),l.onChange();return}if(_&&!S){se.select(l,b),l.onChange();return}return}}if(x&&l.selection&&l.selection.focus.offset===0&&ue.isCollapsed(l.selection)&&l.children[l.selection.focus.path[0]+1]){const b=Se.descendant(l,J.next(l.selection.focus.path.slice(0,1))),w=l.selection.focus.path.slice(0,1),C=Se.descendant(l,w);if(b&&C&&!F.isVoid(l,C)&&F.isVoid(l,b)){T3("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),se.removeNodes(l,{match:_=>_===C}),se.select(l,w),l.onChange();return}}if((m||g)&&l.selection){const[b]=F.node(l,l.selection.focus,{depth:2}),[w]=aa(b)?F.node(l,l.selection.focus,{depth:1}):[],C=b&&Xu(w)&&aa(b)&&(b.marks||[]).filter(E=>(w.markDefs||[]).map(j=>j._key).includes(E)).length>0,[_]=ue.edges(l.selection),S=F.isStart(l,_,_.path);b&&aa(b)&&(!C||S)&&l.pteIncrementBlockLevels(g)&&u.preventDefault()}if(p&&!v&&l.selection){const b=l.selection.focus.path.slice(0,1),w=Se.descendant(l,b);if(l.isListBlock(w)){l.pteEndList()&&u.preventDefault();return}if(l.isTextBlock(w)&&w.style&&w.style!==e.styles[0].value){const[,C]=ue.edges(l.selection);if(F.isEnd(l,C,C.path)){F.insertNode(l,s()),u.preventDefault(),l.onChange();return}}if(w&&F.isVoid(l,w)){F.insertNode(l,s()),u.preventDefault(),l.onChange();return}u.preventDefault(),l.insertBreak(),l.onChange()}if(v){u.preventDefault(),l.insertText(`
`);return}if(Ti("mod+z",u.nativeEvent)){u.preventDefault(),l.undo();return}(Ti("mod+y",u.nativeEvent)||Ti("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),l.redo())},l}}function oj(e,t,n){let r=null,o=!0;const i=[t.span.name,...t.inlineObjects.map(a=>a.name)],s=[t.block.name,...t.blockObjects.map(a=>a.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[na([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e},value:e}:(e.some((a,l)=>{if(!cC(a))return r={patches:[na([l])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[Pl({...a,_key:n()},[l])],description:"Block at index ".concat(l," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!s.includes(a._type)){if(a._type==="block"){const u=t.block.name;return r={patches:[Pl({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[na([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===t.block.name){const u=a;if(!u.children)return r={patches:[na([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[Pl({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const p=wo($n(u.children.filter(m=>m._type===t.span.name).map(m=>m.marks||[]))).filter(m=>!t.decorators.map(v=>v.value).includes(m)).filter(m=>u.markDefs?!u.markDefs.find(v=>v._key===m):!1);if(p.length>0){const m=u.children.filter(v=>v._type===t.span.name&&Array.isArray(v.marks)&&v.marks.some(g=>p.includes(g)));if(m)return r={patches:m.map(v=>Pl((v.marks||[]).filter(g=>!p.includes(g)),[{_key:a._key},"children",{_key:v._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(p.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const m={_type:t.span.name,_key:n(),text:""};return r={patches:[ju([m],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((m,v)=>{if(!m._key){const g={...m,_key:n()};return r={patches:[Pl(g,[{_key:a._key},"children",v])],description:"Child at index ".concat(v," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!m._type||i.includes(m._type)===!1?(r={patches:[na([{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(m._type,")."),action:"Remove the object",item:a},!0):m._type===t.span.name&&m.text===void 0?(r={patches:[Pl({...m,text:""},[{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:r,value:e})}const _u=Xr("plugin:withInsertData");function S8t(e,t,n){return function(o){const i=t.block.name,s=t.span.name,a=l=>l.map(u=>{var d;return o.isTextBlock(u)?u.children.map(f=>{var p;return f._type===s?f.text:"[".concat(((p=t.inlineObjects.find(m=>m.name===f._type))==null?void 0:p.title)||"Object","]")}).join(""):"[".concat(((d=t.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return o.setFragmentData=(l,u)=>{const{selection:d}=o;if(!d)return;const[f,p]=ue.edges(d),m=F.void(o,{at:f.path}),v=F.void(o,{at:p.path});if(ue.isCollapsed(d)&&!m)return;const g=pe.toDOMRange(o,d);let y=g.cloneContents();if(v){const[E]=v,j=g.cloneRange(),k=pe.toDOMNode(o,E);j.setEndAfter(k),y=j.cloneContents()}Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(E=>{const j=E.getAttribute("data-slate-zero-width")==="n";E.textContent=j?`
`:""}),Array.from(y.querySelectorAll("*")).forEach(E=>{E.removeAttribute("contentEditable"),E.removeAttribute("data-slate-inline"),E.removeAttribute("data-slate-leaf"),E.removeAttribute("data-slate-node"),E.removeAttribute("data-slate-spacer"),E.removeAttribute("data-slate-string"),E.removeAttribute("data-slate-zero-width"),E.removeAttribute("draggable");for(const j in E.attributes)E.hasAttribute(j)&&E.removeAttribute(j)});const x=y.ownerDocument.createElement("div");x.appendChild(y),x.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(x);const b=x.innerHTML;y.ownerDocument.body.removeChild(x);const w=o.getFragment(),C=_r(w,i),_=JSON.stringify(C),S=a(C);l.clearData(),l.setData("text/plain",S),l.setData("text/html",b),l.setData("application/json",_),l.setData("application/x-portable-text",_),_u("text",S),l.setData("application/x-portable-text-event-origin",u||"external"),_u("Set fragment data",_,b)},o.insertPortableTextData=l=>{var u;if(!o.selection)return!1;const d=l.getData("application/x-portable-text"),f=l.getData("application/x-portable-text-event-origin");if(_u("Inserting portable text from ".concat(f," event"),d),d){const p=JSON.parse(d);if(Array.isArray(p)&&p.length>0){const m=j8t(o,Vc(p,{schemaTypes:t}),n,s),v=oj(p,t,n);if(!v.valid){const g="".concat((u=v.resolution)==null?void 0:u.description);return e.next({type:"error",level:"warning",name:"pasteError",description:g,data:v}),_u("Invalid insert result",v),!1}return Qee(o,m,t),!0}}return!1},o.insertTextOrHTMLData=l=>{var u;if(!o.selection)return _u("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=l.getData("text/html"),f=l.getData("text/plain");if(d||f){_u("Inserting data",l);let p,m,v;if(d)p=Dee(d,t.portableText).map(y=>xw(y,{blockTypeName:i})),m=Vc(p,{schemaTypes:t}),v="HTML";else{const y=k8t(f).split(/\n{2,}/).map(b=>b?"<p>".concat(b.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),x="<html><body>".concat(y,"</body></html>");p=Dee(x,t.portableText).map(b=>xw(b,{blockTypeName:i})),m=Vc(p,{schemaTypes:t}),v="text"}const g=oj(p,t,n);if(!g.valid){const y=`Could not validate the resulting portable text to insert.
`.concat((u=g.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return e.next({type:"error",level:"warning",name:"pasteError",description:y,data:g}),_u("Invalid insert result",g),!1}return _u("Inserting ".concat(v," fragment at ").concat(JSON.stringify(o.selection))),Qee(o,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},o.insertData=l=>{o.insertPortableTextData(l)||o.insertTextOrHTMLData(l)},o.insertFragmentData=l=>{const u=l.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return o.insertFragment(d),!0}return!1},o}}const E8t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function k8t(e){return String(e).replace(/[&<>"'`=/]/g,t=>E8t[t])}function j8t(e,t,n,r){return t.map(o=>{const i={...o};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map(a=>{const l=a._key,u=n();return i.children=i.children.map(d=>d._type===r&&e.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(l)?[...d.marks].filter(f=>f!==l).concat(u):d.marks}:d),{...a,_key:u}}));const s={...i,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(a=>({...a,_key:n()}))),s})}function Qee(e,t,n){if(!e.selection)return;const[r,o]=F.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:s}=r;_u("Mixing markDefs of focusBlock and fragments[0] block",s,t[0].markDefs),Wt(s,t[0].markDefs)||se.setNodes(e,{markDefs:wo([...t[0].markDefs||[],...s||[]])},{at:o,mode:"lowest",voids:!1})}tj(e.children,n)?(se.splitNodes(e,{at:[0,0]}),e.insertFragment(t),se.removeNodes(e,{at:[0]})):e.insertFragment(t),e.onChange()}const Jee=new WeakMap,ete=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:o,patches$:i,readOnly:s,maxBlocks:a}=t,{schemaTypes:l,change$:u}=o;n.subscriptions=[],n.destroy?n.destroy():Jee.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=R6t(l),f=L6t(l,r),p=x8t({schemaTypes:l,keyGenerator:r}),m=M6t(o,l,r),v=d8t({change$:u,keyGenerator:r,patches$:i,patchFunctions:d,readOnly:s,schemaTypes:l}),g=F6t(a||-1),y=m8t(l),x=i8t({readOnly:s,patches$:i,blockSchemaType:l.block}),b=g8t(l,u),w=p8t(l),C=h8t({keyGenerator:r,schemaTypes:l}),_=w8t(),S=y8t(u,l);return n.destroy=()=>{const E=Jee.get(n);if(!E)throw new Error("Could not find pristine versions of editor functions");n.apply=E.apply,n.history={undos:[],redos:[]},n.normalizeNode=E.normalizeNode,n.onChange=E.onChange},s?{editor:p(f(b(w(_(C(y(S(m(n))))))))),subscribe:()=>Qje}:{editor:p(f(b(w(y(C(_(g(x(v(S(m(n)))))))))))),subscribe:()=>{const E=[];return e.subscriptions.forEach(j=>{E.push(j())}),()=>{E.forEach(j=>{j()})}}}},A3=Xr("component:PortableTextEditor:SlateContainer");function T8t(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:o,keyGenerator:i}=e,[s,a]=h.useMemo(()=>{A3("Creating new Slate editor instance");const{editor:u,subscribe:d}=ete(H4t(gFt()),{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r});return La.set(u,{}),m4.set(u,{}),[u,d]},[]);h.useEffect(()=>{const u=a();return()=>{u()}},[a]),h.useEffect(()=>{A3("Re-initializing plugin chain"),ete(s,{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r})},[i,n,o,r,t,s]);const l=h.useMemo(()=>[s.createPlaceholderBlock()],[s]);return h.useEffect(()=>()=>{A3("Destroying Slate editor"),s.destroy()},[s]),c.jsx(z4t,{editor:s,initialValue:l,children:e.children})}const CDe=h.createContext(null),R1=()=>{const e=h.useContext(CDe);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},_De=h.createContext(null),Eo=()=>{const e=h.useContext(_De);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},A8t=h.createContext(void 0),SDe=h.createContext(!1),D8t=()=>{const e=h.useContext(SDe);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},uo=Xr("hook:useSyncValue"),tte=new WeakMap;function P8t(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:o,schemaTypes:i}=t,s=h.useRef(),a=pD(),l=h.useRef(),u=h.useCallback(()=>{const f=tte.get(t);if(s.current===f){uo("Value is the same object as previous, not need to sync");return}l.current&&f&&(uo("Updating the value debounced"),l.current(f))},[t]),d=h.useCallback(uC(u,1e3,{trailing:!0,leading:!1}),[u]);return h.useMemo(()=>{const f=p=>{tte.set(t,p);const m=n8t(a),v=bDe(a);if(!n){if(m){uo("Has local changes, not syncing value right now"),d();return}if(v){uo("Has remote changes, not syncing value right now"),d();return}}let g=!1,y=!0;const x=!!a.selection;if((!p||p.length===0)&&(uo("Value is empty"),F.withoutNormalizing(a,()=>{_w(a,()=>{y4(a,()=>{x&&se.deselect(a);const b=a.children.length;a.children.forEach((w,C)=>{se.removeNodes(a,{at:[b-1-C]})}),se.insertNodes(a,a.createPlaceholderBlock(),{at:[0]}),x&&se.select(a,[0,0])})})}),g=!0),p&&p.length>0){const b=Vc(p,{schemaTypes:i});F.withoutNormalizing(a,()=>{yDe(a,()=>{_w(a,()=>{y4(a,()=>{const w=a.children.length;if(b.length<w){for(let C=w-1;C>b.length-1;C--)se.removeNodes(a,{at:[C]});g=!0}b.forEach((C,_)=>{const S=a.children[_];if(S&&!Wt(C,S)&&y){const j=[p[_]],k=oj(j,i,r);k.valid?(S._key===C._key?(uo.enabled&&uo("Updating block",S,C),O8t(a,C,S,_)):(uo.enabled&&uo("Replacing block",S,C),I8t(a,C,_)),g=!0):(o.next({type:"invalidValue",resolution:k.resolution,value:p}),y=!1)}if(!S&&y){const j=[p[_]],k=oj(j,i,r);uo.enabled&&uo("Validating and inserting new block in the end of the value",C),k.valid?Cw(a,()=>{se.insertNodes(a,C,{at:[_]})}):(uo("Invalid",k),o.next({type:"invalidValue",resolution:k.resolution,value:p}),y=!1)}})})})})})}if(!y){uo("Invalid value, returning");return}if(g){uo("Server value changed, syncing editor");try{a.onChange()}catch(b){console.error(b),o.next({type:"invalidValue",resolution:null,value:p});return}x&&!a.selection&&(se.select(a,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),a.onChange()),o.next({type:"value",value:p})}else uo("Server value and editor value is equal, no need to sync.");s.current=p};return l.current=f,f},[o,r,t,n,i,a,d])}function I8t(e,t,n){const r=e.selection,o=r&&r.focus.path[0]===n;o&&se.deselect(e),se.removeNodes(e,{at:[n]}),Cw(e,()=>{se.insertNodes(e,t,{at:[n]})}),o&&se.select(e,r)}function O8t(e,t,n,r){if(se.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const o=n.children.length;t.children.length<o&&Array.from(Array(o-t.children.length)).forEach((i,s)=>{const a=o-1-s;a>0&&(uo("Removing child"),se.removeNodes(e,{at:[r,a]}))}),t.children.forEach((i,s)=>{const a=n.children[s],l=!Wt(i,a),u=!Wt(i.text,a==null?void 0:a.text),d=[r,s];if(l)if(i._key===(a==null?void 0:a._key)){uo("Updating changed child",i,a),se.setNodes(e,i,{at:d});const f=xe.isText(i)&&i._type==="span"&&xe.isText(a)&&a._type==="span";f&&u?(se.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),se.insertText(e,i.text,{at:d}),e.onChange()):f||(uo("Updating changed inline object child",i),se.setNodes(e,{_key:fDe},{at:[...d,0],voids:!0}))}else a?(uo("Replacing child",i),se.removeNodes(e,{at:[r,s]}),Cw(e,()=>{se.insertNodes(e,i,{at:[r,s]})}),e.onChange()):a||(uo("Inserting new child",i),Cw(e,()=>{se.insertNodes(e,i,{at:[r,s]}),e.onChange()}))})}}const Su=Xr("component:PortableTextEditor:Synchronizer"),nte=Su.enabled&&!1,$8t=1e3;function R8t(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:o,readOnly:i,value:s}=e,[a,l]=h.useState(null),u=h.useRef([]),d=P8t({keyGenerator:o,onChange:r,portableTextEditor:n,readOnly:i}),f=pD();h.useEffect(()=>{TE.set(f,!1)},[f]);const p=h.useCallback(()=>{if(u.current.length>0){Su("Flushing pending patches"),nte&&Su(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const x=we.getValue(n);t.next({type:"mutation",patches:u.current,snapshot:x}),u.current=[]}TE.set(f,!1)},[f,n,t]),m=h.useMemo(()=>PA(()=>{if(F.isNormalizing(f)){p();return}m()},$8t,{leading:!1,trailing:!0}),[p,f]);h.useEffect(()=>()=>{p()},[p]),h.useEffect(()=>{Su("Subscribing to editor changes$");const x=t.subscribe(b=>{switch(b.type){case"patch":TE.set(f,!0),u.current.push(b.patch),m(),r(b);break;case"selection":h.startTransition(()=>{nte&&Su("Setting selection"),l(b.selection)}),r(b);break;default:r(b)}});return()=>{Su("Unsubscribing to changes$"),x.unsubscribe()}},[t,r,m,f]);const v=h.useCallback(()=>{Su("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(s)},[t,d,s]),g=h.useCallback(()=>{Su("Editor is offline"),t.next({type:"connection",value:"offline"})},[t]);h.useEffect(()=>(n.props.patches$&&(window.addEventListener("online",v),window.addEventListener("offline",g)),()=>{n.props.patches$&&(window.removeEventListener("online",v),window.removeEventListener("offline",g))}));const y=h.useRef(!0);return h.useEffect(()=>{Su("Value from props changed, syncing new value"),d(s),y.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),y.current=!1)},[t,d,s]),c.jsx(oDe.Provider,{value:o,children:c.jsx(_De.Provider,{value:n,children:c.jsx(A8t.Provider,{value:s,children:c.jsx(SDe.Provider,{value:i,children:c.jsx(CDe.Provider,{value:a,children:e.children})})})})})}const M1=Xr("component:PortableTextEditor");class we extends ne.Component{constructor(t){if(super(t),this.change$=new kr,this.setEditable=n=>{this.editable={...this.editable,...n}},!t.schemaType)throw new Error('PortableTextEditor: missing "type" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=Iee(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:Pee(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=Iee(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:Pee(this.props.schemaType)))}render(){const{onChange:t,value:n,children:r,patches$:o,incomingPatches$:i}=this.props,{change$:s}=this,a=i||o,l=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,d=this.props.keyGenerator||ww;return c.jsx(T8t,{keyGenerator:d,maxBlocks:l,patches$:a,portableTextEditor:this,readOnly:u,children:c.jsx(R8t,{change$:s,keyGenerator:d,onChange:t,portableTextEditor:this,readOnly:u,value:n,children:r})})}}we.activeAnnotations=e=>e&&e.editable?e.editable.activeAnnotations():[];we.addAnnotation=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)};we.blur=e=>{var t;M1("Host blurred"),(t=e.editable)==null||t.blur()};we.delete=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)};we.findDOMNode=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)};we.findByPath=(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]};we.focus=e=>{var t;M1("Host requesting focus"),(t=e.editable)==null||t.focus()};we.focusBlock=e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()};we.focusChild=e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()};we.getSelection=e=>e.editable?e.editable.getSelection():null;we.getValue=e=>{var t;return(t=e.editable)==null?void 0:t.getValue()};we.hasBlockStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)};we.hasListStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)};we.isCollapsedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()};we.isExpandedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()};we.isMarkActive=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)};we.insertChild=(e,t,n)=>{var r;return M1("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)};we.insertBlock=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)};we.insertBreak=e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()};we.isVoid=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)};we.isObjectPath=(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n};we.marks=e=>{var t;return(t=e.editable)==null?void 0:t.marks()};we.select=(e,t)=>{var n;M1("Host setting selection",t),(n=e.editable)==null||n.select(t)};we.removeAnnotation=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)};we.toggleBlockStyle=(e,t)=>{var n;return M1("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)};we.toggleList=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)};we.toggleMark=(e,t)=>{var n;M1("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)};function rte(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const o=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,i=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,s=t.find(a=>a._key===o);if(s)n.push({_key:s._key});else return null;if(s&&e.path[1]==="children"){if(!s.children||Array.isArray(s.children)&&s.children.length===0)return null;const a=Array.isArray(s.children)&&s.children.find(l=>l._key===i);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=e.offset?e.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function M8t(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:o,focus:i}=e;return o&&t.find(s=>Wt({_key:s._key},o.path[0]))&&(n=rte(o,t)),i&&t.find(s=>Wt({_key:s._key},i.path[0]))&&(r=rte(i,t)),n&&r?{anchor:n,focus:r}:null}function F8t(e){const t=h.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return c.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}const L8t=Xr("components:Leaf"),ote=[],B8t=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:o,renderChild:i,renderDecorator:s,renderAnnotation:a}=e,l=ne.useRef(null),u=Eo(),d=VAe(),[f,p]=h.useState(!1),[m,v]=h.useState(!1),g=n.props.parent,y=h.useMemo(()=>g?[{_key:g==null?void 0:g._key},"children",{_key:r._key}]:[],[g,r._key]),x=h.useMemo(()=>o.decorators.map(j=>j.value),[o.decorators]),b=h.useMemo(()=>wo((r.marks||ote).filter(j=>x.includes(j))),[x,r.marks]),w=Array.isArray(r.marks)?r.marks:ote,C=h.useMemo(()=>w.map(j=>{var k;return!x.includes(j)&&((k=g==null?void 0:g.markDefs)==null?void 0:k.find(T=>T._key===j))}).filter(Boolean),[w,g,x]),_=C.length>0&&d;h.useEffect(()=>{if(!_){p(!1);return}const j=we.getSelection(u);j&&Wt(j.focus.path,y)&&we.isCollapsedSelection(u)&&h.startTransition(()=>{p(!0)})},[_,y,u]);const S=h.useCallback(()=>{if(!_)return;L8t("Setting selection and focus from range");const j=window.getSelection();if(!j){v(!1);return}if(j&&j.rangeCount>0){const k=j.getRangeAt(0);l.current&&k.intersectsNode(l.current)?v(!0):v(!1)}else v(!1)},[_]);h.useEffect(()=>{if(!_)return;const j=u.change$.subscribe(k=>{if(k.type==="blur"){p(!1),v(!1);return}if(k.type==="focus"){const T=we.getSelection(u);T&&Wt(T.focus.path,y)&&we.isCollapsedSelection(u)&&p(!0),S();return}k.type==="selection"&&(k.selection&&Wt(k.selection.focus.path,y)&&we.isCollapsedSelection(u)?p(!0):p(!1),S())});return()=>{j.unsubscribe()}},[y,u,S,_]),h.useEffect(()=>S(),[S]);const E=h.useMemo(()=>{let j=n;if(xe.isText(r)&&r._type===o.span.name&&(b.forEach(k=>{const T=o.decorators.find(A=>A.value===k);if(T&&s){const A=Object.defineProperty({children:j,editorElementRef:l,focused:f,path:y,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=s(A)}}),g&&C.length>0&&C.forEach(k=>{const T=o.annotations.find(A=>A.name===k._type);if(T)if(a){const A=Object.defineProperty({block:g,children:j,editorElementRef:l,focused:f,path:y,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=c.jsx("span",{ref:l,children:a(A)})}else j=c.jsx(F8t,{annotation:k,children:c.jsx("span",{ref:l,children:j})})}),g&&i)){const k=g.children.find(T=>T._key===r._key);if(k){const T=c.jsx(c.Fragment,{children:j}),A=Object.defineProperty({annotations:C,children:T,editorElementRef:l,focused:f,path:y,schemaType:o.span,selected:m,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});j=i(A)}}return j},[C,g,n,f,r,b,y,a,i,s,o.annotations,o.decorators,o.span,m]);return h.useMemo(()=>c.jsx("span",{...t,ref:l,children:E},r._key),[r,t,E])},L2=e=>c.jsx("div",{children:c.jsx("pre",{children:JSON.stringify(e.value,null,2)})});var ite=Object.freeze,N8t=Object.defineProperty,yD=(e,t)=>ite(N8t(e,"raw",{value:ite(t||e.slice())})),ste,ate,lte,cte;const z8t=$.div(ste||(ste=yD([`
  user-select: none;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");$.span(ate||(ate=yD([`
  background: #999;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");const V8t=$.div(lte||(lte=yD([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),e=>U8t(e.listLevel),e=>Y8t(e.listLevel,e.listStyle),e=>q8t(e.listLevel),e=>G8t(e.listLevel),e=>K8t(e.listLevel)),H8t=$.div(cte||(cte=yD([""])));function U8t(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const W8t=["●","○","■"];function Y8t(e,t){const n=(e-1)%3;return t==="bullet"?W8t[n]:"*"}function q8t(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function G8t(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function K8t(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const gc=Xr("components:DraggableBlock"),ute=e=>{let{children:t,element:n,readOnly:r,blockRef:o}=e;const i=iu(),s=h.useRef(),[a,l]=h.useState(!1),u=h.useMemo(()=>F.isVoid(i,n),[i,n]),d=h.useMemo(()=>F.isInline(i,n),[i,n]),[f,p]=h.useState(null);h.useEffect(()=>p(o?o.current:pe.toDOMNode(i,n)),[i,n,o]);const m=h.useCallback(k=>{const T=Fy.get(i);if(!T||!f)return;k.preventDefault(),k.dataTransfer.dropEffect="move",Ly.set(i,n);const A=f.getBoundingClientRect(),D=A.top,P=A.height,I=k.pageY,R=Math.abs(D-I);let O="bottom";if(n===i.children[0]?O="top":R<P/2?(O="top",By.set(i,O)):(O="bottom",By.set(i,O)),T===n){k.dataTransfer.dropEffect="none";return}l(!0)},[f,i,n]),v=h.useCallback(()=>{l(!1)},[]),g=h.useCallback(k=>{const T=Ly.get(i);if(T){I2.set(i,!1),k.preventDefault(),k.stopPropagation(),Ly.delete(i),s.current&&(gc("Removing drag ghost"),document.body.removeChild(s.current));const A=By.get(i);By.delete(i);let D=pe.findPath(i,T);const P=pe.findPath(i,n),I=J.isBefore(P,D);if(A==="bottom"&&!I){if(D[0]>=i.children.length-1){gc("target is already at the bottom, not moving");return}const R=D;D=J.next(D),gc("Adjusting targetPath from ".concat(JSON.stringify(R)," to ").concat(JSON.stringify(D)))}if(A==="top"&&I&&D[0]!==i.children.length-1){const R=D;D=J.previous(D),gc("Adjusting targetPath from ".concat(JSON.stringify(R)," to ").concat(JSON.stringify(D)))}if(J.equals(D,P)){k.preventDefault(),gc("targetPath and myPath is the same, not moving");return}gc("Moving element ".concat(n._key," from path ").concat(JSON.stringify(P)," to ").concat(JSON.stringify(D)," (").concat(A,")")),se.moveNodes(i,{at:P,to:D}),i.onChange();return}gc("No target element, not doing anything")},[i,n]),y=h.useCallback(k=>{Fy.get(i)&&(gc("On drop (prevented)",n),k.preventDefault(),k.stopPropagation(),l(!1))},[i,n]),x=h.useCallback(k=>{if(!u){Fy.delete(i);return}I2.set(i,!0),Fy.set(i,n),k.stopPropagation();const T=k.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,n,u]),b=h.useCallback(k=>{if(!u||d){gc("Not dragging block"),Fy.delete(i),I2.set(i,!1);return}if(gc("Drag start"),I2.set(i,!0),k.dataTransfer&&(k.dataTransfer.setData("application/portable-text","something"),k.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let T=f.cloneNode(!0);const A=T.querySelector("[data-pt-drag-ghost-element]");if(A&&(T=A),T.setAttribute("data-dragged",""),document.body){s.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const D=f.getBoundingClientRect(),P=k.clientX-D.left,I=k.clientY-D.top;T.style.width="".concat(D.width,"px"),T.style.height="".concat(D.height,"px"),k.dataTransfer.setDragImage(T,P,I)}}x(k)},[f,i,x,d,u]),w=a&&i.children[0]===Ly.get(i),C=a&&i.children[i.children.length-1]===Ly.get(i),_=By.get(i),S=w||a&&!w&&!C&&_==="top",E=C||a&&!w&&!C&&_==="bottom",j=h.useMemo(()=>c.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?c.jsx(c.Fragment,{children:t}):c.jsxs("div",{draggable:u,onDragStart:b,onDrag:x,onDragOver:m,onDragLeave:v,onDragEnd:g,onDrop:y,children:[S&&j,t,E&&j]})};Xr("components:Element");const Z8t=[],X8t={display:"inline-block"},Q8t=e=>{let{attributes:t,children:n,element:r,schemaTypes:o,readOnly:i,renderBlock:s,renderChild:a,renderListItem:l,renderStyle:u,spellCheck:d}=e;const f=iu(),p=VAe(),m=h.useRef(null),v=h.useRef(null),g=p&&f.selection&&ue.isCollapsed(f.selection)||!1,y=h.useMemo(()=>_r([r],o.block.name,La.get(f))[0],[f,r,o.block.name]);let x=n,b;const w=h.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const E=pe.findPath(f,r),[j]=F.node(f,E,{depth:1}),k=o.inlineObjects.find(T=>T.name===r._type);if(!k)throw new Error("Could not find type for inline block element");if(Ie.isElement(j)){const T=[{_key:j._key},"children",{_key:r._key}];return c.jsxs("span",{...t,children:[n,c.jsxs("span",{draggable:!i,className:"pt-inline-object",ref:v,style:X8t,contentEditable:!1,children:[a&&a({annotations:Z8t,children:c.jsx(L2,{value:y}),editorElementRef:v,focused:g,path:T,schemaType:k,selected:p,type:k,value:y}),!a&&c.jsx(L2,{value:y})]},r._key)]})}throw new Error("Block not found!")}if(r._type===o.block.name){b="pt-block pt-text-block";const E="listItem"in r,j="style"in r&&r.style||"normal";b="pt-block pt-text-block pt-text-block-style-".concat(j);const k=o.styles.find(P=>P.value===j);u&&k&&(x=u({block:r,children:n,focused:g,selected:p,value:j,path:w,schemaType:k,editorElementRef:m}));let T;if(E&&(typeof r.level=="number"&&(T=r.level),b+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(T||1)),f.isListBlock(y)&&E&&r.listItem){const P=o.lists.find(I=>I.value===r.listItem);l&&P?x=l({block:y,children:x,focused:g,selected:p,value:r.listItem,path:w,schemaType:P,level:y.level||1,editorElementRef:m}):x=c.jsx(V8t,{listStyle:y.listItem||o.lists[0].value,listLevel:y.level||1,children:c.jsx(H8t,{children:x})})}const A=Object.defineProperty({children:x,editorElementRef:m,focused:g,level:T,listItem:E?r.listItem:void 0,path:w,selected:p,style:j,schemaType:o.block,value:y},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),D=s?s(A):n;return c.jsx("div",{...t,className:b,spellCheck:d,children:c.jsx(ute,{element:r,readOnly:i,blockRef:m,children:c.jsx("div",{ref:m,children:D})})},r._key)}const C=o.blockObjects.find(E=>E.name===r._type);if(!C)throw new Error("Could not find schema type for block element of _type ".concat(r._type));b="pt-block pt-object-block";const _=_r([r],o.block.name,La.get(f))[0];let S;if(s){const E=Object.defineProperty({children:c.jsx(L2,{value:y}),editorElementRef:m,focused:g,path:w,schemaType:C,selected:p,value:_},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),C}});S=s(E)}return c.jsxs("div",{...t,className:b,children:[n,c.jsxs(ute,{element:r,readOnly:i,blockRef:m,children:[S&&c.jsx("div",{ref:m,contentEditable:!1,children:S}),!S&&c.jsx(z8t,{selected:p,children:c.jsx(L2,{value:y})})]})]},r._key)},J8t=typeof window>"u"?h.useEffect:h.useLayoutEffect;function e9t(e){const t=h.useRef(null);return J8t(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}const Sl=Xr("component:Editable"),t9t={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none",left:0,right:0},n9t=[],EDe=h.forwardRef(function(t,n){const{hotkeys:r,onBlur:o,onFocus:i,onBeforeInput:s,onPaste:a,onCopy:l,renderAnnotation:u,renderBlock:d,renderChild:f,renderDecorator:p,renderListItem:m,renderPlaceholder:v,renderStyle:g,selection:y,scrollSelectionIntoView:x,spellCheck:b,...w}=t,C=Eo(),_=D8t(),S=o6t(),E=e9t(n),[j,k]=h.useState(null),[T,A]=h.useState(!1),{change$:D,schemaTypes:P}=C,I=pD(),R=P.block.name,O=h.useMemo(()=>S8t(D,P,S),[D,S,P]),V=h.useMemo(()=>_8t(P,S,C,r),[r,S,C,P]);h.useMemo(()=>_?(Sl("Editable is in read only mode"),O(I)):(Sl("Editable is in edit mode"),O(V(I))),[_,I,V,O]);const B=h.useCallback(K=>c.jsx(Q8t,{...K,readOnly:_,renderBlock:d,renderChild:f,renderListItem:m,renderStyle:g,schemaTypes:P,spellCheck:b}),[P,b,_,d,f,m,g]),H=h.useCallback(K=>{const X=c.jsx(B8t,{...K,schemaTypes:P,renderAnnotation:u,renderChild:f,renderDecorator:p,readOnly:_});return v&&K.leaf.placeholder&&K.text.text===""?c.jsxs(c.Fragment,{children:[c.jsx("span",{style:t9t,contentEditable:!1,children:v()}),X]}):X},[_,u,f,p,v,P]),W=h.useCallback(()=>{if(y){Sl("Selection from props ".concat(JSON.stringify(y)));const K=M8t(y,_r(I.children,R));if(K!==null){Sl("Normalized selection from props ".concat(JSON.stringify(K)));const X=AE(K,I);X&&(se.select(I,X),I.operations.some(ce=>ce.type==="set_selection")||D.next({type:"selection",selection:K}),I.onChange())}}},[y,I,R,D]);h.useEffect(()=>{Sl("Subscribing to editor changes$");const K=D.subscribe(X=>{switch(X.type){case"ready":W();break;case"invalidValue":A(!0);break;case"value":A(!1);break}});return()=>{Sl("Unsubscribing to changes$"),K.unsubscribe()}},[D,W]),h.useEffect(()=>{y&&!T&&W()},[T,y,W]);const z=h.useCallback(K=>{l&&l(K)!==void 0&&K.preventDefault()},[l]),G=h.useCallback(K=>{if(K.preventDefault(),!!I.selection){if(!a){Sl("Pasting normally"),I.insertData(K.clipboardData);return}new Promise(X=>{const ce=we.getValue(C),me=Hp(ce,I.selection,P),ae=(me==null?void 0:me.focus.path)||[];X(a({event:K,value:ce,path:ae,schemaTypes:P}))}).then(X=>{if(Sl("Custom paste function from client resolved",X),D.next({type:"loading",isLoading:!0}),!X||!X.insert){Sl("No result from custom paste handler, pasting normally"),I.insertData(K.clipboardData);return}if(X&&X.insert){I.insertFragment(Vc(X.insert,{schemaTypes:P})),D.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",X)}).catch(X=>(D.next({type:"loading",isLoading:!1}),console.error(X),X))}},[D,a,C,P,I]),ee=h.useCallback(K=>{if(i&&i(K),!K.isDefaultPrevented()){const X=we.getSelection(C);X===null&&(se.select(I,F.start(I,[])),I.onChange()),D.next({type:"focus",event:K});const ce=we.getSelection(C);X===ce&&D.next({type:"selection",selection:X})}},[i,C,D,I]),N=h.useCallback(K=>{o&&o(K),K.isPropagationStopped()||D.next({type:"blur",event:K})},[D,o]),Y=h.useCallback(K=>{s&&s(K)},[s]),q=h.useCallback(()=>{if(!I.selection)return;const K=pe.findDocumentOrShadowRoot(I),{activeElement:X}=K;if(E.current!==X)return;const me=pe.getWindow(I).getSelection();if(!me)return;const ae=me.getRangeAt(0);try{const Ce=pe.toDOMRange(I,I.selection);(Ce.startOffset!==ae.startOffset||Ce.endOffset!==ae.endOffset)&&(Sl("DOM range out of sync, validating selection"),me==null||me.removeAllRanges(),me.addRange(Ce))}catch{Sl("Could not resolve selection, selecting top document"),se.deselect(I),I.children.length>0&&se.select(I,[0,0]),I.onChange()}},[E,I]);h.useEffect(()=>{if(j){const K=new MutationObserver(q);return K.observe(j,{attributeOldValue:!1,attributes:!1,characterData:!1,childList:!0,subtree:!0}),()=>{K.disconnect()}}},[q,j]);const Z=h.useCallback(K=>{t.onKeyDown&&t.onKeyDown(K),K.isDefaultPrevented()||I.pteWithHotKeys(K)},[t,I]),ie=h.useMemo(()=>{if(x!==void 0)return x===null?Qje:(K,X)=>{x(C,X)}},[C,x]),re=h.useCallback(()=>tj(I.children,P)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:n9t,[P,I]);return h.useEffect(()=>{E.current=pe.toDOMNode(I,I),k(E.current)},[I,E]),C?T?null:c.jsx(I4t,{...w,autoFocus:!1,className:w.className||"pt-editable",decorate:re,onBlur:N,onCopy:z,onDOMBeforeInput:Y,onFocus:ee,onKeyDown:Z,onPaste:G,readOnly:_,renderPlaceholder:void 0,renderElement:B,renderLeaf:H,scrollSelectionIntoView:ie}):null});var r9t=Tke,dte=io;function o9t(e,t,n,r){return e==null?[]:(dte(t)||(t=t==null?[]:[t]),n=r?void 0:n,dte(n)||(n=n==null?[]:[n]),r9t(e,t,n))}var i9t=o9t;const F1=Pe(i9t);function s9t(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function b4(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function KC(e){const[t,n]=e;return[t,n]}function fte(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,l=1;for(let u=0;u!==-1;){const d=n.substring(s-l);if(u=r.indexOf(d),u===-1)return a;l+=u,(u===0||n.substring(s-l)===r.substring(0,l))&&(a=l,l++)}return a}function hN(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function bD(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function pN(e){let t=e.map(f=>KC(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,l=0,u=0,d=0;for(;s<t.length;)t[s][0]===kt?(r[o++]=s,a=u,l=d,u=0,d=0,i=t[s][1]):(t[s][0]===Jn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,l)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[On,i]),t[r[o-1]+1][0]=Jn,o--,o--,s=o>0?r[o-1]:-1,a=0,l=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=xD(t)),t=kDe(t),s=1;s<t.length;){if(t[s-1][0]===On&&t[s][0]===Jn){const f=t[s-1][1],p=t[s][1],m=fte(f,p),v=fte(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[kt,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[kt,f.substring(0,v)]),t[s-1][0]=Jn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=On,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const hte=/[^a-zA-Z0-9]/,pte=/\s/,mte=/[\r\n]/,a9t=/\n\r?\n$/,l9t=/^\r?\n\r?\n/;function kDe(e){const t=e.map(o=>KC(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),l=s.match(hte),u=a.match(hte),d=l&&s.match(pte),f=u&&a.match(pte),p=d&&s.match(mte),m=f&&a.match(mte),v=p&&o.match(a9t),g=m&&i.match(l9t);return v||g?5:p||m?4:l&&!d&&f?3:d||f?2:l||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===kt&&t[r+1][0]===kt){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=bD(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let l=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,l=o,u=i,d=s)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function xD(e){let t=e.map(u=>KC(u));t.push([kt,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Jn:o++,s+=t[n][1],n++;break;case On:r++,i+=t[n][1],n++;break;case kt:r+o>1?(r!==0&&o!==0&&(a=hN(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===kt?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[kt,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=bD(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[On,i]),n++),s.length&&(t.splice(n,0,[Jn,s]),n++),n++):n!==0&&t[n-1][0]===kt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===kt&&t[n+1][0]===kt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=xD(t)),t}function c9t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function mN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>KC(p)),r=!1;const o=[];let i=0,s=null,a=0,l=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===kt?(n[a][1].length<t&&(d||f)?(o[i++]=a,l=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===On?f=!0:d=!0,s&&(l&&u&&d&&f||s.length<t/2&&c9t(l,u,d,f)===3)&&(n.splice(o[i-1],0,[On,s]),n[o[i-1]+1][0]=Jn,i--,s=null,l&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=xD(n)),n}function u9t(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,l=new Array(a),u=new Array(a);for(let y=0;y<a;y++)l[y]=-1,u[y]=-1;l[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let y=0;y<i&&!(Date.now()>n);y++){for(let x=-y+p;x<=y-m;x+=2){const b=s+x;let w;x===-y||x!==y&&l[b-1]<l[b+1]?w=l[b+1]:w=l[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(l[b]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return gte(e,t,w,C,n)}}}for(let x=-y+v;x<=y-g;x+=2){const b=s+x;let w;x===-y||x!==y&&u[b-1]<u[b+1]?w=u[b+1]:w=u[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[b]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&l[_]!==-1){const S=l[_],E=s+S-_;if(w=r-w,S>=w)return gte(e,t,S,E,n)}}}}return[[On,e],[Jn,t]]}function gte(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),u=Fm(i,s,{checkLines:!1,deadline:o}),d=Fm(a,l,{checkLines:!1,deadline:o});return u.concat(d)}function d9t(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=vte(r,o,Math.ceil(r.length/4)),s=vte(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let l,u,d,f;e.length>t.length?(l=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],l=a[2],u=a[3]);const p=a[4];return[l,u,d,f,p]}function vte(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,l,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=hN(e.slice(n),t.slice(o)),f=bD(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),l=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",l||"",u||"",i||""]:null}function f9t(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function h9t(e,t){const n=[],r={};n[0]="";function o(l){let u="",d=0,f=-1,p=n.length;for(;f<l.length-1;){f=l.indexOf(`
`,d),f===-1&&(f=l.length-1);let m=l.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=l.slice(d),f=l.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function p9t(e,t,n){let r=e,o=t;const i=h9t(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Fm(r,o,{checkLines:!1,deadline:n.deadline});f9t(a,s),a=pN(a),a.push([kt,""]);let l=0,u=0,d=0,f="",p="";for(;l<a.length;){switch(a[l][0]){case Jn:d++,p+=a[l][1];break;case On:u++,f+=a[l][1];break;case kt:if(u>=1&&d>=1){a.splice(l-u-d,u+d),l=l-u-d;const m=Fm(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(l,0,m[v]);l+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}l++}return a.pop(),a}function m9t(e,t,n){let r;if(!e)return[[Jn,t]];if(!t)return[[On,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Jn,o.substring(0,s)],[kt,i],[Jn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=On,r[2][0]=On),r;if(i.length===1)return[[On,e],[Jn,t]];const a=d9t(e,t);if(a){const l=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Fm(l,d,n),v=Fm(u,f,n);return m.concat([[kt,p]],v)}return n.checkLines&&e.length>100&&t.length>100?p9t(e,t,n):u9t(e,t,n.deadline)}const On=-1,Jn=1,kt=0;function ZC(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Fm(e,t,v9t(n||{}));return b9t(r),r}function Fm(e,t,n){let r=e,o=t;if(r===o)return r?[[kt,r]]:[];let i=hN(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=bD(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let l=m9t(r,o,n);return s&&l.unshift([kt,s]),a&&l.push([kt,a]),l=xD(l),l}function g9t(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function v9t(e){return{checkLines:!0,deadline:g9t(e.timeout||1),...e}}function B2(e,t,n){return n===1?e+t:t+e}function N2(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function y9t(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function yte(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Jn){o===null&&(o=s);continue}else if(u===On){i===null&&(i=s);continue}else if(u===kt){if(o===null&&i===null){const[f,p]=N2(e[t][1],n);e[t][1]=f,e[s][1]=B2(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&y9t(e,o,i,n)){const[u,d]=N2(e[o][1],r),[f]=N2(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=B2(e[t][1],d,n);return}const[a,l]=N2(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Jn,l]),i!==null&&i>=s&&i++):e[o][1]=B2(e[o][1],l,r),i===null?e.splice(s,0,[On,l]):e[i][1]=B2(e[i][1],l,r)}function b9t(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];s9t(i)&&n===kt&&yte(e,t,1),b4(o)&&n===kt&&yte(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const x9t={threshold:.5,distance:1e3};function w9t(e){return{...x9t,...e}}const C9t=32;function _9t(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>C9t)throw new Error("Pattern too long for this browser.");const o=w9t(r),i=S9t(t);function s(v,g){const y=v/t.length,x=Math.abs(n-g);return o.distance?y+x/o.distance:x?1:y}let a=o.threshold,l=e.indexOf(t,n);l!==-1&&(a=Math.min(s(0,l),a),l=e.lastIndexOf(t,n+t.length),l!==-1&&(a=Math.min(s(0,l),a)));const u=1<<t.length-1;l=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const y=Math.min(n+f,e.length)+t.length,x=new Array(y+2);x[y+1]=(1<<v)-1;for(let b=y;b>=g;b--){const w=i[e.charAt(b-1)];if(v===0?x[b]=(x[b+1]<<1|1)&w:x[b]=(x[b+1]<<1|1)&w|((m[b+1]|m[b])<<1|1)|m[b+1],x[b]&u){const C=s(v,b-1);if(C<=a)if(a=C,l=b-1,l>n)g=Math.max(1,2*n-l);else break}}if(s(v+1,n)>a)break;m=x}return l}function S9t(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function D3(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return _9t(e,t,r)}function ij(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function gN(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Jn&&(t[n]=e[n][1]);return t.join("")}function jDe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==On&&(t[n]=e[n][1]);return t.join("")}function Sf(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=TDe(r)}return t}function E9t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const l=t.codePointAt(o);if(typeof l>"u")return o;r+=TDe(l),l>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(l=>KC(l)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function TDe(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const lf=32,vN=4,k9t={margin:4};function P3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...k9t,...e}}function ADe(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=ZC(e,t,{checkLines:!0});return r.length>2&&(r=pN(r),r=mN(r)),I3(e,r,P3(n))}if(e&&Array.isArray(e)&&typeof t>"u")return I3(gN(e),e,P3(n));if(typeof e=="string"&&t&&Array.isArray(t))return I3(e,t,P3(n));throw new Error("Unknown call format to make()")}function I3(e,t,n){if(t.length===0)return[];const r=[];let o=ij(0,0),i=0,s=0,a=0,l=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,y=g.length,x=Sf(g);switch(!i&&v!==kt&&(o.start1=s,o.start2=a,o.utf8Start1=l,o.utf8Start2=u),v){case Jn:o.diffs[i++]=m,o.length2+=y,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case On:o.length1+=y,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+y);break;case kt:y<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=y,o.length2+=y,o.utf8Length1+=x,o.utf8Length2+=x):y>=2*n.margin&&i&&(bte(o,d,n),r.push(o),o=ij(-1,-1),i=0,d=f,s=a,l=u);break;default:throw new Error("Unknown diff type")}v!==Jn&&(s+=y,l+=x),v!==On&&(a+=y,u+=x)}return i&&(bte(o,d,n),r.push(o)),r}function bte(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<lf-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&b4(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([kt,s]);const a=s.length,l=Sf(s);let u=e.start2+e.length1+o;u<t.length&&b4(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([kt,d]);const f=d.length,p=Sf(d);e.start1-=a,e.start2-=a,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=l+p,e.utf8Length2+=l+p}function j9t(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Jn:n+=s.length;break;case On:r+=s.length;break;case kt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function xte(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Jn&&(n+=e[s][1].length),e[s][0]!==On&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===On?i:i+(t-o)}function T9t(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vN;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==kt)i.unshift([kt,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==kt)i.push([kt,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function A9t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vN;const n=lf;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const l=ij(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Sf(a);l.length1=a.length,l.utf8Length1=p,l.length2=a.length,l.utf8Length2=p,l.diffs.push([kt,a])}for(;o.diffs.length!==0&&l.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Sf(m);if(p===Jn){l.length2+=m.length,l.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&l.diffs.push(g),u=!1}else p===On&&l.diffs.length===1&&l.diffs[0][0]===kt&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=v,i+=m.length,u=!1,l.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-l.length1-t),v=Sf(m),l.length1+=m.length,l.utf8Length1+=v,i+=m.length,p===kt?(l.length2+=m.length,l.utf8Length2+=v,s+=m.length):u=!1,l.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=jDe(l.diffs),a=a.substring(a.length-t);const d=gN(o.diffs).substring(0,t),f=Sf(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=f,l.utf8Length2+=f,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===kt?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([kt,d])),u||e.splice(++r,0,l)}}}function DDe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=E9t(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||vN,s=n.deleteThreshold||.4,a=T9t(o,i);r=a+r+a,A9t(o,i);let l=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+l,p=gN(o[d].diffs);let m,v=-1;if(p.length>lf?(m=D3(r,p.substring(0,lf),f),m!==-1&&(v=D3(r,p.substring(p.length-lf),f+p.length-lf),(v===-1||m>=v)&&(m=-1))):m=D3(r,p,f),m===-1)u[d]=!1,l-=o[d].length2-o[d].length1;else{u[d]=!0,l=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+lf),p===g)r=r.substring(0,m)+jDe(o[d].diffs)+r.substring(m+p.length);else{let y=ZC(p,g,{checkLines:!1});if(p.length>lf&&j9t(y)/p.length>s)u[d]=!1;else{y=kDe(y);let x=0,b=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==kt&&(b=xte(y,x)),C[0]===Jn?r=r.substring(0,m+b)+C[1]+r.substring(m+b):C[0]===On&&(r=r.substring(0,m+b)+r.substring(m+xte(y,x+C[1].length))),C[0]!==On&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function PDe(e){return e.map(D9t).join("")}function D9t(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const l=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Jn:u="+";break;case On:u="-";break;case kt:u=" ";break;default:throw new Error("Unknown patch operation.")}l[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return l.join("").replace(/%20/g," ")}const P9t=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function IDe(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(P9t);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=ij(z2(o[1]),z2(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=z2(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=z2(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let l;try{l=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Sf(l)-l.length;if(a==="-")i.diffs.push([On,l]),i.length1-=u;else if(a==="+")i.diffs.push([Jn,l]),i.length2-=u;else if(a===" ")i.diffs.push([kt,l]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(l));r++}}return t}function z2(e){return parseInt(e,10)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ODe;function Me(){return ODe.apply(null,arguments)}function I9t(e){ODe=e}function Xl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function um(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function yN(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(mn(e,t))return!1;return!0}function ws(e){return e===void 0}function gd(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function XC(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function $De(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function Ef(e,t){for(var n in t)mn(t,n)&&(e[n]=t[n]);return mn(t,"toString")&&(e.toString=t.toString),mn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function su(e,t,n,r){return oPe(e,t,n,r,!0).utc()}function O9t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function jt(e){return e._pf==null&&(e._pf=O9t()),e._pf}var x4;Array.prototype.some?x4=Array.prototype.some:x4=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function bN(e){if(e._isValid==null){var t=jt(e),n=x4.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function wD(e){var t=su(NaN);return e!=null?Ef(jt(t),e):jt(t).userInvalidated=!0,t}var wte=Me.momentProperties=[],O3=!1;function xN(e,t){var n,r,o,i=wte.length;if(ws(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ws(t._i)||(e._i=t._i),ws(t._f)||(e._f=t._f),ws(t._l)||(e._l=t._l),ws(t._strict)||(e._strict=t._strict),ws(t._tzm)||(e._tzm=t._tzm),ws(t._isUTC)||(e._isUTC=t._isUTC),ws(t._offset)||(e._offset=t._offset),ws(t._pf)||(e._pf=jt(t)),ws(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=wte[n],o=t[r],ws(o)||(e[r]=o);return e}function QC(e){xN(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),O3===!1&&(O3=!0,Me.updateOffset(this),O3=!1)}function Ql(e){return e instanceof QC||e!=null&&e._isAMomentObject!=null}function RDe(e){Me.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function gl(e,t){var n=!0;return Ef(function(){if(Me.deprecationHandler!=null&&Me.deprecationHandler(null,e),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])mn(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}RDe(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var Cte={};function MDe(e,t){Me.deprecationHandler!=null&&Me.deprecationHandler(e,t),Cte[e]||(RDe(t),Cte[e]=!0)}Me.suppressDeprecationWarnings=!1;Me.deprecationHandler=null;function au(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function $9t(e){var t,n;for(n in e)mn(e,n)&&(t=e[n],au(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function w4(e,t){var n=Ef({},e),r;for(r in t)mn(t,r)&&(um(e[r])&&um(t[r])?(n[r]={},Ef(n[r],e[r]),Ef(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)mn(e,r)&&!mn(t,r)&&um(e[r])&&(n[r]=Ef({},n[r]));return n}function wN(e){e!=null&&this.set(e)}var C4;Object.keys?C4=Object.keys:C4=function(e){var t,n=[];for(t in e)mn(e,t)&&n.push(t);return n};var R9t={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function M9t(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return au(r)?r.call(t,n):r}function Zc(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var CN=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V2=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$3={},s0={};function et(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(s0[e]=o),t&&(s0[t[0]]=function(){return Zc(o.apply(this,arguments),t[1],t[2])}),n&&(s0[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function F9t(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L9t(e){var t=e.match(CN),n,r;for(n=0,r=t.length;n<r;n++)s0[t[n]]?t[n]=s0[t[n]]:t[n]=F9t(t[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=au(t[s])?t[s].call(o,e):t[s];return i}}function DE(e,t){return e.isValid()?(t=FDe(t,e.localeData()),$3[t]=$3[t]||L9t(t),$3[t](e)):e.localeData().invalidDate()}function FDe(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(V2.lastIndex=0;n>=0&&V2.test(e);)e=e.replace(V2,r),V2.lastIndex=0,n-=1;return e}var B9t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function N9t(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(CN).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var z9t="Invalid date";function V9t(){return this._invalidDate}var H9t="%d",U9t=/\d{1,2}/;function W9t(e){return this._ordinal.replace("%d",e)}var Y9t={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function q9t(e,t,n,r){var o=this._relativeTime[n];return au(o)?o(e,t,n,r):o.replace(/%d/i,e)}function G9t(e,t){var n=this._relativeTime[e>0?"future":"past"];return au(n)?n(t):n.replace(/%s/i,t)}var px={};function Yi(e,t){var n=e.toLowerCase();px[n]=px[n+"s"]=px[t]=e}function vl(e){return typeof e=="string"?px[e]||px[e.toLowerCase()]:void 0}function _N(e){var t={},n,r;for(r in e)mn(e,r)&&(n=vl(r),n&&(t[n]=e[r]));return t}var LDe={};function qi(e,t){LDe[e]=t}function K9t(e){var t=[],n;for(n in e)mn(e,n)&&t.push({unit:n,priority:LDe[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function CD(e){return e%4===0&&e%100!==0||e%400===0}function Ha(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Lt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Ha(t)),n}function L1(e,t){return function(n){return n!=null?(BDe(this,e,n),Me.updateOffset(this,t),this):sj(this,e)}}function sj(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function BDe(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&CD(e.year())&&e.month()===1&&e.date()===29?(n=Lt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),TD(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Z9t(e){return e=vl(e),au(this[e])?this[e]():this}function X9t(e,t){if(typeof e=="object"){e=_N(e);var n=K9t(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=vl(e),au(this[e]))return this[e](t);return this}var NDe=/\d/,ka=/\d\d/,zDe=/\d{3}/,SN=/\d{4}/,_D=/[+-]?\d{6}/,vr=/\d\d?/,VDe=/\d\d\d\d?/,HDe=/\d\d\d\d\d\d?/,SD=/\d{1,3}/,EN=/\d{1,4}/,ED=/[+-]?\d{1,6}/,B1=/\d+/,kD=/[+-]?\d+/,Q9t=/Z|[+-]\d\d:?\d\d/gi,jD=/Z|[+-]\d\d(?::?\d\d)?/gi,J9t=/[+-]?\d+(\.\d{1,3})?/,JC=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,aj;aj={};function Ve(e,t,n){aj[e]=au(t)?t:function(r,o){return r&&n?n:t}}function e7t(e,t){return mn(aj,e)?aj[e](t._strict,t._locale):new RegExp(t7t(e))}function t7t(e){return oa(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,i){return n||r||o||i}))}function oa(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var _4={};function Ln(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),gd(t)&&(r=function(i,s){s[t]=Lt(i)}),o=e.length,n=0;n<o;n++)_4[e[n]]=r}function e_(e,t){Ln(e,function(n,r,o,i){o._w=o._w||{},t(n,o._w,o,i)})}function n7t(e,t,n){t!=null&&mn(_4,e)&&_4[e](t,n._a,n,e)}var Fi=0,Fu=1,$c=2,$o=3,Ll=4,Lu=5,Up=6,r7t=7,o7t=8;function i7t(e,t){return(e%t+t)%t}var eo;Array.prototype.indexOf?eo=Array.prototype.indexOf:eo=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function TD(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=i7t(t,12);return e+=(t-n)/12,n===1?CD(e)?29:28:31-n%7%2}et("M",["MM",2],"Mo",function(){return this.month()+1});et("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});et("MMMM",0,0,function(e){return this.localeData().months(this,e)});Yi("month","M");qi("month",8);Ve("M",vr);Ve("MM",vr,ka);Ve("MMM",function(e,t){return t.monthsShortRegex(e)});Ve("MMMM",function(e,t){return t.monthsRegex(e)});Ln(["M","MM"],function(e,t){t[Fu]=Lt(e)-1});Ln(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[Fu]=o:jt(n).invalidMonth=e});var s7t="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),UDe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),WDe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,a7t=JC,l7t=JC;function c7t(e,t){return e?Xl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||WDe).test(t)?"format":"standalone"][e.month()]:Xl(this._months)?this._months:this._months.standalone}function u7t(e,t){return e?Xl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[WDe.test(t)?"format":"standalone"][e.month()]:Xl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function d7t(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=su([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(o=eo.call(this._shortMonthsParse,s),o!==-1?o:null):(o=eo.call(this._longMonthsParse,s),o!==-1?o:null):t==="MMM"?(o=eo.call(this._shortMonthsParse,s),o!==-1?o:(o=eo.call(this._longMonthsParse,s),o!==-1?o:null)):(o=eo.call(this._longMonthsParse,s),o!==-1?o:(o=eo.call(this._shortMonthsParse,s),o!==-1?o:null))}function f7t(e,t,n){var r,o,i;if(this._monthsParseExact)return d7t.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=su([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function YDe(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Lt(t);else if(t=e.localeData().monthsParse(t),!gd(t))return e}return n=Math.min(e.date(),TD(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function qDe(e){return e!=null?(YDe(this,e),Me.updateOffset(this,!0),this):sj(this,"Month")}function h7t(){return TD(this.year(),this.month())}function p7t(e){return this._monthsParseExact?(mn(this,"_monthsRegex")||GDe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(mn(this,"_monthsShortRegex")||(this._monthsShortRegex=a7t),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function m7t(e){return this._monthsParseExact?(mn(this,"_monthsRegex")||GDe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(mn(this,"_monthsRegex")||(this._monthsRegex=l7t),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function GDe(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=su([2e3,o]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=oa(t[o]),n[o]=oa(n[o]);for(o=0;o<24;o++)r[o]=oa(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}et("Y",0,0,function(){var e=this.year();return e<=9999?Zc(e,4):"+"+e});et(0,["YY",2],0,function(){return this.year()%100});et(0,["YYYY",4],0,"year");et(0,["YYYYY",5],0,"year");et(0,["YYYYYY",6,!0],0,"year");Yi("year","y");qi("year",1);Ve("Y",kD);Ve("YY",vr,ka);Ve("YYYY",EN,SN);Ve("YYYYY",ED,_D);Ve("YYYYYY",ED,_D);Ln(["YYYYY","YYYYYY"],Fi);Ln("YYYY",function(e,t){t[Fi]=e.length===2?Me.parseTwoDigitYear(e):Lt(e)});Ln("YY",function(e,t){t[Fi]=Me.parseTwoDigitYear(e)});Ln("Y",function(e,t){t[Fi]=parseInt(e,10)});function mx(e){return CD(e)?366:365}Me.parseTwoDigitYear=function(e){return Lt(e)+(Lt(e)>68?1900:2e3)};var KDe=L1("FullYear",!0);function g7t(){return CD(this.year())}function v7t(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function Sw(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function lj(e,t,n){var r=7+t-n,o=(7+Sw(e,0,r).getUTCDay()-t)%7;return-o+r-1}function ZDe(e,t,n,r,o){var i=(7+n-r)%7,s=lj(e,r,o),a=1+7*(t-1)+i+s,l,u;return a<=0?(l=e-1,u=mx(l)+a):a>mx(e)?(l=e+1,u=a-mx(e)):(l=e,u=a),{year:l,dayOfYear:u}}function Ew(e,t,n){var r=lj(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=e.year()-1,i=o+Yu(s,t,n)):o>Yu(e.year(),t,n)?(i=o-Yu(e.year(),t,n),s=e.year()+1):(s=e.year(),i=o),{week:i,year:s}}function Yu(e,t,n){var r=lj(e,t,n),o=lj(e+1,t,n);return(mx(e)-r+o)/7}et("w",["ww",2],"wo","week");et("W",["WW",2],"Wo","isoWeek");Yi("week","w");Yi("isoWeek","W");qi("week",5);qi("isoWeek",5);Ve("w",vr);Ve("ww",vr,ka);Ve("W",vr);Ve("WW",vr,ka);e_(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Lt(e)});function y7t(e){return Ew(e,this._week.dow,this._week.doy).week}var b7t={dow:0,doy:6};function x7t(){return this._week.dow}function w7t(){return this._week.doy}function C7t(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function _7t(e){var t=Ew(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}et("d",0,"do","day");et("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});et("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});et("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});et("e",0,0,"weekday");et("E",0,0,"isoWeekday");Yi("day","d");Yi("weekday","e");Yi("isoWeekday","E");qi("day",11);qi("weekday",11);qi("isoWeekday",11);Ve("d",vr);Ve("e",vr);Ve("E",vr);Ve("dd",function(e,t){return t.weekdaysMinRegex(e)});Ve("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ve("dddd",function(e,t){return t.weekdaysRegex(e)});e_(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:jt(n).invalidWeekday=e});e_(["d","e","E"],function(e,t,n,r){t[r]=Lt(e)});function S7t(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function E7t(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function kN(e,t){return e.slice(t,7).concat(e.slice(0,t))}var k7t="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),XDe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),j7t="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),T7t=JC,A7t=JC,D7t=JC;function P7t(e,t){var n=Xl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?kN(n,this._week.dow):e?n[e.day()]:n}function I7t(e){return e===!0?kN(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function O7t(e){return e===!0?kN(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function $7t(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=su([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(o=eo.call(this._weekdaysParse,s),o!==-1?o:null):t==="ddd"?(o=eo.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=eo.call(this._minWeekdaysParse,s),o!==-1?o:null):t==="dddd"?(o=eo.call(this._weekdaysParse,s),o!==-1||(o=eo.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=eo.call(this._minWeekdaysParse,s),o!==-1?o:null)):t==="ddd"?(o=eo.call(this._shortWeekdaysParse,s),o!==-1||(o=eo.call(this._weekdaysParse,s),o!==-1)?o:(o=eo.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=eo.call(this._minWeekdaysParse,s),o!==-1||(o=eo.call(this._weekdaysParse,s),o!==-1)?o:(o=eo.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function R7t(e,t,n){var r,o,i;if(this._weekdaysParseExact)return $7t.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=su([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function M7t(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=S7t(e,this.localeData()),this.add(e-t,"d")):t}function F7t(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function L7t(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=E7t(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function B7t(e){return this._weekdaysParseExact?(mn(this,"_weekdaysRegex")||jN.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(mn(this,"_weekdaysRegex")||(this._weekdaysRegex=T7t),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function N7t(e){return this._weekdaysParseExact?(mn(this,"_weekdaysRegex")||jN.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(mn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=A7t),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function z7t(e){return this._weekdaysParseExact?(mn(this,"_weekdaysRegex")||jN.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(mn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=D7t),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function jN(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],o=[],i,s,a,l,u;for(i=0;i<7;i++)s=su([2e3,1]).day(i),a=oa(this.weekdaysMin(s,"")),l=oa(this.weekdaysShort(s,"")),u=oa(this.weekdays(s,"")),t.push(a),n.push(l),r.push(u),o.push(a),o.push(l),o.push(u);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function TN(){return this.hours()%12||12}function V7t(){return this.hours()||24}et("H",["HH",2],0,"hour");et("h",["hh",2],0,TN);et("k",["kk",2],0,V7t);et("hmm",0,0,function(){return""+TN.apply(this)+Zc(this.minutes(),2)});et("hmmss",0,0,function(){return""+TN.apply(this)+Zc(this.minutes(),2)+Zc(this.seconds(),2)});et("Hmm",0,0,function(){return""+this.hours()+Zc(this.minutes(),2)});et("Hmmss",0,0,function(){return""+this.hours()+Zc(this.minutes(),2)+Zc(this.seconds(),2)});function QDe(e,t){et(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}QDe("a",!0);QDe("A",!1);Yi("hour","h");qi("hour",13);function JDe(e,t){return t._meridiemParse}Ve("a",JDe);Ve("A",JDe);Ve("H",vr);Ve("h",vr);Ve("k",vr);Ve("HH",vr,ka);Ve("hh",vr,ka);Ve("kk",vr,ka);Ve("hmm",VDe);Ve("hmmss",HDe);Ve("Hmm",VDe);Ve("Hmmss",HDe);Ln(["H","HH"],$o);Ln(["k","kk"],function(e,t,n){var r=Lt(e);t[$o]=r===24?0:r});Ln(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Ln(["h","hh"],function(e,t,n){t[$o]=Lt(e),jt(n).bigHour=!0});Ln("hmm",function(e,t,n){var r=e.length-2;t[$o]=Lt(e.substr(0,r)),t[Ll]=Lt(e.substr(r)),jt(n).bigHour=!0});Ln("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[$o]=Lt(e.substr(0,r)),t[Ll]=Lt(e.substr(r,2)),t[Lu]=Lt(e.substr(o)),jt(n).bigHour=!0});Ln("Hmm",function(e,t,n){var r=e.length-2;t[$o]=Lt(e.substr(0,r)),t[Ll]=Lt(e.substr(r))});Ln("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[$o]=Lt(e.substr(0,r)),t[Ll]=Lt(e.substr(r,2)),t[Lu]=Lt(e.substr(o))});function H7t(e){return(e+"").toLowerCase().charAt(0)==="p"}var U7t=/[ap]\.?m?\.?/i,W7t=L1("Hours",!0);function Y7t(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var ePe={calendar:R9t,longDateFormat:B9t,invalidDate:z9t,ordinal:H9t,dayOfMonthOrdinalParse:U9t,relativeTime:Y9t,months:s7t,monthsShort:UDe,week:b7t,weekdays:k7t,weekdaysMin:j7t,weekdaysShort:XDe,meridiemParse:U7t},Cr={},zy={},kw;function q7t(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function _te(e){return e&&e.toLowerCase().replace("_","-")}function G7t(e){for(var t=0,n,r,o,i;t<e.length;){for(i=_te(e[t]).split("-"),n=i.length,r=_te(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=AD(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&q7t(i,r)>=n-1)break;n--}t++}return kw}function K7t(e){return e.match("^[^/\\\\]*$")!=null}function AD(e){var t=null,n;if(Cr[e]===void 0&&typeof module<"u"&&module&&module.exports&&K7t(e))try{t=kw._abbr,n=require,n("./locale/"+e),Yf(t)}catch{Cr[e]=null}return Cr[e]}function Yf(e,t){var n;return e&&(ws(t)?n=Rd(e):n=AN(e,t),n?kw=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),kw._abbr}function AN(e,t){if(t!==null){var n,r=ePe;if(t.abbr=e,Cr[e]!=null)MDe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Cr[e]._config;else if(t.parentLocale!=null)if(Cr[t.parentLocale]!=null)r=Cr[t.parentLocale]._config;else if(n=AD(t.parentLocale),n!=null)r=n._config;else return zy[t.parentLocale]||(zy[t.parentLocale]=[]),zy[t.parentLocale].push({name:e,config:t}),null;return Cr[e]=new wN(w4(r,t)),zy[e]&&zy[e].forEach(function(o){AN(o.name,o.config)}),Yf(e),Cr[e]}else return delete Cr[e],null}function Z7t(e,t){if(t!=null){var n,r,o=ePe;Cr[e]!=null&&Cr[e].parentLocale!=null?Cr[e].set(w4(Cr[e]._config,t)):(r=AD(e),r!=null&&(o=r._config),t=w4(o,t),r==null&&(t.abbr=e),n=new wN(t),n.parentLocale=Cr[e],Cr[e]=n),Yf(e)}else Cr[e]!=null&&(Cr[e].parentLocale!=null?(Cr[e]=Cr[e].parentLocale,e===Yf()&&Yf(e)):Cr[e]!=null&&delete Cr[e]);return Cr[e]}function Rd(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return kw;if(!Xl(e)){if(t=AD(e),t)return t;e=[e]}return G7t(e)}function X7t(){return C4(Cr)}function DN(e){var t,n=e._a;return n&&jt(e).overflow===-2&&(t=n[Fu]<0||n[Fu]>11?Fu:n[$c]<1||n[$c]>TD(n[Fi],n[Fu])?$c:n[$o]<0||n[$o]>24||n[$o]===24&&(n[Ll]!==0||n[Lu]!==0||n[Up]!==0)?$o:n[Ll]<0||n[Ll]>59?Ll:n[Lu]<0||n[Lu]>59?Lu:n[Up]<0||n[Up]>999?Up:-1,jt(e)._overflowDayOfYear&&(t<Fi||t>$c)&&(t=$c),jt(e)._overflowWeeks&&t===-1&&(t=r7t),jt(e)._overflowWeekday&&t===-1&&(t=o7t),jt(e).overflow=t),e}var Q7t=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,J7t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eBt=/Z|[+-]\d\d(?::?\d\d)?/,H2=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],R3=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],tBt=/^\/?Date\((-?\d+)/i,nBt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,rBt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function tPe(e){var t,n,r=e._i,o=Q7t.exec(r)||J7t.exec(r),i,s,a,l,u=H2.length,d=R3.length;if(o){for(jt(e).iso=!0,t=0,n=u;t<n;t++)if(H2[t][1].exec(o[1])){s=H2[t][0],i=H2[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(o[3]){for(t=0,n=d;t<n;t++)if(R3[t][1].exec(o[3])){a=(o[2]||" ")+R3[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(o[4])if(eBt.exec(o[4]))l="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(l||""),IN(e)}else e._isValid=!1}function oBt(e,t,n,r,o,i){var s=[iBt(e),UDe.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function iBt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function sBt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function aBt(e,t,n){if(e){var r=XDe.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return jt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function lBt(e,t,n){if(e)return rBt[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function nPe(e){var t=nBt.exec(sBt(e._i)),n;if(t){if(n=oBt(t[4],t[3],t[2],t[5],t[6],t[7]),!aBt(t[1],n,e))return;e._a=n,e._tzm=lBt(t[8],t[9],t[10]),e._d=Sw.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),jt(e).rfc2822=!0}else e._isValid=!1}function cBt(e){var t=tBt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(tPe(e),e._isValid===!1)delete e._isValid;else return;if(nPe(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Me.createFromInputFallback(e)}Me.createFromInputFallback=gl("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function rv(e,t,n){return e??t??n}function uBt(e){var t=new Date(Me.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function PN(e){var t,n,r=[],o,i,s;if(!e._d){for(o=uBt(e),e._w&&e._a[$c]==null&&e._a[Fu]==null&&dBt(e),e._dayOfYear!=null&&(s=rv(e._a[Fi],o[Fi]),(e._dayOfYear>mx(s)||e._dayOfYear===0)&&(jt(e)._overflowDayOfYear=!0),n=Sw(s,0,e._dayOfYear),e._a[Fu]=n.getUTCMonth(),e._a[$c]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[$o]===24&&e._a[Ll]===0&&e._a[Lu]===0&&e._a[Up]===0&&(e._nextDay=!0,e._a[$o]=0),e._d=(e._useUTC?Sw:v7t).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[$o]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(jt(e).weekdayMismatch=!0)}}function dBt(e){var t,n,r,o,i,s,a,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=rv(t.GG,e._a[Fi],Ew(hr(),1,4).year),r=rv(t.W,1),o=rv(t.E,1),(o<1||o>7)&&(l=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=Ew(hr(),i,s),n=rv(t.gg,e._a[Fi],u.year),r=rv(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(l=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(l=!0)):o=i),r<1||r>Yu(n,i,s)?jt(e)._overflowWeeks=!0:l!=null?jt(e)._overflowWeekday=!0:(a=ZDe(n,r,o,i,s),e._a[Fi]=a.year,e._dayOfYear=a.dayOfYear)}Me.ISO_8601=function(){};Me.RFC_2822=function(){};function IN(e){if(e._f===Me.ISO_8601){tPe(e);return}if(e._f===Me.RFC_2822){nPe(e);return}e._a=[],jt(e).empty=!0;var t=""+e._i,n,r,o,i,s,a=t.length,l=0,u,d;for(o=FDe(e._f,e._locale).match(CN)||[],d=o.length,n=0;n<d;n++)i=o[n],r=(t.match(e7t(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&jt(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),l+=r.length),s0[i]?(r?jt(e).empty=!1:jt(e).unusedTokens.push(i),n7t(i,r,e)):e._strict&&!r&&jt(e).unusedTokens.push(i);jt(e).charsLeftOver=a-l,t.length>0&&jt(e).unusedInput.push(t),e._a[$o]<=12&&jt(e).bigHour===!0&&e._a[$o]>0&&(jt(e).bigHour=void 0),jt(e).parsedDateParts=e._a.slice(0),jt(e).meridiem=e._meridiem,e._a[$o]=fBt(e._locale,e._a[$o],e._meridiem),u=jt(e).era,u!==null&&(e._a[Fi]=e._locale.erasConvertYear(u,e._a[Fi])),PN(e),DN(e)}function fBt(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function hBt(e){var t,n,r,o,i,s,a=!1,l=e._f.length;if(l===0){jt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<l;o++)i=0,s=!1,t=xN({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],IN(t),bN(t)&&(s=!0),i+=jt(t).charsLeftOver,i+=jt(t).unusedTokens.length*10,jt(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(a=!0));Ef(e,n||t)}function pBt(e){if(!e._d){var t=_N(e._i),n=t.day===void 0?t.date:t.day;e._a=$De([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),PN(e)}}function mBt(e){var t=new QC(DN(rPe(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function rPe(e){var t=e._i,n=e._f;return e._locale=e._locale||Rd(e._l),t===null||n===void 0&&t===""?wD({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Ql(t)?new QC(DN(t)):(XC(t)?e._d=t:Xl(n)?hBt(e):n?IN(e):gBt(e),bN(e)||(e._d=null),e))}function gBt(e){var t=e._i;ws(t)?e._d=new Date(Me.now()):XC(t)?e._d=new Date(t.valueOf()):typeof t=="string"?cBt(e):Xl(t)?(e._a=$De(t.slice(0),function(n){return parseInt(n,10)}),PN(e)):um(t)?pBt(e):gd(t)?e._d=new Date(t):Me.createFromInputFallback(e)}function oPe(e,t,n,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(um(e)&&yN(e)||Xl(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,mBt(i)}function hr(e,t,n,r){return oPe(e,t,n,r,!1)}var vBt=gl("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=hr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:wD()}),yBt=gl("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=hr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:wD()});function iPe(e,t){var n,r;if(t.length===1&&Xl(t[0])&&(t=t[0]),!t.length)return hr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function bBt(){var e=[].slice.call(arguments,0);return iPe("isBefore",e)}function xBt(){var e=[].slice.call(arguments,0);return iPe("isAfter",e)}var wBt=function(){return Date.now?Date.now():+new Date},Vy=["year","quarter","month","week","day","hour","minute","second","millisecond"];function CBt(e){var t,n=!1,r,o=Vy.length;for(t in e)if(mn(e,t)&&!(eo.call(Vy,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[Vy[r]]){if(n)return!1;parseFloat(e[Vy[r]])!==Lt(e[Vy[r]])&&(n=!0)}return!0}function _Bt(){return this._isValid}function SBt(){return sc(NaN)}function DD(e){var t=_N(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=CBt(t),this._milliseconds=+d+u*1e3+l*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=Rd(),this._bubble()}function PE(e){return e instanceof DD}function S4(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function EBt(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Lt(e[s])!==Lt(t[s]))&&i++;return i+o}function sPe(e,t){et(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Zc(~~(n/60),2)+t+Zc(~~n%60,2)})}sPe("Z",":");sPe("ZZ","");Ve("Z",jD);Ve("ZZ",jD);Ln(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=ON(jD,e)});var kBt=/([\+\-]|\d\d)/gi;function ON(e,t){var n=(t||"").match(e),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(kBt)||["-",0,0],i=+(o[1]*60)+Lt(o[2]),i===0?0:o[0]==="+"?i:-i)}function $N(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Ql(e)||XC(e)?e.valueOf():hr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Me.updateOffset(n,!1),n):hr(e).local()}function E4(e){return-Math.round(e._d.getTimezoneOffset())}Me.updateOffset=function(){};function jBt(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=ON(jD,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=E4(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?cPe(this,sc(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Me.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:E4(this)}function TBt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ABt(e){return this.utcOffset(0,e)}function DBt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(E4(this),"m")),this}function PBt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=ON(Q9t,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function IBt(e){return this.isValid()?(e=e?hr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function OBt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function $Bt(){if(!ws(this._isDSTShifted))return this._isDSTShifted;var e={},t;return xN(e,this),e=rPe(e),e._a?(t=e._isUTC?su(e._a):hr(e._a),this._isDSTShifted=this.isValid()&&EBt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function RBt(){return this.isValid()?!this._isUTC:!1}function MBt(){return this.isValid()?this._isUTC:!1}function aPe(){return this.isValid()?this._isUTC&&this._offset===0:!1}var FBt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,LBt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function sc(e,t){var n=e,r=null,o,i,s;return PE(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:gd(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=FBt.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Lt(r[$c])*o,h:Lt(r[$o])*o,m:Lt(r[Ll])*o,s:Lt(r[Lu])*o,ms:Lt(S4(r[Up]*1e3))*o}):(r=LBt.exec(e))?(o=r[1]==="-"?-1:1,n={y:np(r[2],o),M:np(r[3],o),w:np(r[4],o),d:np(r[5],o),h:np(r[6],o),m:np(r[7],o),s:np(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=BBt(hr(n.from),hr(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new DD(n),PE(e)&&mn(e,"_locale")&&(i._locale=e._locale),PE(e)&&mn(e,"_isValid")&&(i._isValid=e._isValid),i}sc.fn=DD.prototype;sc.invalid=SBt;function np(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ste(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function BBt(e,t){var n;return e.isValid()&&t.isValid()?(t=$N(t,e),e.isBefore(t)?n=Ste(e,t):(n=Ste(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function lPe(e,t){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(MDe(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=sc(n,r),cPe(this,o,e),this}}function cPe(e,t,n,r){var o=t._milliseconds,i=S4(t._days),s=S4(t._months);e.isValid()&&(r=r??!0,s&&YDe(e,sj(e,"Month")+s*n),i&&BDe(e,"Date",sj(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&Me.updateOffset(e,i||s))}var NBt=lPe(1,"add"),zBt=lPe(-1,"subtract");function uPe(e){return typeof e=="string"||e instanceof String}function VBt(e){return Ql(e)||XC(e)||uPe(e)||gd(e)||UBt(e)||HBt(e)||e===null||e===void 0}function HBt(e){var t=um(e)&&!yN(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||mn(e,i);return t&&n}function UBt(e){var t=Xl(e),n=!1;return t&&(n=e.filter(function(r){return!gd(r)&&uPe(e)}).length===0),t&&n}function WBt(e){var t=um(e)&&!yN(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||mn(e,i);return t&&n}function YBt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function qBt(e,t){arguments.length===1&&(arguments[0]?VBt(arguments[0])?(e=arguments[0],t=void 0):WBt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||hr(),r=$N(n,this).startOf("day"),o=Me.calendarFormat(this,r)||"sameElse",i=t&&(au(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,hr(n)))}function GBt(){return new QC(this)}function KBt(e,t){var n=Ql(e)?e:hr(e);return this.isValid()&&n.isValid()?(t=vl(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function ZBt(e,t){var n=Ql(e)?e:hr(e);return this.isValid()&&n.isValid()?(t=vl(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function XBt(e,t,n,r){var o=Ql(e)?e:hr(e),i=Ql(t)?t:hr(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function QBt(e,t){var n=Ql(e)?e:hr(e),r;return this.isValid()&&n.isValid()?(t=vl(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function JBt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function eNt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function tNt(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(r=$N(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=vl(t),t){case"year":i=IE(this,r)/12;break;case"month":i=IE(this,r);break;case"quarter":i=IE(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:Ha(i)}function IE(e,t){if(e.date()<t.date())return-IE(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,i;return t-r<0?(o=e.clone().add(n-1,"months"),i=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),i=(t-r)/(o-r)),-(n+i)||0}Me.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Me.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function nNt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rNt(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?DE(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):au(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",DE(n,"Z")):DE(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function oNt(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+o+i)}function iNt(e){e||(e=this.isUtc()?Me.defaultFormatUtc:Me.defaultFormat);var t=DE(this,e);return this.localeData().postformat(t)}function sNt(e,t){return this.isValid()&&(Ql(e)&&e.isValid()||hr(e).isValid())?sc({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function aNt(e){return this.from(hr(),e)}function lNt(e,t){return this.isValid()&&(Ql(e)&&e.isValid()||hr(e).isValid())?sc({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cNt(e){return this.to(hr(),e)}function dPe(e){var t;return e===void 0?this._locale._abbr:(t=Rd(e),t!=null&&(this._locale=t),this)}var fPe=gl("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function hPe(){return this._locale}var cj=1e3,a0=60*cj,uj=60*a0,pPe=(365*400+97)*24*uj;function l0(e,t){return(e%t+t)%t}function mPe(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-pPe:new Date(e,t,n).valueOf()}function gPe(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-pPe:Date.UTC(e,t,n)}function uNt(e){var t,n;if(e=vl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?gPe:mPe,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=l0(t+(this._isUTC?0:this.utcOffset()*a0),uj);break;case"minute":t=this._d.valueOf(),t-=l0(t,a0);break;case"second":t=this._d.valueOf(),t-=l0(t,cj);break}return this._d.setTime(t),Me.updateOffset(this,!0),this}function dNt(e){var t,n;if(e=vl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?gPe:mPe,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=uj-l0(t+(this._isUTC?0:this.utcOffset()*a0),uj)-1;break;case"minute":t=this._d.valueOf(),t+=a0-l0(t,a0)-1;break;case"second":t=this._d.valueOf(),t+=cj-l0(t,cj)-1;break}return this._d.setTime(t),Me.updateOffset(this,!0),this}function fNt(){return this._d.valueOf()-(this._offset||0)*6e4}function hNt(){return Math.floor(this.valueOf()/1e3)}function pNt(){return new Date(this.valueOf())}function mNt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function gNt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function vNt(){return this.isValid()?this.toISOString():null}function yNt(){return bN(this)}function bNt(){return Ef({},jt(this))}function xNt(){return jt(this).overflow}function wNt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}et("N",0,0,"eraAbbr");et("NN",0,0,"eraAbbr");et("NNN",0,0,"eraAbbr");et("NNNN",0,0,"eraName");et("NNNNN",0,0,"eraNarrow");et("y",["y",1],"yo","eraYear");et("y",["yy",2],0,"eraYear");et("y",["yyy",3],0,"eraYear");et("y",["yyyy",4],0,"eraYear");Ve("N",RN);Ve("NN",RN);Ve("NNN",RN);Ve("NNNN",INt);Ve("NNNNN",ONt);Ln(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?jt(n).era=o:jt(n).invalidEra=e});Ve("y",B1);Ve("yy",B1);Ve("yyy",B1);Ve("yyyy",B1);Ve("yo",$Nt);Ln(["y","yy","yyy","yyyy"],Fi);Ln(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Fi]=n._locale.eraYearOrdinalParse(e,o):t[Fi]=parseInt(e,10)});function CNt(e,t){var n,r,o,i=this._eras||Rd("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=Me(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=Me(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function _Nt(e,t,n){var r,o,i=this.eras(),s,a,l;for(e=e.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(l===e)return i[r];break}else if([s,a,l].indexOf(e)>=0)return i[r]}function SNt(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Me(e.since).year():Me(e.since).year()+(t-e.offset)*n}function ENt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function kNt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function jNt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function TNt(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-Me(o[e].since).year())*n+o[e].offset;return this.year()}function ANt(e){return mn(this,"_erasNameRegex")||MN.call(this),e?this._erasNameRegex:this._erasRegex}function DNt(e){return mn(this,"_erasAbbrRegex")||MN.call(this),e?this._erasAbbrRegex:this._erasRegex}function PNt(e){return mn(this,"_erasNarrowRegex")||MN.call(this),e?this._erasNarrowRegex:this._erasRegex}function RN(e,t){return t.erasAbbrRegex(e)}function INt(e,t){return t.erasNameRegex(e)}function ONt(e,t){return t.erasNarrowRegex(e)}function $Nt(e,t){return t._eraYearOrdinalRegex||B1}function MN(){var e=[],t=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)t.push(oa(s[o].name)),e.push(oa(s[o].abbr)),n.push(oa(s[o].narrow)),r.push(oa(s[o].name)),r.push(oa(s[o].abbr)),r.push(oa(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}et(0,["gg",2],0,function(){return this.weekYear()%100});et(0,["GG",2],0,function(){return this.isoWeekYear()%100});function PD(e,t){et(0,[e,e.length],0,t)}PD("gggg","weekYear");PD("ggggg","weekYear");PD("GGGG","isoWeekYear");PD("GGGGG","isoWeekYear");Yi("weekYear","gg");Yi("isoWeekYear","GG");qi("weekYear",1);qi("isoWeekYear",1);Ve("G",kD);Ve("g",kD);Ve("GG",vr,ka);Ve("gg",vr,ka);Ve("GGGG",EN,SN);Ve("gggg",EN,SN);Ve("GGGGG",ED,_D);Ve("ggggg",ED,_D);e_(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Lt(e)});e_(["gg","GG"],function(e,t,n,r){t[r]=Me.parseTwoDigitYear(e)});function RNt(e){return vPe.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function MNt(e){return vPe.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function FNt(){return Yu(this.year(),1,4)}function LNt(){return Yu(this.isoWeekYear(),1,4)}function BNt(){var e=this.localeData()._week;return Yu(this.year(),e.dow,e.doy)}function NNt(){var e=this.localeData()._week;return Yu(this.weekYear(),e.dow,e.doy)}function vPe(e,t,n,r,o){var i;return e==null?Ew(this,r,o).year:(i=Yu(e,r,o),t>i&&(t=i),zNt.call(this,e,t,n,r,o))}function zNt(e,t,n,r,o){var i=ZDe(e,t,n,r,o),s=Sw(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}et("Q",0,"Qo","quarter");Yi("quarter","Q");qi("quarter",7);Ve("Q",NDe);Ln("Q",function(e,t){t[Fu]=(Lt(e)-1)*3});function VNt(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}et("D",["DD",2],"Do","date");Yi("date","D");qi("date",9);Ve("D",vr);Ve("DD",vr,ka);Ve("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Ln(["D","DD"],$c);Ln("Do",function(e,t){t[$c]=Lt(e.match(vr)[0])});var yPe=L1("Date",!0);et("DDD",["DDDD",3],"DDDo","dayOfYear");Yi("dayOfYear","DDD");qi("dayOfYear",4);Ve("DDD",SD);Ve("DDDD",zDe);Ln(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Lt(e)});function HNt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}et("m",["mm",2],0,"minute");Yi("minute","m");qi("minute",14);Ve("m",vr);Ve("mm",vr,ka);Ln(["m","mm"],Ll);var UNt=L1("Minutes",!1);et("s",["ss",2],0,"second");Yi("second","s");qi("second",15);Ve("s",vr);Ve("ss",vr,ka);Ln(["s","ss"],Lu);var WNt=L1("Seconds",!1);et("S",0,0,function(){return~~(this.millisecond()/100)});et(0,["SS",2],0,function(){return~~(this.millisecond()/10)});et(0,["SSS",3],0,"millisecond");et(0,["SSSS",4],0,function(){return this.millisecond()*10});et(0,["SSSSS",5],0,function(){return this.millisecond()*100});et(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});et(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});et(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});et(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Yi("millisecond","ms");qi("millisecond",16);Ve("S",SD,NDe);Ve("SS",SD,ka);Ve("SSS",SD,zDe);var kf,bPe;for(kf="SSSS";kf.length<=9;kf+="S")Ve(kf,B1);function YNt(e,t){t[Up]=Lt(("0."+e)*1e3)}for(kf="S";kf.length<=9;kf+="S")Ln(kf,YNt);bPe=L1("Milliseconds",!1);et("z",0,0,"zoneAbbr");et("zz",0,0,"zoneName");function qNt(){return this._isUTC?"UTC":""}function GNt(){return this._isUTC?"Coordinated Universal Time":""}var Te=QC.prototype;Te.add=NBt;Te.calendar=qBt;Te.clone=GBt;Te.diff=tNt;Te.endOf=dNt;Te.format=iNt;Te.from=sNt;Te.fromNow=aNt;Te.to=lNt;Te.toNow=cNt;Te.get=Z9t;Te.invalidAt=xNt;Te.isAfter=KBt;Te.isBefore=ZBt;Te.isBetween=XBt;Te.isSame=QBt;Te.isSameOrAfter=JBt;Te.isSameOrBefore=eNt;Te.isValid=yNt;Te.lang=fPe;Te.locale=dPe;Te.localeData=hPe;Te.max=yBt;Te.min=vBt;Te.parsingFlags=bNt;Te.set=X9t;Te.startOf=uNt;Te.subtract=zBt;Te.toArray=mNt;Te.toObject=gNt;Te.toDate=pNt;Te.toISOString=rNt;Te.inspect=oNt;typeof Symbol<"u"&&Symbol.for!=null&&(Te[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Te.toJSON=vNt;Te.toString=nNt;Te.unix=hNt;Te.valueOf=fNt;Te.creationData=wNt;Te.eraName=ENt;Te.eraNarrow=kNt;Te.eraAbbr=jNt;Te.eraYear=TNt;Te.year=KDe;Te.isLeapYear=g7t;Te.weekYear=RNt;Te.isoWeekYear=MNt;Te.quarter=Te.quarters=VNt;Te.month=qDe;Te.daysInMonth=h7t;Te.week=Te.weeks=C7t;Te.isoWeek=Te.isoWeeks=_7t;Te.weeksInYear=BNt;Te.weeksInWeekYear=NNt;Te.isoWeeksInYear=FNt;Te.isoWeeksInISOWeekYear=LNt;Te.date=yPe;Te.day=Te.days=M7t;Te.weekday=F7t;Te.isoWeekday=L7t;Te.dayOfYear=HNt;Te.hour=Te.hours=W7t;Te.minute=Te.minutes=UNt;Te.second=Te.seconds=WNt;Te.millisecond=Te.milliseconds=bPe;Te.utcOffset=jBt;Te.utc=ABt;Te.local=DBt;Te.parseZone=PBt;Te.hasAlignedHourOffset=IBt;Te.isDST=OBt;Te.isLocal=RBt;Te.isUtcOffset=MBt;Te.isUtc=aPe;Te.isUTC=aPe;Te.zoneAbbr=qNt;Te.zoneName=GNt;Te.dates=gl("dates accessor is deprecated. Use date instead.",yPe);Te.months=gl("months accessor is deprecated. Use month instead",qDe);Te.years=gl("years accessor is deprecated. Use year instead",KDe);Te.zone=gl("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",TBt);Te.isDSTShifted=gl("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",$Bt);function KNt(e){return hr(e*1e3)}function ZNt(){return hr.apply(null,arguments).parseZone()}function xPe(e){return e}var gn=wN.prototype;gn.calendar=M9t;gn.longDateFormat=N9t;gn.invalidDate=V9t;gn.ordinal=W9t;gn.preparse=xPe;gn.postformat=xPe;gn.relativeTime=q9t;gn.pastFuture=G9t;gn.set=$9t;gn.eras=CNt;gn.erasParse=_Nt;gn.erasConvertYear=SNt;gn.erasAbbrRegex=DNt;gn.erasNameRegex=ANt;gn.erasNarrowRegex=PNt;gn.months=c7t;gn.monthsShort=u7t;gn.monthsParse=f7t;gn.monthsRegex=m7t;gn.monthsShortRegex=p7t;gn.week=y7t;gn.firstDayOfYear=w7t;gn.firstDayOfWeek=x7t;gn.weekdays=P7t;gn.weekdaysMin=O7t;gn.weekdaysShort=I7t;gn.weekdaysParse=R7t;gn.weekdaysRegex=B7t;gn.weekdaysShortRegex=N7t;gn.weekdaysMinRegex=z7t;gn.isPM=H7t;gn.meridiem=Y7t;function dj(e,t,n,r){var o=Rd(),i=su().set(r,t);return o[n](i,e)}function wPe(e,t,n){if(gd(e)&&(t=e,e=void 0),e=e||"",t!=null)return dj(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=dj(e,r,n,"month");return o}function FN(e,t,n,r){typeof e=="boolean"?(gd(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,gd(t)&&(n=t,t=void 0),t=t||"");var o=Rd(),i=e?o._week.dow:0,s,a=[];if(n!=null)return dj(t,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=dj(t,(s+i)%7,r,"day");return a}function XNt(e,t){return wPe(e,t,"months")}function QNt(e,t){return wPe(e,t,"monthsShort")}function JNt(e,t,n){return FN(e,t,n,"weekdays")}function ezt(e,t,n){return FN(e,t,n,"weekdaysShort")}function tzt(e,t,n){return FN(e,t,n,"weekdaysMin")}Yf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Lt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Me.lang=gl("moment.lang is deprecated. Use moment.locale instead.",Yf);Me.langData=gl("moment.langData is deprecated. Use moment.localeData instead.",Rd);var vu=Math.abs;function nzt(){var e=this._data;return this._milliseconds=vu(this._milliseconds),this._days=vu(this._days),this._months=vu(this._months),e.milliseconds=vu(e.milliseconds),e.seconds=vu(e.seconds),e.minutes=vu(e.minutes),e.hours=vu(e.hours),e.months=vu(e.months),e.years=vu(e.years),this}function CPe(e,t,n,r){var o=sc(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function rzt(e,t){return CPe(this,e,t,1)}function ozt(e,t){return CPe(this,e,t,-1)}function Ete(e){return e<0?Math.floor(e):Math.ceil(e)}function izt(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,i,s,a,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=Ete(k4(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=Ha(e/1e3),r.seconds=o%60,i=Ha(o/60),r.minutes=i%60,s=Ha(i/60),r.hours=s%24,t+=Ha(s/24),l=Ha(_Pe(t)),n+=l,t-=Ete(k4(l)),a=Ha(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function _Pe(e){return e*4800/146097}function k4(e){return e*146097/4800}function szt(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=vl(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+_Pe(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(k4(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function azt(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Lt(this._months/12)*31536e6:NaN}function Md(e){return function(){return this.as(e)}}var lzt=Md("ms"),czt=Md("s"),uzt=Md("m"),dzt=Md("h"),fzt=Md("d"),hzt=Md("w"),pzt=Md("M"),mzt=Md("Q"),gzt=Md("y");function vzt(){return sc(this)}function yzt(e){return e=vl(e),this.isValid()?this[e+"s"]():NaN}function mg(e){return function(){return this.isValid()?this._data[e]:NaN}}var bzt=mg("milliseconds"),xzt=mg("seconds"),wzt=mg("minutes"),Czt=mg("hours"),_zt=mg("days"),Szt=mg("months"),Ezt=mg("years");function kzt(){return Ha(this.days()/7)}var Tu=Math.round,$v={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function jzt(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function Tzt(e,t,n,r){var o=sc(e).abs(),i=Tu(o.as("s")),s=Tu(o.as("m")),a=Tu(o.as("h")),l=Tu(o.as("d")),u=Tu(o.as("M")),d=Tu(o.as("w")),f=Tu(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,jzt.apply(null,p)}function Azt(e){return e===void 0?Tu:typeof e=="function"?(Tu=e,!0):!1}function Dzt(e,t){return $v[e]===void 0?!1:t===void 0?$v[e]:($v[e]=t,e==="s"&&($v.ss=t-1),!0)}function Pzt(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=$v,o,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},$v,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=Tzt(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var M3=Math.abs;function Ng(e){return(e>0)-(e<0)||+e}function ID(){if(!this.isValid())return this.localeData().invalidDate();var e=M3(this._milliseconds)/1e3,t=M3(this._days),n=M3(this._months),r,o,i,s,a=this.asSeconds(),l,u,d,f;return a?(r=Ha(e/60),o=Ha(r/60),e%=60,r%=60,i=Ha(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Ng(this._months)!==Ng(a)?"-":"",d=Ng(this._days)!==Ng(a)?"-":"",f=Ng(this._milliseconds)!==Ng(a)?"-":"",l+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(o||r||e?"T":"")+(o?f+o+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var on=DD.prototype;on.isValid=_Bt;on.abs=nzt;on.add=rzt;on.subtract=ozt;on.as=szt;on.asMilliseconds=lzt;on.asSeconds=czt;on.asMinutes=uzt;on.asHours=dzt;on.asDays=fzt;on.asWeeks=hzt;on.asMonths=pzt;on.asQuarters=mzt;on.asYears=gzt;on.valueOf=azt;on._bubble=izt;on.clone=vzt;on.get=yzt;on.milliseconds=bzt;on.seconds=xzt;on.minutes=wzt;on.hours=Czt;on.days=_zt;on.weeks=kzt;on.months=Szt;on.years=Ezt;on.humanize=Pzt;on.toISOString=ID;on.toString=ID;on.toJSON=ID;on.locale=dPe;on.localeData=hPe;on.toIsoString=gl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ID);on.lang=fPe;et("X",0,0,"unix");et("x",0,0,"valueOf");Ve("x",kD);Ve("X",J9t);Ln("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Ln("x",function(e,t,n){n._d=new Date(Lt(e))});//! moment.js
Me.version="2.29.4";I9t(hr);Me.fn=Te;Me.min=bBt;Me.max=xBt;Me.now=wBt;Me.utc=su;Me.unix=KNt;Me.months=XNt;Me.isDate=XC;Me.locale=Yf;Me.invalid=wD;Me.duration=sc;Me.isMoment=Ql;Me.weekdays=JNt;Me.parseZone=ZNt;Me.localeData=Rd;Me.isDuration=PE;Me.monthsShort=QNt;Me.weekdaysMin=tzt;Me.defineLocale=AN;Me.updateLocale=Z7t;Me.locales=X7t;Me.weekdaysShort=ezt;Me.normalizeUnits=vl;Me.relativeTimeRounding=Azt;Me.relativeTimeThreshold=Dzt;Me.calendarFormat=YBt;Me.prototype=Te;Me.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function OD(e,t){return Me(e).format(t)}function LN(e,t){const n=Me(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}var Izt=Fke,Ozt=A1,kte=QA;function $zt(e,t,n){var r=e.length;if(r<2)return r?kte(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=Izt(i[o]||s,e[a],t,n));return kte(Ozt(i,1),t,n)}var Rzt=$zt,Mzt=XEe,Fzt=P1,Lzt=Rzt,Bzt=$A,Nzt=Fzt(function(e){return Lzt(Mzt(e,Bzt))}),zzt=Nzt;const Vzt=Pe(zzt);var Hzt=RA,Uzt=wB,Wzt=Object.prototype,Yzt=Wzt.hasOwnProperty,qzt=Uzt(function(e,t,n){Yzt.call(e,n)?e[n].push(t):Hzt(e,n,[t])}),Gzt=qzt;const BN=Pe(Gzt);function Kzt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const $D=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function N1(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function NN(e){return"nodeType"in e}function Vs(e){var t,n;return e?N1(e)?e:NN(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function zN(e){const{Document:t}=Vs(e);return e instanceof t}function t_(e){return N1(e)?!1:e instanceof Vs(e).HTMLElement}function SPe(e){return e instanceof Vs(e).SVGElement}function z1(e){return e?N1(e)?e.document:NN(e)?zN(e)?e:t_(e)||SPe(e)?e.ownerDocument:document:document:document}const Jl=$D?h.useLayoutEffect:h.useEffect;function VN(e){const t=h.useRef(e);return Jl(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Zzt(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function jw(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Jl(()=>{n.current!==e&&(n.current=e)},t),n}function n_(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function fj(e){const t=VN(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function j4(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let F3={};function r_(e,t){return h.useMemo(()=>{if(t)return t;const n=F3[e]==null?0:F3[e]+1;return F3[e]=n,e+"-"+n},[e,t])}function EPe(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[l,u]of a){const d=i[l];d!=null&&(i[l]=d+e*u)}return i},{...t})}}const c0=EPe(1),Tw=EPe(-1);function Xzt(e){return"clientX"in e&&"clientY"in e}function HN(e){if(!e)return!1;const{KeyboardEvent:t}=Vs(e.target);return t&&e instanceof t}function Qzt(e){if(!e)return!1;const{TouchEvent:t}=Vs(e.target);return t&&e instanceof t}function T4(e){if(Qzt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Xzt(e)?{x:e.clientX,y:e.clientY}:null}const Aw=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Aw.Translate.toString(e),Aw.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),jte="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Jzt(e){return e.matches(jte)?e:e.querySelector(jte)}const eVt={display:"none"};function tVt(e){let{id:t,value:n}=e;return ne.createElement("div",{id:t,style:eVt},n)}function nVt(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ne.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function rVt(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const kPe=h.createContext(null);function oVt(e){const t=h.useContext(kPe);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function iVt(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const sVt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},aVt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function lVt(e){let{announcements:t=aVt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=sVt}=e;const{announce:i,announcement:s}=rVt(),a=r_("DndLiveRegion"),[l,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),oVt(h.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&i(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;i(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;i(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;i(t.onDragCancel({active:p,over:m}))}}),[i,t])),!l)return null;const d=ne.createElement(ne.Fragment,null,ne.createElement(tVt,{id:r,value:o.draggable}),ne.createElement(nVt,{id:a,announcement:s}));return n?Pc.createPortal(d,n):d}var Do;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Do||(Do={}));function hj(){}function Tte(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function cVt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ec=Object.freeze({x:0,y:0});function jPe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function TPe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function uVt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Ate(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function APe(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function Dte(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const dVt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Dte(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=jPe(Dte(l),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(TPe)},fVt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Ate(t),i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=Ate(l),d=o.reduce((p,m,v)=>p+jPe(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(TPe)};function hVt(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const l=t.width*t.height,u=e.width*e.height,d=s*a,f=d/(l+u-d);return Number(f.toFixed(4))}return 0}const pVt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const l=hVt(a,t);l>0&&o.push({id:s,data:{droppableContainer:i,value:l}})}}return o.sort(uVt)};function mVt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function DPe(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ec}function gVt(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const vVt=gVt(1);function yVt(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function bVt(e,t,n){const r=yVt(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,l=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l}}const xVt={ignoreTransform:!1};function V1(e,t){t===void 0&&(t=xVt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Vs(e).getComputedStyle(e);u&&(n=bVt(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:l}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:l}}function Pte(e){return V1(e,{ignoreTransform:!0})}function wVt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function CVt(e,t){return t===void 0&&(t=Vs(e).getComputedStyle(e)),t.position==="fixed"}function _Vt(e,t){t===void 0&&(t=Vs(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function RD(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(zN(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!t_(o)||SPe(o)||n.includes(o))return n;const i=Vs(e).getComputedStyle(o);return o!==e&&_Vt(o,i)&&n.push(o),CVt(o,i)?n:r(o.parentNode)}return e?r(e):n}function PPe(e){const[t]=RD(e,1);return t??null}function L3(e){return!$D||!e?null:N1(e)?e:NN(e)?zN(e)||e===z1(e).scrollingElement?window:t_(e)?e:null:null}function IPe(e){return N1(e)?e.scrollX:e.scrollLeft}function OPe(e){return N1(e)?e.scrollY:e.scrollTop}function A4(e){return{x:IPe(e),y:OPe(e)}}var Uo;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Uo||(Uo={}));function $Pe(e){return!$D||!e?!1:e===document.scrollingElement}function RPe(e){const t={x:0,y:0},n=$Pe(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const SVt={x:.2,y:.2};function EVt(e,t,n,r,o){let{top:i,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=SVt);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=RPe(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+g.height?(m.y=Uo.Backward,v.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&l>=t.bottom-g.height&&(m.y=Uo.Forward,v.y=r*Math.abs((t.bottom-g.height-l)/g.height)),!p&&a>=t.right-g.width?(m.x=Uo.Forward,v.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(m.x=Uo.Backward,v.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:v}}function kVt(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function MPe(e){return e.reduce((t,n)=>c0(t,A4(n)),ec)}function jVt(e){return e.reduce((t,n)=>t+IPe(n),0)}function TVt(e){return e.reduce((t,n)=>t+OPe(n),0)}function AVt(e,t){if(t===void 0&&(t=V1),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);PPe(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const DVt=[["x",["left","right"],jVt],["y",["top","bottom"],TVt]];let UN=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=RD(n),o=MPe(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of DVt)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class gx{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function PVt(e){const{EventTarget:t}=Vs(e);return e instanceof t?e:z1(e)}function B3(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Na;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Na||(Na={}));function Ite(e){e.preventDefault()}function IVt(e){e.stopPropagation()}var Jt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Jt||(Jt={}));const FPe={start:[Jt.Space,Jt.Enter],cancel:[Jt.Esc],end:[Jt.Space,Jt.Enter]},OVt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Jt.Right:return{...n,x:n.x+25};case Jt.Left:return{...n,x:n.x-25};case Jt.Down:return{...n,y:n.y+25};case Jt.Up:return{...n,y:n.y-25}}};class WN{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new gx(z1(n)),this.windowListeners=new gx(Vs(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Na.Resize,this.handleCancel),this.windowListeners.add(Na.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Na.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&AVt(r),n(ec)}handleKeyDown(t){if(HN(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=FPe,coordinateGetter:s=OVt,scrollBehavior:a="smooth"}=o,{code:l}=t;if(i.end.includes(l)){this.handleEnd(t);return}if(i.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:ec;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=Tw(f,d),m={x:0,y:0},{scrollableAncestors:v}=r.current;for(const g of v){const y=t.code,{isTop:x,isRight:b,isLeft:w,isBottom:C,maxScroll:_,minScroll:S}=RPe(g),E=kVt(g),j={x:Math.min(y===Jt.Right?E.right-E.width/2:E.right,Math.max(y===Jt.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(y===Jt.Down?E.bottom-E.height/2:E.bottom,Math.max(y===Jt.Down?E.top:E.top+E.height/2,f.y))},k=y===Jt.Right&&!b||y===Jt.Left&&!w,T=y===Jt.Down&&!C||y===Jt.Up&&!x;if(k&&j.x!==f.x){const A=g.scrollLeft+p.x,D=y===Jt.Right&&A<=_.x||y===Jt.Left&&A>=S.x;if(D&&!p.y){g.scrollTo({left:A,behavior:a});return}D?m.x=g.scrollLeft-A:m.x=y===Jt.Right?g.scrollLeft-_.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(T&&j.y!==f.y){const A=g.scrollTop+p.y,D=y===Jt.Down&&A<=_.y||y===Jt.Up&&A>=S.y;if(D&&!p.x){g.scrollTo({top:A,behavior:a});return}D?m.y=g.scrollTop-A:m.y=y===Jt.Down?g.scrollTop-_.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,c0(Tw(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}WN.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=FPe,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Ote(e){return!!(e&&"distance"in e)}function $te(e){return!!(e&&"delay"in e)}class YN{constructor(t,n,r){var o;r===void 0&&(r=PVt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=z1(s),this.documentListeners=new gx(this.document),this.listeners=new gx(r),this.windowListeners=new gx(Vs(s)),this.initialCoordinates=(o=T4(i))!=null?o:ec,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Na.Resize,this.handleCancel),this.windowListeners.add(Na.DragStart,Ite),this.windowListeners.add(Na.VisibilityChange,this.handleCancel),this.windowListeners.add(Na.ContextMenu,Ite),this.documentListeners.add(Na.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($te(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(Ote(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Na.Click,IVt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Na.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const l=(n=T4(t))!=null?n:ec,u=Tw(o,l);if(!r&&a){if(Ote(a)){if(a.tolerance!=null&&B3(u,a.tolerance))return this.handleCancel();if(B3(u,a.distance))return this.handleStart()}return $te(a)&&B3(u,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Jt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const $Vt={move:{name:"pointermove"},end:{name:"pointerup"}};class qN extends YN{constructor(t){const{event:n}=t,r=z1(n.target);super(t,$Vt,r)}}qN.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const RVt={move:{name:"mousemove"},end:{name:"mouseup"}};var D4;(function(e){e[e.RightClick=2]="RightClick"})(D4||(D4={}));class MVt extends YN{constructor(t){super(t,RVt,z1(t.event.target))}}MVt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===D4.RightClick?!1:(r==null||r({event:n}),!0)}}];const N3={move:{name:"touchmove"},end:{name:"touchend"}};class FVt extends YN{constructor(t){super(t,N3)}static setup(){return window.addEventListener(N3.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(N3.move.name,t)};function t(){}}}FVt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var vx;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(vx||(vx={}));var pj;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(pj||(pj={}));function LVt(e){let{acceleration:t,activator:n=vx.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=pj.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=NVt({delta:f,disabled:!i}),[v,g]=Zzt(),y=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),b=h.useMemo(()=>{switch(n){case vx.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case vx.DraggableRect:return o}},[n,o,l]),w=h.useRef(null),C=h.useCallback(()=>{const S=w.current;if(!S)return;const E=y.current.x*x.current.x,j=y.current.y*x.current.y;S.scrollBy(E,j)},[]),_=h.useMemo(()=>a===pj.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!i||!u.length||!b){g();return}for(const S of _){if((r==null?void 0:r(S))===!1)continue;const E=u.indexOf(S),j=d[E];if(!j)continue;const{direction:k,speed:T}=EVt(S,j,b,t,p);for(const A of["x","y"])m[A][k[A]]||(T[A]=0,k[A]=0);if(T.x>0||T.y>0){g(),w.current=S,v(C,s),y.current=T,x.current=k;return}}y.current={x:0,y:0},x.current={x:0,y:0},g()},[t,C,r,g,i,s,JSON.stringify(b),JSON.stringify(m),v,u,_,d,JSON.stringify(p)])}const BVt={x:{[Uo.Backward]:!1,[Uo.Forward]:!1},y:{[Uo.Backward]:!1,[Uo.Forward]:!1}};function NVt(e){let{delta:t,disabled:n}=e;const r=j4(t);return n_(o=>{if(n||!r||!o)return BVt;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Uo.Backward]:o.x[Uo.Backward]||i.x===-1,[Uo.Forward]:o.x[Uo.Forward]||i.x===1},y:{[Uo.Backward]:o.y[Uo.Backward]||i.y===-1,[Uo.Forward]:o.y[Uo.Forward]||i.y===1}}},[n,t,r])}function zVt(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return n_(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function VVt(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var Dw;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Dw||(Dw={}));var P4;(function(e){e.Optimized="optimized"})(P4||(P4={}));const Rte=new Map;function HVt(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=h.useState(null),{frequency:a,measure:l,strategy:u}=o,d=h.useRef(e),f=y(),p=jw(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(b=>b===null?x:b.concat(x.filter(w=>!b.includes(w))))},[p]),v=h.useRef(null),g=n_(x=>{if(f&&!n)return Rte;if(!x||x===Rte||d.current!==e||i!=null){const b=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const C=w.node.current,_=C?new UN(l(C),C):null;w.rect.current=_,_&&b.set(w.id,_)}return b}return x},[e,i,n,f,l]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[n,f]),h.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},a))},[a,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function y(){switch(u){case Dw.Always:return!1;case Dw.BeforeDragging:return n;default:return!n}}}function LPe(e,t){return n_(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function UVt(e,t){return LPe(e,t)}function WVt(e){let{callback:t,disabled:n}=e;const r=VN(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function MD(e){let{callback:t,disabled:n}=e;const r=VN(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function YVt(e){return new UN(V1(e),e)}function Mte(e,t,n){t===void 0&&(t=YVt);const[r,o]=h.useReducer(a,null),i=WVt({callback(l){if(e)for(const u of l){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=MD({callback:o});return Jl(()=>{o(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),r;function a(l){if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d}}function qVt(e){const t=LPe(e);return DPe(e,t)}const Fte=[];function GVt(e){const t=h.useRef(e),n=n_(r=>e?r&&r!==Fte&&e&&t.current&&e.parentNode===t.current.parentNode?r:RD(e):Fte,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function KVt(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(i=>{const s=L3(i.target);s&&n(a=>a?(a.set(s,A4(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(l=>{const u=L3(l);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,A4(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(l=>{const u=L3(l);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>c0(i,s),ec):MPe(e):ec,[e,t])}function Lte(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==ec;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Tw(e,n.current):ec}function ZVt(e){h.useEffect(()=>{if(!$D)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function XVt(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function BPe(e){return h.useMemo(()=>e?wVt(e):null,[e])}const z3=[];function QVt(e,t){t===void 0&&(t=V1);const[n]=e,r=BPe(n?Vs(n):null),[o,i]=h.useReducer(a,z3),s=MD({callback:i});return e.length>0&&o===z3&&i(),Jl(()=>{e.length?e.forEach(l=>s==null?void 0:s.observe(l)):(s==null||s.disconnect(),i())},[e]),o;function a(){return e.length?e.map(l=>$Pe(l)?r:new UN(t(l),l)):z3}}function JVt(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return t_(t)?t:e}function eHt(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(t_(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=MD({callback:o}),s=h.useCallback(u=>{const d=JVt(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,l]=fj(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const tHt=[{sensor:qN,options:{}},{sensor:WN,options:{}}],nHt={current:{}},OE={draggable:{measure:Pte},droppable:{measure:Pte,strategy:Dw.WhileDragging,frequency:P4.Optimized},dragOverlay:{measure:V1}};class yx extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const rHt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new yx,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hj},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:OE,measureDroppableContainers:hj,windowRect:null,measuringScheduled:!1},oHt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hj,draggableNodes:new Map,over:null,measureDroppableContainers:hj},FD=h.createContext(oHt),NPe=h.createContext(rHt);function iHt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new yx}}}function sHt(e,t){switch(t.type){case Do.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Do.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Do.DragEnd:case Do.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Do.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new yx(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Do.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new yx(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case Do.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new yx(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function aHt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(FD),i=j4(r),s=j4(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!HN(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const f=Jzt(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function lHt(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function cHt(e){return h.useMemo(()=>({draggable:{...OE.draggable,...e==null?void 0:e.draggable},droppable:{...OE.droppable,...e==null?void 0:e.droppable},dragOverlay:{...OE.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function uHt(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=h.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Jl(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=DPe(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=PPe(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const zPe=h.createContext({...ec,scaleX:1,scaleY:1});var cf;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(cf||(cf={}));const dHt=h.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:l=!0,children:u,sensors:d=tHt,collisionDetection:f=pVt,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(sHt,void 0,iHt),[y,x]=g,[b,w]=iVt(),[C,_]=h.useState(cf.Uninitialized),S=C===cf.Initialized,{draggable:{active:E,nodes:j,translate:k},droppable:{containers:T}}=y,A=E?j.get(E):null,D=h.useRef({initial:null,translated:null}),P=h.useMemo(()=>{var zn;return E!=null?{id:E,data:(zn=A==null?void 0:A.data)!=null?zn:nHt,rect:D}:null},[E,A]),I=h.useRef(null),[R,O]=h.useState(null),[V,B]=h.useState(null),H=jw(v,Object.values(v)),W=r_("DndDescribedBy",s),z=h.useMemo(()=>T.getEnabled(),[T]),G=cHt(p),{droppableRects:ee,measureDroppableContainers:N,measuringScheduled:Y}=HVt(z,{dragging:S,dependencies:[k.x,k.y],config:G.droppable}),q=zVt(j,E),Z=h.useMemo(()=>V?T4(V):null,[V]),ie=Hs(),re=UVt(q,G.draggable.measure);uHt({activeNode:E?j.get(E):null,config:ie.layoutShiftCompensation,initialRect:re,measure:G.draggable.measure});const K=Mte(q,G.draggable.measure,re),X=Mte(q?q.parentElement:null),ce=h.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:ee,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),me=T.getNodeFor((n=ce.current.over)==null?void 0:n.id),ae=eHt({measure:G.dragOverlay.measure}),Ce=(r=ae.nodeRef.current)!=null?r:q,_e=S?(o=ae.rect)!=null?o:K:null,he=!!(ae.nodeRef.current&&ae.rect),be=qVt(he?null:K),Le=BPe(Ce?Vs(Ce):null),$e=GVt(S?me??q:null),ct=QVt($e),ot=lHt(m,{transform:{x:k.x-be.x,y:k.y-be.y,scaleX:1,scaleY:1},activatorEvent:V,active:P,activeNodeRect:K,containerNodeRect:X,draggingNodeRect:_e,over:ce.current.over,overlayNodeRect:ae.rect,scrollableAncestors:$e,scrollableAncestorRects:ct,windowRect:Le}),Nt=Z?c0(Z,k):null,Rt=KVt($e),Ae=Lte(Rt),Ge=Lte(Rt,[K]),Ye=c0(ot,Ae),tt=_e?vVt(_e,ot):null,wt=P&&tt?f({active:P,collisionRect:tt,droppableRects:ee,droppableContainers:z,pointerCoordinates:Nt}):null,Ee=APe(wt,"id"),[Be,ut]=h.useState(null),bi=he?ot:c0(ot,Ge),sn=mVt(bi,(i=Be==null?void 0:Be.rect)!=null?i:null,K),ei=h.useCallback((zn,Hn)=>{let{sensor:Qr,options:We}=Hn;if(I.current==null)return;const Ct=j.get(I.current);if(!Ct)return;const rr=zn.nativeEvent,Vn=new Qr({active:I.current,activeNode:Ct,event:rr,options:We,context:ce,onStart(Ar){const Lo=I.current;if(Lo==null)return;const Us=j.get(Lo);if(!Us)return;const{onDragStart:Ta}=H.current,Dg={active:{id:Lo,data:Us.data,rect:D}};Pc.unstable_batchedUpdates(()=>{Ta==null||Ta(Dg),_(cf.Initializing),x({type:Do.DragStart,initialCoordinates:Ar,active:Lo}),b({type:"onDragStart",event:Dg})})},onMove(Ar){x({type:Do.DragMove,coordinates:Ar})},onEnd:ja(Do.DragEnd),onCancel:ja(Do.DragCancel)});Pc.unstable_batchedUpdates(()=>{O(Vn),B(zn.nativeEvent)});function ja(Ar){return async function(){const{active:Us,collisions:Ta,over:Dg,scrollAdjustedTranslate:B_}=ce.current;let fc=null;if(Us&&B_){const{cancelDrop:hu}=H.current;fc={activatorEvent:rr,active:Us,collisions:Ta,delta:B_,over:Dg},Ar===Do.DragEnd&&typeof hu=="function"&&await Promise.resolve(hu(fc))&&(Ar=Do.DragCancel)}I.current=null,Pc.unstable_batchedUpdates(()=>{x({type:Ar}),_(cf.Uninitialized),ut(null),O(null),B(null);const hu=Ar===Do.DragEnd?"onDragEnd":"onDragCancel";if(fc){const py=H.current[hu];py==null||py(fc),b({type:hu,event:fc})}})}}},[j]),Gt=h.useCallback((zn,Hn)=>(Qr,We)=>{const Ct=Qr.nativeEvent,rr=j.get(We);if(I.current!==null||!rr||Ct.dndKit||Ct.defaultPrevented)return;const Vn={active:rr};zn(Qr,Hn.options,Vn)===!0&&(Ct.dndKit={capturedBy:Hn.sensor},I.current=We,ei(Qr,Hn))},[j,ei]),so=VVt(d,Gt);ZVt(d),Jl(()=>{K&&C===cf.Initializing&&_(cf.Initialized)},[K,C]),h.useEffect(()=>{const{onDragMove:zn}=H.current,{active:Hn,activatorEvent:Qr,collisions:We,over:Ct}=ce.current;if(!Hn||!Qr)return;const rr={active:Hn,activatorEvent:Qr,collisions:We,delta:{x:Ye.x,y:Ye.y},over:Ct};Pc.unstable_batchedUpdates(()=>{zn==null||zn(rr),b({type:"onDragMove",event:rr})})},[Ye.x,Ye.y]),h.useEffect(()=>{const{active:zn,activatorEvent:Hn,collisions:Qr,droppableContainers:We,scrollAdjustedTranslate:Ct}=ce.current;if(!zn||I.current==null||!Hn||!Ct)return;const{onDragOver:rr}=H.current,Vn=We.get(Ee),ja=Vn&&Vn.rect.current?{id:Vn.id,rect:Vn.rect.current,data:Vn.data,disabled:Vn.disabled}:null,Ar={active:zn,activatorEvent:Hn,collisions:Qr,delta:{x:Ct.x,y:Ct.y},over:ja};Pc.unstable_batchedUpdates(()=>{ut(ja),rr==null||rr(Ar),b({type:"onDragOver",event:Ar})})},[Ee]),Jl(()=>{ce.current={activatorEvent:V,active:P,activeNode:q,collisionRect:tt,collisions:wt,droppableRects:ee,draggableNodes:j,draggingNode:Ce,draggingNodeRect:_e,droppableContainers:T,over:Be,scrollableAncestors:$e,scrollAdjustedTranslate:Ye},D.current={initial:_e,translated:tt}},[P,q,wt,tt,j,Ce,_e,ee,T,Be,$e,Ye]),LVt({...ie,delta:k,draggingRect:tt,pointerCoordinates:Nt,scrollableAncestors:$e,scrollableAncestorRects:ct});const wl=h.useMemo(()=>({active:P,activeNode:q,activeNodeRect:K,activatorEvent:V,collisions:wt,containerNodeRect:X,dragOverlay:ae,draggableNodes:j,droppableContainers:T,droppableRects:ee,over:Be,measureDroppableContainers:N,scrollableAncestors:$e,scrollableAncestorRects:ct,measuringConfiguration:G,measuringScheduled:Y,windowRect:Le}),[P,q,K,V,wt,X,ae,j,T,ee,Be,N,$e,ct,G,Y,Le]),Cl=h.useMemo(()=>({activatorEvent:V,activators:so,active:P,activeNodeRect:K,ariaDescribedById:{draggable:W},dispatch:x,draggableNodes:j,over:Be,measureDroppableContainers:N}),[V,so,P,K,x,W,j,Be,N]);return ne.createElement(kPe.Provider,{value:w},ne.createElement(FD.Provider,{value:Cl},ne.createElement(NPe.Provider,{value:wl},ne.createElement(zPe.Provider,{value:sn},u)),ne.createElement(aHt,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ne.createElement(lVt,{...a,hiddenTextDescribedById:W}));function Hs(){const zn=(R==null?void 0:R.autoScrollEnabled)===!1,Hn=typeof l=="object"?l.enabled===!1:l===!1,Qr=S&&!zn&&!Hn;return typeof l=="object"?{...l,enabled:Qr}:{enabled:Qr}}}),fHt=h.createContext(null),Bte="button",hHt="Droppable";function pHt(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=r_(hHt),{activators:s,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(FD),{role:m=Bte,roleDescription:v="draggable",tabIndex:g=0}=o??{},y=(l==null?void 0:l.id)===t,x=h.useContext(y?zPe:fHt),[b,w]=fj(),[C,_]=fj(),S=XVt(s,t),E=jw(n);Jl(()=>(f.set(t,{id:t,key:i,node:b,activatorNode:C,data:E}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const j=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":y&&m===Bte?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,g,y,v,d.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:y,listeners:r?void 0:S,node:b,over:p,setNodeRef:w,setActivatorNodeRef:_,transform:x}}function mHt(){return h.useContext(NPe)}const gHt="Droppable",vHt={timeout:25};function yHt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=r_(gHt),{active:s,dispatch:a,over:l,measureDroppableContainers:u}=h.useContext(FD),d=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:y}={...vHt,...o},x=jw(g??r),b=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},y)},[y]),w=MD({callback:b,disabled:v||!s}),C=h.useCallback((j,k)=>{w&&(k&&(w.unobserve(k),f.current=!1),j&&w.observe(j))},[w]),[_,S]=fj(C),E=jw(t);return h.useEffect(()=>{!w||!_.current||(w.disconnect(),f.current=!1,w.observe(_.current))},[_,w]),Jl(()=>(a({type:Do.RegisterDroppable,element:{id:r,key:i,disabled:n,node:_,rect:p,data:E}}),()=>a({type:Do.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(a({type:Do.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:p,isOver:(l==null?void 0:l.id)===r,node:_,over:l,setNodeRef:S}}function VPe(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function bHt(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function U2(e){return e!==null&&e>=0}function xHt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function wHt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const W2={scaleX:1,scaleY:1},CHt=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:s}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const l=_Ht(n,s,o);if(s===o){const u=n[i];return u?{x:o<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...W2}:null}return s>o&&s<=i?{x:-a.width-l,y:0,...W2}:s<o&&s>=i?{x:a.width+l,y:0,...W2}:{x:0,y:0,...W2}};function _Ht(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const HPe=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=VPe(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},Y2={scaleX:1,scaleY:1},SHt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...Y2}:null}const l=EHt(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-l,...Y2}:o<n&&o>=s?{x:0,y:a.height+l,...Y2}:{x:0,y:0,...Y2}};function EHt(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const UPe="Sortable",WPe=ne.createContext({activeIndex:-1,containerId:UPe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:HPe,disabled:{draggable:!1,droppable:!1}});function kHt(e){let{children:t,id:n,items:r,strategy:o=HPe,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:d}=mHt(),f=r_(UPe,n),p=a.rect!==null,m=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=s!=null,g=s?m.indexOf(s.id):-1,y=u?m.indexOf(u.id):-1,x=h.useRef(m),b=!xHt(m,x.current),w=y!==-1&&g===-1||b,C=wHt(i);Jl(()=>{b&&v&&d(m)},[b,m,v,d]),h.useEffect(()=>{x.current=m},[m]);const _=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:C,disableTransforms:w,items:m,overIndex:y,useDragOverlay:p,sortedRects:bHt(m,l),strategy:o}),[g,f,C.draggable,C.droppable,w,m,y,l,p,o]);return ne.createElement(WPe.Provider,{value:_},t)}const jHt=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return VPe(n,r,o).indexOf(t)},THt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:l,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===l},AHt={duration:200,easing:"ease"},YPe="transform",DHt=Aw.Transition.toString({property:YPe,duration:0,easing:"linear"}),PHt={roleDescription:"sortable"};function IHt(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=h.useState(null),a=h.useRef(n);return Jl(()=>{if(!t&&n!==a.current&&r.current){const l=o.current;if(l){const u=V1(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),h.useEffect(()=>{i&&s(null)},[i]),i}function qPe(e){let{animateLayoutChanges:t=THt,attributes:n,disabled:r,data:o,getNewIndex:i=jHt,id:s,strategy:a,resizeObserverConfig:l,transition:u=AHt}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:y,useDragOverlay:x,strategy:b}=h.useContext(WPe),w=OHt(r,m),C=d.indexOf(s),_=h.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...o}),[f,o,C,d]),S=h.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:E,node:j,isOver:k,setNodeRef:T}=yHt({id:s,data:_,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:A,activatorEvent:D,activeNodeRect:P,attributes:I,setNodeRef:R,listeners:O,isDragging:V,over:B,setActivatorNodeRef:H,transform:W}=pHt({id:s,data:_,attributes:{...PHt,...n},disabled:w.draggable}),z=Kzt(T,R),G=!!A,ee=G&&!v&&U2(p)&&U2(y),N=!x&&V,Y=N&&ee?W:null,Z=ee?Y??(a??b)({rects:g,activeNodeRect:P,activeIndex:p,overIndex:y,index:C}):null,ie=U2(p)&&U2(y)?i({id:s,items:d,activeIndex:p,overIndex:y}):C,re=A==null?void 0:A.id,K=h.useRef({activeId:re,items:d,newIndex:ie,containerId:f}),X=d!==K.current.items,ce=t({active:A,containerId:f,isDragging:V,isSorting:G,id:s,index:C,items:d,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:u,wasDragging:K.current.activeId!=null}),me=IHt({disabled:!ce,index:C,node:j,rect:E});return h.useEffect(()=>{G&&K.current.newIndex!==ie&&(K.current.newIndex=ie),f!==K.current.containerId&&(K.current.containerId=f),d!==K.current.items&&(K.current.items=d)},[G,ie,f,d]),h.useEffect(()=>{if(re===K.current.activeId)return;if(re&&!K.current.activeId){K.current.activeId=re;return}const Ce=setTimeout(()=>{K.current.activeId=re},50);return()=>clearTimeout(Ce)},[re]),{active:A,activeIndex:p,attributes:I,data:_,rect:E,index:C,newIndex:ie,items:d,isOver:k,isSorting:G,isDragging:V,listeners:O,node:j,overIndex:y,over:B,setNodeRef:z,setActivatorNodeRef:H,setDroppableNodeRef:T,setDraggableNodeRef:R,transform:me??Z,transition:ae()};function ae(){if(me||X&&K.current.newIndex===C)return DHt;if(!(N&&!HN(D)||!u)&&(G||ce))return Aw.Transition.toString({...u,property:YPe})}}function OHt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function mj(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const $Ht=[Jt.Down,Jt.Right,Jt.Up,Jt.Left],RHt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if($Ht.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Jt.Down:r.top<p.top&&l.push(f);break;case Jt.Up:r.top>p.top&&l.push(f);break;case Jt.Left:r.left>p.left&&l.push(f);break;case Jt.Right:r.left<p.left&&l.push(f);break}});const u=fVt({active:n,collisionRect:r,droppableRects:o,droppableContainers:l,pointerCoordinates:null});let d=APe(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),p=i.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const y=RD(v).some((S,E)=>a[E]!==S),x=GPe(f,p),b=MHt(f,p),w=y||!x?{x:0,y:0}:{x:b?r.width-m.width:0,y:b?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:Tw(C,w)}}}};function GPe(e,t){return!mj(e)||!mj(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function MHt(e,t){return!mj(e)||!mj(t)||!GPe(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const FHt=e=>{let{transform:t}=e;return{...t,y:0}},LHt=e=>{let{transform:t}=e;return{...t,x:0}};var BHt=Gm;function NHt(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(s!=null&&(a===void 0?s===s&&!BHt(s):n(s,a)))var a=s,l=i}return l}var KPe=NHt;function zHt(e,t){return e<t}var VHt=zHt,HHt=KPe,UHt=VHt,WHt=cg;function YHt(e){return e&&e.length?HHt(e,WHt,UHt):void 0}var qHt=YHt;const GHt=Pe(qHt);function KHt(e,t){return e>t}var ZHt=KHt,XHt=KPe,QHt=ZHt,JHt=cg;function eUt(e){return e&&e.length?XHt(e,JHt,QHt):void 0}var tUt=eUt;const nUt=Pe(tUt);var I4={exports:{}};function rUt(e){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=a,n.humanize=OA(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var E=m[b];C=S.call(g,E),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var oUt=rUt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=oUt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(I4,I4.exports);var iUt=I4.exports;const sUt=Pe(iUt),aUt=/[0-9]/,lUt=/^[a-zA-Z0-9_]$/,cUt=/^[a-zA-Z_]$/,ZPe={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},uUt=Object.keys(ZPe);class dUt{constructor(t){this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(o=>(n=o(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const o=t(this.source[this.i]);if(o===null)break;r+=o,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error("Expected ".concat(t," at end of jsonpath"));if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error('Expected "'.concat(t,'", but source contained "').concat(this.source.slice()))}tryConsume(t){return this.i+t.length>this.length?null:t===this.source.slice(this.i,this.i+t.length)?(this.i+=t.length,t):null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(o=>n?(n=!1,o):o==="\\"?(n=!0,""):o!=t?o:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(cUt)?r:null):r.match(lUt)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const i=this.takeWhile(s=>s==="."&&!n&&r?(n=!0,s):(r=!0,s.match(aUt)?s:null));return i!==null?{type:"number",value:o?-i:+i,raw:o?"-".concat(i):i}:(this.i=t,null)}tokenizeSymbol(){for(const t of uUt){const r=ZPe[t].find(o=>this.tryConsume(o));if(r)return{type:t,symbol:r}}return null}}function fUt(e){return new dUt(e).tokenize()}class hUt{constructor(t){this.tokens=fUt(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const o={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=t,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const o=n,i=this.parseLiteralValue();if(!i)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:o,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function XPe(e){const t=new hUt(e).parse();if(!t)throw new Error('Failed to parse JSON path "'.concat(e,'"'));return t}function pUt(e){const[t,n]=QPe(e);if(!t)throw new Error("Head cannot be null");return gUt(t,n)}function QPe(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function mUt(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function gUt(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,o]=QPe(n);return[r,mUt(o,t)]}return[n,t]})}function JPe(e){return ov(e,!1)}function ov(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return"".concat(e.value);case"range":{const n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{const n=e.rhs?" ".concat(ov(e.rhs,!1)):"",r="".concat(ov(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const o=r.shift();o&&n.push(JPe(o));const i=r[0];i&&ov(i,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(e.nodes.map(n=>ov(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(ov(e.term,!1))}}class ra{constructor(t){if(!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=V3(r,t);let o="end"in this.expr&&this.expr.end||n();o=V3(o,t);const i="step"in this.expr&&this.expr.step||1;return{start:r,end:o,step:i}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const s=t.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return Nte(s,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(t.containerType()!=="object")return!1;const o=t.getAttribute(r.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const i=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return Nte(o.get(),n.operator,i)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new ra({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return pUt(this.expr).map(t=>{const[n,r]=t;return{head:n?new ra(n):null,tail:r?new ra(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new ra(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[V3(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:o,end:i}=r;r.step<0&&([o,i]=[i,o]);for(let s=o;s<i;s++)n.push(s);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return JPe(this.expr)}static fromPath(t){const n=XPe(t);if(!n)throw new Error('Failed to parse path "'.concat(t,'"'));return new ra(n)}static attributeReference(t){return new ra({type:"attribute",name:t})}static indexReference(t){return new ra({type:"index",value:t})}}function Nte(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error("Unsupported binary operator ".concat(t))}}function V3(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}class Rv{constructor(t,n){this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=$n(n.map(o=>o.iterateConstraints(t))),r=n.some(o=>o.head&&o.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new Rv(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const o=t.length();for(let i=0;i<o;i++){const s=t.getIndex(i);s&&n.testConstraint(s)&&r.push(new Rv(new ra({type:"index",value:i}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new Rv(t.head,t.tail)):[new Rv(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}class Wp{constructor(t,n){this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new Wp(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(o=>{if(o.hasArrived()){r.push(new ra({type:"alias",target:"self"}));return}const i=o.head;if(i&&!(t.containerType()==="array"&&!i.isIndexReference())&&!(t.containerType()==="object"&&!i.isAttributeReference()))if(o.tail){const s=new Wp(o.descend(),this);i.toFieldReferences().forEach(()=>{n.push({target:i,matcher:s})})}else r.push(i)}),this.hasRecursives()){const o=new Wp([],this);if(t.containerType()==="array"){const i=t.length();for(let s=0;s<i;s++)n.push({target:ra.indexReference(s),matcher:o})}else t.containerType()==="object"&&t.attributeKeys().forEach(i=>{n.push({target:ra.attributeReference(i),matcher:o})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=XPe(t);if(!n)throw new Error('Failed to parse path from "'.concat(t,'"'));const r=new Rv(null,new ra(n));return new Wp(r.descend())}}function $E(e){return e!==null&&typeof e=="object"}class gj{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new gj(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return $E(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return $E(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!$E(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new gj(this._value[t],this.path.concat(t)):null}get(){return this._value}}function vUt(e,t){const n=[],r=Wp.fromPath(e).setPayload(function(s){n.push(...s)}),o=new gj(t);return eIe(r,o),n}function eIe(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(o=>{zte(o.target,t).forEach(i=>{eIe(o.matcher,i)})}),r&&r.targets.forEach(o=>{typeof r.payload=="function"&&r.payload(zte(o,t))})}function zte(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error("Unable to derive accessor for target ".concat(e.toString()));return aD(n)}function yUt(e,t){return vUt(e,t).map(r=>({path:r.path,value:r.get()}))}const bUt=/^[a-z_$]+/;function tIe(e){let t="";return e.forEach((n,r)=>{t+=xUt(n,r===0)}),t}function xUt(e,t){if(typeof e=="number")return"[".concat(e,"]");if($E(e)){const n=e;return Object.keys(e).map(r=>wUt(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof e=="string"&&bUt.test(e)?t?e:".".concat(e):"['".concat(e,"']")}function wUt(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}class nIe{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(o.isSelfReference())r=r.set(this.value);else if(o.isIndexReference())o.toIndicies(n).forEach(i=>{r=r.setIndex(i,this.value)});else if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r=r.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}function Vte(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class Hte{constructor(t,n,r){this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get();r=r.setIndex(i,Vte(a,this.value))}continue}if(o.isAttributeReference()){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get();r=r.setAttribute(o.name(),Vte(s,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return r}}function LD(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}class CUt{constructor(t,n,r,o){this.id=t,this.location=n,this.path=r,this.items=o}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=_Ut(t,n);r=r.insertItemsAt(o,this.items);break}case"after":{const o=SUt(t,n);r=r.insertItemsAt(o+1,this.items);break}case"replace":{const o=LD(t,n);r=r.unsetIndices(o),r=r.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function _Ut(e,t){let n=GHt(LD(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:o}=r.expandRange();o<n&&(n=o)}}),n}function SUt(e,t){let n=nUt(LD(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:o}=r.expandRange();o>n&&(n=o)}}),n}class rIe{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r.hasAttribute(o.name())||(r=n.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}class EUt{constructor(t,n){this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(LD(t,n));break;case"object":t.forEach(o=>{r=r.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}function Ute(e,t){if(typeof t!="string")return t;const[n]=DDe(e,t,{allowExceedingIndices:!0});return n}class kUt{constructor(t,n,r){this.id=t,this.path=n,this.dmpPatch=IDe(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get(),l=Ute(this.dmpPatch,a);r=r.setIndex(i,l)}continue}if(o.isAttributeReference()&&r.hasAttribute(o.name())){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get(),a=Ute(this.dmpPatch,s);r=r.setAttribute(o.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return r}}function oIe(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(oIe(d)),t);const{set:n,setIfMissing:r,unset:o,diffMatchPatch:i,inc:s,dec:a,insert:l}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new rIe(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new nIe(e.id,u,n[u]))}),o&&o.forEach(u=>{t.push(new EUt(e.id,u))}),i&&Object.keys(i).forEach(u=>{t.push(new kUt(e.id,u,i[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new Hte(e.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new Hte(e.id,u,-a[u]))}),l){let u,d;const f=l;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new CUt(e.id,u,d,f.items))}return t}class Sc{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new Sc(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return Hy(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return Hy(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!Hy(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new Sc(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new Sc(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new Sc(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let o=0;o<n;o++)t.indexOf(o)===-1&&r.push(this._value[o]);return new Sc(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new Sc(r,this.path)}setAttribute(t,n){if(!Hy(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new Sc(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!Hy(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new Sc(n,this.path)}}function Hy(e){return e!==null&&typeof e=="object"}let jUt=class{constructor(t){this.patches=oIe(t)}apply(t){const n=new Sc(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const o=r.get();for(const i of this.patches){if(i.id!==o)continue;const s=Wp.fromPath(i.path).setPayload(i);n=O4(s,n)}return n}};function O4(e,t){const n=e.payload instanceof nIe||e.payload instanceof rIe;let r=t;const{leads:o,delivery:i}=e.match(t);return o.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(a=>{const l=r.getIndex(a);if(!l)throw new Error("Index out of bounds");r=r.setIndexAccessor(a,O4(s.matcher,l))});else if(s.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let a=r.getAttribute(s.target.name());if(!a&&n&&(r=r.setAttribute(s.target.name(),{}),a=r.getAttribute(s.target.name())),!a)return;const l=O4(s.matcher,a);a!==l&&(r=r.setAttributeAccessor(s.target.name(),l))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&TUt(i.payload)&&(r=i.payload.apply(i.targets,r)),r}function TUt(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const AUt=Od,Vt=sUt("mutator-document");class Hc{constructor(t){this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=AUt(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(o=>{if(o.create){const i=o.create||{};t.push(s=>s||Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const i=o.createIfNotExists||{};t.push(s=>s===null?Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}):s);return}if(o.createOrReplace){const i=o.createOrReplace||{};t.push(()=>Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.delete){t.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const i=new jUt(o.patch);t.push(s=>i.apply(s));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&t.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=o=>{if(n&&o&&n!==o._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(o._rev));let i=o;for(const s of t)i=s(i);return i&&r&&(i===o&&(i=Object.assign({},o)),i._rev=r),i}}apply(t){Vt("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return Vt("  => %O",n),n}static applyAll(t,n){return n.reduce((r,o)=>o.apply(r),t)}static squash(t,n){const r=n.reduce((o,i)=>o.concat(...i.mutations),[]);return new Hc({mutations:r})}}let DUt=class{constructor(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.lastStagedAt=null,this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Vt("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const i=new Date(this.HEAD._updatedAt);this.incoming.find(s=>s.timestamp&&s.timestamp<i)&&(this.incoming=this.incoming.filter(s=>s.timestamp&&s.timestamp<i))}let o=0;do{if(this.HEAD){const i=this.HEAD;n=i._rev?this.incoming.find(s=>s.previousRev===i._rev):void 0}else n=this.incoming.find(i=>i.appliesToMissingDocument());if(n){const i=this.applyIncoming(n);if(t=t||i,t&&r.push(n),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&Vt.enabled&&Vt("Unable to apply mutations %s",this.incoming.map(i=>i.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(Vt(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Vt("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return Vt.enabled&&(Vt("Incoming mutation ".concat(t.transactionId," appeared while there were pending or submitted local mutations")),Vt("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),Vt("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),Vt("needRebase === %s",n)),n}return Vt("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return Vt("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return Vt("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return Vt("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),Vt("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const o=[];this.pending.forEach(i=>{if(i.transactionId===t){r=i;return}o.push(i)}),r&&this.submitted.push(r),this.pending=o,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=Hc.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Wt(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};class q2{constructor(t){this.out=[],t?Vt("Reset mutation buffer to rev %s",t._rev):Vt("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(Vt("Purged mutation buffer"),n=new Hc({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,o={};for(const i of Object.keys(r))r.hasOwnProperty(i)&&(this.optimiseSetOperation(i,r[i])||(o[i]=r[i]));Object.keys(o).length>0&&(Vt("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}Vt("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=yUt(t,this.PRESTAGE);if(r.length!==1)return!1;const o=r[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let i=null;if(o.value===n)i=null;else if(typeof o.value=="string"&&typeof n=="string")try{const a=PDe(ADe(o.value,n));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:a}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const s=tIe(o.path);return i?this.setOperations[s]=i:delete this.setOperations[s],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new Hc({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new Hc({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}const PUt=1e3*60;class IUt{constructor(t,n){let{resolve:r,reject:o}=n;this.mutations=t,this.tries=0,this.resolve=r,this.reject=o}apply(t){return Hc.applyAll(t,this.mutations)}squash(t){const n=Hc.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const Wte=(e,t)=>e.concat(t.mutations);class OUt{constructor(t){this.committerRunning=!1,this.buffer=new q2(t),this.document=new DUt(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,o)=>this.handleDocRebase(n,r,o),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?Vt("Document state reset to revision %s",t._rev):Vt("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Vt("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Vt("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(Vt("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error("Mutation ".concat(t.transactionId," has previousRev === resultRev (").concat(t.previousRev,")"));return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}Vt("Committing local changes");const r=this.buffer.purge();this.commits.push(new IUt(r?[r]:[],{resolve:t,reject:n})),this.buffer=new q2(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),o={success:()=>{Vt("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{Vt("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,PUt))},cancel:i=>{this.commits.forEach(s=>s.reject(i)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new q2(this.LOCAL),this.committerRunning=!1}};Vt("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){Vt("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){Vt("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new q2(this.LOCAL),this.onMutation&&this.onMutation(t);return}Vt("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){Vt("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,s)=>s.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Wt(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(Wte,[]),n.reduce(Wte,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}function iIe(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if($Ut(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const o=r===0?"":".";return"".concat(t).concat(o).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function $Ut(e){return typeof e=="object"&&typeof e._key=="string"}class kb extends Error{constructor(t,n,r){const o=iIe(n);super("".concat(t," (at '").concat(o,"')")),this.path=n,this.serializedPath=o,this.value=r}}const RUt=/^[a-z0-9][a-z0-9_.-]+$/i,MUt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,FUt=/^[a-z_]/i;function Yte(e,t,n){if(!FUt.test(e))throw new kb("Keys must start with a letter (a-z)",n.concat(e),t);if(!MUt.test(e))throw new kb("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new kb("Keys must be strings",n.concat(e),t);if(!RUt.test(t))throw new kb("Invalid key - use less exotic characters",n.concat(e),t)}return e}const LUt=["_id","_type","_createdAt","_updatedAt","_rev"],$4={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function BUt(e){return{...$4,...e,diffMatchPatch:{...$4.diffMatchPatch,...e.diffMatchPatch||{}}}}function BD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$4,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return o;const i=Array.isArray(e)?"array":typeof e,s=Array.isArray(t)?"array":typeof t,a=i==="undefined",l=s==="undefined";if(a&&!l)return o.push({op:"set",path:r,value:t}),o;if(!a&&l)return o.push({op:"unset",path:r}),o;const u=BUt(n),d=a?s:i;return d==="object"||d==="array"?i!==s?(o.push({op:"set",path:r,value:t}),o):d==="array"?zUt(e,t,u,r,o):NUt(e,t,u,r,o):UUt(e,t,u,r,o)}function NUt(e,t,n,r,o){const i=r.length===0,s=Object.keys(e).filter(i?qte:Kte).map(d=>Yte(d,e[d],r)),a=s.length,l=Object.keys(t).filter(i?qte:Kte).map(d=>Yte(d,t[d],r)),u=l.length;for(let d=0;d<a;d++){const f=s[d];f in t||o.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=l[d];BD(e[f],t[f],n,r.concat([f]),o)}return o}function zUt(e,t,n,r,o){if(t.length>e.length&&o.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((l,u)=>GN(l,r,u,n))}),t.length<e.length){const l=e.length-t.length===1,u=e.slice(t.length);qUt(n)||!H3(u)?o.push({op:"unset",path:r.concat([l?t.length:[t.length,""]])}):o.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let l=0;l<t.length;l++)if(Array.isArray(t[l]))throw new kb("Multi-dimensional arrays not supported",r.concat(l),t[l]);const i=Math.min(e.length,t.length),s=e.slice(0,i),a=t.slice(0,i);return H3(s)&&H3(a)?VUt(s,a,n,r,o):sIe(s,a,n,r,o)}function sIe(e,t,n,r,o){for(let i=0;i<e.length;i++)BD(e[i],GN(t[i],r,i,n),n,r.concat(i),o);return o}function VUt(e,t,n,r,o){const i=Gte(e),s=Gte(t);if(!YUt(i.keys,s.keys))return sIe(e,t,n,r,o);for(let a=0;a<s.keys.length;a++){const l=s.keys[a],u=i.index[l],d=GN(s.index[l],r,a,n);BD(u,d,n,r.concat({_key:l}),o)}return o}function HUt(e,t,n,r){const{enabled:o,lengthThresholdRelative:i,lengthThresholdAbsolute:s}=n.diffMatchPatch,a=r[r.length-1];if(!o||typeof e!="string"||typeof t!="string"||typeof a=="string"&&a[0]==="_"||t.length<s)return;let l="";try{const u=ZC(e,t),d=mN(u);l=PDe(ADe(d))}catch{return}return l.length>t.length*i?void 0:{op:"diffMatchPatch",path:r,value:l}}function UUt(e,t,n,r,o){const i=HUt(e,t,n,r);return o.push(i||{op:"set",path:r,value:t}),o}function qte(e){return LUt.indexOf(e)===-1}function H3(e){const t=[];for(let n=0;n<e.length;n++){const r=WUt(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function WUt(e){return typeof e=="object"&&e!==null&&e._key}function Gte(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function YUt(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function GN(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const o=iIe(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function qUt(e){return!!e.ifRevisionID}function Kte(e){return!0}var aIe={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,o,i;for(r=this._JPEG_ID_SIZE,i=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;i.push(r+=this._APP_MARKER_SIZE+o)}return i},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var o;return o=n.getUint16(r,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var o,i,s,a;for(o=this._getShortAt(r),r+=2,a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)i=this._readTag(n,r),this._tags[i.name]={value:i.value,description:i.description},a.push(r+=12);return a},t.prototype._readTag=function(n,r){var o,i,s,a,l,u,d;return o=this._getShortAt(r),l=this._getShortAt(r+2),i=this._getLongAt(r+4),this._typeSizes[l]*i<=4?u=this._getTagValue(r+8,l,i):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,l,i)),l===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][o]!=null?(this._tagNames[n][o].name!=null&&this._tagNames[n][o].description!=null?(a=this._tagNames[n][o].name,s=this._tagNames[n][o].description(u)):(a=this._tagNames[n][o],u instanceof Array?s=u.join(", "):s=u),{name:a,value:u,description:s}):{name:"undefined-"+o,value:u,description:u}},t.prototype._getTagValue=function(n,r,o){var i,s;return s=(function(){var a,l;for(l=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)i=this._getTagValueAt[r](n),n+=this._typeSizes[r],l.push(i);return l}).call(this),s.length===1?s=s[0]:r===this._tagTypes.ASCII&&(s=this._getAsciiValue(s)),s},t.prototype._getAsciiValue=function(n){var r;return function(){var o,i,s;for(s=[],o=0,i=n.length;o<i;o++)r=n[o],s.push(String.fromCharCode(r));return s}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,o,i,s,a;for(i=[],o=0,s=0,a=n.length;s<a;s++){if(r=n[s],r==="\0"){o++;continue}i[o]==null&&(i[o]=""),i[o]+=r}return i},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)switch(r=n[i],r){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700 – 7100K)";case 13:return"Day white fluorescent (N 4600 – 5400K)";case 14:return"Cool white fluorescent (W 3900 – 4500K)";case 15:return"White fluorescent (WW 3200 – 3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,o;return n[0]===(r=n[1])&&r===2&&n[2]===(o=n[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(o){return function(){var i,s,a;for(a=[],i=0,s=2-(""+Math.floor(o)).length;0<=s?i<s:i>s;0<=s?++i:--i)a.push("0");return a}()+o},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(Ds)})(aIe);var GUt=aIe.ExifReader,KUt=function(e){var t=new GUt;t.load(e);var n=t.getAllTags(),r={};for(var o in n)r[ZUt(o)]=n[o].description;return r};function ZUt(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const XUt=Pe(KUt);var QUt=Oh,JUt=Ph,eWt=Ih;function tWt(e){return function(t,n,r){var o=Object(t);if(!JUt(t)){var i=QUt(n);t=eWt(t),n=function(a){return i(o[a],a,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var nWt=tWt,rWt=nWt,oWt=GAe,iWt=rWt(oWt),sWt=iWt;const lIe=Pe(sWt);var aWt=Math.ceil,lWt=Math.max;function cWt(e,t,n,r){for(var o=-1,i=lWt(aWt((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var uWt=cWt,dWt=uWt,fWt=I7,U3=qAe;function hWt(e){return function(t,n,r){return r&&typeof r!="number"&&fWt(t,n,r)&&(n=r=void 0),t=U3(t),n===void 0?(n=t,t=0):n=U3(n),r=r===void 0?t<n?1:-1:U3(r),dWt(t,n,r,e)}}var pWt=hWt,mWt=pWt,gWt=mWt(),vWt=gWt;const KN=Pe(vWt);var cIe={exports:{}};(function(e){(function(t){var n={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},r=["်","ް"],o={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},i={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},s={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),l=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(g,y){var x="-",b="",w="",C=!0,_={},S,E,j,k,T,A,D,P,I,R,O,V,B,H,W="";if(typeof g!="string")return"";if(typeof y=="string"&&(x=y),D=s.en,P=i.en,typeof y=="object"){S=y.maintainCase||!1,_=y.custom&&typeof y.custom=="object"?y.custom:_,j=+y.truncate>1&&y.truncate||!1,k=y.uric||!1,T=y.uricNoSlash||!1,A=y.mark||!1,C=!(y.symbols===!1||y.lang===!1),x=y.separator||x,k&&(W+=a),T&&(W+=l),A&&(W+=u),D=y.lang&&s[y.lang]&&C?s[y.lang]:C?s.en:{},P=y.lang&&i[y.lang]?i[y.lang]:y.lang===!1||y.lang===!0?{}:i.en,y.titleCase&&typeof y.titleCase.length=="number"&&Array.prototype.toString.call(y.titleCase)?(y.titleCase.forEach(function(z){_[z+""]=z+""}),E=!0):E=!!y.titleCase,y.custom&&typeof y.custom.length=="number"&&Array.prototype.toString.call(y.custom)&&y.custom.forEach(function(z){_[z+""]=z+""}),Object.keys(_).forEach(function(z){var G;z.length>1?G=new RegExp("\\b"+p(z)+"\\b","gi"):G=new RegExp(p(z),"gi"),g=g.replace(G,_[z])});for(O in _)W+=O}for(W+=x,W=p(W),g=g.replace(/(^\s+|\s+$)/g,""),B=!1,H=!1,R=0,V=g.length;R<V;R++)O=g[R],m(O,_)?B=!1:P[O]?(O=B&&P[O].match(/[A-Za-z0-9]/)?" "+P[O]:P[O],B=!1):O in n?(R+1<V&&r.indexOf(g[R+1])>=0?(w+=O,O=""):H===!0?(O=o[w]+n[O],w=""):O=B&&n[O].match(/[A-Za-z0-9]/)?" "+n[O]:n[O],B=!1,H=!1):O in o?(w+=O,O="",R===V-1&&(O=o[w]),H=!0):D[O]&&!(k&&a.indexOf(O)!==-1)&&!(T&&l.indexOf(O)!==-1)?(O=B||b.substr(-1).match(/[A-Za-z0-9]/)?x+D[O]:D[O],O+=g[R+1]!==void 0&&g[R+1].match(/[A-Za-z0-9]/)?x:"",B=!0):(H===!0?(O=o[w]+O,w="",H=!1):B&&(/[A-Za-z0-9]/.test(O)||b.substr(-1).match(/A-Za-z0-9]/))&&(O=" "+O),B=!1),b+=O.replace(new RegExp("[^\\w\\s"+W+"_-]","g"),x);return E&&(b=b.replace(/(\w)(\S*)/g,function(z,G,ee){var N=G.toUpperCase()+(ee!==null?ee:"");return Object.keys(_).indexOf(N.toLowerCase())<0?N:N.toLowerCase()})),b=b.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),j&&b.length>j&&(I=b.charAt(j)===x,b=b.slice(0,j),I||(b=b.slice(0,b.lastIndexOf(x)))),!S&&!E&&(b=b.toLowerCase()),b},f=function(g){return function(x){return d(x,g)}},p=function(g){return g.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(v,g){for(var y in g)if(g[y]===v)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(Ds)})(cIe);var yWt=cIe.exports,bWt=yWt;const uIe=Pe(bWt);var xWt=P1,wWt=I7;function CWt(e){return xWt(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&wWt(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}var _Wt=CWt,SWt=O1,EWt=_Wt,kWt=Ih,jWt=EWt(function(e,t,n,r){SWt(t,kWt(t),e,r)}),TWt=jWt;const AWt=Pe(TWt);var DWt=nu;function PWt(e,t){return DWt(t,function(n){return e[n]})}var IWt=PWt,OWt=IWt,$Wt=Ih;function RWt(e){return e==null?[]:OWt(e,$Wt(e))}var dIe=RWt;const MWt=Pe(dIe);var Lm={};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.SKIP=hIe;var fIe=Lm.reduce=pIe;Lm.withCustomPathSegment=Lm.SKIP_MARKER=void 0;function ZN(e,t){return BWt(e)||LWt(e,t)||FWt()}function FWt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function LWt(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function BWt(e){if(Array.isArray(e))return e}function RE(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?RE=function(n){return typeof n}:RE=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},RE(e)}function ND(e,t,n){return t}function NWt(e){return Array.isArray(e)?"array":e===null?"null":RE(e)}var XN={_:"SKIP_MARKER"};Lm.SKIP_MARKER=XN;function hIe(e){return[XN,e]}function QN(e,t,n,r){var o=t(e,n,r);return o===hIe?[!0,e]:Array.isArray(o)&&o[0]===XN?[!0,o[1]]:[!1,o]}function zWt(e,t,n,r){var o=QN(e,t,n,r),i=ZN(o,2),s=i[1];return s}function VWt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:ND,i=QN(e,t,n,r),s=ZN(i,2),a=s[0],l=s[1];return a?l:Object.keys(n).reduce(function(u,d){return JN(u,t,n[d],r.concat(o(n[d],d,n)),o)},l)}function HWt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:ND,i=QN(e,t,n,r),s=ZN(i,2),a=s[0],l=s[1];return a?l:n.reduce(function(u,d,f){return JN(u,t,d,r.concat(o(d,f,n)),o)},l)}function JN(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:ND,i=NWt(n);return i==="object"?VWt(e,t,n,r,o):i==="array"?HWt(e,t,n,r,o):zWt(e,t,n,r)}function pIe(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ND;return JN(n,t,e,[],r)}var UWt=function(t){return function(n,r,o){return pIe(n,r,o,t)}};Lm.withCustomPathSegment=UWt;function ez(e){return t=>xo(()=>{const n=new kr;return t.pipe(VEe(()=>n,{leading:!0,trailing:!0}),FEe((r,o)=>jEe(e(r,o),Gl).pipe(LEe(()=>{n.next()}))))})}var WWt=Object.defineProperty,YWt=(e,t,n)=>t in e?WWt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zte=(e,t,n)=>(YWt(e,typeof t!="symbol"?t+"":t,n),n);function qWt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function GWt(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(qWt(n));return new RegExp("^".concat(t.join("."),"$"))}class mIe{constructor(t){Zte(this,"pattern"),Zte(this,"patternRe"),this.pattern=t,this.patternRe=GWt(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}}var KWt=Object.defineProperty,ZWt=(e,t,n)=>t in e?KWt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uy=(e,t,n)=>(ZWt(e,typeof t!="symbol"?t+"":t,n),n);class jf{constructor(t){Uy(this,"type","stream"),Uy(this,"generator"),Uy(this,"ticker"),Uy(this,"isDone"),Uy(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(i=>{t=i})},r=()=>{t(),n()},o=async()=>{for await(const i of this.generator())this.data.push(i),r();this.isDone=!0,r()};return n(),o(),this.ticker}}const XWt=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function QWt(e){return XWt.test(e)?new Date(e):null}function JWt(e){const t=rp(e.getUTCFullYear(),4),n=rp(e.getUTCMonth()+1,2),r=rp(e.getUTCDate(),2),o=rp(e.getUTCHours(),2),i=rp(e.getUTCMinutes(),2),s=rp(e.getUTCSeconds(),2);let a="";const l=e.getMilliseconds();return l!=0&&(a=".".concat(rp(l,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s).concat(a,"Z")}function rp(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}var eYt=Object.defineProperty,tYt=(e,t,n)=>t in e?eYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R4=(e,t,n)=>(tYt(e,typeof t!="symbol"?t+"":t,n),n);class Fd{constructor(t,n){R4(this,"data"),R4(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield lr(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const Oe=new Fd(null,"null"),zo=new Fd(!0,"boolean"),po=new Fd(!1,"boolean");class q0{constructor(t){R4(this,"date"),this.date=t}static parseToValue(t){const n=QWt(t);return n?new Fd(new q0(n),"datetime"):Oe}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new q0(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return JWt(this.date)}toJSON(){return this.toString()}}function el(e){return Number.isFinite(e)?new Fd(e,"number"):Oe}function tl(e){return new Fd(e,"string")}function M4(e){return new Fd(e,"datetime")}function nYt(e){return new Fd(e,"path")}function rYt(e){return e&&typeof e.next=="function"}function lr(e){return rYt(e)?new jf(async function*(){for await(const t of e)yield lr(t)}):e==null?Oe:new Fd(e,G0(e))}function G0(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof mIe?"path":e instanceof q0?"datetime":typeof e}function W3(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const oYt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,iYt=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,gIe=/(\b\.+|\.+\b)/g,sYt=1024;function aYt(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function vIe(e){return e.replace(gIe,"").match(oYt)||[]}function lYt(e){return yIe(e).map(n=>r=>r.some(o=>n.test(o)))}function yIe(e){return(e.replace(gIe,"").match(iYt)||[]).map(n=>new RegExp("^".concat(n.slice(0,sYt).replace(/\*/g,".*"),"$"),"i"))}async function vj(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const Xte={datetime:1,number:2,string:3,boolean:4};function Yp(e,t){const n=G0(e),r=G0(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function cYt(e,t){const n=G0(e),r=G0(t),o=Xte[n]||100,i=Xte[r]||100;if(o!==i)return o-i;let s=Yp(e,t);return s===null&&(s=0),s}const uYt={"==":function(t,n){return W3(t,n)?zo:po},"!=":function(t,n){return W3(t,n)?po:zo},">":function(t,n){if(t.type==="stream"||n.type==="stream")return Oe;const r=Yp(t.data,n.data);return r===null?Oe:r>0?zo:po},">=":function(t,n){if(t.type==="stream"||n.type==="stream")return Oe;const r=Yp(t.data,n.data);return r===null?Oe:r>=0?zo:po},"<":function(t,n){if(t.type==="stream"||n.type==="stream")return Oe;const r=Yp(t.data,n.data);return r===null?Oe:r<0?zo:po},"<=":function(t,n){if(t.type==="stream"||n.type==="stream")return Oe;const r=Yp(t.data,n.data);return r===null?Oe:r<=0?zo:po},in:async function(t,n){if(n.type==="path")return t.type!=="string"?Oe:n.data.matches(t.data)?zo:po;if(n.isArray()){for await(const r of n)if(W3(t,r))return zo;return po}return Oe},match:async function(t,n){let r=[],o=[];return await vj(t,a=>{r=r.concat(vIe(a))}),await vj(n,a=>{o=o.concat(lYt(a))})&&aYt(r,o)?zo:po},"+":function(t,n){return t.type==="datetime"&&n.type==="number"?M4(t.data.add(n.data)):t.type==="number"&&n.type==="number"?el(t.data+n.data):t.type==="string"&&n.type==="string"?tl(t.data+n.data):t.type==="object"&&n.type==="object"?lr({...t.data,...n.data}):t.type==="array"&&n.type==="array"?lr(t.data.concat(n.data)):t.isArray()&&n.isArray()?new jf(async function*(){for await(const r of t)yield r;for await(const r of n)yield r}):Oe},"-":function(t,n){return t.type==="datetime"&&n.type==="number"?M4(t.data.add(-n.data)):t.type==="datetime"&&n.type==="datetime"?el(t.data.difference(n.data)):t.type==="number"&&n.type==="number"?el(t.data-n.data):Oe},"*":G2((e,t)=>e*t),"/":G2((e,t)=>e/t),"%":G2((e,t)=>e%t),"**":G2((e,t)=>Math.pow(e,t))};function G2(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return el(r)}return Oe}}var dYt=Object.defineProperty,fYt=(e,t,n)=>t in e?dYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zg=(e,t,n)=>(fYt(e,typeof t!="symbol"?t+"":t,n),n);class Pw{constructor(t,n,r,o,i){zg(this,"params"),zg(this,"source"),zg(this,"value"),zg(this,"parent"),zg(this,"context"),zg(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=o,this.parent=i}createNested(t){return this.isHidden?new Pw(this.params,this.source,t,this.context,this.parent):new Pw(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}}function tz(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tz;const r=hYt[e.type];return r(e,t,n)}function Qte(e,t){return"then"in e?e.then(t):t(e)}const hYt={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter(e,t){let{name:n}=e;return lr(t.params[n])},Context(e,t){let{key:n}=e;if(n==="before"||n==="after")return t.context[n]||Oe;throw new Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let o=0;o<n;o++){if(!r.parent)return Oe;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:o,right:i}=e;const s=uYt[r];if(!s)throw new Error("Unknown operator: ".concat(r));const a=n(o,t),l=n(i,t);return"then"in a||"then"in l?(async()=>s(await a,await l))():s(a,l)},async Select(e,t,n){let{alternatives:r,fallback:o}=e;for(const i of r){const s=await n(i.condition,t);if(s.type==="boolean"&&s.data===!0)return n(i.value,t)}return o?n(o,t):Oe},async InRange(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t),l=await n(o,t),u=await n(i,t),d=Yp(await a.get(),await l.get());if(d===null)return Oe;const f=Yp(await a.get(),await u.get());return f===null?Oe:s?d>=0&&f<=0?zo:po:d>=0&&f<0?zo:po},async Filter(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new jf(async function*(){for await(const s of i){const a=t.createNested(s),l=await n(o,a);l.type==="boolean"&&l.data===!0&&(yield s)}}):Oe},async Projection(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);if(i.type!=="object")return Oe;const s=t.createNested(i);return n(o,s)},FuncCall(e,t,n){let{func:r,args:o}=e;return r(o,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:o,args:i}=e;const s=await n(o,t);return r(s,i,t,n)},async AccessAttribute(e,t,n){let{base:r,name:o}=e,i=t.value;return r&&(i=await n(r,t)),i.type==="object"&&i.data.hasOwnProperty(o)?lr(i.data[o]):Oe},async AccessElement(e,t,n){let{base:r,index:o}=e;const i=await n(r,t);if(!i.isArray())return Oe;const s=await i.get(),a=o<0?o+s.length:o;return lr(s[a])},async Slice(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t);if(!a.isArray())return Oe;const l=await a.get();let u=o,d=i;return u<0&&(u=l.length+u),d<0&&(d=l.length+d),s&&d++,u<0&&(u=0),d<0&&(d=0),lr(l.slice(u,d))},async Deref(e,t,n){let{base:r}=e;const o=await n(r,t);if(!t.source.isArray()||o.type!=="object")return Oe;const i=o.data._ref;if(typeof i!="string")return Oe;if(t.context.dereference)return lr(await t.context.dereference({_ref:i}));for await(const s of t.source)if(s.type==="object"&&i===s.data._id)return s;return Oe},Value(e){let{value:t}=e;return lr(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e;const o={};for(const i of r){const s=i.type;switch(i.type){case"ObjectAttributeValue":{const a=await n(i.value,t);o[i.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(i.condition,t);if(a.type!=="boolean"||a.data===!1)continue;const l=await n(i.value,t);l.type==="object"&&Object.assign(o,l.data);break}case"ObjectSplat":{const a=await n(i.value,t);a.type==="object"&&Object.assign(o,a.data);break}default:throw new Error("Unknown node type: ".concat(s))}}return lr(o)},Array(e,t,n){let{elements:r}=e;return new jf(async function*(){for(const o of r){const i=await n(o.value,t);if(o.isSplat){if(i.isArray())for await(const s of i)yield s}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!0||s.type==="boolean"&&s.data===!0?zo:i.type!=="boolean"||s.type!=="boolean"?Oe:po},async And(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!1||s.type==="boolean"&&s.data===!1?po:i.type!=="boolean"||s.type!=="boolean"?Oe:zo},async Not(e,t,n){let{base:r}=e;const o=await n(r,t);return o.type!=="boolean"?Oe:o.data?po:zo},Neg(e,t,n){let{base:r}=e;return Qte(n(r,t),o=>o.type!=="number"?Oe:el(-o.data))},Pos(e,t,n){let{base:r}=e;return Qte(n(r,t),o=>o.type!=="number"?Oe:el(o.data))},Asc(){return Oe},Desc(){return Oe},async ArrayCoerce(e,t,n){let{base:r}=e;const o=await n(r,t);return o.isArray()?o:Oe},async Map(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new jf(async function*(){for await(const s of i){const a=t.createHidden(s);yield await n(o,a)}}):Oe},async FlatMap(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new jf(async function*(){for await(const s of i){const a=t.createHidden(s),l=await n(o,a);if(l.isArray())for await(const u of l)yield u;else yield l}}):Oe}};function bIe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=lr(t.root),r=lr(t.dataset),o={...t.params},i=new Pw(o,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?lr(t.after):null,before:t.before?lr(t.before):null,dereference:t.dereference},null);return tz(e,i)}function jb(e){switch(e.type){case"Group":return jb(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return jb(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return jb(e.left)&&jb(e.right);default:return!1}default:return!1}}const pYt=new Pw({},Oe,Oe,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function Y3(e){return jb(e)?xIe(e):null}function xIe(e){const t=tz(e,pYt,xIe);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function mYt(e){if(e.type==="object")return CIe(e.data);if(e.isArray()){const t=await wIe(e);if(t.length>0)return t.join(`

`)}return null}async function wIe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of e)if(n.type==="object"){const r=CIe(n.data);r!==null&&t.push(r)}else n.isArray()&&await wIe(n,t);return t}function CIe(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const Jte=1.2;async function iv(e,t,n){if(e.type==="OpCall"&&e.op==="match")return gYt(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await iv(e.args[0],t,n),o=await n(e.args[1],t);return o.type==="number"&&r>0?r+o.data:0}switch(e.type){case"Or":{const r=await iv(e.left,t,n),o=await iv(e.right,t,n);return r+o}case"And":{const r=await iv(e.left,t,n),o=await iv(e.right,t,n);return r===0||o===0?0:r+o}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function gYt(e,t,n,r){const o=await r(e,n),i=await r(t,n);let s=[],a=[];if(await vj(o,d=>{s=s.concat(vIe(d))}),!await vj(i,d=>{a=a.concat(yIe(d))})||s.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=s.reduce((p,m)=>p+(d.test(m)?1:0),0);u+=f*(Jte+1)/(f+Jte)}return u}function F4(e,t){switch(G0(e)){case"array":for(const n of e)if(F4(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(F4(n,t))return!0;break}return!1}function vYt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const Bn={};Bn.anywhere=async function(){throw new Error("not implemented")};Bn.anywhere.arity=1;Bn.coalesce=async function(t,n,r){for(const o of t){const i=await r(o,n);if(i.type!=="null")return i}return Oe};Bn.count=async function(t,n,r){const o=await r(t[0],n);if(!o.isArray())return Oe;let i=0;for await(const s of o)i++;return el(i)};Bn.count.arity=1;Bn.dateTime=async function(t,n,r){const o=await r(t[0],n);return o.type==="datetime"?o:o.type!=="string"?Oe:q0.parseToValue(o.data)};Bn.dateTime.arity=1;Bn.defined=async function(t,n,r){return(await r(t[0],n)).type==="null"?po:zo};Bn.defined.arity=1;Bn.identity=async function(t,n){return tl(n.context.identity)};Bn.identity.arity=0;Bn.length=async function(t,n,r){const o=await r(t[0],n);if(o.type==="string")return el(vYt(o.data));if(o.isArray()){let i=0;for await(const s of o)i++;return el(i)}return Oe};Bn.length.arity=1;Bn.path=async function(t,n,r){const o=await r(t[0],n);return o.type!=="string"?Oe:nYt(new mIe(o.data))};Bn.path.arity=1;Bn.string=async function(t,n,r){const o=await r(t[0],n);switch(o.type){case"number":case"string":case"boolean":case"datetime":return tl("".concat(o.data));default:return Oe}};Bn.string.arity=1;Bn.references=async function(t,n,r){const o=new Set;for(const s of t){const a=await r(s,n);if(a.type==="string")o.add(a.data);else if(a.isArray())for await(const l of a)l.type==="string"&&o.add(l.data)}if(o.size===0)return po;const i=await n.value.get();return F4(i,o)?zo:po};Bn.references.arity=e=>e>=1;Bn.round=async function(t,n,r){const o=await r(t[0],n);if(o.type!=="number")return Oe;const i=o.data;let s=0;if(t.length===2){const a=await r(t[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return Oe;s=a.data}return s===0?i<0?el(-Math.round(-i)):el(Math.round(i)):el(Number(i.toFixed(s)))};Bn.round.arity=e=>e>=1&&e<=2;Bn.now=async function(t,n){return tl(n.context.timestamp.toISOString())};Bn.now.arity=0;Bn.boost=async function(){throw new Error("unexpected boost call")};Bn.boost.arity=2;const ac={};ac.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Oe:tl(r.data.toLowerCase())};ac.lower.arity=1;ac.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Oe:tl(r.data.toUpperCase())};ac.upper.arity=1;ac.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Oe;const o=await n(e[1],t);return o.type!=="string"?Oe:r.data.length===0?lr([]):o.data.length===0?lr(Array.from(r.data)):lr(r.data.split(o.data))};ac.split.arity=2;Bn.lower=ac.lower;Bn.upper=ac.upper;ac.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Oe;const o=await n(e[1],t);return o.type!=="string"?Oe:r.data.startsWith(o.data)?zo:po};ac.startsWith.arity=2;const gg={};gg.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;const o=await n(e[1],t);if(o.type!=="string")return Oe;let i="",s=!1;for await(const a of r){switch(s&&(i+=o.data),a.type){case"number":case"string":case"boolean":case"datetime":i+="".concat(a.data);break;default:return Oe}s=!0}return lr(i)};gg.join.arity=2;gg.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new jf(async function*(){for await(const o of r)o.type!=="null"&&(yield o)}):Oe};gg.compact.arity=1;gg.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new jf(async function*(){const o=new Set;for await(const i of r)switch(i.type){case"number":case"string":case"boolean":case"datetime":o.has(i.data)||(o.add(i.data),yield i);break;default:yield i}}):Oe};gg.unique.arity=1;const nz={};nz.text=async function(e,t,n){const r=await n(e[0],t),o=await mYt(r);return o===null?Oe:tl(o)};nz.text.arity=1;const rz={};rz.projectId=async function(e,t){return t.context.sanity?tl(t.context.sanity.projectId):Oe};rz.dataset=async function(e,t){return t.context.sanity?tl(t.context.sanity.dataset):Oe};const o_={};o_.order=async function(t,n,r,o){if(await!0,!t.isArray())return Oe;const i=[],s=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),i.push(d),s.push(f),a++}const l=[];let u=0;for await(const d of t){const f=r.createNested(d),p=[await d.get(),u];for(let m=0;m<a;m++){const v=await o(i[m],f);p.push(await v.get())}l.push(p),u++}return l.sort((d,f)=>{for(let p=0;p<a;p++){let m=cYt(d[p+2],f[p+2]);if(s[p]==="desc"&&(m=-m),m!==0)return m}return d[1]-f[1]}),lr(l.map(d=>d[0]))};o_.order.arity=e=>e>=1;o_.score=async function(t,n,r,o){if(!t.isArray())return Oe;const i=[],s=[];for await(const a of t){if(a.type!=="object"){i.push(await a.get());continue}const l=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await iv(f,l,o);const d=Object.assign({},a.data,{_score:u});s.push(d)}return s.sort((a,l)=>l._score-a._score),lr(s)};o_.score.arity=e=>e>=1;const Lh={};Lh.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?tl("update"):r?tl("create"):n?tl("delete"):Oe};Lh.changedAny=()=>{throw new Error("not implemented")};Lh.changedAny.arity=1;Lh.changedAny.mode="delta";Lh.changedOnly=()=>{throw new Error("not implemented")};Lh.changedOnly.arity=1;Lh.changedOnly.mode="delta";const i_={};i_.changedAny=()=>{throw new Error("not implemented")};i_.changedAny.arity=3;i_.changedOnly=()=>{throw new Error("not implemented")};i_.changedOnly.arity=3;const Ld={};Ld.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Oe;(o===void 0||i.data<o)&&(o=i.data)}return lr(o)};Ld.min.arity=1;Ld.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Oe;(o===void 0||i.data>o)&&(o=i.data)}return lr(o)};Ld.max.arity=1;Ld.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;let o=0;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Oe;o+=i.data}return lr(o)};Ld.sum.arity=1;Ld.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;let o=0,i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return Oe;o+=s.data,i++}return i===0?Oe:lr(o/i)};Ld.avg.arity=1;const oz={};oz.now=async function(t,n,r){return M4(new q0(n.context.timestamp))};oz.now.arity=0;const yYt={global:Bn,string:ac,array:gg,pt:nz,delta:Lh,diff:i_,sanity:rz,math:Ld,dateTime:oz};var bYt=Object.defineProperty,xYt=(e,t,n)=>t in e?bYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wy=(e,t,n)=>(xYt(e,typeof t!="symbol"?t+"":t,n),n);class wYt{constructor(t,n,r){Wy(this,"string"),Wy(this,"marks"),Wy(this,"index"),Wy(this,"parseOptions"),Wy(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+t<this.marks.length}getMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const CYt=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,q3=/^\d+/,qp=/^[a-zA-Z_][a-zA-Z_0-9]*/,K2=1,Z2=2,X2=3,ao=4,Vg=4,Q2=6,J2=6,eS=7,tS=7,nS=7,rS=8,_Yt=10,SYt=10,EYt=8;function kYt(e){let t=0;t=Qe(e,t);let n=Pn(e,t,0);return n.type==="error"?n:(t=Qe(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function Pn(e,t,n){let r=t,o=e[t],i;switch(o){case"+":{let u=Pn(e,Qe(e,t+1),_Yt);if(u.type==="error")return u;i=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=Pn(e,Qe(e,t+1),EYt);if(u.type==="error")return u;i=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=Pn(e,Qe(e,t+1),0);if(u.type==="error")return u;switch(t=Qe(e,u.position),e[t]){case",":{for(i=[{name:"tuple",position:r}].concat(u.marks),t=Qe(e,t+1);;){if(u=Pn(e,t,0),u.type==="error")return u;if(t=Qe(e,u.position),e[t]!==",")break;t=Qe(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,i.push({name:"tuple_end",position:t});break}case")":{t++,i=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:t}}break}case"!":{let u=Pn(e,Qe(e,t+1),SYt);if(u.type==="error")return u;i=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=L4(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"[":if(i=[{name:"array",position:t}],t=Qe(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(i.push({name:"array_splat",position:t}),t=Qe(e,t+3));let u=Pn(e,t,0);if(u.type==="error")return u;if(i=i.concat(u.marks),t=u.position,t=Qe(e,t),e[t]!==","||(t=Qe(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,i.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let u=jYt(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"^":{for(t++,i=[];e[t]==="."&&e[t+1]==="^";)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break}case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let u=Tc(e,t+1,qp);u&&(t+=1+u,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=Tc(e,t,q3);if(u){t+=u;let f="integer";if(e[t]==="."){let p=Tc(e,t+1,q3);p&&(f="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=Tc(e,t,q3);if(!p)return{type:"error",position:t};t+=p}i=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=Tc(e,t,qp);if(d){switch(t+=d,e[t]){case":":case"(":{let f=tne(e,r,t);if(f.type==="error")return f;i=f.marks,t=f.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!i)return{type:"error",position:t};let s=12,a;e:for(;;){let u=Qe(e,t);if(u===e.length){t=u;break}if(a=ene(e,u),a.type==="success"){for(i.unshift({name:"traverse",position:r});a.type==="success";)i=i.concat(a.marks),t=a.position,a=ene(e,Qe(e,t));i.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>K2||s<=K2)break e;let p=Pn(e,Qe(e,u+2),K2);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pair",position:r}),t=p.position,s=K2;break}case"=":{if(n>ao||s<=ao)break e;let p=Pn(e,Qe(e,u+2),ao+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(p.marks),t=p.position,s=ao;break}default:break e}break}case"+":{if(n>Q2||s<Q2)break e;let f=Pn(e,Qe(e,u+1),Q2+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"add",position:r}),t=f.position,s=Q2;break}case"-":{if(n>J2||s<J2)break e;let f=Pn(e,Qe(e,u+1),J2+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"sub",position:r}),t=f.position,s=J2;break}case"*":{if(e[u+1]==="*"){if(n>rS||s<=rS)break e;let p=Pn(e,Qe(e,u+2),rS);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pow",position:r}),t=p.position,s=rS;break}if(n>eS||s<eS)break e;let f=Pn(e,Qe(e,u+1),eS+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mul",position:r}),t=f.position,s=eS;break}case"/":{if(n>tS||s<tS)break e;let f=Pn(e,Qe(e,u+1),tS+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"div",position:r}),t=f.position,s=tS;break}case"%":{if(n>nS||s<nS)break e;let f=Pn(e,Qe(e,u+1),nS+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mod",position:r}),t=f.position,s=nS;break}case"<":case">":{if(n>ao||s<=ao)break e;let f=u+1;e[f]==="="&&f++;let p=Pn(e,Qe(e,f),ao+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:f}),i=i.concat(p.marks),t=p.position,s=ao;break}case"|":{if(e[u+1]==="|"){if(n>Z2||s<Z2)break e;let f=Pn(e,Qe(e,u+2),Z2+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"or",position:r}),t=f.position,s=Z2}else{if(n>11||s<11)break e;let f=Qe(e,u+1),p=Tc(e,f,qp);if(!p)return{type:"error",position:f};if(t=f+p,e[t]==="("||e[t]===":"){let m=tne(e,f,t);if(m.type==="error")return m;i=i.concat(m.marks),i.unshift({name:"pipecall",position:r}),t=m.position,s=11}}break}case"&":{if(e[u+1]!="&"||n>X2||s<X2)break e;let f=Pn(e,Qe(e,u+2),X2+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"and",position:r}),t=f.position,s=X2;break}case"!":{if(e[u+1]!=="="||n>ao||s<=ao)break e;let f=Pn(e,Qe(e,u+2),ao+1);if(f.type==="error")return f;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(f.marks),t=f.position,s=ao;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>Vg||s<Vg)break e;i.unshift({name:"desc",position:r}),t=u+4,s=Vg;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>Vg||s<Vg)break e;i.unshift({name:"asc",position:r}),t=u+3,s=Vg;break}default:switch(TYt(e,u,qp)){case"in":{if(n>ao||s<=ao)break e;t=Qe(e,u+2);let p=!1;e[t]==="("&&(p=!0,t=Qe(e,t+1));let m=t,v=Pn(e,t,ao+1);if(v.type==="error")return v;if(t=Qe(e,v.position),e[t]==="."&&e[t+1]==="."){let g="inc_range";e[t+2]==="."?(g="exc_range",t=Qe(e,t+3)):t=Qe(e,t+2);let y=Pn(e,t,ao+1);if(y.type==="error")return y;i.unshift({name:"in_range",position:r}),i=i.concat({name:g,position:m},v.marks,y.marks),t=y.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(v.marks);if(p){if(t=Qe(e,t),e[t]!==")")return{type:"error",position:t};t++}s=ao;break}case"match":{if(n>ao||s<=ao)break e;let p=Pn(e,Qe(e,u+5),ao+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+5}),i=i.concat(p.marks),t=p.position,s=4;break}default:break e}}}let l=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:i,position:t,failPosition:l}}function ene(e,t){let n=t;switch(e[t]){case".":{t=Qe(e,t+1);let s=t,a=Tc(e,t,qp);return a?(t+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:s},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let o=Qe(e,t),i=Tc(e,o,qp);return i&&(t=o+i,r.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=Qe(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let s=t,a=Pn(e,t,0);if(a.type==="error")return a;if(t=Qe(e,a.position),e[t]==="."&&e[t+1]==="."){let l="inc_range";e[t+2]==="."?(l="exc_range",t+=3):t+=2,t=Qe(e,t);let u=Pn(e,t,0);return u.type==="error"?u:(t=Qe(e,u.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:l,position:s}].concat(a.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:t+1}}case"|":{if(t=Qe(e,t+1),e[t]==="{"){let s=L4(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}break}case"{":{let s=L4(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}}return{type:"error",position:t}}function tne(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Qe(e,n+2);let i=Tc(e,n,qp);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=Qe(e,n+i),e[n]!=="(")return{type:"error",position:n};n++,n=Qe(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Qe(e,n+1);let o=n;if(e[n]!==")")for(;;){let i=Pn(e,n,0);if(i.type==="error")return i;if(r=r.concat(i.marks),o=i.position,n=Qe(e,i.position),e[n]!==","||(n=Qe(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:o}),{type:"success",marks:r,position:n+1})}function L4(e,t){let n=[{name:"object",position:t}];for(t=Qe(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=Qe(e,t+3),e[t]!=="}"&&e[t]!==","){let o=Pn(e,t,0);if(o.type==="error")return o;n.push({name:"object_splat",position:r}),n=n.concat(o.marks),t=o.position}else n.push({name:"object_splat_this",position:r});else{let o=Pn(e,t,0);if(o.type==="error")return o;let i=Qe(e,o.position);if(o.marks[0].name==="str"&&e[i]===":"){let s=Pn(e,Qe(e,i+1),0);if(s.type==="error")return s;n.push({name:"object_pair",position:r}),n=n.concat(o.marks,s.marks),t=s.position}else n=n.concat({name:"object_expr",position:t},o.marks),t=o.position}if(t=Qe(e,t),e[t]!==",")break;t=Qe(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function jYt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function Qe(e,t){return t+Tc(e,t,CYt)}function Tc(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function TYt(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function Ka(e,t){return n=>t(e(n))}function B4(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function AYt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function ME(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Ka(e,t.build)};case"a-b":return{type:"a-b",build:Ka(e,t.build)};case"b-b":return{type:"a-a",build:Ka(e,B4(t.build))};case"b-a":return{type:"a-a",build:Ka(e,AYt(t.build))};default:throw new Error("unknown type: ".concat(t.type))}}function G3(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:Ka(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:Ka(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function DYt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:Ka(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:Ka(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function PYt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Ka(B4(e),t.build)};case"a-b":return{type:"a-b",build:Ka(B4(e),t.build)};case"b-a":return{type:"b-a",build:Ka(e,t.build)};case"b-b":return{type:"b-b",build:Ka(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}var IYt=Object.defineProperty,OYt=(e,t,n)=>t in e?IYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N4=(e,t,n)=>(OYt(e,typeof t!="symbol"?t+"":t,n),n);const $Yt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function RYt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Ji extends Error{constructor(){super(...arguments),N4(this,"name","GroqQueryError")}}const lt={group(e){return{type:"Group",base:e.process(lt)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(lt).n+1}},traverse(e){const t=e.process(lt),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(_Ie));e.shift();let r=null;for(let o=n.length-1;o>=0;o--)r=n[o](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=ME(o=>o,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(lt)}},pos(e){return{type:"Pos",base:e.process(lt)}},add(e){const t=e.process(lt),n=e.process(lt);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(lt),n=e.process(lt);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(lt),n=e.process(lt);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(lt),n=e.process(lt);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(lt),n=e.process(lt);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(lt),n=e.process(lt);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(lt),n=e.processString(),r=e.process(lt);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(lt),n=e.getMark().name==="inc_range";e.shift();const r=e.process(lt),o=e.process(lt);return{type:"InRange",base:t,left:r,right:o,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=$Yt[r];break}case"unicode_hex":e.shift(),t+=RYt(e.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(MYt));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(lt);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(lt));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const s={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(s.fallback)throw new Ji("unexpected argument to select()");e.shift();const a=e.process(lt),l=e.process(lt);s.alternatives.push({type:"SelectAlternative",condition:a,value:l})}else{if(s.fallback)throw new Ji("unexpected argument to select()");const a=e.process(lt);s.fallback=a}return e.shift(),s}const r=[];for(;e.getMark().name!=="func_args_end";)FYt(t,n,r.length)?(e.process(z4),r.push({type:"Selector"})):r.push(e.process(lt));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Ji("unexpected boost");const o=yYt[t];if(!o)throw new Ji("Undefined namespace: ".concat(t));const i=o[n];if(!i)throw new Ji("Undefined function: ".concat(n));if(i.arity!==void 0&&nne(n,i.arity,r.length),i.mode!==void 0&&i.mode!==e.parseOptions.mode)throw new Ji("Undefined function: ".concat(n));return{type:"FuncCall",func:i,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(lt);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Ji("Undefined namespace: ".concat(n));const r=e.processString(),o=[],i=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const a=e.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){e.shift(),o.push({type:"Asc",base:e.process(lt)});continue}else if(a==="desc"){e.shift(),o.push({type:"Desc",base:e.process(lt)});continue}}o.push(e.process(lt))}e.shift(),e.allowBoost=i;const s=o_[r];if(!s)throw new Ji("Undefined pipe function: ".concat(r));return s.arity&&nne(r,s.arity,o.length),{type:"PipeFuncCall",func:s,base:t,name:r,args:o}},pair(e){throw new Ji("unexpected =>")},and(e){const t=e.process(lt),n=e.process(lt);return{type:"And",left:t,right:n}},or(e){const t=e.process(lt),n=e.process(lt);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(lt)}},asc(e){throw new Ji("unexpected asc")},desc(e){throw new Ji("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},MYt={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(lt),r=e.process(lt);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(lt);return{type:"ObjectAttributeValue",name:SIe(t),value:t}},object_pair(e){const t=e.process(lt);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(lt);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(lt)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},_Ie={square_bracket(e){const t=e.process(lt),n=Y3(t);return n&&n.type==="number"?r=>DYt(o=>({type:"AccessElement",base:o,index:n.data}),r):n&&n.type==="string"?r=>G3(o=>({type:"AccessAttribute",base:o,name:n.data}),r):r=>ME(o=>({type:"Filter",base:o,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(lt),r=e.process(lt),o=Y3(n),i=Y3(r);if(!o||!i||o.type!=="number"||i.type!=="number")throw new Ji("slicing must use constant numbers");return s=>ME(a=>({type:"Slice",base:a,left:o.data,right:i.data,isInclusive:t}),s)},projection(e){const t=e.process(lt);return n=>PYt(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>G3(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>G3(o=>n({type:"Deref",base:o}),r)},array_postfix(e){return t=>ME(n=>({type:"ArrayCoerce",base:n}),t)}},z4={group(e){return e.process(z4),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(e){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(z4);e.getMark().name!=="traversal_end";)e.process(_Ie);return e.shift(),null},this_attr(e){return e.processString(),null},neg(e){throw new Error("Invalid selector syntax")},pos(e){throw new Error("Invalid selector syntax")},add(e){throw new Error("Invalid selector syntax")},sub(e){throw new Error("Invalid selector syntax")},mul(e){throw new Error("Invalid selector syntax")},div(e){throw new Error("Invalid selector syntax")},mod(e){throw new Error("Invalid selector syntax")},pow(e){throw new Error("Invalid selector syntax")},comp(e){throw new Error("Invalid selector syntax")},in_range(e){throw new Error("Invalid selector syntax")},str(e){throw new Error("Invalid selector syntax")},integer(e){throw new Error("Invalid selector syntax")},float(e){throw new Error("Invalid selector syntax")},sci(e){throw new Error("Invalid selector syntax")},object(e){throw new Error("Invalid selector syntax")},array(e){throw new Error("Invalid selector syntax")},tuple(e){throw new Error("Invalid selector syntax")},func_call(e,t){const n=lt.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(e){throw new Error("Invalid selector syntax")},pair(e){throw new Error("Invalid selector syntax")},and(e){throw new Error("Invalid selector syntax")},or(e){throw new Error("Invalid selector syntax")},not(e){throw new Error("Invalid selector syntax")},asc(e){throw new Error("Invalid selector syntax")},desc(e){throw new Error("Invalid selector syntax")},param(e){throw new Error("Invalid selector syntax")}};function SIe(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return SIe(e.base);throw new Ji("Cannot determine property key for type: ".concat(e.type))}function nne(e,t,n){if(typeof t=="number"){if(n!==t)throw new Ji("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new Ji("Incorrect number of arguments to function ".concat(e,"()."))}function FYt(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class LYt extends Error{constructor(t){super("Syntax error in GROQ query at position ".concat(t)),N4(this,"position"),N4(this,"name","GroqSyntaxError"),this.position=t}}function EIe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=kYt(e);if(n.type==="error")throw new LYt(n.position);return new wYt(e,n.marks,t).process(lt)}function BYt(e,t=yat){return n=>{const r=n;let o=null,i=null;const s=new kr,a=s.pipe(ma((l,u)=>l+u,0),rt(l=>l===0?Ko(e,t).pipe(_n(()=>{o&&(o.unsubscribe(),o=null),i&&(i.unsubscribe(),i=null)})):!o&&l>0?Ko(0,t).pipe(_n(()=>{o||(o=r.connect())})):p7));return slt(()=>(i||(i=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)}),()=>n)}}var NYt=Object.defineProperty,zYt=(e,t,n)=>t in e?NYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hg=(e,t,n)=>(zYt(e,typeof t!="symbol"?t+"":t,n),n);const VYt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class kIe{constructor(t,n,r){Hg(this,"model"),Hg(this,"root"),Hg(this,"patch"),Hg(this,"i"),Hg(this,"inputStack"),Hg(this,"outputStack"),this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=VYt[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let o="process".concat(r);this[o].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let o=this.outputObject();this.model.objectSetField(o,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),o=this.outputObject();this.model.objectSetField(o,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.model.objectGetField(n.value,r);this.inputStack.push({value:o,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.outputObject();this.model.objectDeleteField(o,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(r,o,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(r,o,t,n)}}function s_(e){return e>>16?4:e>>11?3:e>>7?2:1}function V4(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),o=s_(r);o==4&&n++,t+=o}return t}function rne(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,o=0;for(o=n;r<t;o++){let i=e.codePointAt(o),s=s_(i);s===4&&o++,r+=s}return o}function HYt(e,t){let n=Math.min(e.length,t.length),r=0;for(let o=0;o<n;){let i=e.codePointAt(o),s=t.codePointAt(o);if(i!==s)return r;let a=s_(i);r+=a,o+=a===4?2:1}return r}function UYt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(e.length,t.length)-n,o=0;for(let i=0;i<r;){let s=e.codePointAt(e.length-1-i),a=t.codePointAt(t.length-1-i);if(s!==a)return o;let l=s_(s);o+=l,i+=l===4?2:1}return o}var WYt=Object.defineProperty,YYt=(e,t,n)=>t in e?WYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qYt=(e,t,n)=>(YYt(e,typeof t!="symbol"?t+"":t,n),n);class H4{constructor(t){qYt(this,"meta"),this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,o]of Object.entries(t.data))n[r]=this.wrapWithMeta(o,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(o=>this.wrapWithMeta(o,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:V4(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(Iu(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],o=n?n.metas:[];return{type:"array",elements:r,metas:o}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,o){let i=this.asArray(n),s=i.elements.length===r;if(t.elements.push(...i.elements.slice(r,o)),s)t.metas.push(...i.metas.slice(r,o));else for(let a=r;a<o;a++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let o of r.parts)this.stringAppendPart(t,o)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let o=n;o<t.parts.length;o++){let i=t.parts[o];if(r===i.utf8size)return o+1;if(r<i.utf8size)return this.splitString(i,r),o+1;r-=i.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,o,i=n,s=t.utf8size-i;if(t.utf8size!==t.value.length){let l=0;for(n=0;l<i;n++){let u=t.value.codePointAt(n),d=s_(u);d===4&&n++,l+=d}}r=t.value.slice(0,n),o=t.value.slice(n);let a={value:o,utf8size:s,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=i;for(let l of t.uses){let u=l.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");l.parts.splice(u+1,0,a)}}stringAppendSlice(t,n,r,o){let i=this.asString(n),s=this.resolveStringPart(i,0,r),a=this.resolveStringPart(i,s,o-r);for(let l=s;l<a;l++){let u=i.parts[l];this.stringAppendPart(t,u)}}}function GYt(e,t){return{data:e,startMeta:t,endMeta:t}}function Iu(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>Iu(r));break;case"object":{t={};for(let[r,o]of Object.entries(n.fields))t[r]=Iu(o)}}return e.data=t,t}function U4(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function W4(e,t){let n=U4(e),r=U4(t);if(n!==r)return t;let o=new H4(e.endMeta),i=new H4(t.endMeta);switch(n){case"object":{let s=o.asObject(e),a=i.asObject(t),l=0,u=Object.keys(s.fields).length,d=Object.keys(a.fields).length;for(let[p,m]of Object.entries(a.fields)){let v=s.fields[p];v&&(a.fields[p]=W4(v,m),a.fields[p]===v&&l++)}return u===d&&u===l?e:t}case"array":{let s=o.asArray(e),a=i.asArray(t);if(s.elements.length!==a.elements.length)break;let l=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=W4(s.elements[u],a.elements[u]),a.elements[u]!==s.elements[u]&&l++;return l===0?e:t}case"null":case"boolean":case"number":{if(Iu(e)===Iu(t))return e;break}case"string":{let s=Iu(e),a=Iu(t);if(s===a)return e;let l=i.copyString(null),u=HYt(s,a),d=UYt(s,a,u),f=V4(a),p=V4(s);0<u&&i.stringAppendSlice(l,e,0,u),u<f-d&&i.stringAppendSlice(l,t,u,f-d),p-d<p&&i.stringAppendSlice(l,e,p-d,p);let m=i.finalize(l);if(Iu(m)!==a)throw new Error("incorrect string rebase");return m}}return t}function KYt(e,t,n){let r=new H4(n);return new kIe(r,e,t).process()}var kl=Object.freeze({__proto__:null,applyPatch:KYt,getType:U4,rebaseValue:W4,unwrap:Iu,wrap:GYt});class ZYt{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,o]of Object.entries(t))n.data[r]=o;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,o){t.push(...n.slice(r,o))}stringAppendSlice(t,n,r,o){const i=n,s=rne(i,r),a=rne(i,o,s);t.data+=i.slice(s,a)}stringAppendValue(t,n){t.data+=n}}function Y4(e,t){let n=e;return new kIe(new ZYt,n,t).process()}function Bh(e,t,n){return delete e[t],e[t]=n,n}function XYt(e,t){const n=QYt(e,t);return JYt(n,e,t)}function QYt(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=new Array(n+1);for(o=0;o<n+1;o++)for(s[o]=[r+1],i=0;i<r+1;i++)s[o][i]=0;for(o=1;o<n+1;o++)for(i=1;i<r+1;i++)e[o-1]===t[i-1]?s[o][i]=s[o-1][i-1]+1:s[o][i]=Math.max(s[o-1][i],s[o][i-1]);return s}function JYt(e,t,n){let r=t.length,o=n.length;const i={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&o!==0;)if(t[r-1]===n[o-1])i.sequence.unshift(t[r-1]),i.prevIndices.unshift(r-1),i.nextIndices.unshift(o-1),--r,--o;else{const a=e[r][o-1],l=e[r-1][o];a>l?--o:--r}return i}function eqt(e,t,n){if(e===t){const s=e.value,a=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,get items(){const l=one(e,t);if(!l)throw new Error("invariant broken: equivalent input, but diff detected");return Bh(this,"items",l)}}}const r=sne(e),o=sne(t);if(r&&o)return nqt(e,r,t,o);const i=one(e,t);return i?iz(e,t,i,!1):tqt(e,t)}function iz(e,t,n,r){const o=e.value,i=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:i,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:i,items:n}}function one(e,t,n){if(e.length!==t.length)return;const r=[];for(let o=0;o<e.length;o++){const i=zD(e.at(o),t.at(o));if(i.isChanged)return;r.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:i,annotation:t.annotationAt(o)})}return r}function tqt(e,t,n){const r=[];for(let o=0;o<t.length;o++){const i=t.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:yg(i,void 0),annotation:i.annotation})}for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:vg(i,void 0),annotation:i.annotation})}return iz(e,t,r,!0)}function nqt(e,t,n,r,o){const i=[];let s=!1;function a(u,d,f,p){ine(t.index,u,d),ine(r.index,u,f);const m=e.at(d),v=n.at(f),g=zD(m,v);i.push({fromIndex:d,toIndex:f,hasMoved:p,diff:g,annotation:n.annotationAt(f)}),(g.isChanged||d!==f)&&(s=!0)}const l=XYt(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=l.prevIndices.indexOf(u);if(f!==-1){a(d,u,l.nextIndices[f],!1);continue}const p=r.index.get(d),m=p&&p.find(g=>!l.nextIndices.includes(g));if(m!==void 0){a(d,u,m,!0);continue}const v=e.at(u);i.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:vg(v,void 0),annotation:e.annotationAt(u)}),s=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);i.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:yg(f,void 0),annotation:n.annotationAt(d)})}s=!0}return i.sort(rqt),iz(e,n,i,s)}function rqt(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function ine(e,t,n){const r=e.get(t);oqt(r,n),r.length===0&&e.delete(t)}function oqt(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function sne(e){const t=new Map,n=[],r=e.length;for(let o=0;o<r;o++){const i=e.at(o);let s=null;switch(i.type){case"string":s="s".concat(i.value);break;case"number":s=i.value;break;case"boolean":s=i.value;break;case"null":s="n";break;case"object":{const l=i.get("_key");if(l&&l.type==="string"&&(s="k".concat(l.value),t.has(s)))return}break}if(s===null)return;n.push(s);let a=t.get(s);a||(a=[],t.set(s,a)),a.push(o)}return{keys:n,index:t}}function iqt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:vg(i,void 0),annotation:e.annotationAt(o)})}return Bh(this,"items",r)}}}function sqt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:yg(i,void 0),annotation:e.annotationAt(o)})}return Bh(this,"items",r)}}}function aqt(e,t,n){const r=e.value,o=t.value;return r===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation,get segments(){const i=lqt(e,t);return Bh(this,"segments",i)}}}function lqt(e,t){const n=[],r=pN(ZC(e.value,t.value));let o=0,i=0;for(const[s,a]of r)switch(s){case kt:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case On:for(const l of e.sliceAnnotation(o,o+a.length))n.push({type:"stringSegment",action:"removed",text:l.text,annotation:l.annotation});o+=a.length;break;case Jn:for(const l of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"added",text:l.text,annotation:l.annotation});i+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(s,'"'))}return n}function cqt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return Bh(this,"segments",r)}}}function uqt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return Bh(this,"segments",r)}}}function dqt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:vg(e,void 0),toType:t.type,toValue:t.value,toDiff:yg(t,void 0),annotation:t.annotation}}const ane=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function fqt(e,t,n){const r={};let o=!1;for(const a of e.keys){if(ane.has(a))continue;const l=e.get(a),u=t.get(a);if(u){const d=zD(l,u);r[a]=d,d.isChanged&&(o=!0)}else r[a]=vg(l,void 0),o=!0}for(const a of t.keys){if(ane.has(a)||e.get(a))continue;const l=t.get(a);r[a]=yg(l,void 0),o=!0}const i=e.value,s=t.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:i,toValue:s,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,fields:r}}function hqt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=vg(i,void 0)}return Bh(this,"fields",r)}}}function pqt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=yg(i,void 0)}return Bh(this,"fields",r)}}}function mqt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function gqt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function zD(e,t){return e.type!==t.type?e.type==="null"?yg(t,null):t.type==="null"?vg(e,null):dqt(e,t):vqt(e.type,e,t)}function vqt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return gqt(t,n);case"number":return mqt(t,n);case"string":return aqt(t,n);case"array":return eqt(t,n);case"object":return fqt(t,n);default:throw new Error('Unhandled diff type "'.concat(e,'"'))}}function vg(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return cqt(e,t);case"array":return iqt(e,t);case"object":return hqt(e,t);default:throw new Error("Unhandled diff type")}}function yg(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return uqt(e,t);case"array":return sqt(e,t);case"object":return pqt(e,t);default:throw new Error("Unhandled diff type")}}class yqt{constructor(t,n){this.type="array",this.elements=[],this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=sz(this.value[t],this.annotation))}annotationAt(){return this.annotation}}class bqt{constructor(t,n){this.type="object",this.fields={},this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=sz(r,this.annotation)}}let xqt=class{constructor(t,n){this.type="string",this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};class K3{constructor(t,n,r){this.type=t,this.value=n,this.annotation=r}}function sz(e,t){if(Array.isArray(e))return new yqt(e,t);if(e===null)return new K3("null",e,t);const n=typeof e;switch(n){case"number":return new K3(n,e,t);case"boolean":return new K3(n,e,t);case"object":return new bqt(e,t);case"string":return new xqt(e,t);default:throw new Error("cannot wrap value of type: ".concat(n))}}var wqt=Math.floor,Cqt=Math.random;function _qt(e,t){return e+wqt(Cqt()*(t-e+1))}var Sqt=_qt,Eqt=Sqt;function kqt(e){var t=e.length;return t?e[Eqt(0,t-1)]:void 0}var jIe=kqt,jqt=jIe,Tqt=dIe;function Aqt(e){return jqt(Tqt(e))}var Dqt=Aqt,Pqt=jIe,Iqt=Dqt,Oqt=io;function $qt(e){var t=Oqt(e)?Pqt:Iqt;return t(e)}var Rqt=$qt;const Mqt=Pe(Rqt);var Fqt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=zqt(r),this._batchScheduleFn=Vqt(r),this._cacheKeyFn=Hqt(r),this._cacheMap=Uqt(r),this._batch=null,this.name=Wqt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var o=Bqt(this),i=this._cacheMap,s=this._cacheKeyFn(r);if(i){var a=i.get(s);if(a){var l=o.cacheHits||(o.cacheHits=[]);return new Promise(function(d){l.push(function(){d(a)})})}}o.keys.push(r);var u=new Promise(function(d,f){o.callbacks.push({resolve:d,reject:f})});return i&&i.set(s,u),u},t.loadMany=function(r){if(!TIe(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var o=[],i=0;i<r.length;i++)o.push(this.load(r[i]).catch(function(s){return s}));return Promise.all(o)},t.clear=function(r){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(r);o.delete(i)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},e}(),Lqt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){Z3||(Z3=Promise.resolve()),Z3.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},Z3;function Bqt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){Nqt(e,n)}),n}function Nqt(e,t){if(t.hasDispatched=!0,t.keys.length===0){q4(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return X3(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return X3(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!TIe(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));q4(t);for(var o=0;o<t.callbacks.length;o++){var i=r[o];i instanceof Error?t.callbacks[o].reject(i):t.callbacks[o].resolve(i)}}).catch(function(r){X3(e,t,r)})}function X3(e,t,n){q4(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function q4(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function zqt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function Vqt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return Lqt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function Hqt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function Uqt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],o=r.filter(function(i){return n&&typeof n[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return n}function Wqt(e){return e&&e.name?e.name:null}function TIe(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var Yqt=Fqt;const qqt=Pe(Yqt);var VD={exports:{}},Tb={exports:{}};(function(){var e,t,n,r,o,i;typeof performance<"u"&&performance!==null&&performance.now?Tb.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Tb.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},r=e(),i=process.uptime()*1e9,o=r-i):Date.now?(Tb.exports=function(){return Date.now()-n},n=Date.now()):(Tb.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(Ds);var Gqt=Tb.exports,Kqt=Gqt,qu=typeof window>"u"?Ds:window,oS=["moz","webkit"],u0="AnimationFrame",K0=qu["request"+u0],Iw=qu["cancel"+u0]||qu["cancelRequest"+u0];for(var Yy=0;!K0&&Yy<oS.length;Yy++)K0=qu[oS[Yy]+"Request"+u0],Iw=qu[oS[Yy]+"Cancel"+u0]||qu[oS[Yy]+"CancelRequest"+u0];if(!K0||!Iw){var Q3=0,lne=0,op=[],Zqt=1e3/60;K0=function(e){if(op.length===0){var t=Kqt(),n=Math.max(0,Zqt-(t-Q3));Q3=n+t,setTimeout(function(){var r=op.slice(0);op.length=0;for(var o=0;o<r.length;o++)if(!r[o].cancelled)try{r[o].callback(Q3)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return op.push({handle:++lne,callback:e,cancelled:!1}),lne},Iw=function(e){for(var t=0;t<op.length;t++)op[t].handle===e&&(op[t].cancelled=!0)}}VD.exports=function(e){return K0.call(qu,e)};VD.exports.cancel=function(){Iw.apply(qu,arguments)};VD.exports.polyfill=function(e){e||(e=qu),e.requestAnimationFrame=K0,e.cancelAnimationFrame=Iw};var Xqt=VD.exports;const Qqt=Pe(Xqt);function bx(e,t,n){return Math.min(Math.max(e,n),t)}class Jqt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Ab=Jqt;function AIe(e){if(typeof e!="string")throw new Ab(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=aGt.test(e)?nGt(e):e;const n=rGt.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(Ow(a,2),16)),parseInt(Ow(s[3]||"f",2),16)/255]}const r=oGt.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=iGt.exec(t);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=sGt.exec(t);if(i){const[s,a,l,u]=Array.from(i).slice(1).map(parseFloat);if(bx(0,100,a)!==a)throw new Ab(e);if(bx(0,100,l)!==l)throw new Ab(e);return[...lGt(s,a,l),Number.isNaN(u)?1:u]}throw new Ab(e)}function eGt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const cne=e=>parseInt(e.replace(/_/g,""),36),tGt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=cne(t.substring(0,3)),r=cne(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]=`${o}${r}`,e},{});function nGt(e){const t=e.toLowerCase().trim(),n=tGt[eGt(t)];if(!n)throw new Ab(e);return`#${n}`}const Ow=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),rGt=new RegExp(`^#${Ow("([a-f0-9])",3)}([a-f0-9])?$`,"i"),oGt=new RegExp(`^#${Ow("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),iGt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Ow(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),sGt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,aGt=/^[a-z]+$/i,une=e=>Math.round(e*255),lGt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(une);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,l=0,u=0;o>=0&&o<1?(a=i,l=s):o>=1&&o<2?(a=s,l=i):o>=2&&o<3?(l=i,u=s):o>=3&&o<4?(l=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,f=a+d,p=l+d,m=u+d;return[f,p,m].map(une)};function cGt(e){const[t,n,r,o]=AIe(e).map((f,p)=>p===3?f:f/255),i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const l=i-s,u=a>.5?l/(2-i-s):l/(i+s);return[60*(t===i?(n-r)/l+(n<r?6:0):n===i?(r-t)/l+2:(t-n)/l+4),u,a,o]}function uGt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${bx(0,100,t*100).toFixed()}%, ${bx(0,100,n*100).toFixed()}%, ${parseFloat(bx(0,1,r).toFixed(3))})`}function DIe(e,t){const[n,r,o,i]=cGt(e);return uGt(n,r,o-t,i)}function G4(e){if(e==="transparent")return 0;function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=AIe(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function dGt(e,t){const n=G4(e),r=G4(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const fGt={decorative:1.5,readable:3,aa:4.5,aaa:7};function dne(e,t="aa",n="#fff"){return dGt(e,n)<fGt[t]}function hGt(e,t){return DIe(e,-t)}function pGt(e){return G4(e)>.179}function mGt(e){return pGt(e)?"#000":"#fff"}var PIe,fne=Pc;PIe=fne.createRoot,fne.hydrateRoot;var H1={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IIe=h;function Et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cs=Object.prototype.hasOwnProperty,gGt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hne={},pne={};function OIe(e){return Cs.call(pne,e)?!0:Cs.call(hne,e)?!1:gGt.test(e)?pne[e]=!0:(hne[e]=!0,!1)}function gs(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var mi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mi[e]=new gs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mi[t]=new gs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mi[e]=new gs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mi[e]=new gs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mi[e]=new gs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mi[e]=new gs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mi[e]=new gs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mi[e]=new gs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mi[e]=new gs(e,5,!1,e.toLowerCase(),null,!1,!1)});var az=/[\-:]([a-z])/g;function lz(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(az,lz);mi[t]=new gs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(az,lz);mi[t]=new gs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(az,lz);mi[t]=new gs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mi[e]=new gs(e,1,!1,e.toLowerCase(),null,!1,!1)});mi.xlinkHref=new gs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mi[e]=new gs(e,1,!1,e.toLowerCase(),null,!0,!0)});var FE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vGt=["Webkit","ms","Moz","O"];Object.keys(FE).forEach(function(e){vGt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),FE[t]=FE[e]})});var yGt=/["'&<>]/;function os(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=yGt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var bGt=/([A-Z])/g,xGt=/^ms-/,K4=Array.isArray;function yu(e,t){return{insertionMode:e,selectedValue:t}}function wGt(e,t,n){switch(t){case"select":return yu(1,n.value!=null?n.value:n.defaultValue);case"svg":return yu(2,null);case"math":return yu(3,null);case"foreignObject":return yu(1,null);case"table":return yu(4,null);case"thead":case"tbody":case"tfoot":return yu(5,null);case"colgroup":return yu(7,null);case"tr":return yu(6,null)}return 4<=e.insertionMode||e.insertionMode===0?yu(1,null):e}var mne=new Map;function $Ie(e,t,n){if(typeof n!="object")throw Error(Et(62));t=!0;for(var r in n)if(Cs.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=os(r);o=os((""+o).trim())}else{i=r;var s=mne.get(i);s!==void 0||(s=os(i.replace(bGt,"-$1").toLowerCase().replace(xGt,"-ms-")),mne.set(i,s)),i=s,o=typeof o=="number"?o===0||Cs.call(FE,r)?""+o:o+"px":os((""+o).trim())}t?(t=!1,e.push(' style="',i,":",o)):e.push(";",i,":",o)}}t||e.push('"')}function qs(e,t,n,r){switch(n){case"style":$Ie(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=mi.hasOwnProperty(n)?mi[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',os(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',os(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',os(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',os(r),'"')}}else if(OIe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',os(r),'"')}}}function LE(e,t,n){if(t!=null){if(n!=null)throw Error(Et(60));if(typeof t!="object"||!("__html"in t))throw Error(Et(61));t=t.__html,t!=null&&e.push(""+t)}}function CGt(e){var t="";return IIe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function J3(e,t,n,r){e.push(bc(n));var o=n=null,i;for(i in t)if(Cs.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:qs(e,r,i,s)}}return e.push(">"),LE(e,o,n),typeof n=="string"?(e.push(os(n)),null):n}var _Gt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,gne=new Map;function bc(e){var t=gne.get(e);if(t===void 0){if(!_Gt.test(e))throw Error(Et(65,e));t="<"+e,gne.set(e,t)}return t}function SGt(e,t,n,r,o){switch(t){case"select":e.push(bc("select"));var i=null,s=null;for(d in n)if(Cs.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:qs(e,r,d,a)}}return e.push(">"),LE(e,s,i),i;case"option":s=o.selectedValue,e.push(bc("option"));var l=a=null,u=null,d=null;for(i in n)if(Cs.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":l=f;default:qs(e,r,i,f)}}if(s!=null)if(n=l!==null?""+l:CGt(a),K4(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),LE(e,d,a),a;case"textarea":e.push(bc("textarea")),d=s=i=null;for(a in n)if(Cs.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":i=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(Et(91));default:qs(e,r,a,l)}if(i===null&&s!==null&&(i=s),e.push(">"),d!=null){if(i!=null)throw Error(Et(92));if(K4(d)&&1<d.length)throw Error(Et(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(os(""+i)),null;case"input":e.push(bc("input")),l=d=a=i=null;for(s in n)if(Cs.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Et(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:qs(e,r,s,u)}return d!==null?qs(e,r,"checked",d):l!==null&&qs(e,r,"checked",l),i!==null?qs(e,r,"value",i):a!==null&&qs(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(bc("menuitem"));for(var p in n)if(Cs.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Et(400));default:qs(e,r,p,i)}return e.push(">"),null;case"title":e.push(bc("title")),i=null;for(f in n)if(Cs.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Et(434));default:qs(e,r,f,s)}return e.push(">"),i;case"listing":case"pre":e.push(bc(t)),s=i=null;for(l in n)if(Cs.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:qs(e,r,l,a)}if(e.push(">"),s!=null){if(i!=null)throw Error(Et(60));if(typeof s!="object"||!("__html"in s))throw Error(Et(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(bc(t));for(var m in n)if(Cs.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Et(399,t));default:qs(e,r,m,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return J3(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),J3(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return J3(e,n,t,r);e.push(bc(t)),s=i=null;for(u in n)if(Cs.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":$Ie(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:OIe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',os(a),'"')}return e.push(">"),LE(e,s,i),i}}function vne(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(Et(395));return e.push(n),e.push('"></template>')}function EGt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(Et(397))}}function kGt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(Et(397))}}var jGt=/[<\u2028\u2029]/g;function e$(e){return JSON.stringify(e).replace(jGt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function TGt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function yne(e,t,n,r){return n.generateStaticMarkup?(e.push(os(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(os(t)),e=!0),e)}var xx=Object.assign,AGt=Symbol.for("react.element"),RIe=Symbol.for("react.portal"),MIe=Symbol.for("react.fragment"),FIe=Symbol.for("react.strict_mode"),LIe=Symbol.for("react.profiler"),BIe=Symbol.for("react.provider"),NIe=Symbol.for("react.context"),zIe=Symbol.for("react.forward_ref"),VIe=Symbol.for("react.suspense"),HIe=Symbol.for("react.suspense_list"),UIe=Symbol.for("react.memo"),cz=Symbol.for("react.lazy"),DGt=Symbol.for("react.scope"),PGt=Symbol.for("react.debug_trace_mode"),IGt=Symbol.for("react.legacy_hidden"),OGt=Symbol.for("react.default_value"),bne=Symbol.iterator;function Z4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case MIe:return"Fragment";case RIe:return"Portal";case LIe:return"Profiler";case FIe:return"StrictMode";case VIe:return"Suspense";case HIe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case NIe:return(e.displayName||"Context")+".Consumer";case BIe:return(e._context.displayName||"Context")+".Provider";case zIe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case UIe:return t=e.displayName||null,t!==null?t:Z4(e.type)||"Memo";case cz:t=e._payload,e=e._init;try{return Z4(e(t))}catch{}}return null}var WIe={};function xne(e,t){if(e=e.contextTypes,!e)return WIe;var n={},r;for(r in e)n[r]=t[r];return n}var Gp=null;function HD(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Et(401))}else{if(n===null)throw Error(Et(401));HD(e,n)}t.context._currentValue2=t.value}}function YIe(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&YIe(e)}function qIe(e){var t=e.parent;t!==null&&qIe(t),e.context._currentValue2=e.value}function GIe(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(Et(402));e.depth===t.depth?HD(e,t):GIe(e,t)}function KIe(e,t){var n=t.parent;if(n===null)throw Error(Et(402));e.depth===n.depth?HD(e,n):KIe(e,n),t.context._currentValue2=t.value}function yj(e){var t=Gp;t!==e&&(t===null?qIe(e):e===null?YIe(t):t.depth===e.depth?HD(t,e):t.depth>e.depth?GIe(t,e):KIe(t,e),Gp=e)}var wne={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Cne(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=wne,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:xx({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&wne.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=xx({},i,a)):xx(i,a))}e.state=i}else i.queue=null}var $Gt={id:1,overflow:""};function X4(e,t,n){var r=e.id;e=e.overflow;var o=32-BE(r)-1;r&=~(1<<o),n+=1;var i=32-BE(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-BE(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var BE=Math.clz32?Math.clz32:FGt,RGt=Math.log,MGt=Math.LN2;function FGt(e){return e>>>=0,e===0?32:31-(RGt(e)/MGt|0)|0}function LGt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var BGt=typeof Object.is=="function"?Object.is:LGt,vd=null,uz=null,NE=null,Yn=null,Db=!1,bj=!1,$w=0,Tf=null,UD=0;function Pp(){if(vd===null)throw Error(Et(321));return vd}function _ne(){if(0<UD)throw Error(Et(312));return{memoizedState:null,queue:null,next:null}}function dz(){return Yn===null?NE===null?(Db=!1,NE=Yn=_ne()):(Db=!0,Yn=NE):Yn.next===null?(Db=!1,Yn=Yn.next=_ne()):(Db=!0,Yn=Yn.next),Yn}function fz(){uz=vd=null,bj=!1,NE=null,UD=0,Yn=Tf=null}function ZIe(e,t){return typeof t=="function"?t(e):t}function Sne(e,t,n){if(vd=Pp(),Yn=dz(),Db){var r=Yn.queue;if(t=r.dispatch,Tf!==null&&(n=Tf.get(r),n!==void 0)){Tf.delete(r),r=Yn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Yn.memoizedState=r,[r,t]}return[Yn.memoizedState,t]}return e=e===ZIe?typeof t=="function"?t():t:n!==void 0?n(t):t,Yn.memoizedState=e,e=Yn.queue={last:null,dispatch:null},e=e.dispatch=NGt.bind(null,vd,e),[Yn.memoizedState,e]}function Ene(e,t){if(vd=Pp(),Yn=dz(),t=t===void 0?null:t,Yn!==null){var n=Yn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!BGt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Yn.memoizedState=[e,t],e}function NGt(e,t,n){if(25<=UD)throw Error(Et(301));if(e===vd)if(bj=!0,e={action:n,next:null},Tf===null&&(Tf=new Map),n=Tf.get(t),n===void 0)Tf.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function zGt(){throw Error(Et(394))}function iS(){}var kne={readContext:function(e){return e._currentValue2},useContext:function(e){return Pp(),e._currentValue2},useMemo:Ene,useReducer:Sne,useRef:function(e){vd=Pp(),Yn=dz();var t=Yn.memoizedState;return t===null?(e={current:e},Yn.memoizedState=e):t},useState:function(e){return Sne(ZIe,e)},useInsertionEffect:iS,useLayoutEffect:function(){},useCallback:function(e,t){return Ene(function(){return e},t)},useImperativeHandle:iS,useEffect:iS,useDebugValue:iS,useDeferredValue:function(e){return Pp(),e},useTransition:function(){return Pp(),[!1,zGt]},useId:function(){var e=uz.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-BE(e)-1)).toString(32)+t;var n=zE;if(n===null)throw Error(Et(404));return t=$w++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Pp(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Et(407));return n()}},zE=null,t$=IIe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function VGt(e){return console.error(e),null}function Pb(){}function HGt(e,t,n,r,o,i,s,a,l){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?VGt:o,onAllReady:i===void 0?Pb:i,onShellReady:s===void 0?Pb:s,onShellError:a===void 0?Pb:a,onFatalError:l===void 0?Pb:l},n=xj(t,0,null,n,!1,!1),n.parentFlushed=!0,e=hz(t,e,null,n,d,WIe,null,$Gt),u.push(e),t}function hz(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var u=e.pingedTasks;u.push(l),u.length===1&&JIe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(l),l}function xj(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Rw(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function wj(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function jne(e,t,n,r,o){for(vd={},uz=t,$w=0,e=n(r,o);bj;)bj=!1,$w=0,UD+=1,Yn=null,e=n(r,o);return fz(),e}function Tne(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Et(108,Z4(r)||"Unknown",a));r=xx({},s,n)}t.legacyContext=r,Qs(e,t,o),t.legacyContext=s}else Qs(e,t,o)}function Ane(e,t){if(e&&e.defaultProps){t=xx({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Q4(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=xne(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue2:o),Cne(i,n,r,o),Tne(e,t,i,n)}else{i=xne(n,t.legacyContext),o=jne(e,t,n,r,i);var s=$w!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)Cne(o,n,r,i),Tne(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=X4(r,1,0);try{Qs(e,t,o)}finally{t.treeContext=r}}else Qs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=SGt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=wGt(s,n,r),J4(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case IGt:case PGt:case FIe:case LIe:case MIe:Qs(e,t,r.children);return;case HIe:Qs(e,t,r.children);return;case DGt:throw Error(Et(343));case VIe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=xj(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(l),o.lastPushedText=!1;var u=xj(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(J4(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,Cj(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Rw(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=hz(e,i,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case zIe:if(r=jne(e,t,n.render,r,o),$w!==0){n=t.treeContext,t.treeContext=X4(n,1,0);try{Qs(e,t,r)}finally{t.treeContext=n}}else Qs(e,t,r);return;case UIe:n=n.type,r=Ane(n,r),Q4(e,t,n,r,o);return;case BIe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue2,n._currentValue2=r,s=Gp,Gp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Qs(e,t,o),e=Gp,e===null)throw Error(Et(403));r=e.parentValue,e.context._currentValue2=r===OGt?e.context._defaultValue:r,e=Gp=e.parent,t.context=e;return;case NIe:r=r.children,r=r(n._currentValue2),Qs(e,t,r);return;case cz:o=n._init,n=o(n._payload),r=Ane(n,r),Q4(e,t,n,r,void 0);return}throw Error(Et(130,n==null?n:typeof n,""))}}function Qs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case AGt:Q4(e,t,n.type,n.props,n.ref);return;case RIe:throw Error(Et(257));case cz:var r=n._init;n=r(n._payload),Qs(e,t,n);return}if(K4(n)){Dne(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=bne&&n[bne]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);Dne(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Et(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=yne(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=yne(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Dne(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=X4(i,r,o);try{J4(e,t,n[o])}finally{t.treeContext=i}}}function J4(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Qs(e,t,n)}catch(l){if(fz(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var s=t.blockedSegment,a=xj(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=hz(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,yj(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,yj(i),l}}function UGt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,QIe(this,t,e)}function XIe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Et(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return XIe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function Cj(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&Cj(e,n)}else e.completedSegments.push(t)}function QIe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Et(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Pb,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&Cj(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(UGt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(Cj(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function JIe(e){if(e.status!==2){var t=Gp,n=t$.current;t$.current=kne;var r=zE;zE=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,l=s.blockedSegment;if(l.status===0){yj(s.context);try{Qs(a,s,s.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),s.abortSet.delete(s),l.status=1,QIe(a,s.blockedBoundary,l)}catch(v){if(fz(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),l.status=4;var d=s.blockedBoundary,f=v,p=Rw(a,f);if(d===null?wj(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&pz(e,e.destination)}catch(v){Rw(e,v),wj(e,v)}finally{zE=r,t$.current=n,n===kne&&yj(t)}}}function sS(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)t.push(r[i]);o=WD(e,t,o)}for(;i<r.length-1;i++)t.push(r[i]);return i<r.length&&(o=t.push(r[i])),o;default:throw Error(Et(390))}}function WD(e,t,n){var r=n.boundary;if(r===null)return sS(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=os(r),t.push(r),t.push('"')),t.push("></template>")),sS(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,vne(t,e.responseState,r),sS(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),vne(t,e.responseState,r.id),sS(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(Et(391));return WD(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function Pne(e,t,n){return EGt(t,e.responseState,n.formatContext,n.id),WD(e,t,n),kGt(t,n.formatContext)}function Ine(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)eOe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(Et(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function eOe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Et(392));return Pne(e,t,r)}return Pne(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function pz(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){WD(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,l=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(Et(395));if(r.push(l),r.push('"'),u||d||f){r.push(",");var p=e$(u||"");r.push(p)}if(d||f){r.push(",");var m=e$(d||"");r.push(m)}if(f){r.push(",");var v=e$(f);r.push(v)}if(!r.push(")<\/script>")){e.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var g=e.completedBoundaries;for(i=0;i<g.length;i++)if(!Ine(e,t,g[i])){e.destination=null,i++,g.splice(0,i);return}g.splice(0,i);var y=e.partialBoundaries;for(i=0;i<y.length;i++){var x=y[i];e:{o=e,s=t;var b=x.completedSegments;for(a=0;a<b.length;a++)if(!eOe(o,s,x,b[a])){a++,b.splice(0,a);var w=!1;break e}b.splice(0,a),w=!0}if(!w){e.destination=null,i++,y.splice(0,i);return}}y.splice(0,i);var C=e.completedBoundaries;for(i=0;i<C.length;i++)if(!Ine(e,t,C[i])){e.destination=null,i++,C.splice(0,i);return}C.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function WGt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return XIe(r,e,t)}),n.clear(),e.destination!==null&&pz(e,e.destination)}catch(r){Rw(e,r),wj(e,r)}}function YGt(){}function tOe(e,t,n,r){var o=!1,i=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){o=!0,i=u}},l=!1;if(e=HGt(e,TGt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,YGt,void 0,function(){l=!0},void 0,void 0),JIe(e),WGt(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{pz(e,a)}catch(u){Rw(e,u),wj(e,u)}}if(o)throw i;if(!l)throw Error(Et(426));return s}H1.renderToNodeStream=function(){throw Error(Et(207))};H1.renderToStaticMarkup=function(e,t){return tOe(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};H1.renderToStaticNodeStream=function(){throw Error(Et(208))};H1.renderToString=function(e,t){return tOe(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};H1.version="18.2.0";var mz={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nOe=h;function Ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Js=null,ea=0;function Ze(e,t){if(t.length!==0)if(512<t.length)0<ea&&(e.enqueue(new Uint8Array(Js.buffer,0,ea)),Js=new Uint8Array(512),ea=0),e.enqueue(t);else{var n=Js.length-ea;n<t.length&&(n===0?e.enqueue(Js):(Js.set(t.subarray(0,n),ea),e.enqueue(Js),t=t.subarray(n)),Js=new Uint8Array(512),ea=0),Js.set(t,ea),ea+=t.length}}function cr(e,t){return Ze(e,t),!0}function One(e){Js&&0<ea&&(e.enqueue(new Uint8Array(Js.buffer,0,ea)),Js=null,ea=0)}var rOe=new TextEncoder;function Ft(e){return rOe.encode(e)}function Re(e){return rOe.encode(e)}function oOe(e,t){typeof e.error=="function"?e.error(t):e.close()}var _s=Object.prototype.hasOwnProperty,qGt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$ne={},Rne={};function iOe(e){return _s.call(Rne,e)?!0:_s.call($ne,e)?!1:qGt.test(e)?Rne[e]=!0:($ne[e]=!0,!1)}function vs(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var gi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gi[e]=new vs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gi[t]=new vs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gi[e]=new vs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gi[e]=new vs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gi[e]=new vs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gi[e]=new vs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gi[e]=new vs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gi[e]=new vs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gi[e]=new vs(e,5,!1,e.toLowerCase(),null,!1,!1)});var gz=/[\-:]([a-z])/g;function vz(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gz,vz);gi[t]=new vs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gz,vz);gi[t]=new vs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gz,vz);gi[t]=new vs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gi[e]=new vs(e,1,!1,e.toLowerCase(),null,!1,!1)});gi.xlinkHref=new vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gi[e]=new vs(e,1,!1,e.toLowerCase(),null,!0,!0)});var VE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GGt=["Webkit","ms","Moz","O"];Object.keys(VE).forEach(function(e){GGt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),VE[t]=VE[e]})});var KGt=/["'&<>]/;function li(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=KGt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var ZGt=/([A-Z])/g,XGt=/^ms-/,eL=Array.isArray,QGt=Re("<script>"),JGt=Re("<\/script>"),eKt=Re('<script src="'),tKt=Re('<script type="module" src="'),Mne=Re('" async=""><\/script>'),nKt=/(<\/|<)(s)(cript)/gi;function rKt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function oKt(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?QGt:Re('<script nonce="'+li(t)+'">');var i=[];if(n!==void 0&&i.push(t,Ft((""+n).replace(nKt,rKt)),JGt),r!==void 0)for(n=0;n<r.length;n++)i.push(eKt,Ft(li(r[n])),Mne);if(o!==void 0)for(r=0;r<o.length;r++)i.push(tKt,Ft(li(o[r])),Mne);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:Re(e+"P:"),segmentPrefix:Re(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function xc(e,t){return{insertionMode:e,selectedValue:t}}function iKt(e){return xc(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function sKt(e,t,n){switch(t){case"select":return xc(1,n.value!=null?n.value:n.defaultValue);case"svg":return xc(2,null);case"math":return xc(3,null);case"foreignObject":return xc(1,null);case"table":return xc(4,null);case"thead":case"tbody":case"tfoot":return xc(5,null);case"colgroup":return xc(7,null);case"tr":return xc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?xc(1,null):e}var yz=Re("<!-- -->");function Fne(e,t,n,r){return t===""?r:(r&&e.push(yz),e.push(Ft(li(t))),!0)}var Lne=new Map,aKt=Re(' style="'),Bne=Re(":"),lKt=Re(";");function sOe(e,t,n){if(typeof n!="object")throw Error(Ot(62));t=!0;for(var r in n)if(_s.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Ft(li(r));o=Ft(li((""+o).trim()))}else{i=r;var s=Lne.get(i);s!==void 0||(s=Re(li(i.replace(ZGt,"-$1").toLowerCase().replace(XGt,"-ms-"))),Lne.set(i,s)),i=s,o=typeof o=="number"?o===0||_s.call(VE,r)?Ft(""+o):Ft(o+"px"):Ft(li((""+o).trim()))}t?(t=!1,e.push(aKt,i,Bne,o)):e.push(lKt,i,Bne,o)}}t||e.push(Ip)}var Xd=Re(" "),sv=Re('="'),Ip=Re('"'),Nne=Re('=""');function Gs(e,t,n,r){switch(n){case"style":sOe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=gi.hasOwnProperty(n)?gi[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=Ft(t.attributeName),t.type){case 3:r&&e.push(Xd,n,Nne);break;case 4:r===!0?e.push(Xd,n,Nne):r!==!1&&e.push(Xd,n,sv,Ft(li(r)),Ip);break;case 5:isNaN(r)||e.push(Xd,n,sv,Ft(li(r)),Ip);break;case 6:!isNaN(r)&&1<=r&&e.push(Xd,n,sv,Ft(li(r)),Ip);break;default:t.sanitizeURL&&(r=""+r),e.push(Xd,n,sv,Ft(li(r)),Ip)}}else if(iOe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Xd,Ft(n),sv,Ft(li(r)),Ip)}}}var Qd=Re(">"),zne=Re("/>");function HE(e,t,n){if(t!=null){if(n!=null)throw Error(Ot(60));if(typeof t!="object"||!("__html"in t))throw Error(Ot(61));t=t.__html,t!=null&&e.push(Ft(""+t))}}function cKt(e){var t="";return nOe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var n$=Re(' selected=""');function r$(e,t,n,r){e.push(wc(n));var o=n=null,i;for(i in t)if(_s.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Gs(e,r,i,s)}}return e.push(Qd),HE(e,o,n),typeof n=="string"?(e.push(Ft(li(n))),null):n}var o$=Re(`
`),uKt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Vne=new Map;function wc(e){var t=Vne.get(e);if(t===void 0){if(!uKt.test(e))throw Error(Ot(65,e));t=Re("<"+e),Vne.set(e,t)}return t}var dKt=Re("<!DOCTYPE html>");function fKt(e,t,n,r,o){switch(t){case"select":e.push(wc("select"));var i=null,s=null;for(d in n)if(_s.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Gs(e,r,d,a)}}return e.push(Qd),HE(e,s,i),i;case"option":s=o.selectedValue,e.push(wc("option"));var l=a=null,u=null,d=null;for(i in n)if(_s.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":l=f;default:Gs(e,r,i,f)}}if(s!=null)if(n=l!==null?""+l:cKt(a),eL(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(n$);break}}else""+s===n&&e.push(n$);else u&&e.push(n$);return e.push(Qd),HE(e,d,a),a;case"textarea":e.push(wc("textarea")),d=s=i=null;for(a in n)if(_s.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":i=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(Ot(91));default:Gs(e,r,a,l)}if(i===null&&s!==null&&(i=s),e.push(Qd),d!=null){if(i!=null)throw Error(Ot(92));if(eL(d)&&1<d.length)throw Error(Ot(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(o$),i!==null&&e.push(Ft(li(""+i))),null;case"input":e.push(wc("input")),l=d=a=i=null;for(s in n)if(_s.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Gs(e,r,s,u)}return d!==null?Gs(e,r,"checked",d):l!==null&&Gs(e,r,"checked",l),i!==null?Gs(e,r,"value",i):a!==null&&Gs(e,r,"value",a),e.push(zne),null;case"menuitem":e.push(wc("menuitem"));for(var p in n)if(_s.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(400));default:Gs(e,r,p,i)}return e.push(Qd),null;case"title":e.push(wc("title")),i=null;for(f in n)if(_s.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Ot(434));default:Gs(e,r,f,s)}return e.push(Qd),i;case"listing":case"pre":e.push(wc(t)),s=i=null;for(l in n)if(_s.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Gs(e,r,l,a)}if(e.push(Qd),s!=null){if(i!=null)throw Error(Ot(60));if(typeof s!="object"||!("__html"in s))throw Error(Ot(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(o$,Ft(n)):e.push(Ft(""+n)))}return typeof i=="string"&&i[0]===`
`&&e.push(o$),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(wc(t));for(var m in n)if(_s.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(399,t));default:Gs(e,r,m,i)}return e.push(zne),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return r$(e,n,t,r);case"html":return o.insertionMode===0&&e.push(dKt),r$(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return r$(e,n,t,r);e.push(wc(t)),s=i=null;for(u in n)if(_s.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":sOe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:iOe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Xd,Ft(u),sv,Ft(li(a)),Ip)}return e.push(Qd),HE(e,s,i),i}}var hKt=Re("</"),pKt=Re(">"),mKt=Re('<template id="'),gKt=Re('"></template>'),vKt=Re("<!--$-->"),yKt=Re('<!--$?--><template id="'),bKt=Re('"></template>'),xKt=Re("<!--$!-->"),wKt=Re("<!--/$-->"),CKt=Re("<template"),_Kt=Re('"'),SKt=Re(' data-dgst="');Re(' data-msg="');Re(' data-stck="');var EKt=Re("></template>");function Hne(e,t,n){if(Ze(e,yKt),n===null)throw Error(Ot(395));return Ze(e,n),cr(e,bKt)}var kKt=Re('<div hidden id="'),jKt=Re('">'),TKt=Re("</div>"),AKt=Re('<svg aria-hidden="true" style="display:none" id="'),DKt=Re('">'),PKt=Re("</svg>"),IKt=Re('<math aria-hidden="true" style="display:none" id="'),OKt=Re('">'),$Kt=Re("</math>"),RKt=Re('<table hidden id="'),MKt=Re('">'),FKt=Re("</table>"),LKt=Re('<table hidden><tbody id="'),BKt=Re('">'),NKt=Re("</tbody></table>"),zKt=Re('<table hidden><tr id="'),VKt=Re('">'),HKt=Re("</tr></table>"),UKt=Re('<table hidden><colgroup id="'),WKt=Re('">'),YKt=Re("</colgroup></table>");function qKt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Ze(e,kKt),Ze(e,t.segmentPrefix),Ze(e,Ft(r.toString(16))),cr(e,jKt);case 2:return Ze(e,AKt),Ze(e,t.segmentPrefix),Ze(e,Ft(r.toString(16))),cr(e,DKt);case 3:return Ze(e,IKt),Ze(e,t.segmentPrefix),Ze(e,Ft(r.toString(16))),cr(e,OKt);case 4:return Ze(e,RKt),Ze(e,t.segmentPrefix),Ze(e,Ft(r.toString(16))),cr(e,MKt);case 5:return Ze(e,LKt),Ze(e,t.segmentPrefix),Ze(e,Ft(r.toString(16))),cr(e,BKt);case 6:return Ze(e,zKt),Ze(e,t.segmentPrefix),Ze(e,Ft(r.toString(16))),cr(e,VKt);case 7:return Ze(e,UKt),Ze(e,t.segmentPrefix),Ze(e,Ft(r.toString(16))),cr(e,WKt);default:throw Error(Ot(397))}}function GKt(e,t){switch(t.insertionMode){case 0:case 1:return cr(e,TKt);case 2:return cr(e,PKt);case 3:return cr(e,$Kt);case 4:return cr(e,FKt);case 5:return cr(e,NKt);case 6:return cr(e,HKt);case 7:return cr(e,YKt);default:throw Error(Ot(397))}}var KKt=Re('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),ZKt=Re('$RS("'),XKt=Re('","'),QKt=Re('")<\/script>'),JKt=Re('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),eZt=Re('$RC("'),tZt=Re('","'),nZt=Re('")<\/script>'),rZt=Re('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),oZt=Re('$RX("'),iZt=Re('"'),sZt=Re(")<\/script>"),i$=Re(","),aZt=/[<\u2028\u2029]/g;function s$(e){return JSON.stringify(e).replace(aZt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var wx=Object.assign,lZt=Symbol.for("react.element"),aOe=Symbol.for("react.portal"),lOe=Symbol.for("react.fragment"),cOe=Symbol.for("react.strict_mode"),uOe=Symbol.for("react.profiler"),dOe=Symbol.for("react.provider"),fOe=Symbol.for("react.context"),hOe=Symbol.for("react.forward_ref"),pOe=Symbol.for("react.suspense"),mOe=Symbol.for("react.suspense_list"),gOe=Symbol.for("react.memo"),bz=Symbol.for("react.lazy"),cZt=Symbol.for("react.scope"),uZt=Symbol.for("react.debug_trace_mode"),dZt=Symbol.for("react.legacy_hidden"),fZt=Symbol.for("react.default_value"),Une=Symbol.iterator;function tL(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lOe:return"Fragment";case aOe:return"Portal";case uOe:return"Profiler";case cOe:return"StrictMode";case pOe:return"Suspense";case mOe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fOe:return(e.displayName||"Context")+".Consumer";case dOe:return(e._context.displayName||"Context")+".Provider";case hOe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gOe:return t=e.displayName||null,t!==null?t:tL(e.type)||"Memo";case bz:t=e._payload,e=e._init;try{return tL(e(t))}catch{}}return null}var vOe={};function Wne(e,t){if(e=e.contextTypes,!e)return vOe;var n={},r;for(r in e)n[r]=t[r];return n}var Kp=null;function YD(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Ot(401))}else{if(n===null)throw Error(Ot(401));YD(e,n)}t.context._currentValue=t.value}}function yOe(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&yOe(e)}function bOe(e){var t=e.parent;t!==null&&bOe(t),e.context._currentValue=e.value}function xOe(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Ot(402));e.depth===t.depth?YD(e,t):xOe(e,t)}function wOe(e,t){var n=t.parent;if(n===null)throw Error(Ot(402));e.depth===n.depth?YD(e,n):wOe(e,n),t.context._currentValue=t.value}function _j(e){var t=Kp;t!==e&&(t===null?bOe(e):e===null?yOe(t):t.depth===e.depth?YD(t,e):t.depth>e.depth?xOe(t,e):wOe(t,e),Kp=e)}var Yne={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function qne(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=Yne,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:wx({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Yne.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=wx({},i,a)):wx(i,a))}e.state=i}else i.queue=null}var hZt={id:1,overflow:""};function nL(e,t,n){var r=e.id;e=e.overflow;var o=32-UE(r)-1;r&=~(1<<o),n+=1;var i=32-UE(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-UE(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var UE=Math.clz32?Math.clz32:gZt,pZt=Math.log,mZt=Math.LN2;function gZt(e){return e>>>=0,e===0?32:31-(pZt(e)/mZt|0)|0}function vZt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yZt=typeof Object.is=="function"?Object.is:vZt,yd=null,xz=null,WE=null,qn=null,Ib=!1,Sj=!1,Mw=0,Af=null,qD=0;function Op(){if(yd===null)throw Error(Ot(321));return yd}function Gne(){if(0<qD)throw Error(Ot(312));return{memoizedState:null,queue:null,next:null}}function wz(){return qn===null?WE===null?(Ib=!1,WE=qn=Gne()):(Ib=!0,qn=WE):qn.next===null?(Ib=!1,qn=qn.next=Gne()):(Ib=!0,qn=qn.next),qn}function Cz(){xz=yd=null,Sj=!1,WE=null,qD=0,qn=Af=null}function COe(e,t){return typeof t=="function"?t(e):t}function Kne(e,t,n){if(yd=Op(),qn=wz(),Ib){var r=qn.queue;if(t=r.dispatch,Af!==null&&(n=Af.get(r),n!==void 0)){Af.delete(r),r=qn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return qn.memoizedState=r,[r,t]}return[qn.memoizedState,t]}return e=e===COe?typeof t=="function"?t():t:n!==void 0?n(t):t,qn.memoizedState=e,e=qn.queue={last:null,dispatch:null},e=e.dispatch=bZt.bind(null,yd,e),[qn.memoizedState,e]}function Zne(e,t){if(yd=Op(),qn=wz(),t=t===void 0?null:t,qn!==null){var n=qn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!yZt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),qn.memoizedState=[e,t],e}function bZt(e,t,n){if(25<=qD)throw Error(Ot(301));if(e===yd)if(Sj=!0,e={action:n,next:null},Af===null&&(Af=new Map),n=Af.get(t),n===void 0)Af.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function xZt(){throw Error(Ot(394))}function aS(){}var Xne={readContext:function(e){return e._currentValue},useContext:function(e){return Op(),e._currentValue},useMemo:Zne,useReducer:Kne,useRef:function(e){yd=Op(),qn=wz();var t=qn.memoizedState;return t===null?(e={current:e},qn.memoizedState=e):t},useState:function(e){return Kne(COe,e)},useInsertionEffect:aS,useLayoutEffect:function(){},useCallback:function(e,t){return Zne(function(){return e},t)},useImperativeHandle:aS,useEffect:aS,useDebugValue:aS,useDeferredValue:function(e){return Op(),e},useTransition:function(){return Op(),[!1,xZt]},useId:function(){var e=xz.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-UE(e)-1)).toString(32)+t;var n=YE;if(n===null)throw Error(Ot(404));return t=Mw++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Op(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Ot(407));return n()}},YE=null,a$=nOe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function wZt(e){return console.error(e),null}function Ob(){}function CZt(e,t,n,r,o,i,s,a,l){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?wZt:o,onAllReady:i===void 0?Ob:i,onShellReady:s===void 0?Ob:s,onShellError:a===void 0?Ob:a,onFatalError:l===void 0?Ob:l},n=Ej(t,0,null,n,!1,!1),n.parentFlushed=!0,e=_z(t,e,null,n,d,vOe,null,hZt),u.push(e),t}function _z(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var u=e.pingedTasks;u.push(l),u.length===1&&EOe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(l),l}function Ej(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Fw(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function kj(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,oOe(e.destination,t)):(e.status=1,e.fatalError=t)}function Qne(e,t,n,r,o){for(yd={},xz=t,Mw=0,e=n(r,o);Sj;)Sj=!1,Mw=0,qD+=1,qn=null,e=n(r,o);return Cz(),e}function Jne(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Ot(108,tL(r)||"Unknown",a));r=wx({},s,n)}t.legacyContext=r,ta(e,t,o),t.legacyContext=s}else ta(e,t,o)}function ere(e,t){if(e&&e.defaultProps){t=wx({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rL(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=Wne(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue:o),qne(i,n,r,o),Jne(e,t,i,n)}else{i=Wne(n,t.legacyContext),o=Qne(e,t,n,r,i);var s=Mw!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)qne(o,n,r,i),Jne(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=nL(r,1,0);try{ta(e,t,o)}finally{t.treeContext=r}}else ta(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=fKt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=sKt(s,n,r),oL(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(hKt,Ft(n),pKt)}o.lastPushedText=!1}else{switch(n){case dZt:case uZt:case cOe:case uOe:case lOe:ta(e,t,r.children);return;case mOe:ta(e,t,r.children);return;case cZt:throw Error(Ot(343));case pOe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=Ej(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(l),o.lastPushedText=!1;var u=Ej(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(oL(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(yz),u.status=1,jj(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Fw(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=_z(e,i,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case hOe:if(r=Qne(e,t,n.render,r,o),Mw!==0){n=t.treeContext,t.treeContext=nL(n,1,0);try{ta(e,t,r)}finally{t.treeContext=n}}else ta(e,t,r);return;case gOe:n=n.type,r=ere(n,r),rL(e,t,n,r,o);return;case dOe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue,n._currentValue=r,s=Kp,Kp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,ta(e,t,o),e=Kp,e===null)throw Error(Ot(403));r=e.parentValue,e.context._currentValue=r===fZt?e.context._defaultValue:r,e=Kp=e.parent,t.context=e;return;case fOe:r=r.children,r=r(n._currentValue),ta(e,t,r);return;case bz:o=n._init,n=o(n._payload),r=ere(n,r),rL(e,t,n,r,void 0);return}throw Error(Ot(130,n==null?n:typeof n,""))}}function ta(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case lZt:rL(e,t,n.type,n.props,n.ref);return;case aOe:throw Error(Ot(257));case bz:var r=n._init;n=r(n._payload),ta(e,t,n);return}if(eL(n)){tre(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=Une&&n[Une]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);tre(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Ot(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=Fne(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=Fne(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function tre(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=nL(i,r,o);try{oL(e,t,n[o])}finally{t.treeContext=i}}}function oL(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return ta(e,t,n)}catch(l){if(Cz(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var s=t.blockedSegment,a=Ej(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=_z(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,_j(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,_j(i),l}}function _Zt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,SOe(this,t,e)}function _Oe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Ot(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return _Oe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function jj(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&jj(e,n)}else e.completedSegments.push(t)}function SOe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Ot(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Ob,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&jj(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(_Zt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(jj(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function EOe(e){if(e.status!==2){var t=Kp,n=a$.current;a$.current=Xne;var r=YE;YE=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,l=s.blockedSegment;if(l.status===0){_j(s.context);try{ta(a,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(yz),s.abortSet.delete(s),l.status=1,SOe(a,s.blockedBoundary,l)}catch(v){if(Cz(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),l.status=4;var d=s.blockedBoundary,f=v,p=Fw(a,f);if(d===null?kj(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&Sz(e,e.destination)}catch(v){Fw(e,v),kj(e,v)}finally{YE=r,a$.current=n,n===Xne&&_j(t)}}}function lS(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Ze(t,mKt),Ze(t,e.placeholderPrefix),e=Ft(r.toString(16)),Ze(t,e),cr(t,gKt);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)Ze(t,r[i]);o=GD(e,t,o)}for(;i<r.length-1;i++)Ze(t,r[i]);return i<r.length&&(o=cr(t,r[i])),o;default:throw Error(Ot(390))}}function GD(e,t,n){var r=n.boundary;if(r===null)return lS(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,cr(t,xKt),Ze(t,CKt),r&&(Ze(t,SKt),Ze(t,Ft(li(r))),Ze(t,_Kt)),cr(t,EKt),lS(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=Re(o.boundaryPrefix+i.toString(16)),r=r.id=o,Hne(t,e.responseState,r),lS(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),Hne(t,e.responseState,r.id),lS(e,t,n);else{if(cr(t,vKt),n=r.completedSegments,n.length!==1)throw Error(Ot(391));GD(e,t,n[0])}return cr(t,wKt)}function nre(e,t,n){return qKt(t,e.responseState,n.formatContext,n.id),GD(e,t,n),GKt(t,n.formatContext)}function rre(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)kOe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Ze(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Ze(t,eZt):(e.sentCompleteBoundaryFunction=!0,Ze(t,JKt)),r===null)throw Error(Ot(395));return n=Ft(n.toString(16)),Ze(t,r),Ze(t,tZt),Ze(t,e.segmentPrefix),Ze(t,n),cr(t,nZt)}function kOe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Ot(392));return nre(e,t,r)}return nre(e,t,r),e=e.responseState,Ze(t,e.startInlineScript),e.sentCompleteSegmentFunction?Ze(t,ZKt):(e.sentCompleteSegmentFunction=!0,Ze(t,KKt)),Ze(t,e.segmentPrefix),o=Ft(o.toString(16)),Ze(t,o),Ze(t,XKt),Ze(t,e.placeholderPrefix),Ze(t,o),cr(t,QKt)}function Sz(e,t){Js=new Uint8Array(512),ea=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){GD(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Ze(t,r[n]);n<r.length&&cr(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,l=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(Ze(r,a.startInlineScript),a.sentClientRenderFunction?Ze(r,oZt):(a.sentClientRenderFunction=!0,Ze(r,rZt)),l===null)throw Error(Ot(395));Ze(r,l),Ze(r,iZt),(u||d||f)&&(Ze(r,i$),Ze(r,Ft(s$(u||"")))),(d||f)&&(Ze(r,i$),Ze(r,Ft(s$(d||"")))),f&&(Ze(r,i$),Ze(r,Ft(s$(f)))),cr(r,sZt)}o.splice(0,i);var p=e.completedBoundaries;for(i=0;i<p.length;i++)rre(e,t,p[i]);p.splice(0,i),One(t),Js=new Uint8Array(512),ea=0;var m=e.partialBoundaries;for(i=0;i<m.length;i++){var v=m[i];e:{o=e,s=t;var g=v.completedSegments;for(a=0;a<g.length;a++)if(!kOe(o,s,v,g[a])){a++,g.splice(0,a);var y=!1;break e}g.splice(0,a),y=!0}if(!y){e.destination=null,i++,m.splice(0,i);return}}m.splice(0,i);var x=e.completedBoundaries;for(i=0;i<x.length;i++)rre(e,t,x[i]);x.splice(0,i)}finally{One(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function ore(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return _Oe(r,e,t)}),n.clear(),e.destination!==null&&Sz(e,e.destination)}catch(r){Fw(e,r),kj(e,r)}}mz.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,i,s=new Promise(function(d,f){i=d,o=f}),a=CZt(e,oKt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),iKt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,oOe(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{Sz(a,f)}catch(p){Fw(a,p),kj(a,p)}}},cancel:function(){ore(a)}},{highWaterMark:0});d.allReady=s,n(d)},function(d){s.catch(function(){}),r(d)},o);if(t&&t.signal){var l=t.signal,u=function(){ore(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}EOe(a)})};mz.version="18.2.0";var U1,jOe;U1=H1,jOe=mz;U1.version;var SZt=U1.renderToString;U1.renderToStaticMarkup;U1.renderToNodeStream;U1.renderToStaticNodeStream;jOe.renderToReadableStream;h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[c.jsx("path",{d:"M32 0L0 32H32V0Z",fill:fe.magenta[400].hex}),c.jsx("path",{d:"M32 32H0L32 64V32Z",fill:fe.green[300].hex}),c.jsx("path",{d:"M64 32H32V64L64 32Z",fill:fe.purple[300].hex}),c.jsx("path",{d:"M112 0L80 32H112V0Z",fill:fe.green[300].hex}),c.jsx("path",{d:"M112 0H80V32L112 0Z",fill:fe.purple[300].hex}),c.jsx("path",{d:"M112 32H80L112 64V32Z",fill:fe.yellow[200].hex}),c.jsx("path",{d:"M144 64L112 32V64H144Z",fill:fe.blue[300].hex}),c.jsx("path",{d:"M80 32V64H112L80 32Z",fill:fe.orange[400].hex}),c.jsx("path",{d:"M112 0V32H144L112 0Z",fill:fe.magenta[400].hex}),c.jsx("path",{d:"M192 0L160 32H192V0Z",fill:fe.yellow[200].hex}),c.jsx("path",{d:"M192 32H160L192 64V32Z",fill:fe.orange[400].hex}),c.jsx("path",{d:"M224 32H192V64L224 32Z",fill:fe.green[300].hex}),c.jsx("path",{d:"M192 0V32H224L192 0Z",fill:fe.blue[300].hex}),c.jsx("path",{d:"M272 0L240 32H272V0Z",fill:fe.purple[300].hex}),c.jsx("path",{d:"M304 32L272 64H304V32Z",fill:fe.magenta[400].hex}),c.jsx("path",{d:"M272 32H240L272 64V32Z",fill:fe.blue[300].hex}),c.jsx("path",{d:"M304 32H272V64L304 32Z",fill:fe.yellow[200].hex}),c.jsx("path",{d:"M272 0V32H304L272 0Z",fill:fe.green[300].hex})]})});h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[c.jsx("rect",{width:"128",height:"128",rx:"8",fill:fe.green[950].hex}),c.jsx("rect",{y:"32",width:"64",height:"64",fill:fe.green[800].hex}),c.jsx("path",{d:"M64 32L32 64H64V32Z",fill:fe.magenta[400].hex}),c.jsx("path",{d:"M64 64H32L64 96V64Z",fill:fe.green[300].hex}),c.jsx("path",{d:"M96 64H64V96L96 64Z",fill:fe.purple[300].hex})]})});const EZt={light:[fe.red[200].hex,fe.red[300].hex,fe.red[500].hex],dark:[fe.gray[500].hex,fe.gray[300].hex,Ba.hex]},kZt=h.forwardRef(function(t,n){const{dark:r,...o}=t,i=EZt[r?"dark":"light"];return c.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[c.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),c.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),c.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),c.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),c.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),c.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),c.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),c.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),c.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),c.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),c.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),c.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),c.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),c.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),c.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),c.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}),jZt={bg1:fe.red[500].hex,bg2:fe.red[200].hex,fg:Ba.hex},TZt=h.forwardRef(function(t,n){const{color:r=jZt,...o}=t;return c.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[c.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),c.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),c.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),c.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})}),TOe=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),KD=h.createContext({}),ZD=h.createContext(null),XD=typeof document<"u",Ez=XD?h.useLayoutEffect:h.useEffect,AOe=h.createContext({strict:!1}),kz=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),AZt="framerAppearId",DOe="data-"+kz(AZt);function DZt(e,t,n,r){const{visualElement:o}=h.useContext(KD),i=h.useContext(AOe),s=h.useContext(ZD),a=h.useContext(TOe).reducedMotion,l=h.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!(n[DOe]&&!window.HandoffComplete));return Ez(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Mv(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function PZt(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Mv(n)&&(n.current=r))},[t])}function Lw(e){return typeof e=="string"||Array.isArray(e)}function QD(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const jz=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tz=["initial",...jz];function JD(e){return QD(e.animate)||Tz.some(t=>Lw(e[t]))}function POe(e){return!!(JD(e)||e.variants)}function IZt(e,t){if(JD(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Lw(n)?n:void 0,animate:Lw(r)?r:void 0}}return e.inherit!==!1?t:{}}function OZt(e){const{initial:t,animate:n}=IZt(e,h.useContext(KD));return h.useMemo(()=>({initial:t,animate:n}),[ire(t),ire(n)])}function ire(e){return Array.isArray(e)?e.join(" "):e}const sre={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bw={};for(const e in sre)Bw[e]={isEnabled:t=>sre[e].some(n=>!!t[n])};function $Zt(e){for(const t in e)Bw[t]={...Bw[t],...e[t]}}const Az=h.createContext({}),IOe=h.createContext({}),RZt=Symbol.for("motionComponentSymbol");function MZt({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&$Zt(e);function i(a,l){let u;const d={...h.useContext(TOe),...a,layoutId:FZt(a)},{isStatic:f}=d,p=OZt(a),m=r(a,f);if(!f&&XD){p.visualElement=DZt(o,m,d,t);const v=h.useContext(IOe),g=h.useContext(AOe).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,v))}return h.createElement(KD.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,PZt(m,p.visualElement,l),m,f,p.visualElement))}const s=h.forwardRef(i);return s[RZt]=o,s}function FZt({layoutId:e}){const t=h.useContext(Az).id;return t&&e!==void 0?t+"-"+e:e}function LZt(e){function t(r,o={}){return MZt(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const BZt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dz(e){return typeof e!="string"||e.includes("-")?!1:!!(BZt.indexOf(e)>-1||/[A-Z]/.test(e))}const Tj={};function NZt(e){Object.assign(Tj,e)}const a_=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bg=new Set(a_);function OOe(e,{layout:t,layoutId:n}){return bg.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Tj[e]||e==="opacity")}const Bs=e=>!!(e&&e.getVelocity),zZt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VZt=a_.length;function HZt(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<VZt;s++){const a=a_[s];if(e[a]!==void 0){const l=zZt[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const $Oe=e=>t=>typeof t=="string"&&t.startsWith(e),ROe=$Oe("--"),iL=$Oe("var(--"),UZt=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,WZt=(e,t)=>t&&typeof e=="number"?t.transform(e):e,yh=(e,t,n)=>Math.min(Math.max(n,e),t),xg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Cx={...xg,transform:e=>yh(0,1,e)},cS={...xg,default:1},_x=e=>Math.round(e*1e5)/1e5,eP=/(-)?([\d]*\.?[\d])+/g,MOe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,YZt=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function l_(e){return typeof e=="string"}const c_=e=>({test:t=>l_(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Jd=c_("deg"),Uc=c_("%"),at=c_("px"),qZt=c_("vh"),GZt=c_("vw"),are={...Uc,parse:e=>Uc.parse(e)/100,transform:e=>Uc.transform(e*100)},lre={...xg,transform:Math.round},FOe={borderWidth:at,borderTopWidth:at,borderRightWidth:at,borderBottomWidth:at,borderLeftWidth:at,borderRadius:at,radius:at,borderTopLeftRadius:at,borderTopRightRadius:at,borderBottomRightRadius:at,borderBottomLeftRadius:at,width:at,maxWidth:at,height:at,maxHeight:at,size:at,top:at,right:at,bottom:at,left:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,rotate:Jd,rotateX:Jd,rotateY:Jd,rotateZ:Jd,scale:cS,scaleX:cS,scaleY:cS,scaleZ:cS,skew:Jd,skewX:Jd,skewY:Jd,distance:at,translateX:at,translateY:at,translateZ:at,x:at,y:at,z:at,perspective:at,transformPerspective:at,opacity:Cx,originX:are,originY:are,originZ:at,zIndex:lre,fillOpacity:Cx,strokeOpacity:Cx,numOctaves:lre};function Pz(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let l=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(ROe(f)){i[f]=p;continue}const m=FOe[f],v=WZt(p,m);if(bg.has(f)){if(l=!0,s[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(l||r?o.transform=HZt(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const Iz=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LOe(e,t,n){for(const r in t)!Bs(t[r])&&!OOe(r,n)&&(e[r]=t[r])}function KZt({transformTemplate:e},t,n){return h.useMemo(()=>{const r=Iz();return Pz(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function ZZt(e,t,n){const r=e.style||{},o={};return LOe(o,r,e),Object.assign(o,KZt(e,t,n)),e.transformValues?e.transformValues(o):o}function XZt(e,t,n){const r={},o=ZZt(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const QZt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Aj(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||QZt.has(e)}let BOe=e=>!Aj(e);function JZt(e){e&&(BOe=t=>t.startsWith("on")?!Aj(t):e(t))}try{JZt(require("@emotion/is-prop-valid").default)}catch{}function eXt(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(BOe(o)||n===!0&&Aj(o)||!t&&!Aj(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function cre(e,t,n){return typeof e=="string"?e:at.transform(t+n*e)}function tXt(e,t,n){const r=cre(t,e.x,e.width),o=cre(n,e.y,e.height);return`${r} ${o}`}const nXt={offset:"stroke-dashoffset",array:"stroke-dasharray"},rXt={offset:"strokeDashoffset",array:"strokeDasharray"};function oXt(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?nXt:rXt;e[i.offset]=at.transform(-r);const s=at.transform(t),a=at.transform(n);e[i.array]=`${s} ${a}`}function Oz(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},d,f,p){if(Pz(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:g}=e;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=tXt(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&oXt(m,s,a,l,!1)}const NOe=()=>({...Iz(),attrs:{}}),$z=e=>typeof e=="string"&&e.toLowerCase()==="svg";function iXt(e,t,n,r){const o=h.useMemo(()=>{const i=NOe();return Oz(i,t,{enableHardwareAcceleration:!1},$z(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};LOe(i,e.style,e),o.style={...i,...o.style}}return o}function sXt(e=!1){return(n,r,o,{latestValues:i},s)=>{const l=(Dz(n)?iXt:XZt)(r,i,s,n),d={...eXt(r,typeof n=="string",e),...l,ref:o},{children:f}=r,p=h.useMemo(()=>Bs(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}function zOe(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const VOe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HOe(e,t,n,r){zOe(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(VOe.has(o)?o:kz(o),t.attrs[o])}function Rz(e,t){const{style:n}=e,r={};for(const o in n)(Bs(n[o])||t.style&&Bs(t.style[o])||OOe(o,e))&&(r[o]=n[o]);return r}function UOe(e,t){const n=Rz(e,t);for(const r in e)if(Bs(e[r])||Bs(t[r])){const o=a_.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function Mz(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function WOe(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Dj=e=>Array.isArray(e),aXt=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),lXt=e=>Dj(e)?e[e.length-1]||0:e;function qE(e){const t=Bs(e)?e.get():e;return aXt(t)?t.toValue():t}function cXt({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:uXt(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const YOe=e=>(t,n)=>{const r=h.useContext(KD),o=h.useContext(ZD),i=()=>cXt(e,t,r,o);return n?i():WOe(i)};function uXt(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=qE(i[p]);let{initial:s,animate:a}=e;const l=JD(e),u=POe(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!QD(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=Mz(e,m);if(!v)return;const{transitionEnd:g,transition:y,...x}=v;for(const b in x){let w=x[b];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(o[b]=w)}for(const b in g)o[b]=g[b]}),o}const Gr=e=>e;class ure{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function dXt(e){let t=new ure,n=new ure,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(l),p.add(l)&&f&&o&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(l))}};return a}const uS=["prepare","read","update","preRender","render","postRender"],fXt=40;function hXt(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=uS.reduce((f,p)=>(f[p]=dXt(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,fXt),1),o.timestamp=f,o.isProcessing=!0,uS.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:uS.reduce((f,p)=>{const m=i[p];return f[p]=(v,g=!1,y=!1)=>(n||l(),m.schedule(v,g,y)),f},{}),cancel:f=>uS.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:er,cancel:bd,state:Ai,steps:l$}=hXt(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gr,!0),pXt={useVisualState:YOe({scrapeMotionValuesFromProps:UOe,createRenderState:NOe,onMount:(e,t,{renderState:n,latestValues:r})=>{er.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),er.render(()=>{Oz(n,r,{enableHardwareAcceleration:!1},$z(t.tagName),e.transformTemplate),HOe(t,n)})}})},mXt={useVisualState:YOe({scrapeMotionValuesFromProps:Rz,createRenderState:Iz})};function gXt(e,{forwardMotionProps:t=!1},n,r){return{...Dz(e)?pXt:mXt,preloadedFeatures:n,useRender:sXt(t),createVisualElement:r,Component:e}}function Bu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const qOe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function tP(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const vXt=e=>t=>qOe(t)&&e(t,tP(t));function Gu(e,t,n,r){return Bu(e,t,vXt(n),r)}const yXt=(e,t)=>n=>t(e(n)),qf=(...e)=>e.reduce(yXt);function GOe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const dre=GOe("dragHorizontal"),fre=GOe("dragVertical");function KOe(e){let t=!1;if(e==="y")t=fre();else if(e==="x")t=dre();else{const n=dre(),r=fre();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function ZOe(){const e=KOe(!0);return e?(e(),!1):!0}class Nh{constructor(t){this.isMounted=!1,this.node=t}update(){}}function hre(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.pointerType==="touch"||ZOe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&er.update(()=>a[r](i,s))};return Gu(e.current,n,o,{passive:!e.getProps()[r]})}class bXt extends Nh{mount(){this.unmount=qf(hre(this.node,!0),hre(this.node,!1))}unmount(){}}class xXt extends Nh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qf(Bu(this.node.current,"focus",()=>this.onFocus()),Bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const XOe=(e,t)=>t?e===t?!0:XOe(e,t.parentElement):!1;function c$(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,tP(n))}class wXt extends Nh{constructor(){super(...arguments),this.removeStartListeners=Gr,this.removeEndListeners=Gr,this.removeAccessibleListeners=Gr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Gu(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();er.update(()=>{!f&&!XOe(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=Gu(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=qf(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||c$("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&er.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Bu(this.node.current,"keyup",s),c$("down",(a,l)=>{this.startPress(a,l)})},n=Bu(this.node.current,"keydown",t),r=()=>{this.isPressing&&c$("cancel",(i,s)=>this.cancelPress(i,s))},o=Bu(this.node.current,"blur",r);this.removeAccessibleListeners=qf(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&er.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ZOe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&er.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Gu(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Bu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=qf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const sL=new WeakMap,u$=new WeakMap,CXt=e=>{const t=sL.get(e.target);t&&t(e)},_Xt=e=>{e.forEach(CXt)};function SXt({root:e,...t}){const n=e||document;u$.has(n)||u$.set(n,{});const r=u$.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(_Xt,{root:e,...t})),r[o]}function EXt(e,t,n){const r=SXt(t);return sL.set(e,n),r.observe(e),()=>{sL.delete(e),r.unobserve(e)}}const kXt={some:0,all:1};class jXt extends Nh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:kXt[o]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(l)};return EXt(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(TXt(t,n))&&this.startObserver()}unmount(){}}function TXt({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const AXt={inView:{Feature:jXt},tap:{Feature:wXt},focus:{Feature:xXt},hover:{Feature:bXt}};function QOe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function DXt(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function PXt(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function nP(e,t,n){const r=e.getProps();return Mz(r,t,n!==void 0?n:r.custom,DXt(e),PXt(e))}let IXt=Gr,Fz=Gr;const Gf=e=>e*1e3,Ku=e=>e/1e3,OXt={current:!1},JOe=e=>Array.isArray(e)&&typeof e[0]=="number";function e3e(e){return!!(!e||typeof e=="string"&&t3e[e]||JOe(e)||Array.isArray(e)&&e.every(e3e))}const $b=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,t3e={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$b([0,.65,.55,1]),circOut:$b([.55,0,1,.45]),backIn:$b([.31,.01,.66,-.59]),backOut:$b([.33,1.53,.69,.99])};function n3e(e){if(e)return JOe(e)?$b(e):Array.isArray(e)?e.map(n3e):t3e[e]}function $Xt(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=n3e(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function RXt(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const r3e=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,MXt=1e-7,FXt=12;function LXt(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=r3e(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>MXt&&++a<FXt);return s}function u_(e,t,n,r){if(e===t&&n===r)return Gr;const o=i=>LXt(i,0,1,e,n);return i=>i===0||i===1?i:r3e(o(i),t,r)}const BXt=u_(.42,0,1,1),NXt=u_(0,0,.58,1),o3e=u_(.42,0,.58,1),zXt=e=>Array.isArray(e)&&typeof e[0]!="number",i3e=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,s3e=e=>t=>1-e(1-t),Lz=e=>1-Math.sin(Math.acos(e)),a3e=s3e(Lz),VXt=i3e(Lz),l3e=u_(.33,1.53,.69,.99),Bz=s3e(l3e),HXt=i3e(Bz),UXt=e=>(e*=2)<1?.5*Bz(e):.5*(2-Math.pow(2,-10*(e-1))),WXt={linear:Gr,easeIn:BXt,easeInOut:o3e,easeOut:NXt,circIn:Lz,circInOut:VXt,circOut:a3e,backIn:Bz,backInOut:HXt,backOut:l3e,anticipate:UXt},pre=e=>{if(Array.isArray(e)){Fz(e.length===4);const[t,n,r,o]=e;return u_(t,n,r,o)}else if(typeof e=="string")return WXt[e];return e},Nz=(e,t)=>n=>!!(l_(n)&&YZt.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),c3e=(e,t,n)=>r=>{if(!l_(r))return r;const[o,i,s,a]=r.match(eP);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},YXt=e=>yh(0,255,e),d$={...xg,transform:e=>Math.round(YXt(e))},Zp={test:Nz("rgb","red"),parse:c3e("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+d$.transform(e)+", "+d$.transform(t)+", "+d$.transform(n)+", "+_x(Cx.transform(r))+")"};function qXt(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const aL={test:Nz("#"),parse:qXt,transform:Zp.transform},Fv={test:Nz("hsl","hue"),parse:c3e("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Uc.transform(_x(t))+", "+Uc.transform(_x(n))+", "+_x(Cx.transform(r))+")"},ts={test:e=>Zp.test(e)||aL.test(e)||Fv.test(e),parse:e=>Zp.test(e)?Zp.parse(e):Fv.test(e)?Fv.parse(e):aL.parse(e),transform:e=>l_(e)?e:e.hasOwnProperty("red")?Zp.transform(e):Fv.transform(e)},Rr=(e,t,n)=>-n*e+n*t+e;function f$(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function GXt({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=f$(l,a,e+1/3),i=f$(l,a,e),s=f$(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const h$=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},KXt=[aL,Zp,Fv],ZXt=e=>KXt.find(t=>t.test(e));function mre(e){const t=ZXt(e);let n=t.parse(e);return t===Fv&&(n=GXt(n)),n}const u3e=(e,t)=>{const n=mre(e),r=mre(t),o={...n};return i=>(o.red=h$(n.red,r.red,i),o.green=h$(n.green,r.green,i),o.blue=h$(n.blue,r.blue,i),o.alpha=Rr(n.alpha,r.alpha,i),Zp.transform(o))};function XXt(e){var t,n;return isNaN(e)&&l_(e)&&(((t=e.match(eP))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(MOe))===null||n===void 0?void 0:n.length)||0)>0}const d3e={regex:UZt,countKey:"Vars",token:"${v}",parse:Gr},f3e={regex:MOe,countKey:"Colors",token:"${c}",parse:ts.parse},h3e={regex:eP,countKey:"Numbers",token:"${n}",parse:xg.parse};function p$(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function Pj(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&p$(n,d3e),p$(n,f3e),p$(n,h3e),n}function p3e(e){return Pj(e).values}function m3e(e){const{values:t,numColors:n,numVars:r,tokenised:o}=Pj(e),i=t.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(d3e.token,s[l]):l<r+n?a=a.replace(f3e.token,ts.transform(s[l])):a=a.replace(h3e.token,_x(s[l]));return a}}const QXt=e=>typeof e=="number"?0:e;function JXt(e){const t=p3e(e);return m3e(e)(t.map(QXt))}const bh={test:XXt,parse:p3e,createTransformer:m3e,getAnimatableNone:JXt},g3e=(e,t)=>n=>`${n>0?t:e}`;function v3e(e,t){return typeof e=="number"?n=>Rr(e,t,n):ts.test(e)?u3e(e,t):e.startsWith("var(")?g3e(e,t):b3e(e,t)}const y3e=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>v3e(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},eQt=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=v3e(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},b3e=(e,t)=>{const n=bh.createTransformer(t),r=Pj(e),o=Pj(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?qf(y3e(r.values,o.values),n):g3e(e,t)},Nw=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},gre=(e,t)=>n=>Rr(e,t,n);function tQt(e){return typeof e=="number"?gre:typeof e=="string"?ts.test(e)?u3e:b3e:Array.isArray(e)?y3e:typeof e=="object"?eQt:gre}function nQt(e,t,n){const r=[],o=n||tQt(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Gr:t;a=qf(l,a)}r.push(a)}return r}function x3e(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(Fz(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=nQt(t,r,o),a=s.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Nw(e[d],e[d+1],u);return s[d](f)};return n?u=>l(yh(e[0],e[i-1],u)):l}function rQt(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Nw(0,t,r);e.push(Rr(n,1,o))}}function oQt(e){const t=[0];return rQt(t,e.length-1),t}function iQt(e,t){return e.map(n=>n*t)}function sQt(e,t){return e.map(()=>t||o3e).splice(0,e.length-1)}function Ij({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=zXt(r)?r.map(pre):pre(r),i={done:!1,value:t[0]},s=iQt(n&&n.length===t.length?n:oQt(t),e),a=x3e(s,t,{ease:Array.isArray(o)?o:sQt(t,o)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function w3e(e,t){return t?e*(1e3/t):0}const aQt=5;function C3e(e,t,n){const r=Math.max(t-aQt,0);return w3e(n-e(r),t-r)}const m$=.001,lQt=.01,vre=10,cQt=.05,uQt=1;function dQt({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;IXt(e<=Gf(vre));let s=1-t;s=yh(cQt,uQt,s),e=yh(lQt,vre,Ku(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=lL(u,s),v=Math.exp(-f);return m$-p/m*v},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=lL(Math.pow(u,2),s);return(-o(u)+m$>0?-1:1)*((p-m)*v)/g}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-m$+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,l=hQt(o,i,a);if(e=Gf(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const fQt=12;function hQt(e,t,n){let r=n;for(let o=1;o<fQt;o++)r=r-e(r)/t(r);return r}function lL(e,t){return e*Math.sqrt(1-t*t)}const pQt=["duration","bounce"],mQt=["stiffness","damping","mass"];function yre(e,t){return t.some(n=>e[n]!==void 0)}function gQt(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!yre(e,mQt)&&yre(e,pQt)){const n=dQt(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function _3e({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=gQt({...r,velocity:-Ku(r.velocity||0)}),m=f||0,v=l/(2*Math.sqrt(a*u)),g=i-o,y=Ku(Math.sqrt(a/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(v<1){const w=lL(y,v);b=C=>{const _=Math.exp(-v*y*C);return i-_*((m+v*y*g)/w*Math.sin(w*C)+g*Math.cos(w*C))}}else if(v===1)b=w=>i-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(v*v-1);b=C=>{const _=Math.exp(-v*y*C),S=Math.min(w*C,300);return i-_*((m+v*y*g)*Math.sinh(S)+w*g*Math.cosh(S))/w}}return{calculatedDuration:p&&d||null,next:w=>{const C=b(w);if(p)s.done=w>=d;else{let _=m;w!==0&&(v<1?_=C3e(b,w,C):_=0);const S=Math.abs(_)<=n,E=Math.abs(i-C)<=t;s.done=S&&E}return s.value=s.done?i:C,s}}}function bre({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||l!==void 0&&j>l,v=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const b=j=>-g*Math.exp(-j/r),w=j=>x+b(j),C=j=>{const k=b(j),T=w(j);p.done=Math.abs(k)<=u,p.value=p.done?x:T};let _,S;const E=j=>{m(p.value)&&(_=j,S=_3e({keyframes:[p.value,v(p.value)],velocity:C3e(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:j=>{let k=!1;return!S&&_===void 0&&(k=!0,C(j),E(j)),_!==void 0&&j>_?S.next(j-_):(!k&&C(j),p)}}}const vQt=e=>{const t=({timestamp:n})=>e(n);return{start:()=>er.update(t,!0),stop:()=>bd(t),now:()=>Ai.isProcessing?Ai.timestamp:performance.now()}},xre=2e4;function wre(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<xre;)t+=n,r=e.next(t);return t>=xre?1/0:t}const yQt={decay:bre,inertia:bre,tween:Ij,keyframes:Ij,spring:_3e};function Oj({autoplay:e=!0,delay:t=0,driver:n=vQt,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,g,y;const x=()=>{y=new Promise(z=>{g=z})};x();let b;const w=yQt[o]||Ij;let C;w!==Ij&&typeof r[0]!="number"&&(C=x3e([0,100],r,{clamp:!1}),r=[0,100]);const _=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",j=null,k=null,T=null;_.calculatedDuration===null&&i&&(_.calculatedDuration=wre(_));const{calculatedDuration:A}=_;let D=1/0,P=1/0;A!==null&&(D=A+s,P=D*(i+1)-s);let I=0;const R=z=>{if(k===null)return;m>0&&(k=Math.min(k,z)),m<0&&(k=Math.min(z-P/m,k)),j!==null?I=j:I=Math.round(z-k)*m;const G=I-t*(m>=0?1:-1),ee=m>=0?G<0:G>P;I=Math.max(G,0),E==="finished"&&j===null&&(I=P);let N=I,Y=_;if(i){const re=Math.min(I,P)/D;let K=Math.floor(re),X=re%1;!X&&re>=1&&(X=1),X===1&&K--,K=Math.min(K,i+1),!!(K%2)&&(a==="reverse"?(X=1-X,s&&(X-=s/D)):a==="mirror"&&(Y=S)),N=yh(0,1,X)*D}const q=ee?{done:!1,value:r[0]}:Y.next(N);C&&(q.value=C(q.value));let{done:Z}=q;!ee&&A!==null&&(Z=m>=0?I>=P:I<=0);const ie=j===null&&(E==="finished"||E==="running"&&Z);return f&&f(q.value),ie&&B(),q},O=()=>{b&&b.stop(),b=void 0},V=()=>{E="idle",O(),g(),x(),k=T=null},B=()=>{E="finished",d&&d(),O(),g()},H=()=>{if(v)return;b||(b=n(R));const z=b.now();l&&l(),j!==null?k=z-j:(!k||E==="finished")&&(k=z),E==="finished"&&x(),T=k,j=null,E="running",b.start()};e&&H();const W={then(z,G){return y.then(z,G)},get time(){return Ku(I)},set time(z){z=Gf(z),I=z,j!==null||!b||m===0?j=z:k=b.now()-z/m},get duration(){const z=_.calculatedDuration===null?wre(_):_.calculatedDuration;return Ku(z)},get speed(){return m},set speed(z){z===m||!b||(m=z,W.time=Ku(I))},get state(){return E},play:H,pause:()=>{E="paused",j=I},stop:()=>{v=!0,E!=="idle"&&(E="idle",u&&u(),V())},cancel:()=>{T!==null&&R(T),V()},complete:()=>{E="finished"},sample:z=>(k=0,R(z))};return W}function bQt(e){let t;return()=>(t===void 0&&(t=e()),t)}const xQt=bQt(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wQt=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),dS=10,CQt=2e4,_Qt=(e,t)=>t.type==="spring"||e==="backgroundColor"||!e3e(t.ease);function SQt(e,t,{onUpdate:n,onComplete:r,...o}){if(!(xQt()&&wQt.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l,u=!1;const d=()=>{l=new Promise(w=>{a=w})};d();let{keyframes:f,duration:p=300,ease:m,times:v}=o;if(_Qt(t,o)){const w=Oj({...o,repeat:0,delay:0});let C={done:!1,value:f[0]};const _=[];let S=0;for(;!C.done&&S<CQt;)C=w.sample(S),_.push(C.value),S+=dS;v=void 0,f=_,p=S-dS,m="linear"}const g=$Xt(e.owner.current,t,f,{...o,duration:p,ease:m,times:v}),y=()=>{u=!1,g.cancel()},x=()=>{u=!0,er.update(y),a(),d()};return g.onfinish=()=>{u||(e.set(RXt(f,o)),r&&r(),x())},{then(w,C){return l.then(w,C)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Gr},get time(){return Ku(g.currentTime||0)},set time(w){g.currentTime=Gf(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return Ku(p)},play:()=>{s||(g.play(),bd(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const C=Oj({...o,autoplay:!1});e.setWithVelocity(C.sample(w-dS).value,C.sample(w).value,dS)}x()},complete:()=>{u||g.finish()},cancel:x}}function EQt({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Gr,pause:Gr,stop:Gr,then:i=>(i(),Promise.resolve()),cancel:Gr,complete:Gr});return t?Oj({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const kQt={type:"spring",stiffness:500,damping:25,restSpeed:10},jQt=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),TQt={type:"keyframes",duration:.8},AQt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DQt=(e,{keyframes:t})=>t.length>2?TQt:bg.has(e)?e.startsWith("scale")?jQt(t[1]):kQt:AQt,cL=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bh.test(t)||t==="0")&&!t.startsWith("url(")),PQt=new Set(["brightness","contrast","saturate","opacity"]);function IQt(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(eP)||[];if(!r)return e;const o=n.replace(r,"");let i=PQt.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const OQt=/([a-z-]*)\(.*?\)/g,uL={...bh,getAnimatableNone:e=>{const t=e.match(OQt);return t?t.map(IQt).join(" "):e}},$Qt={...FOe,color:ts,backgroundColor:ts,outlineColor:ts,fill:ts,stroke:ts,borderColor:ts,borderTopColor:ts,borderRightColor:ts,borderBottomColor:ts,borderLeftColor:ts,filter:uL,WebkitFilter:uL},zz=e=>$Qt[e];function S3e(e,t){let n=zz(e);return n!==uL&&(n=bh),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const E3e=e=>/^0[^.\s]+$/.test(e);function RQt(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||E3e(e)}function MQt(e,t,n,r){const o=cL(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),RQt(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];i[d]=S3e(t,a)}return i}function FQt({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function Vz(e,t){return e[t]||e.default||e}const LQt={skipAnimations:!1},Hz=(e,t,n,r={})=>o=>{const i=Vz(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Gf(s);const l=MQt(t,e,n,i),u=l[0],d=l[l.length-1],f=cL(e,u),p=cL(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(FQt(i)||(m={...m,...DQt(e,m)}),m.duration&&(m.duration=Gf(m.duration)),m.repeatDelay&&(m.repeatDelay=Gf(m.repeatDelay)),!f||!p||OXt.current||i.type===!1||LQt.skipAnimations)return EQt(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=SQt(t,e,m);if(v)return v}return Oj(m)};function $j(e){return!!(Bs(e)&&e.add)}const k3e=e=>/^\-?\d*\.?\d+$/.test(e);function Uz(e,t){e.indexOf(t)===-1&&e.push(t)}function Wz(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Yz{constructor(){this.subscriptions=[]}add(t){return Uz(this.subscriptions,t),()=>Wz(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const BQt=e=>!isNaN(parseFloat(e));class NQt{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Ai;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,er.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>er.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=BQt(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Yz);const r=this.events[t].add(n);return t==="change"?()=>{r(),er.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?w3e(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Z0(e,t){return new NQt(e,t)}const j3e=e=>t=>t.test(e),zQt={test:e=>e==="auto",parse:e=>e},T3e=[xg,at,Uc,Jd,GZt,qZt,zQt],qy=e=>T3e.find(j3e(e)),VQt=[...T3e,ts,bh],HQt=e=>VQt.find(j3e(e));function UQt(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Z0(n))}function WQt(e,t){const n=nP(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=lXt(i[s]);UQt(e,s,a)}}function YQt(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&o!==void 0?o:t[l]),d!=null&&(typeof d=="string"&&(k3e(d)||E3e(d))?d=parseFloat(d):!HQt(d)&&bh.test(u)&&(d=S3e(l,u)),e.addValue(l,Z0(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function qQt(e,t){return t?(t[e]||t.default||t).from:void 0}function GQt(e,t,n){const r={};for(const o in e){const i=qQt(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function KQt({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ZQt(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function A3e(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&KQt(d,f))continue;const v={delay:n,elapsed:0,...Vz(i||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[DOe];if(x){const b=window.HandoffAppearAnimations(x,f,p,er);b!==null&&(v.elapsed=b,v.isHandoff=!0)}}let g=!v.isHandoff&&!ZQt(p,m);if(v.type==="spring"&&(p.getVelocity()||v.velocity)&&(g=!1),p.animation&&(g=!1),g)continue;p.start(Hz(f,p,m,e.shouldReduceMotion&&bg.has(f)?{type:!1}:v));const y=p.animation;$j(l)&&(l.add(f),y.then(()=>l.remove(f))),u.push(y)}return s&&Promise.all(u).then(()=>{s&&WQt(e,s)}),u}function dL(e,t,n={}){const r=nP(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(A3e(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return XQt(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,u]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function XQt(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,l=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(QQt).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(dL(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function QQt(e,t){return e.sortNodePosition(t)}function JQt(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>dL(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=dL(e,t,n);else{const o=typeof t=="function"?nP(e,t,n.custom):t;r=Promise.all(A3e(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const eJt=[...jz].reverse(),tJt=jz.length;function nJt(e){return t=>Promise.all(t.map(({animation:n,options:r})=>JQt(e,n,r)))}function rJt(e){let t=nJt(e);const n=iJt();let r=!0;const o=(l,u)=>{const d=nP(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function s(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let x=0;x<tJt;x++){const b=eJt[x],w=n[b],C=d[b]!==void 0?d[b]:f[b],_=Lw(C),S=b===u?w.isActive:null;S===!1&&(g=x);let E=C===f[b]&&C!==d[b]&&_;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...v},!w.isActive&&S===null||!C&&!w.prevProp||QD(C)||typeof C=="boolean")continue;let k=oJt(w.prevProp,C)||b===u&&w.isActive&&!E&&_||x>g&&_,T=!1;const A=Array.isArray(C)?C:[C];let D=A.reduce(o,{});S===!1&&(D={});const{prevResolvedValues:P={}}=w,I={...P,...D},R=O=>{k=!0,m.has(O)&&(T=!0,m.delete(O)),w.needsAnimating[O]=!0};for(const O in I){const V=D[O],B=P[O];if(v.hasOwnProperty(O))continue;let H=!1;Dj(V)&&Dj(B)?H=!QOe(V,B):H=V!==B,H?V!==void 0?R(O):m.add(O):V!==void 0&&m.has(O)?R(O):w.protectedKeys[O]=!0}w.prevProp=C,w.prevResolvedValues=D,w.isActive&&(v={...v,...D}),r&&e.blockInitialAnimation&&(k=!1),k&&(!E||T)&&p.push(...A.map(O=>({animation:O,options:{type:b,...l}})))}if(m.size){const x={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(x[b]=w)}),p.push({animation:x})}let y=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(p):Promise.resolve()}function a(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const p=s(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function oJt(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!QOe(t,e):!1}function ip(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iJt(){return{animate:ip(!0),whileInView:ip(),whileHover:ip(),whileTap:ip(),whileDrag:ip(),whileFocus:ip(),exit:ip()}}class sJt extends Nh{constructor(t){super(t),t.animationState||(t.animationState=rJt(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),QD(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let aJt=0;class lJt extends Nh{constructor(){super(...arguments),this.id=aJt++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const cJt={animation:{Feature:sJt},exit:{Feature:lJt}},Cre=(e,t)=>Math.abs(e-t);function uJt(e,t){const n=Cre(e.x,t.x),r=Cre(e.y,t.y);return Math.sqrt(n**2+r**2)}class D3e{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=v$(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=uJt(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=f,{timestamp:g}=Ai;this.history.push({...v,timestamp:g});const{onStart:y,onMove:x}=this.handlers;p||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=g$(p,this.transformPagePoint),er.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=v$(f.type==="pointercancel"?this.lastMoveEventInfo:g$(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),v&&v(f,y)},!qOe(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const s=tP(t),a=g$(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ai;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,v$(a,this.history)),this.removeListeners=qf(Gu(this.contextWindow,"pointermove",this.handlePointerMove),Gu(this.contextWindow,"pointerup",this.handlePointerUp),Gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bd(this.updatePoint)}}function g$(e,t){return t?{point:t(e.point)}:e}function _re(e,t){return{x:e.x-t.x,y:e.y-t.y}}function v$({point:e},t){return{point:e,delta:_re(e,P3e(t)),offset:_re(e,dJt(t)),velocity:fJt(t,.1)}}function dJt(e){return e[0]}function P3e(e){return e[e.length-1]}function fJt(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=P3e(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Gf(t)));)n--;if(!r)return{x:0,y:0};const i=Ku(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ba(e){return e.max-e.min}function fL(e,t=0,n=.01){return Math.abs(e-t)<=n}function Sre(e,t,n,r=.5){e.origin=r,e.originPoint=Rr(t.min,t.max,e.origin),e.scale=ba(n)/ba(t),(fL(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Rr(n.min,n.max,e.origin)-e.originPoint,(fL(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Sx(e,t,n,r){Sre(e.x,t.x,n.x,r?r.originX:void 0),Sre(e.y,t.y,n.y,r?r.originY:void 0)}function Ere(e,t,n){e.min=n.min+t.min,e.max=e.min+ba(t)}function hJt(e,t,n){Ere(e.x,t.x,n.x),Ere(e.y,t.y,n.y)}function kre(e,t,n){e.min=t.min-n.min,e.max=e.min+ba(t)}function Ex(e,t,n){kre(e.x,t.x,n.x),kre(e.y,t.y,n.y)}function pJt(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Rr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Rr(n,e,r.max):Math.min(e,n)),e}function jre(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function mJt(e,{top:t,left:n,bottom:r,right:o}){return{x:jre(e.x,n,o),y:jre(e.y,t,r)}}function Tre(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function gJt(e,t){return{x:Tre(e.x,t.x),y:Tre(e.y,t.y)}}function vJt(e,t){let n=.5;const r=ba(e),o=ba(t);return o>r?n=Nw(t.min,t.max-r,e.min):r>o&&(n=Nw(e.min,e.max-o,t.min)),yh(0,1,n)}function yJt(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const hL=.35;function bJt(e=hL){return e===!1?e=0:e===!0&&(e=hL),{x:Are(e,"left","right"),y:Are(e,"top","bottom")}}function Are(e,t,n){return{min:Dre(e,t),max:Dre(e,n)}}function Dre(e,t){return typeof e=="number"?e:e[t]||0}const Pre=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lv=()=>({x:Pre(),y:Pre()}),Ire=()=>({min:0,max:0}),fo=()=>({x:Ire(),y:Ire()});function Fa(e){return[e("x"),e("y")]}function I3e({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function xJt({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wJt(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function y$(e){return e===void 0||e===1}function pL({scale:e,scaleX:t,scaleY:n}){return!y$(e)||!y$(t)||!y$(n)}function jp(e){return pL(e)||O3e(e)||e.z||e.rotate||e.rotateX||e.rotateY}function O3e(e){return Ore(e.x)||Ore(e.y)}function Ore(e){return e&&e!=="0%"}function Rj(e,t,n){const r=e-n,o=t*r;return n+o}function $re(e,t,n,r,o){return o!==void 0&&(e=Rj(e,o,r)),Rj(e,n,r)+t}function mL(e,t=0,n=1,r,o){e.min=$re(e.min,t,n,r,o),e.max=$re(e.max,t,n,r,o)}function $3e(e,{x:t,y:n}){mL(e.x,t.translate,t.scale,t.originPoint),mL(e.y,n.translate,n.scale,n.originPoint)}function CJt(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Bv(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,$3e(e,s)),r&&jp(i.latestValues)&&Bv(e,i.latestValues))}t.x=Rre(t.x),t.y=Rre(t.y)}function Rre(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function uf(e,t){e.min=e.min+t,e.max=e.max+t}function Mre(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=Rr(e.min,e.max,i);mL(e,t[n],t[r],s,t.scale)}const _Jt=["x","scaleX","originX"],SJt=["y","scaleY","originY"];function Bv(e,t){Mre(e.x,t,_Jt),Mre(e.y,t,SJt)}function R3e(e,t){return I3e(wJt(e.getBoundingClientRect(),t))}function EJt(e,t,n){const r=R3e(e,n),{scroll:o}=t;return o&&(uf(r.x,o.offset.x),uf(r.y,o.offset.y)),r}const M3e=({current:e})=>e?e.ownerDocument.defaultView:null,kJt=new WeakMap;class jJt{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fo(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tP(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=KOe(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fa(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Uc.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(x=ba(w)*(parseFloat(x)/100))}}this.originPoint[y]=x}),v&&er.update(()=>v(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:g}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=TJt(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Fa(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new D3e(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:M3e(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&er.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!fS(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=pJt(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Mv(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=mJt(o.layoutBox,n):this.constraints=!1,this.elastic=bJt(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Fa(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=yJt(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Mv(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=EJt(r,o.root,this.visualElement.getTransformPagePoint());let s=gJt(o.layout.layoutBox,i);if(n){const a=n(xJt(s));this.hasMutatedConstraints=!!a,a&&(s=I3e(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Fa(d=>{if(!fS(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Hz(t,r,0,n))}stopAnimation(){Fa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fa(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Fa(n=>{const{drag:r}=this.getProps();if(!fS(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-Rr(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mv(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Fa(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=vJt({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fa(s=>{if(!fS(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Rr(l,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;kJt.set(this.visualElement,this);const t=this.visualElement.current,n=Gu(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Mv(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=Bu(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Fa(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=hL,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function fS(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function TJt(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class AJt extends Nh{constructor(t){super(t),this.removeGroupControls=Gr,this.removeListeners=Gr,this.controls=new jJt(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fre=e=>(t,n)=>{e&&er.update(()=>e(t,n))};class DJt extends Nh{constructor(){super(...arguments),this.removePointerDownListener=Gr}onPointerDown(t){this.session=new D3e(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:M3e(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Fre(t),onStart:Fre(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&er.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=Gu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function PJt(){const e=h.useContext(ZD);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const GE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lre(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gy={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(at.test(e))e=parseFloat(e);else return e;const n=Lre(e,t.target.x),r=Lre(e,t.target.y);return`${n}% ${r}%`}},IJt={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=bh.parse(e);if(o.length>5)return r;const i=bh.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=l;const u=Rr(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};class OJt extends ne.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;NZt($Jt),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),GE.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||er.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function F3e(e){const[t,n]=PJt(),r=h.useContext(Az);return ne.createElement(OJt,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(IOe),isPresent:t,safeToRemove:n})}const $Jt={borderRadius:{...Gy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gy,borderTopRightRadius:Gy,borderBottomLeftRadius:Gy,borderBottomRightRadius:Gy,boxShadow:IJt},L3e=["TopLeft","TopRight","BottomLeft","BottomRight"],RJt=L3e.length,Bre=e=>typeof e=="string"?parseFloat(e):e,Nre=e=>typeof e=="number"||at.test(e);function MJt(e,t,n,r,o,i){o?(e.opacity=Rr(0,n.opacity!==void 0?n.opacity:1,FJt(r)),e.opacityExit=Rr(t.opacity!==void 0?t.opacity:1,0,LJt(r))):i&&(e.opacity=Rr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<RJt;s++){const a=`border${L3e[s]}Radius`;let l=zre(t,a),u=zre(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Nre(l)===Nre(u)?(e[a]=Math.max(Rr(Bre(l),Bre(u),r),0),(Uc.test(u)||Uc.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Rr(t.rotate||0,n.rotate||0,r))}function zre(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const FJt=B3e(0,.5,a3e),LJt=B3e(.5,.95,Gr);function B3e(e,t,n){return r=>r<e?0:r>t?1:n(Nw(e,t,r))}function Vre(e,t){e.min=t.min,e.max=t.max}function Ia(e,t){Vre(e.x,t.x),Vre(e.y,t.y)}function Hre(e,t,n,r,o){return e-=t,e=Rj(e,1/n,r),o!==void 0&&(e=Rj(e,1/o,r)),e}function BJt(e,t=0,n=1,r=.5,o,i=e,s=e){if(Uc.test(t)&&(t=parseFloat(t),t=Rr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Rr(i.min,i.max,r);e===i&&(a-=t),e.min=Hre(e.min,t,n,a,o),e.max=Hre(e.max,t,n,a,o)}function Ure(e,t,[n,r,o],i,s){BJt(e,t[n],t[r],t[o],t.scale,i,s)}const NJt=["x","scaleX","originX"],zJt=["y","scaleY","originY"];function Wre(e,t,n,r){Ure(e.x,t,NJt,n?n.x:void 0,r?r.x:void 0),Ure(e.y,t,zJt,n?n.y:void 0,r?r.y:void 0)}function Yre(e){return e.translate===0&&e.scale===1}function N3e(e){return Yre(e.x)&&Yre(e.y)}function VJt(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function z3e(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function qre(e){return ba(e.x)/ba(e.y)}class HJt{constructor(){this.members=[]}add(t){Uz(this.members,t),t.scheduleRender()}remove(t){if(Wz(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Gre(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const UJt=(e,t)=>e.depth-t.depth;class WJt{constructor(){this.children=[],this.isDirty=!1}add(t){Uz(this.children,t),this.isDirty=!0}remove(t){Wz(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(UJt),this.isDirty=!1,this.children.forEach(t)}}function YJt(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(bd(r),e(i-t))};return er.read(r,!0),()=>bd(r)}function qJt(e){window.MotionDebug&&window.MotionDebug.record(e)}function GJt(e){return e instanceof SVGElement&&e.tagName!=="svg"}function KJt(e,t,n){const r=Bs(e)?e:Z0(e);return r.start(Hz("",r,t,n)),r.animation}const Kre=["","X","Y","Z"],ZJt={visibility:"hidden"},Zre=1e3;let XJt=0;const Tp={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function V3e({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=XJt++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tp.totalNodes=Tp.resolvedTargetDeltas=Tp.recalculatedProjection=0,this.nodes.forEach(een),this.nodes.forEach(ien),this.nodes.forEach(sen),this.nodes.forEach(ten),qJt(Tp)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new WJt)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Yz),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GJt(s),this.instance=s;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=YJt(p,250),GE.hasAnimatedSinceResize&&(GE.hasAnimatedSinceResize=!1,this.nodes.forEach(Qre))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||den,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!z3e(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...Vz(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||Qre(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aen),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xre);return}this.isUpdating||this.nodes.forEach(ren),this.isUpdating=!1,this.nodes.forEach(oen),this.nodes.forEach(QJt),this.nodes.forEach(JJt),this.clearAllSnapshots();const a=performance.now();Ai.delta=yh(0,1e3/60,a-Ai.timestamp),Ai.timestamp=a,Ai.isProcessing=!0,l$.update.process(Ai),l$.preRender.process(Ai),l$.render.process(Ai),Ai.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(nen),this.sharedNodes.forEach(len)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,er.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){er.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fo(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!N3e(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||jp(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),fen(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return fo();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(uf(a.x,l.offset.x),uf(a.y,l.offset.y)),a}removeElementScroll(s){const a=fo();Ia(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Ia(a,s);const{scroll:p}=this.root;p&&(uf(a.x,-p.offset.x),uf(a.y,-p.offset.y))}uf(a.x,d.offset.x),uf(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const l=fo();Ia(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Bv(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),jp(d.latestValues)&&Bv(l,d.latestValues)}return jp(this.latestValues)&&Bv(l,this.latestValues),l}removeTransform(s){const a=fo();Ia(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!jp(u.latestValues))continue;pL(u.latestValues)&&u.updateSnapshot();const d=fo(),f=u.measurePageBox();Ia(d,f),Wre(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return jp(this.latestValues)&&Wre(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ai.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ai.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fo(),this.relativeTargetOrigin=fo(),Ex(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ia(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=fo(),this.targetWithTransforms=fo()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hJt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ia(this.target,this.layout.layoutBox),$3e(this.target,this.targetDelta)):Ia(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fo(),this.relativeTargetOrigin=fo(),Ex(this.relativeTargetOrigin,this.target,m.target),Ia(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tp.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||pL(this.parent.latestValues)||O3e(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ai.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ia(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;CJt(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Lv(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Lv(),this.projectionDeltaWithTransform=Lv());const g=this.projectionTransform;Sx(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Gre(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Tp.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Lv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=fo(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(uen));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;Jre(f.x,s.x,_),Jre(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ex(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cen(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&VJt(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=fo()),Ia(w,this.relativeTarget)),g&&(this.animationValues=d,MJt(d,u,this.latestValues,_,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=er.update(()=>{GE.hasAnimatedSinceResize=!0,this.currentAnimation=KJt(0,Zre,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Zre),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&H3e(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||fo();const f=ba(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const p=ba(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}Ia(a,l),Bv(a,d),Sx(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new HJt),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<Kre.length;d++){const f="rotate"+Kre[d];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZJt;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=qE(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=qE(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!jp(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Gre(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in Tj){if(p[g]===void 0)continue;const{correct:y,applyTo:x}=Tj[g],b=u.transform==="none"?p[g]:y(p[g],f);if(x){const w=x.length;for(let C=0;C<w;C++)u[x[C]]=b}else u[g]=b}return this.options.layoutId&&(u.pointerEvents=f===this?qE(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Xre),this.root.sharedNodes.clear()}}}function QJt(e){e.updateLayout()}function JJt(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?Fa(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ba(p);p.min=r[f].min,p.max=p.min+m}):H3e(i,n.layoutBox,r)&&Fa(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ba(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Lv();Sx(a,r,n.layoutBox);const l=Lv();s?Sx(l,e.applyTransform(o,!0),n.measuredBox):Sx(l,r,n.layoutBox);const u=!N3e(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=fo();Ex(v,n.layoutBox,p.layoutBox);const g=fo();Ex(g,r,m.layoutBox),z3e(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function een(e){Tp.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ten(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nen(e){e.clearSnapshot()}function Xre(e){e.clearMeasurements()}function ren(e){e.isLayoutDirty=!1}function oen(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Qre(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ien(e){e.resolveTargetDelta()}function sen(e){e.calcProjection()}function aen(e){e.resetRotation()}function len(e){e.removeLeadSnapshot()}function Jre(e,t,n){e.translate=Rr(t.translate,0,n),e.scale=Rr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function eoe(e,t,n,r){e.min=Rr(t.min,n.min,r),e.max=Rr(t.max,n.max,r)}function cen(e,t,n,r){eoe(e.x,t.x,n.x,r),eoe(e.y,t.y,n.y,r)}function uen(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const den={duration:.45,ease:[.4,0,.1,1]},toe=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),noe=toe("applewebkit/")&&!toe("chrome/")?Math.round:Gr;function roe(e){e.min=noe(e.min),e.max=noe(e.max)}function fen(e){roe(e.x),roe(e.y)}function H3e(e,t,n){return e==="position"||e==="preserve-aspect"&&!fL(qre(t),qre(n),.2)}const hen=V3e({attachResizeListener:(e,t)=>Bu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),b$={current:void 0},U3e=V3e({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!b$.current){const e=new hen({});e.mount(window),e.setOptions({layoutScroll:!0}),b$.current=e}return b$.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),pen={pan:{Feature:DJt},drag:{Feature:AJt,ProjectionNode:U3e,MeasureLayout:F3e}},men=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function gen(e){const t=men.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function gL(e,t,n=1){const[r,o]=gen(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return k3e(s)?parseFloat(s):s}else return iL(o)?gL(o,t,n+1):o}function ven(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!iL(i))return;const s=gL(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!iL(i))continue;const s=gL(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const yen=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),W3e=e=>yen.has(e),ben=e=>Object.keys(e).some(W3e),ooe=e=>e===xg||e===at,ioe=(e,t)=>parseFloat(e.split(", ")[t]),soe=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return ioe(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?ioe(i[1],e):0}},xen=new Set(["x","y","z"]),wen=a_.filter(e=>!xen.has(e));function Cen(e){const t=[];return wen.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const X0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:soe(4,13),y:soe(5,14)};X0.translateX=X0.x;X0.translateY=X0.y;const _en=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=X0[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=X0[u](l,i)}),e},Sen=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(W3e);let i=[],s=!1;const a=[];if(o.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=qy(d);const p=t[l];let m;if(Dj(p)){const v=p.length,g=p[0]===null?1:0;d=p[g],f=qy(d);for(let y=g;y<v&&p[y]!==null;y++)m?Fz(qy(p[y])===m):m=qy(p[y])}else m=qy(p);if(f!==m)if(ooe(f)&&ooe(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===at&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(p):(s||(i=Cen(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=_en(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),XD&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Een(e,t,n,r){return ben(t)?Sen(e,t,n,r):{target:t,transitionEnd:r}}const ken=(e,t,n,r)=>{const o=ven(e,t,r);return t=o.target,r=o.transitionEnd,Een(e,t,n,r)},vL={current:null},Y3e={current:!1};function jen(){if(Y3e.current=!0,!!XD)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>vL.current=e.matches;e.addListener(t),t()}else vL.current=!1}function Ten(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(Bs(i))e.addValue(o,i),$j(r)&&r.add(o);else if(Bs(s))e.addValue(o,Z0(i,{owner:e})),$j(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Z0(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const aoe=new WeakMap,q3e=Object.keys(Bw),Aen=q3e.length,loe=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Den=Tz.length;class Pen{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>er.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=JD(n),this.isVariantNode=POe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&Bs(p)&&(p.set(a[f],!1),$j(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,aoe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Y3e.current||jen(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vL.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){aoe.delete(this.current),this.projection&&this.projection.unmount(),bd(this.notifyUpdate),bd(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=bg.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&er.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let l=0;l<Aen;l++){const u=q3e[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Bw[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Mv(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fo()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<loe.length;r++){const o=loe[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=Ten(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Den;r++){const o=Tz[r],i=this.props[o];(Lw(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Z0(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Mz(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Bs(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Yz),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class G3e extends Pen{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=GQt(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){YQt(this,r,s);const a=ken(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function Ien(e){return window.getComputedStyle(e)}class Oen extends G3e{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(bg.has(n)){const r=zz(n);return r&&r.default||0}else{const r=Ien(t),o=(ROe(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return R3e(t,n)}build(t,n,r,o){Pz(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Rz(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Bs(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){zOe(t,n,r,o)}}class $en extends G3e{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(bg.has(n)){const r=zz(n);return r&&r.default||0}return n=VOe.has(n)?n:kz(n),t.getAttribute(n)}measureInstanceViewportBox(){return fo()}scrapeMotionValuesFromProps(t,n){return UOe(t,n)}build(t,n,r,o){Oz(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){HOe(t,n,r,o)}mount(t){this.isSVGTag=$z(t.tagName),super.mount(t)}}const Ren=(e,t)=>Dz(e)?new $en(t,{enableHardwareAcceleration:!1}):new Oen(t,{enableHardwareAcceleration:!0}),Men={layout:{ProjectionNode:U3e,MeasureLayout:F3e}},Fen={...cJt,...AXt,...pen,...Men},zh=LZt((e,t)=>gXt(e,t,Fen,Ren));function K3e(){const e=h.useRef(!1);return Ez(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Len(){const e=K3e(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>er.postRender(r),[r]),t]}class Ben extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Nen({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:l}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(Ben,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const x$=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=WOe(zen),l=h.useId(),u=h.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(Nen,{isPresent:n},e)),h.createElement(ZD.Provider,{value:u},e)};function zen(){return new Map}function Ven(e){return h.useEffect(()=>()=>e(),[])}const Ap=e=>e.key||"";function Hen(e,t){e.forEach(n=>{const r=Ap(n);t.set(r,n)})}function Uen(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const Z3e=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(Az).forceRender||Len()[0],l=K3e(),u=Uen(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,v=h.useRef(!0);if(Ez(()=>{v.current=!1,Hen(u,m),p.current=d}),Ven(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return h.createElement(h.Fragment,null,d.map(b=>h.createElement(x$,{key:Ap(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},b)));d=[...d];const g=p.current.map(Ap),y=u.map(Ap),x=g.length;for(let b=0;b<x;b++){const w=g[b];y.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((b,w)=>{if(y.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const _=g.indexOf(w);let S=b;if(!S){const E=()=>{f.delete(w);const j=Array.from(m.keys()).filter(k=>!y.includes(k));if(j.forEach(k=>m.delete(k)),p.current=u.filter(k=>{const T=Ap(k);return T===w||j.includes(T)}),!f.size){if(l.current===!1)return;a(),r&&r()}};S=h.createElement(x$,{key:Ap(C),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:s},C),f.set(w,S)}d.splice(_,0,S)}),d=d.map(b=>{const w=b.key;return f.has(w)?b:h.createElement(x$,{key:Ap(b),isPresent:!0,presenceAffectsLayout:i,mode:s},b)}),h.createElement(h.Fragment,null,f.size?d:d.map(b=>h.cloneElement(b)))};var Wen=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),Yen=()=>{try{return!!(Wen&&import.meta.webpackHot)}catch{return!1}};function qen(e){if(Yen)return typeof import.meta.webpackHot>"u"?Ken(e):Gen(e)}function Gen(e){h.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function Ken(e){h.useEffect(()=>{},[e])}function Zen(e){return typeof e=="function"}function coe(e){return Zen(e)?e():e}const Xen=()=>{};function Qen(e){return function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:i,update:s,remove:a}=ne.useContext(e),l=ne.useRef();ne.useLayoutEffect(()=>{if(n===null)return Xen;const u=coe(r);return i(n,u),l.current=u,()=>{a(n)}},[i,n,a,r]),ne.useLayoutEffect(()=>{const u=coe(r);typeof l.current<"u"&&!o(l.current,u)&&n!==null&&s(n,u),l.current=u})}}function Jen(){const e=new Map,{publish:t,subscribe:n}=H6(),r=uC(t,10,{trailing:!0}),o=()=>Array.from(e.entries());function i(l,u){e.has(l),e.set(l,u),r(o())}function s(l,u){e.has(l),e.set(l,u),r(o())}function a(l){e.has(l),e.delete(l),r(o())}return{add:i,remove:a,update:s,read:o,subscribe:n}}let Q0=!1;const w$=e=>{Q0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(e,', ...)", is wrapped in a <Tracker> element'))),Q0=!0};function etn(){return Q0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),Q0=!0,[]}const ttn=()=>(Q0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),Q0=!0,()=>{}),ntn={add:w$,update:w$,remove:w$,subscribe:ttn,read:etn};let rtn=0;const otn=()=>++rtn;function X3e(){const e=ne.createContext(ntn);function t(){const o=ne.useContext(e),[i,s]=ne.useState(o.read());return ne.useLayoutEffect(()=>(s(o.read()),o.subscribe(s)),[o]),i}function n(o){const i=ne.useMemo(()=>Jen(),[]);return c.jsx(e.Provider,{value:i,children:o.children})}const r=Qen(e);return{Tracker:n,useReportedValues:t,useReporter:r,useAutoIdReporter:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(ne.useRef(otn()).current),o,i)}}}const Ys=4,itn=16,uoe=8,ht=8,Ua=2,hS=4,$i=12,Ug=2,stn=!1,atn=!1,qz=X3e(),ltn=qz.Tracker,Gz=qz.useReportedValues,Q3e=qz.useReporter,wg=h.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),ctn=e=>{const t=ne.useRef(null),{onSetFocus:n}=ne.useContext(wg),[r,o]=ne.useState(!1),i=ne.useCallback(()=>{o(!0)},[]),s=ne.useCallback(()=>{o(!1)},[]);Q3e("change-".concat(Ur(e.path)),()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover}),V6);const a=h.useCallback(l=>{utn(l,n,e.path)},[n,e.path]);return c.jsx("div",{ref:t,onClick:a,onMouseLeave:s,onMouseEnter:i,children:e.children})};function utn(e,t,n){e.stopPropagation(),t(n)}function si(e){const t=h.useRef(e);return Wt(t.current,e)||(t.current=e),t.current}function Vh(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const s=si(i),a=So(()=>ve(s).pipe(rt(l=>Kr(ve({type:"loading"}),e(l).pipe(le(u=>({type:"value",value:u}))))),ma((l,u)=>{let[d]=l;return u.type==="loading"?[d,!0]:[u.value,!1]},n),nr((l,u)=>{let[d,f]=l,[p,m]=u;return!(d!==p||f!==m)}),le(l=>({type:"tuple",tuple:l})),Mn(l=>ve({type:"error",error:l}))),[s],r);if(a.type==="error")throw a.error;return a.tuple}}function _o(e){return e!=null}const dtn="drafts",Kz="".concat(dtn,".");function Zz(e){return e.startsWith(Kz)}function J3e(e){return{draftId:vi(e),publishedId:Fn(e)}}function vi(e){return Zz(e)?e:Kz+e}function Fn(e){return Zz(e)?e.slice(Kz.length):e}function rP(e){const t=e.reduce((n,r)=>{const o=Fn(r._id);let i=n.get(o);return i||(i={id:o,type:r._type,published:void 0,draft:void 0},n.set(o,i)),i[o===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function ftn(e){return rP(e).map(t=>t.draft||t.published).filter(_o)}const htn=Object.freeze({}),hn=Object.freeze([]);function ptn(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const mtn=ptn();function doe(e){return Array.isArray(e)}function xt(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function d0(e){return typeof e=="string"}const gtn=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:pke,vtn=()=>{const e=H6(),t=new gtn(n=>e.publish(n));return{observe:(n,r,o)=>{const i=e.subscribe(s=>{const a=s.find(l=>l.target===n);a&&r(a)});return t.observe(n,o),()=>{i(),t.unobserve(n)}}}},ytn=vtn(),btn=["sanity.imageAsset","sanity.fileAsset"];function xtn(e){return e.type==="document"&&btn.includes(e.name)}function lzn(e){return e.type==="document"&&!xtn(e)}const wtn=["match","in","asc","desc","true","false","null"],Ctn=/^[a-zA-Z_][a-zA-Z0-9_]*$/,e$e=e=>!Ctn.test(e)||wtn.includes(e),Xz=e=>'["'.concat(e,'"]'),_tn=e=>"@".concat(Xz(e)),Stn=e=>Array.isArray(e)&&e.length===0,Etn=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(Stn(r)){t+="[]";continue}if(typeof r=="number"){t+="[".concat(r,"]");continue}const o=n===0;e$e(r)?t=o?_tn(r):"".concat(t).concat(Xz(r)):t=o?r:"".concat(t,".").concat(r)}return t},Bm=ktn();function ktn(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const jtn={isLoading:!0,value:void 0,error:null};function t$e(e,t){return So(()=>e.pipe(Ttn()),[e],typeof t>"u"?jtn:{isLoading:!1,value:t,error:null})}function Ttn(){return e=>e.pipe(le(t=>({isLoading:!1,value:t,error:null})),Mn(t=>ve({isLoading:!1,value:void 0,error:t})))}function Atn(e,t,n){return h.useMemo(()=>PA(e,t,n),[e,n,t])}function n$e(e,t){return e!==null&&e.roles.some(n=>n.name===t)}var foe=Object.freeze,Dtn=Object.defineProperty,Nu=(e,t)=>foe(Dtn(e,"raw",{value:foe(t||e.slice())})),hoe,poe,moe,goe,voe,yoe,boe,xoe,woe;const Ptn=250,Itn=$.div(e=>{let{$changed:t,$disabled:n,$isReviewChangeOpen:r}=e;return n?de(hoe||(hoe=Nu([`
        `,` {
          display: none;
        }
      `])),yL):de(goe||(goe=Nu([`
      --change-bar-offset: 2px;

      display: flex;
      position: relative;

      @media (hover: hover) {
        &:hover {
          z-index: 10;
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),!t&&de(poe||(poe=Nu([`
        `,` {
          opacity: 0;
          pointer-events: none;
        }
      `])),yL),r&&de(moe||(moe=Nu([`
        `,` {
          opacity: 0;
        }
      `])),r$e))}),Otn=$.div(voe||(voe=Nu([`
  flex-grow: 1;
  min-width: 0;
`]))),yL=$.div(yoe||(yoe=Nu([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),e=>{let{$zIndex:t}=e;return t}),$tn=$.div(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow,r=t.sanity.media[0];return de(boe||(boe=Nu([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),r$e=$.button(e=>{let{theme:t,$withHoverEffect:n}=e;const r=t.sanity.color.spot.yellow;return de(woe||(woe=Nu([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),Ptn,r,n&&de(xoe||(xoe=Nu([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function Rtn(e){const{children:t,disabled:n,isChanged:r,withHoverEffect:o=!0}=e,{onOpenReviewChanges:i,isReviewChangesOpen:s}=ne.useContext(wg),{zIndex:a}=Ea(),l=h.useMemo(()=>n||!r?null:c.jsxs(yL,{"data-testid":"change-bar",$zIndex:a,children:[c.jsx($tn,{"data-testid":"change-bar__marker"}),c.jsx(r$e,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:s?void 0:i,tabIndex:-1,type:"button",$withHoverEffect:o})]}),[n,r,a,s,i,o]);return c.jsxs(Itn,{"data-testid":"change-bar-wrapper",$changed:r,$disabled:n,$isReviewChangeOpen:s,children:[c.jsx(Otn,{"data-testid":"change-bar__field-wrapper",children:t}),l]})}const Mtn=h.memo(function(t){const{children:n,disabled:r,hasFocus:o,isChanged:i,onMouseEnter:s,onMouseLeave:a,path:l=hn,withHoverEffect:u,...d}=t,f=Ea(),[p,m]=h.useState(!1),v=h.useCallback(x=>{s==null||s(x),m(!0)},[s]),g=h.useCallback(x=>{a==null||a(x),m(!1)},[a]),y=h.useRef(null);return Q3e(r?null:"field-".concat(Ur(l)),()=>({element:y.current,path:l,isChanged:i,hasFocus:o,hasHover:p,zIndex:f.zIndex}),V6),c.jsx("div",{...d,ref:y,onMouseEnter:v,onMouseLeave:g,children:c.jsx(Rtn,{isChanged:i,disabled:r,withHoverEffect:u,children:n})})});function yi(e){const{children:t,hasFocus:n,isChanged:r,path:o,withHoverEffect:i,...s}=e;return c.jsx(Mtn,{...s,path:o,hasFocus:n,isChanged:r,withHoverEffect:i,children:t})}ne.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const bL=ne.createContext(null);function Ftn(e){const t=ne.useContext(bL);ne.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const Coe=()=>{},oP=ne.forwardRef(function(t,n){const{as:r="div",onScroll:o,...i}=t,s=mr(n),a=h.useContext(bL),l=h.useMemo(()=>H6(),[]);return h.useEffect(()=>o?l.subscribe(o):Coe,[l,o]),h.useEffect(()=>a?l.subscribe(a.publish):Coe,[a,l]),h.useEffect(()=>{const u=f=>{l.publish(f)},d=s.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[l,s]),c.jsx(bL.Provider,{value:l,children:ne.createElement(r,{ref:s,"data-testid":"scroll-container",...i})})});function Ltn(e){let{onScroll:t,children:n}=e;return Ftn(t),c.jsx(c.Fragment,{children:n})}function _oe(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",o=Wl(r),i="".concat(e,"-").concat(Ur(o));if(n.has(i))return n.get(i);let s;for(const[a,l]of n){if(!("path"in l)||!a.startsWith(e))continue;const u=Z9e(o,l.path),d=l.path[l.path.length-1],f=u===l.path.length-1&&Ul(d);if(u!==0&&!(u!==l.path.length&&!f)&&(s=l,u===o.length))break}return s}function Btn(e){return e[0]!=="changePanel"}function o$e(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function Ntn(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&o$e(e)}const ztn=-15;function Soe(e){let n=e.element;for(;!Ntn(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+ztn,left:0,behavior:"smooth"})}const Eoe=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let o=!1,i=e;for(;i&&i!==t&&t.contains(i);)o&&(n.top+=i.offsetTop,n.left+=i.offsetLeft),o$e(i)&&(n.top=i.offsetTop,n.height=i.offsetHeight,n.left=i.offsetLeft,n.width=i.offsetWidth,o=!0),r.top+=i.offsetTop-i.scrollTop,r.left+=i.offsetLeft-i.scrollLeft,i=i.offsetParent;return{rect:r,bounds:n}};function pS(e,t,n){return["M ".concat(e-hS," ").concat(t-hS*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+hS," ").concat(t-hS*n)].join("")}function C$(e,t){return"M".concat(e," ").concat(t)}function lo(e,t){return"L".concat(e," ").concat(t)}function Vtn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.join(t)}function bs(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function Htn(e){const{from:t,to:n}=e,{left:r,top:o}=t,{left:i,top:s}=n,a=[],l=Math.min(Ys,Math.abs(o-s)/2);return t.isAbove?a.push(C$(r+ht,o-$i+Ua),lo(r+ht,o-Ys),bs(r+ht,o,r+ht+Ys,o)):t.isBelow?a.push(C$(r+ht,o+$i-Ua),lo(r+ht,o+Ys),bs(r+ht,o,r+ht+Ys,o)):a.push(C$(r,o)),n.isAbove?o<n.bounds.top?a.push(lo(n.bounds.left-8-l,o),bs(n.bounds.left-8,o,n.bounds.left-8,o+l),lo(n.bounds.left-8,s-l),bs(n.bounds.left-8,s,n.bounds.left-8+l,s),lo(n.bounds.left+ht-Ys,s),bs(n.bounds.left+ht,s,n.bounds.left+ht,s-Ys),lo(n.bounds.left+ht,s-$i+Ua)):a.push(lo(n.bounds.left+ht-Ys,o),bs(n.bounds.left+ht,o,n.bounds.left+ht,o-Ys),lo(n.bounds.left+ht,s-$i+Ua)):n.isBelow?o>n.bounds.top+n.bounds.height?a.push(lo(n.bounds.left-ht-l,o),bs(n.bounds.left-ht,o,n.bounds.left-ht,o-l),lo(n.bounds.left-ht,s+l),bs(n.bounds.left-ht,s,n.bounds.left-ht+l,s),lo(n.bounds.left+ht-Ys,s),bs(n.bounds.left+ht,s,n.bounds.left+ht,s+Ys),lo(n.bounds.left+ht,s+$i-Ua)):a.push(lo(n.bounds.left+ht-Ys,o),bs(n.bounds.left+ht,o,n.bounds.left+ht,o+Ys),lo(n.bounds.left+ht,s+$i-Ua)):o<s?a.push(lo(n.bounds.left+ht-l,o),bs(n.bounds.left+ht,o,n.bounds.left+ht,o+l),lo(n.bounds.left+ht,s-l),bs(n.bounds.left+ht,s,n.bounds.left+ht+l,s),lo(i,s)):a.push(lo(n.bounds.left+ht-l,o),bs(n.bounds.left+ht,o,n.bounds.left+ht,o-l),lo(n.bounds.left+ht,s+l),bs(n.bounds.left+ht,s,n.bounds.left+ht+l,s),lo(i,s)),Vtn(a)}function koe(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Ua,o=e.top>t.top+t.height-Ua;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+uoe,endY:e.top+e.height-uoe,isAbove:r,isBelow:o,outOfBounds:r||o}}function Utn(e){const t={top:e.from.bounds.top+$i,bottom:e.from.bounds.top+e.from.bounds.height-$i,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-$i*2},n=koe(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+$i,bottom:e.to.bounds.top+e.to.bounds.height-$i,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-$i*2},o=koe(e.to.rect,r),i=Math.max(o.startY,n.startY);return n.top=Math.min(i,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),o.top=Math.min(i,o.endY),o.top<t.top?o.top=Math.min(t.top,o.endY):o.top>t.bottom&&(o.top=Math.max(t.bottom,o.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),o.top=Math.min(Math.max(o.top,r.top),r.bottom),{from:n,to:o}}function Wtn(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),o=Math.max(e.top,t.top),i=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(r-e.left));return c.jsx("rect",{...n,x:r,y:o,height:i,width:s})}var joe=Object.freeze,Ytn=Object.defineProperty,iP=(e,t)=>joe(Ytn(e,"raw",{value:joe(t||e.slice())})),Toe,Aoe,Doe,Poe;$.rect(Toe||(Toe=iP([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const Ky=$.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(Aoe||(Aoe=iP([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),qtn=$.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(Doe||(Doe=iP([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),Gtn=$(Wtn)(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(Poe||(Poe=iP([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),Ktn=h.memo(function(t){let{from:n,to:r}=t;const o=Utn({from:n,to:r});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const i=Htn(o);return c.jsxs(c.Fragment,{children:[c.jsx(qtn,{d:i,strokeWidth:itn}),c.jsx(Ky,{d:i,strokeWidth:Ug}),c.jsx(Gtn,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:Ug,bounds:r.bounds}),o.from.isAbove&&c.jsx(Ky,{d:pS(o.from.left+ht,o.from.bounds.top-$i+Ua,-1),strokeWidth:Ug}),o.from.isBelow&&c.jsx(Ky,{d:pS(o.from.left+ht,o.from.bounds.top+o.from.bounds.height+$i-Ua,1),strokeWidth:Ug}),o.to.isAbove&&c.jsx(Ky,{d:pS(o.to.bounds.left+ht,o.to.bounds.top-$i+Ua,-1),strokeWidth:Ug}),o.to.isBelow&&c.jsx(Ky,{d:pS(o.to.bounds.left+ht,o.to.bounds.top+o.to.bounds.height+$i-Ua,1),strokeWidth:Ug}),stn]})});function Ztn(e,t){h.useEffect(()=>ytn.observe(e,t),[e,t])}var Ioe=Object.freeze,Xtn=Object.defineProperty,Qtn=(e,t)=>Ioe(Xtn(e,"raw",{value:Ioe(t||e.slice())})),Ooe;const Jtn=$.svg(Ooe||(Ooe=Qtn([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function $oe(e,t,n,r){const o=[],i=[];for(const u of e){if(!Btn(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===t){o.push(u);continue}if(f.hasHover){o.push(u);continue}if(f.hasFocus){i.push(u);continue}}const s=o.length>0;return{connectors:(s?o:i).map(u=>{let[d]=u;const f=_oe("field",d,n),p=_oe("change",d,n);return!f||!p?null:{field:{id:d,...f},change:{id:d,...p}}}).filter(_o).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...Eoe(d.element,r)},change:{...f,...Eoe(f.element,r)}}}),isHoverConnector:s}}function enn(e){const{rootElement:t,onSetFocus:n}=e,[r,o]=ne.useState(null),i=Gz(),s=h.useMemo(()=>new Map(i),[i]),[{connectors:a},l]=h.useState(()=>$oe(i,r,s,t)),u=h.useMemo(()=>ug(a,f=>0-f.field.path.length).slice(0,1),[a]),d=h.useCallback(()=>{l($oe(i,r,s,t))},[s,i,r,t]);return Ztn(t,d),c.jsx(Ltn,{onScroll:d,children:c.jsx(Jtn,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:p,change:m}=f;return m?c.jsx(tnn,{field:p,change:m,onSetFocus:n,setHovered:o},p.id):null})})})}function tnn(e){const{change:t,field:n,onSetFocus:r,setHovered:o}=e,i=h.useCallback(()=>{Soe(n),Soe(t),r(n.path)},[n,t,r]),s=h.useCallback(()=>o(n.id),[n,o]),a=h.useCallback(()=>o(null),[o]),l=h.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=h.useMemo(()=>({rect:t.rect,bounds:t.bounds}),[t.bounds,t.rect]);return c.jsxs(c.Fragment,{children:[c.jsx("g",{onClick:i,onMouseEnter:s,onMouseLeave:a,children:c.jsx(Ktn,{from:l,to:u})}),atn]})}function nnn(e){let{children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i,...s}=e;const[a,l]=ne.useState(),u=h.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i}),[r,o,i]);return c.jsx(wg.Provider,{value:u,children:c.jsx(ltn,{children:c.jsxs(oP,{...s,ref:l,className:n,children:[t,a&&c.jsx(enn,{rootElement:a,onSetFocus:i})]})})})}const rnn=nnn;function onn(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Qz(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&onn(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Roe=Object.freeze,inn=Object.defineProperty,sP=(e,t)=>Roe(inn(e,"raw",{value:Roe(t||e.slice())})),Moe,Foe,Loe,Boe;const snn="data-active",_$="a,button",ann=$.div(e=>{let{theme:t,offset:n}=e;return de(Moe||(Moe=sP([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,ge(t.sanity.radius[1]),-n,-n,-n,i$e,Qz({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),lnn=$.div(Foe||(Foe=sP([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),i$e=$(M)(Loe||(Loe=sP([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),cnn=$(M).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})(Boe||(Boe=sP([`
  position: relative;
  width: 100%;
`]))),Hh=h.forwardRef(function(t,n){let{activeItemDataAttr:r=snn,ariaLabel:o,ariaMultiselectable:i=!1,autoFocus:s,canReceiveFocus:a,fixedHeight:l,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:p,initialIndex:m,initialScrollAlign:v="start",inputElement:g,itemHeight:y,items:x,onEndReached:b,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:C,overscan:_,renderItem:S,wrapAround:E=!0,...j}=t;const k=h.useRef(!1),T=h.useRef(h.useId()),A=h.useRef(m??0),[D,P]=h.useState(null),[I,R]=h.useState(!1),[O,V]=h.useState(null),[B,H]=h.useState(null),W=h.useCallback(Ae=>{if(!b)return;const[Ge]=[...Ae.getVirtualItems()].reverse();if(!Ge)return;Ge.index>=x.length-w-1&&k.current&&b()},[b,x.length,w]),z=Rke({count:x.length,getItemKey:f,getScrollElement:()=>B,estimateSize:()=>y,onChange:W,overscan:_}),G=h.useMemo(()=>{let Ae=-1;return x.reduce((Ge,Ye,tt)=>{var wt,Ee;const Be=(wt=d==null?void 0:d(tt))!=null?wt:!1,ut=(Ee=p==null?void 0:p(tt))!=null?Ee:!1;return Be||(Ae+=1),Ge[tt]={activeIndex:Be?null:Ae,disabled:Be,selected:ut},Ge},[])},[d,p,x]),ee=h.useMemo(()=>G.filter(Ae=>!Ae.disabled).length,[G]),N=h.useCallback(Ae=>O==null?void 0:O.setAttribute("data-enabled",(!Ae).toString()),[O]),Y=h.useCallback(Ae=>"".concat(T.current,"-item-").concat(Ae),[]),q=h.useCallback(()=>"".concat(T.current,"-children"),[]),Z=h.useCallback(()=>{const Ae=[g,B].some(Ye=>document.activeElement===Ye);if(C&&!Ae&&!I)return;const Ge=Array.from((D==null?void 0:D.children)||[]);Ge==null||Ge.forEach(Ye=>{var tt,wt,Ee;const Be=Number((tt=Ye.dataset)==null?void 0:tt.index),ut=(wt=G[Be])==null?void 0:wt.activeIndex;(Ee=Ye.querySelector(_$))==null||Ee.toggleAttribute(r,ut===A.current)})},[r,D==null?void 0:D.children,I,g,G,C,B]),ie=h.useCallback(()=>{const Ae=Array.from((D==null?void 0:D.children)||[]);Ae==null||Ae.forEach(Ge=>{var Ye;(Ye=Ge.querySelector(_$))==null||Ye.toggleAttribute(r,!1)})},[r,D==null?void 0:D.children]),re=h.useMemo(()=>PA(Z,200),[Z]),K=h.useCallback(()=>{const Ae=A==null?void 0:A.current;x.length>0?(g==null||g.setAttribute("aria-activedescendant",Y(Ae)),B==null||B.setAttribute("aria-activedescendant",Y(Ae))):(g==null||g.removeAttribute("aria-activedescendant"),B==null||B.removeAttribute("aria-activedescendant"))},[Y,g,x.length,B]),X=h.useCallback(()=>{var Ae,Ge;const Ye=D==null?void 0:D.parentElement;if(D&&Ye){const tt=Ye.getBoundingClientRect().top-D.getBoundingClientRect().top;return(Ge=(Ae=z.getVirtualItemForOffset(tt))==null?void 0:Ae.index)!=null?Ge:-1}return-1},[D,z]),ce=h.useCallback(Ae=>{let{index:Ge,scrollAlign:Ye,scrollIntoView:tt=!0}=Ae;if(A.current=Ge,K(),Z(),tt){const wt=G.findIndex(Ee=>Ee.activeIndex===Ge);wt>-1&&z.scrollToIndex(wt,Ye?{align:Ye}:{})}},[K,G,Z,z]),me=h.useCallback(Ae=>{let Ge=-1;const Ye=ee-1;if(Ae==="next"){const tt=E?0:Ye;Ge=A.current<ee-1?A.current+1:tt}if(Ae==="previous"){const tt=E?Ye:0;Ge=A.current>0?A.current-1:tt}ce({index:Ge,scrollIntoView:!0}),N(!1)},[ee,N,ce,E]),ae=h.useCallback(Ae=>{switch(Ae){case"input":g==null||g.focus();break;case"list":B==null||B.focus();break}},[g,B]),Ce=h.useCallback(()=>{g==null||g.focus()},[g]),_e=h.useCallback(()=>{B==null||B.focus()},[B]),he=h.useCallback(Ae=>()=>{ce({index:Ae,scrollIntoView:!1})},[ce]),be=h.useCallback(()=>{Z()},[Z]),Le=h.useCallback(Ae=>Ge=>{const Ye=Array.from((D==null?void 0:D.children)||[]);if(Ye.length&&(Ge.key==="ArrowDown"&&(Ge.preventDefault(),ae(Ae),me("next")),Ge.key==="ArrowUp"&&(Ge.preventDefault(),ae(Ae),me("previous")),Ge.key==="Enter")){Ge.preventDefault(),ae(Ae);const tt=Ye.find(wt=>Number(wt.dataset.index)===G.findIndex(Ee=>Ee.activeIndex===A.current));if(tt){const wt=tt==null?void 0:tt.querySelector(_$);wt==null||wt.click()}}},[D==null?void 0:D.children,ae,G,me]),$e=h.useCallback(Ae=>Le("input")(Ae),[Le]),ct=h.useCallback(Ae=>Le("list")(Ae),[Le]),ot=h.useCallback(()=>{C&&(Z(),R(!0))},[C,Z]),Nt=h.useCallback(()=>{C&&(ie(),R(!1))},[ie,C]);h.useImperativeHandle(n,()=>({focusInputElement(){Ce()},focusListElement(){_e()},getTopIndex(){return X()},scrollToIndex(Ae){ce({index:Ae}),N(!0)}}),[N,Ce,_e,X,ce]),h.useEffect(()=>{typeof m<"u"&&!k.current&&ce({index:m,scrollAlign:v,scrollIntoView:!0}),k.current=!0},[m,v,C,ce]),h.useEffect(()=>{function Ae(){N(!0)}return B==null||B.addEventListener("mousemove",Ae),B==null||B.addEventListener("wheel",Ae,{passive:!0}),()=>{B==null||B.removeEventListener("mousemove",Ae),B==null||B.removeEventListener("wheel",Ae)}},[N,B]),h.useEffect(()=>(g==null||g.addEventListener("focus",be),g==null||g.addEventListener("keydown",$e),B==null||B.addEventListener("focus",be),B==null||B.addEventListener("keydown",ct),()=>{g==null||g.removeEventListener("focus",be),g==null||g.removeEventListener("keydown",$e),B==null||B.removeEventListener("focus",be),B==null||B.removeEventListener("keydown",ct)}),[a,be,Le,$e,ct,ie,g,Z,B]),h.useEffect(()=>{K()},[K,x]),h.useEffect(()=>{const Ae=new MutationObserver(re);return D&&Ae.observe(D,{childList:!0,subtree:!0}),()=>{Ae.disconnect()}},[D,re]),h.useEffect(()=>{g==null||g.setAttribute("aria-autocomplete","list"),g==null||g.setAttribute("aria-expanded","true"),g==null||g.setAttribute("aria-controls",q()),g==null||g.setAttribute("role","combobox")},[q,g]),h.useEffect(()=>{s&&ae(s)},[s,a,_e,Ce,ae]);const Rt=a?0:-1;return c.jsxs(i$e,{id:q(),onMouseEnter:ot,onMouseLeave:Nt,ref:H,sizing:"border",tabIndex:Rt,...j,children:[a&&c.jsx(ann,{offset:u}),c.jsx(lnn,{"aria-hidden":"true","data-enabled":!0,ref:V}),z&&c.jsx(cnn,{forwardedAs:"ul",$height:z.getTotalSize(),"aria-label":o,"aria-multiselectable":i,flex:1,ref:P,role:"listbox",children:z.getVirtualItems().map(Ae=>{const Ge=Ae.index,{activeIndex:Ye,disabled:tt,selected:wt}=G[Ge],Ee=S(x[Ge],{activeIndex:Ye,disabled:tt,selected:wt,virtualIndex:Ge}),Be=h.cloneElement(Ee,{tabIndex:-1}),ut=typeof Ye=="number"&&!tt?{"aria-posinset":Ye+1,...i?{"aria-selected":wt.toString()}:{},"aria-setsize":ee,id:Y(Ye),role:"option",onMouseEnter:he(Ye)}:{};return c.jsx(te,{as:"li","data-index":Ge,ref:l?void 0:z.measureElement,style:{flex:1,...l?{height:"".concat(Ae.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(Ae.start,"px)"),width:"100%"},tabIndex:-1,...ut,children:Be},Ae.key)})})]})}),Noe=new WeakMap;let unn=0;function zoe(e){const t=Noe.get(e);if(t)return t;const n="".concat(e.name||e.displayName||"<anonymous>","-").concat(unn++);return Noe.set(e,n),n}function dnn(e){const t=h.useRef(void 0);return dd(e,t.current)||(t.current=e),[t.current]}function fnn(e,t){h.useEffect(e,dnn(t))}const hnn=h.memo(function(t){const{hook:n,args:r,id:o,onNext:i,onReset:s,onRequestUpdate:a}=t,l=n({...r,onComplete:()=>{s(o)}});return fnn(()=>(i(o,l),a(),()=>{i(o,null),a()}),l),null},(e,t)=>e.args===t.args),pnn=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},mnn=e=>clearTimeout(e),gnn=typeof requestIdleCallback>"u"?pnn:requestIdleCallback,vnn=typeof cancelIdleCallback>"u"?mnn:cancelIdleCallback,ynn={trailing:!0};function s$e(e){const{hooks:t,args:n,children:r,onReset:o}=e,i=h.useRef({}),[s,a]=h.useState(0),[l,u]=h.useState({}),d=h.useRef(null),f=h.useCallback(()=>{d.current&&vnn(d.current),d.current=gnn(()=>{d.current=null,a(x=>x+1)})},[]),p=Atn(f,60,ynn),m=h.useCallback((x,b)=>{if(b===null)delete i.current[x];else{const w=i.current[x];i.current[x]={...w,value:b}}},[]),v=h.useCallback(x=>{u(b=>({...b,[x]:(b[x]||0)+1})),o&&o()},[o]),g=h.useMemo(()=>t.map(x=>zoe(x)),[t]),y=h.useMemo(()=>g.map(x=>{var b;return(b=i.current[x])==null?void 0:b.value}).filter(_o),[g,s]);return c.jsxs(c.Fragment,{children:[t.map(x=>{const b=zoe(x),w=l[b]||0;return c.jsx(hnn,{hook:x,id:b,args:n,onNext:m,onRequestUpdate:p,onReset:v},"".concat(b,"-").concat(w))}),r({states:y})]})}function Jz(e){let{makePlatformAware:t=!0,keys:n=[],...r}=e;const o=t?n.map(bnn):n;return c.jsx(n7,{...r,keys:o})}const Voe=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function bnn(e){const t=e.toLowerCase();return t==="alt"&&Voe?Hoe(e,"option"):t==="option"&&!Voe?Hoe(e,"alt"):e}function Hoe(e,t){const n=e.length;return t.replace(/./g,(r,o)=>o<n&&e[o]===e[o].toUpperCase()?r.toUpperCase():r)}function Xc(e){const{currentUser:t,title:n="Insufficient permissions",operationLabel:r="access this feature"}=e,o=(t==null?void 0:t.roles)||[],i=o.length!==1;return c.jsxs(M,{padding:2,children:[c.jsxs(Zt,{space:2,children:[c.jsx(L,{size:1,children:c.jsx(rh,{})}),c.jsx(L,{weight:"semibold",children:n})]}),c.jsx(Zt,{marginTop:4,children:c.jsx(L,{size:1,children:o.length===0?c.jsxs(c.Fragment,{children:["You have no role that grants you permission to ",r]}):c.jsxs(c.Fragment,{children:["Your role",i&&"s"," ",xnn(o.map(s=>c.jsx("code",{children:s.title},s.name)),c.jsx(c.Fragment,{children:", "}))," ","do",i||"es"," not have permissions to ",r]})})})]})}function xnn(e,t){return e.reduce((n,r)=>n===null?[r]:[...n,t,r],null)}const wnn=$(oo)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return gt(r,e.$width,o=>({width:o==="auto"?"none":ge(n[o]),maxWidth:"100%"}))}),Cnn=ne.forwardRef(function(t,n){const{width:r,...o}=t,i=ye(r);return c.jsx(wnn,{...o,"data-ui":"PopoverContainer",$width:i,ref:n})});var Uoe=Object.freeze,_nn=Object.defineProperty,a$e=(e,t)=>Uoe(_nn(e,"raw",{value:Uoe(t||e.slice())})),Woe,Yoe;const Snn=$(nn)(()=>de(Woe||(Woe=a$e([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),Enn=$(hs)(e=>{const t=e.theme.sanity.radius[3];return de(Yoe||(Yoe=a$e([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),t,t)});function knn(e){const{children:t,header:n,onClose:r,referenceElement:o,containerRef:i,width:s}=e,a=h.useCallback(()=>{r(),o==null||o.focus()},[r,o]),l=c.jsx(Cnn,{width:s,children:c.jsx($h,{autoFocus:!0,children:c.jsxs(te,{ref:i,children:[c.jsx(Enn,{children:c.jsx(M,{padding:2,paddingLeft:3,children:c.jsxs(U,{align:"center",gap:2,children:[c.jsx(M,{flex:1,children:c.jsx(L,{textOverflow:"ellipsis",weight:"semibold",children:n})}),c.jsx(oe,{icon:Bi,mode:"bleed",onClick:a})]})})}),t]})})});return c.jsx(Snn,{portal:!0,constrainSize:!0,content:l,open:!0,referenceElement:o})}var qoe=Object.freeze,jnn=Object.defineProperty,Tnn=(e,t)=>qoe(jnn(e,"raw",{value:qoe(t||e.slice())})),Goe;const Ann=$(Q)(()=>de(Goe||(Goe=Tnn([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),l$e=h.createContext({selected:!1});function Dnn(){const e=h.useContext(l$e);if(!e)throw new Error("PreviewCard: missing context value");return e}const dm=h.forwardRef(function(t,n){const{children:r,selected:o,as:i,...s}=t;return c.jsx(Ann,{"data-ui":"PreviewCard",...s,forwardedAs:i,ref:n,selected:o,children:c.jsx(l$e.Provider,{value:{selected:o},children:r})})}),us={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},Pnn={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var Koe=Object.freeze,Inn=Object.defineProperty,Onn=(e,t)=>Koe(Inn(e,"raw",{value:Koe(t||e.slice())})),Zoe;const c$e=$.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:o}=e,i=t.width||0,s=t.width||0,a=Pnn[n];return de(Zoe||(Zoe=Onn([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      flex: 1;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we can’t use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg> – icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),o?"100%":ge(i),o?"100%":ge(s),o?void 0:ge(i),l=>{let{theme:u}=l;return ge(u.sanity.radius[r])},a)});c$e.displayName="MediaWrapper";function d_(e){const{border:t=!0,dimensions:n,layout:r,media:o,radius:i=1,responsive:s=!1,styles:a}=e;return c.jsxs(c$e,{$dimensions:n,$layout:r,$radius:i,$responsive:s,className:a==null?void 0:a.media,"data-testid":"Media",children:[$nn({dimensions:n,layout:r,media:o}),t&&c.jsx("span",{})]})}function $nn(e){const{dimensions:t,layout:n,media:r,styles:o}=e;return ic.isValidElementType(r)?h.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?c.jsx(L,{as:"span",className:o==null?void 0:o.mediaString,children:r}):h.isValidElement(r)?r:null}function Rnn(e,t,n){return ic.isValidElementType(e)?h.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?c.jsx("div",{children:e}):e}function Yo(e,t,n){return typeof e=="string"?e:ic.isValidElementType(e)?h.createElement(e,{layout:t}):e||n}var Xoe=Object.freeze,Mnn=Object.defineProperty,eV=(e,t)=>Xoe(Mnn(e,"raw",{value:Xoe(t||e.slice())})),Qoe,Joe,eie;const Fnn={...us.default,aspect:1,fit:"crop",dpr:fg()},tie=$(U)(Qoe||(Qoe=eV([`
  height: `,`;
`])),ge(us.default.height)),Lnn=$(zi).attrs({animated:!0,radius:1})(Joe||(Joe=eV([`
  max-width: `,`;
  width: 80%;
`])),ge(160)),Bnn=$(zi).attrs({animated:!0,radius:1,size:1})(eie||(eie=eV([`
  max-width: `,`;
  width: 60%;
`])),ge(120));function u$e(e){const{title:t,subtitle:n,media:r,status:o,isPlaceholder:i,children:s,styles:a}=e,l=kbt(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=o&&c.jsx(M,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:Yo(o,"default")});return i?c.jsxs(tie,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&c.jsx(C1,{animated:!0,marginRight:2,radius:2,style:us.default}),c.jsxs(te,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:o?0:1,space:2,children:[c.jsx(Lnn,{}),c.jsx(Bnn,{})]}),u]}):c.jsxs(tie,{align:"center",className:l,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&c.jsx(d_,{dimensions:Fnn,layout:"default",media:r,styles:a}),c.jsxs(te,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:o?0:1,space:2,children:[c.jsxs(L,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[t&&Yo(t,"default"),!t&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&c.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:Yo(n,"default")}),s&&c.jsx("div",{className:a==null?void 0:a.children,children:s})]}),u]})}var nie=Object.freeze,Nnn=Object.defineProperty,Cg=(e,t)=>nie(Nnn(e,"raw",{value:nie(t||e.slice())})),rie,oie,iie,sie,aie,lie,cie;const uie=$(U).attrs({align:"center"})(rie||(rie=Cg([`
  height: `,`;
`])),ge(us.detail.height)),znn=$(M)(oie||(oie=Cg([`
  white-space: nowrap;
`]))),Vnn=$(C1).attrs({animated:!0,radius:2})(iie||(iie=Cg([`
  width: `,`;
  height: `,`;
`])),ge(us.detail.width),ge(us.detail.height)),Hnn=$(zi).attrs({animated:!0,radius:1})(sie||(sie=Cg([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),ge(160)),Unn=$(zi).attrs({animated:!0,radius:1,size:1})(aie||(aie=Cg([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),ge(120)),Wnn=$(zi).attrs({animated:!0,radius:1,size:1})(lie||(lie=Cg([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),ge(180)),Ynn=$(L)(e=>{let{theme:t}=e;const{fonts:n}=t.sanity,r=n.text.sizes[1],o=2,i=r.lineHeight*o;return de(cie||(cie=Cg([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),ge(i),o)}),qnn={...us.detail,fit:"crop",aspect:1,dpr:fg()};function Gnn(e){const{title:t,subtitle:n,description:r,mediaDimensions:o=qnn,media:i,status:s,children:a,isPlaceholder:l}=e,u=s&&c.jsx(znn,{marginLeft:3,paddingRight:1,children:Yo(s,"detail")});return l?c.jsxs(uie,{"data-testid":"detail-preview",children:[i!==!1&&c.jsx(Vnn,{"data-testid":"detail-preview__media"}),c.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[c.jsxs(U,{align:"center","data-testid":"detail-preview__header",children:[c.jsxs(te,{flex:1,space:2,children:[c.jsx(Hnn,{}),c.jsx(Unn,{})]}),u]}),r&&c.jsx(M,{marginTop:3,children:c.jsx(Wnn,{})})]})]}):c.jsxs(uie,{"data-testid":"detail-preview",children:[i!==!1&&c.jsx(d_,{dimensions:o,layout:"detail",media:i}),c.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[c.jsxs(U,{align:"center","data-testid":"detail-preview__header",children:[c.jsxs(te,{flex:1,space:2,children:[c.jsxs(L,{textOverflow:"ellipsis",style:{color:"inherit"},children:[t&&Yo(t,"detail"),!t&&c.jsx(c.Fragment,{children:"Untitled"})]}),n&&c.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Yo(n,"detail")})]}),u]}),r&&c.jsx(M,{marginTop:3,children:c.jsx(Ynn,{muted:!0,size:1,children:Yo(r,"detail")})})]}),a]})}var die=Object.freeze,Knn=Object.defineProperty,tV=(e,t)=>die(Knn(e,"raw",{value:die(t||e.slice())})),fie,hie,pie;const jl=43,nV=3,Znn=$.svg(fie||(fie=tV([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),jl,jl),Xnn=$.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(hie||(hie=tV([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),fe.gray[n.dark?900:100].hex,nV)}),Qnn=$.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(pie||(pie=tV([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),fe.blue[n.dark?400:500].hex,nV)});function Jnn(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=jl/2-nV/2,o=2*Math.PI*r,i=(100-n)/100*o,s="".concat(jl/2," ").concat(jl/2," ").concat(jl," ").concat(jl);return c.jsxs(Znn,{viewBox:s,children:[c.jsx(Xnn,{cx:jl,cy:jl,r}),c.jsx(Qnn,{cx:jl,cy:jl,r,style:{strokeDasharray:o,strokeDashoffset:"".concat(i,"px")}})]})}var mie=Object.freeze,ern=Object.defineProperty,d$e=(e,t)=>mie(ern(e,"raw",{value:mie(t||e.slice())})),gie,vie;const trn=.5,nrn=$(Q)(gie||(gie=d$e([`
  overflow: hidden;
  overflow: clip;
`]))),rrn=$(Q)(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(vie||(vie=d$e([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),trn,fe.blue[n.dark?400:500].hex)});function orn(e){const{value:t}=e;return c.jsx(nrn,{radius:5,children:c.jsx(rrn,{radius:5,style:{transform:"translate3d(".concat(t-100,"%, 0, 0)")}})})}var yie=Object.freeze,irn=Object.defineProperty,f_=(e,t)=>yie(irn(e,"raw",{value:yie(t||e.slice())})),bie,xie,wie,Cie,_ie;const srn=$(M)(bie||(bie=f_([`
  position: relative;
`]))),arn=$(U).attrs({align:"center",justify:"center"})(xie||(xie=f_([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),lrn=$(C1).attrs({animated:!0,radius:2})(wie||(wie=f_([`
  width: 100%;
  height: 100%;
`]))),crn=$(U).attrs({align:"center",justify:"center"})(Cie||(Cie=f_([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),urn=$(te).attrs({padding:2,space:2})(_ie||(_ie=f_([`
  max-width: `,`;
`])),ge(200)),drn={...us.media,aspect:1,fit:"crop",dpr:fg()};function frn(e){const{media:t,mediaDimensions:n=drn,children:r,isPlaceholder:o,progress:i=-1,subtitle:s,title:a,withBorder:l=!0,withRadius:u=!0}=e,d=n.aspect||1,f=h.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),p=h.useMemo(()=>!a||!s?null:c.jsxs(urn,{children:[a&&c.jsx(L,{align:"center",size:1,weight:"semibold",children:Yo(a,"media")}),s&&c.jsx(L,{align:"center",muted:!0,size:1,children:Yo(s,"media")})]}),[s,a]);return c.jsxs(srn,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[c.jsx("div",{style:f}),c.jsx(it,{content:p,disabled:!p,placement:"top",portal:!0,children:c.jsxs(arn,{children:[o?c.jsx(lrn,{}):c.jsx(d_,{border:l,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof i=="number"&&i>-1&&c.jsx(crn,{children:c.jsx(Jnn,{value:i})})]})}),r]})}var Sie=Object.freeze,hrn=Object.defineProperty,rV=(e,t)=>Sie(hrn(e,"raw",{value:Sie(t||e.slice())})),Eie,kie,jie;const prn=$(U).attrs({align:"center"})(Eie||(Eie=rV([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),ge(us.block.height)),mrn=$(Q)(kie||(kie=rV([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),e=>{let{$ratio:t}=e;return t}),grn=$(M).attrs({overflow:"hidden"})(jie||(jie=rV([`
  border-radius: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.radius[1]}),vrn={...us.blockImage,fit:"fillmax",dpr:fg()},yrn=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function brn(e){const{actions:t,title:n,subtitle:r,description:o,fallbackTitle:i="Untitled",mediaDimensions:s=vrn,media:a,children:l,status:u}=e;return c.jsxs(grn,{children:[c.jsxs(te,{children:[c.jsxs(prn,{paddingLeft:2,paddingRight:1,paddingY:1,children:[c.jsxs(te,{flex:1,space:2,children:[(n||i)&&c.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Yo(n,"block"):i}),r&&c.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Yo(r,"block")})]}),c.jsxs(U,{gap:1,paddingLeft:1,children:[u&&c.jsx(M,{paddingX:2,paddingY:3,children:Yo(u,"block")}),t]})]}),c.jsx(mrn,{$ratio:yrn(s),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:c.jsx(d_,{border:!1,dimensions:s,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),o&&c.jsx(M,{paddingX:2,paddingY:3,children:c.jsx(L,{muted:!0,size:1,children:Yo(o,"block")})}),l&&c.jsx("div",{children:l})]})}var Tie=Object.freeze,xrn=Object.defineProperty,wrn=(e,t)=>Tie(xrn(e,"raw",{value:Tie(t||e.slice())})),Aie;const Crn={...us.block,aspect:1,fit:"crop",dpr:fg()},_rn=$(U).attrs({align:"center"})(Aie||(Aie=wrn([`
  min-height: `,`;
`])),ge(us.block.height));function Srn(e){const{actions:t,title:n,subtitle:r,description:o,mediaDimensions:i=Crn,media:s,status:a,children:l}=e;return c.jsxs(te,{"data-testid":"block-preview",space:1,children:[c.jsxs(_rn,{"data-testid":"block-preview__header",children:[s&&c.jsx(d_,{dimensions:i,layout:"block",media:s}),c.jsxs(M,{flex:1,paddingLeft:s?2:1,children:[c.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Yo(n,"block"):"Untitled"}),r&&c.jsx(M,{marginTop:2,children:c.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Yo(r,"block")})}),o&&c.jsx(M,{marginTop:3,children:c.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Yo(o,"block")})})]}),c.jsxs(U,{gap:1,paddingLeft:1,children:[a&&c.jsx(M,{paddingX:2,paddingY:3,children:Yo(a,"block")}),t]})]}),l&&c.jsx("div",{"data-testid":"block-preview__children",children:l})]})}var Die=Object.freeze,Ern=Object.defineProperty,oV=(e,t)=>Die(Ern(e,"raw",{value:Die(t||e.slice())})),Pie,Iie,Oie;const krn=$.span(Pie||(Pie=oV([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),jrn=$.span(Iie||(Iie=oV([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[1])},e=>{let{theme:t}=e;return ge(t.sanity.radius[1])}),Trn=$(L).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e;const n=t.sanity.fonts.text,r=n.sizes[1];return de(Oie||(Oie=oV([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),Arn={...us.inline,fit:"crop",aspect:1,dpr:fg()};function Drn(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:o=Arn}=e;return c.jsxs(krn,{"data-testid":"inline-preview",children:[r&&c.jsxs(jrn,{"data-testid":"inline-preview-media",children:[Rnn(r,"inline",o),c.jsx("span",{})]}),c.jsx(Trn,{"data-testid":"inline-preview-title",size:1,children:Yo(t,"inline",n)})]})}var $ie=Object.freeze,Prn=Object.defineProperty,aP=(e,t)=>$ie(Prn(e,"raw",{value:$ie(t||e.slice())})),Rie,Mie,Fie,Lie;({...us.default,dpr:fg()});$(M)(Rie||(Rie=aP([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));$(U).attrs({align:"center"})(Mie||(Mie=aP([`
  height: `,`;
`])),ge(us.default.height));$(zi).attrs({animated:!0,radius:1})(Fie||(Fie=aP([`
  max-width: `,`;
  width: 80%;
`])),ge(160));$(zi).attrs({animated:!0,radius:1,size:1})(Lie||(Lie=aP([`
  max-width: `,`;
  width: 60%;
`])),ge(120));const Irn=["aria-hidden","disabled","href"],Orn='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function $rn(e){return[...e.querySelectorAll(Orn)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function f$e(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:o=["arrows"],pause:i=!1,rootElement:s}=e,[a,l]=h.useState(-1),[u,d]=h.useState([]),f=u.length,p=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",v=t==="horizontal"?"ArrowLeft":"ArrowUp",g=h.useCallback(()=>{if(s){const b=$rn(s);d(b)}},[s]),y=h.useCallback(b=>{l(b)},[]),x=h.useCallback(b=>{if(i)return;const w=()=>{b.preventDefault(),l(_=>{const S=(_+p)%f;return!r&&S===p?_:S})},C=()=>{b.preventDefault(),l(_=>{const S=(_+1)%f;return!r&&S===0?_:S})};b.key==="Tab"&&o.includes("tab")&&(b.shiftKey?w():C()),o.includes("arrows")&&(b.key===v&&w(),b.key===m&&C())},[i,v,o,m,p,f,r]);h.useEffect(()=>{g()},[g,n,t]),h.useEffect(()=>{const b=new MutationObserver(g);return s&&b.observe(s,{childList:!0,subtree:!0,attributeFilter:Irn}),()=>{b.disconnect()}},[u,g,s]),h.useEffect(()=>{var b;u.forEach((w,C)=>{C===a?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>y(C),w.onblur=()=>y(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>y(C))}),a===-1&&u&&((b=u[n==="last"?p:0])==null||b.setAttribute("tabIndex","0"))},[u,a,y,n,p]),h.useEffect(()=>(s==null||s.addEventListener("keydown",x),()=>{s==null||s.removeEventListener("keydown",x)}),[x,s])}const Rrn=$(M)({position:"relative"}),Mrn=$.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),Uh=h.forwardRef(function(t,n){const{disabled:r,fontSize:o,hotkey:i,icon:s,label:a,mode:l="bleed",space:u=3,text:d,tone:f,tooltip:p,...m}=t,v=zs(),g=f&&v.sanity.color.solid[f],y=h.useMemo(()=>({backgroundColor:g==null?void 0:g.enabled.bg}),[g]),x=!!r,b=typeof r=="object"?c.jsx(L,{size:1,children:r.reason}):c.jsxs(U,{align:"center",gap:2,style:{lineHeight:0},children:[c.jsx(L,{size:1,children:a}),i&&c.jsx(Jz,{fontSize:0,keys:i,style:{margin:-4}})]});return c.jsx(it,{padding:2,placement:"bottom",...p,content:b,disabled:!a,portal:!0,children:c.jsx("div",{children:c.jsx(oe,{"data-ui":"StatusButton",...m,"aria-label":a,disabled:x,mode:l,ref:n,children:c.jsxs(U,{gap:u,children:[c.jsxs(Rrn,{children:[c.jsxs(L,{size:o,children:[h.isValidElement(s)&&s,ic.isValidElementType(s)&&h.createElement(s)]}),f&&c.jsx(Mrn,{style:y})]}),d&&c.jsx(M,{flex:1,children:c.jsx(L,{size:o,children:d})})]})})})})});var Bie=Object.freeze,Frn=Object.defineProperty,Lrn=(e,t)=>Bie(Frn(e,"raw",{value:Bie(t||e.slice())})),Nie;const Brn=$(L)(e=>{let{$tone:t,theme:n}=e;const r=n.sanity.color.muted[t];return de(Nie||(Nie=Lrn([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),fr=ne.forwardRef(function(t,n){const{tone:r,dimmed:o,muted:i,...s}=t;return c.jsx(Brn,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":i?"":void 0,$tone:r,muted:i,ref:n,...s})}),h_=h.forwardRef(function(t,n){const{children:r,content:o,disabled:i,...s}=t;return c.jsx(it,{...s,content:o,disabled:i||!o,padding:2,ref:n,children:c.jsx("div",{children:r})})}),iV=h.forwardRef((e,t)=>{const{push:n}=Qo();return h.useImperativeHandle(t,()=>({push:n})),null});iV.displayName="ImperativeToast";const Nrn={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},zrn=h.createContext(Nrn);function h$e(){return h.useContext(zrn)}function xd(e){let{children:t,zOffset:n}=e;const o=h$e()[n];return c.jsx(cd,{zOffset:o,children:t})}function Vrn(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function o(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[p]=d,[m]=f;return p.localeCompare(m,"en")}).map(d=>{let[,f]=d;return f})}function i(u,d){if(!u.length)return;const[f,...p]=u,m=d.get(f);if(m)return p.length?i(p,m.next):m.value}function s(u,d,f){if(!u.length)return;const[p,...m]=u,v=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,v),!m.length){v.value=f;return}s(m,v.next,f)}function a(u){return i(o(u),e)}function l(u,d){s(o(u),e,d)}return{get:a,set:l}}const p$e=h.createContext(null);function Hrn(e){let{children:t}=e;const n=h.useMemo(()=>{const r=new Map,o={};return{get:i=>{let{namespace:s,dependencies:a}=i;const l=a.map(d=>d===null?o:d),u=r.get(s);return u==null?void 0:u.get(l)},set:i=>{let{namespace:s,dependencies:a,value:l}=i;const u=r.get(s)||Vrn(),d=a.map(f=>f===null?o:f);r.set(s,u),u.set(d,l)}}},[]);return c.jsx(p$e.Provider,{value:n,children:t})}function Bd(){const e=h.useContext(p$e);if(!e)throw new Error("Could not find `cache` context");return e}class sV extends Error{constructor(t){let{projectId:n}=t;super("CorsOriginError"),this.projectId=n}}const aV=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),lV={};function m$e(e,t){aV?localStorage[e]=t:lV[e]=t}function Urn(e){return aV?localStorage[e]:lV[e]}function g$e(e){aV?localStorage.removeItem(e):delete lV[e]}function Wrn(e){const t=typeof window>"u"?ve():Vi(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new kr,o=ln(r,t.pipe(pt(s=>s.key===n),le(s=>s.newValue),pt(_o),le(s=>JSON.parse(s)))).pipe(Mo(1));function i(s){try{m$e(n,JSON.stringify(s)),g$e(n),r.next(s)}catch{}}return{messages:o,broadcast:i}}const zie=/sid=([^&]{20,})&?/;function Yrn(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(zie)||[];if(!t)return null;const n=e.replace(zie,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let Vie=Yrn();const qrn=()=>{const e=Vie;return e&&(Vie=null),e};var Hie=Object.freeze,Grn=Object.defineProperty,v$e=(e,t)=>Hie(Grn(e,"raw",{value:Hie(t||e.slice())})),Uie,Wie;const Krn=$.svg(e=>{let{theme:t}=e;const{fg:n}=t.sanity.color.base;return de(Uie||(Uie=v$e([`
    fill: `,`;
  `])),n)}),Zrn=$.img(Wie||(Wie=v$e([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),Xrn=()=>c.jsx(Krn,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:c.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),Qrn=()=>c.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[c.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),c.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),c.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),c.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function Jrn(e){const{provider:t}=e;return t.logo?c.jsx(Zrn,{src:t.logo,alt:"Logo for ".concat(t.name)}):void 0}const eon={google:Qrn,github:Xrn};async function ton(e){let{client:t,mode:n,providers:r=[]}=e;if(n==="replace"&&Array.isArray(r))return r;const{providers:o}=await t.request({uri:"/auth/providers"});return typeof r=="function"?r(o):r.length===0?o:n==="replace"?r:o.filter(i=>r.some(s=>s.url!==i.url)).concat(r)}function Yie(e){let{loginMethod:t="dual",projectId:n,url:r,basePath:o}=e;const i=new URLSearchParams;return i.set("origin","".concat(window.location.origin).concat(o)),i.set("projectId",n),t==="token"?i.set("withSid","true"):i.set("type",t),"".concat(r,"?").concat(i)}function non(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...o}=e;const i=Vh(t);function s(a){let{projectId:l,basePath:u}=a;const[d,f]=h.useState(null),[p,m]=h.useState(null);if(p)throw p;const[v]=i();h.useEffect(()=>{v&&ton({client:v,...o}).then(f).catch(m)},[v]);const g=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&Yie({loginMethod:n,projectId:l,url:d[0].url,basePath:u}),y=!d||g;return h.useEffect(()=>{g&&(window.location.href=g)},[g]),y?c.jsxs(U,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[c.jsx(L,{muted:!0,children:"Loading…"}),c.jsx(gr,{muted:!0})]}):c.jsxs(te,{space:4,children:[c.jsx(Xo,{align:"center",size:1,children:"Choose login provider"}),c.jsx(te,{space:2,children:d.map((x,b)=>c.jsx(oe,{as:"a",icon:eon[x.name]||c.jsx(Jrn,{provider:x}),href:Yie({loginMethod:n,projectId:l,url:x.url,basePath:u}),mode:"ghost",text:x.title},"".concat(x.url,"_").concat(b)))})]})}return s}const cV=e=>{if(!e)throw new Error("Invalid project id");return"__studio_auth_token_".concat(e)},qie=e=>{try{const t=Urn(cV(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},y$e=e=>{try{g$e(cV(e))}catch(t){console.error(t)}},ron=e=>{let{token:t,projectId:n}=e;try{m$e(cV(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(r){console.error(r)}},Gie=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return y$e(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new sV({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(i))}throw r}};function oon(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:o,loginMethod:i="dual",...s}=e;const{broadcast:a,messages:l}=Wrn("dual_mode_auth_".concat(n)),u=t??gje,d=l.pipe(pi(i==="dual"?qie(n):null)),f={};o&&(f.apiHost=o);const p=d.pipe(le(x=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),rt(x=>xo(async()=>{const b=await Gie(x,a);return{currentUser:b,client:x,authenticated:!!b}})),nr((x,b)=>Wt(x.currentUser,b.currentUser)),Mo(1));async function m(){const x=qrn();if(!x){a(i==="cookie"?null:qie(n));return}const b=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let w;if((i==="dual"||i==="cookie")&&(w=await Gie(b,a)),w||i==="cookie"){a(null);return}const C=await v(b,x);a(C??null)}async function v(x,b){const{token:w}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:b},tag:"auth.fetch-token"});return ron({token:w,projectId:n}),w}async function g(){const x=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});y$e(n),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const y=non({...s,getClient:()=>p.pipe(le(x=>x.client)),loginMethod:i});return{handleCallbackUrl:m,token:d,state:p,LoginComponent:y,logout:g}}function b$e(e){return typeof e!="object"||e===null?"".concat(e):JSON.stringify(Object.fromEntries(Object.entries(e).sort((t,n)=>{let[r]=t,[o]=n;return r.localeCompare(o,"en")}).map(t=>{let[n,r]=t;return[n,b$e(r)]})))}const ion=IA(oon,b$e);function son(e){return xt(e)&&"state"in e&&xt(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function x$e(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function aon(e){return t=>{let n=[];const r=Mn((o,i)=>(n.push(o),e(o,n.length,i).pipe(r)));return t.pipe(_n(()=>{n=[]}),r)}}const Kie=typeof window>"u"?ve({}):Vi(window,"online"),lon=typeof window>"u"?ve({}):Vi(window,"offline"),con=e=>Math.pow(2,e)*100,uon={type:"connecting"},w$e=WEe(),don=w$e[0];w$e[1];const fon=e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:o}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:o}};function hon(e){let{bifur:t}=e;return{connectionStatus$:ln(t.heartbeats,lon.pipe(Am(ud(new Error("The browser went offline"))))).pipe(le(r=>({type:"connected",lastHeartbeat:r})),aon((r,o,i)=>{const s=Math.min(24e4,con(o)),a=new Date(new Date().getTime()+s),l=Ko(a),u=!navigator.onLine,d=fon({error:r,retryAt:a,isOffline:u,attemptNo:o}),f=p7.pipe(y7(u?Kie:ln(l,Kie,don)));return Kr(ve(d),f.pipe(Mi(1)),i)}),pi(uon))}}const pon=dxe(e=>{let{theme:t}=e;const{color:n,fonts:r}=t.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}}),C$e=h.createContext(null);function uV(){const e=h.useContext(C$e);if(!e)throw new Error("UserColorManager: missing context value");return e}function mon(e){const t=uV();return So(e?t.listen(e):xat(),[e],t.get(null))}const gon="purple",von=["green","red","gray"],yon=fxe.filter(e=>!von.includes(e)),_$e=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},bon=e=>{const{background:t,border:n,text:r}=_$e(e);return yon.reduce((o,i)=>(o[i]={name:i,background:fe[i][t].hex,border:fe[i][n].hex,text:fe[i][r].hex,tints:fe[i]},o),{})},xon=e=>{const{background:t,border:n,text:r}=_$e(e);return{name:"gray",background:fe.gray[t].hex,border:fe.gray[n].hex,text:fe.gray[r].hex,tints:fe.gray}};function won(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:o}=e,i=n||bon(o),s=t||xon(o),a=r||gon;if(!i.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const l=Object.keys(i),u=new Map,d=new Map,f=l.reduce((k,T)=>(k[T]=0,k),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(k=>E(k?k.id:null)),{get:v,listen:y};function v(k){return k?i[g(k)]:s}function g(k){if(k===m)return a;const T=p.get(k);if(T)return T;const A=d.get(k);if(A&&(f[A]===0||!C()))return x(k,A);const D=j(k);return f[D]===0?x(k,D):x(k,_(A))}function y(k){let T=u.get(k);if(T)return T;const A=g(k);return T=S(k,A),u.set(k,T),T}function x(k,T){return p.set(k,T),d.set(k,T),f[T]++,T}function b(k,T){p.delete(k),f[T]--}function w(){return l.find(k=>f[k]===0)}function C(){return!!w()}function _(k){let T=1/0,A=[];return l.forEach(D=>{const P=f[D];P===T?A.push(D):P<T&&(T=P,A=[D])}),k&&A.includes(k)?k:A[0]}function S(k,T){return new mt(A=>{const D=i[T];return A.next(D),()=>{u.delete(k),b(k,T)}}).pipe(Mo({refCount:!0}))}function E(k){m=k,f[a]+=k?1:-1}function j(k){let T=0;for(let A=0;A<k.length;A++)T=(T<<5)-T+k.charCodeAt(A)|0;return l[Math.abs(T)%l.length]}}function Con(e){let{children:t,manager:n}=e;const{scheme:r}=uu(),o=h.useMemo(()=>n||won({scheme:r}),[n,r]);return c.jsx(C$e.Provider,{value:o,children:t})}function Zie(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(XA);if(t.length)throw new Error(`Invalid plugin configuration:
`.concat(t.map(n=>"	".concat(n)).join(`
`)))}function dV(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return Zie(r),r}}return Zie(e),()=>e}const _on=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_fieldActions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},Son=[];const Kf=class S$e{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.message=t,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(t){return new S$e(t,{paths:this.paths,children:this.children,operation:this.operation})}};function Eon(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function fV(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Ul(n))return"".concat(t,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function kon(e){return e!==null||e!==void 0}function kx(e,t,n){var r;if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(i=>kx(i,t,n)).filter(kon);if(typeof e=="string")return kx(new Kf(e),t,n);if(!(e instanceof Kf)){if(typeof(e==null?void 0:e.message)!="string")throw new Error("".concat(fV(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return kx(new Kf(e.message,e),t,n)}const o=[];return(r=e.paths)!=null&&r.length?o.concat(e.paths.map(i=>({path:(n.path||[]).concat(i),level:t||"error",item:e}))):[{level:t||"error",item:e,path:n.path||[]}]}const jon={}.toString,Xie=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function Ton(e){for(let t=0;t<Xie.length;t++)if(Xie[t]===e)return!0;return!1}function E$e(e){const t=jon.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!Ton(n)?n.name:t}function zw(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!zw(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!=="_key"&&!zw(e[o],t[o]))return!1}return!0}return!1}const Qie=5e3,Jie=e=>{var t;let n;return e.message?n=e.message:e.results.length===1?n=(t=e.results[0])==null?void 0:t.item.message:n="[".concat(e.results.map(r=>r.item.message).join(" - ".concat(e.operation," - ")),"]"),new Kf(n,{children:e.results.length>1?e.results:void 0,operation:e.operation})},_g={type:(e,t,n)=>{const r=E$e(t);return r!==e&&r!=="undefined"?n||'Expected type "'.concat(e,'", got "').concat(r,'"'):!0},presence:(e,t,n)=>t===void 0&&e==="required"?n||"Value is required":!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length?Jie({message:n,results:i,operation:"AND"}):!0},either:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length<e.length?!0:Jie({message:n,results:i,operation:"OR"})},valid:(e,t,n)=>{const r=typeof t;if(r==="undefined")return!0;const o=(r==="number"||r==="string")&&"".concat(t),i=o&&o.length>30?"".concat(o.slice(0,30),"…"):o,s=o?'Value "'.concat(i,'" did not match any allowed values'):"Value did not match any allowed values";return e.some(a=>zw(a,t))?!0:n||s},custom:async(e,t,n,r)=>{const o=setTimeout(()=>{console.warn("Custom validator at ".concat(fV(r.path)," has taken more than ").concat(Qie,"ms to respond"))},Qie);let i;try{i=await e(t,r)}finally{clearTimeout(o)}return typeof i=="string"&&n||i}},Aon={..._g,presence:(e,t,n)=>e==="required"&&typeof t!="boolean"?n||"Required":!0},Don=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,Pon={..._g,integer:(e,t,n)=>Number.isInteger(t)?!0:n||"Must be an integer",precision:(e,t,n)=>{if(t===void 0)return!0;const r=t.toString().match(Don);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>e?n||"Max precision is ".concat(e):!0},min:(e,t,n)=>t>=e?!0:n||"Must be greater than or equal ".concat(e),max:(e,t,n)=>t<=e?!0:n||"Must be less than or equal ".concat(e),greaterThan:(e,t,n)=>t>e?!0:n||"Must be greater than ".concat(e),lessThan:(e,t,n)=>t<e?!0:n||"Must be less than ".concat(e)},S$="http://sanity",Ion=e=>/^\.*\//.test(e),Oon=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,$on={..._g,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must be at least ".concat(e," characters long"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must be at most ".concat(e," characters long"),length:(e,t,n)=>(t||"").length===e?!0:n||"Must be exactly ".concat(e," characters long"),uri:(e,t,n)=>{const r=t||"",{options:o}=e,{allowCredentials:i,relativeOnly:s}=o,a=o.allowRelative||s;let l;try{l=a?new URL(r,S$):new URL(r)}catch{return n||"Not a valid URL"}if(s&&l.origin!==S$)return n||"Only relative URLs are allowed";if(!a&&l.origin===S$&&Ion(r))return n||"Relative URLs are not allowed";if(!i&&(l.username||l.password))return n||"Username/password not allowed";const u=l.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(e,t,n)=>{const r=t||"";return e==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":e==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,regex:(e,t,n)=>{const{pattern:r,name:o,invert:i}=e,s=o||'"'.concat(r.toString(),'"'),a=t||"";r.lastIndex=0;const l=r.test(a);if(!i&&!l||i&&l){const u=i?"Should not match ".concat(s,"-pattern"):"Does not match ".concat(s,"-pattern");return n||u}return!0},email:(e,t,n)=>{const r="".concat(t||"").trim();return!r||Oon.test(r)?!0:n||"Must be a valid email address"}},Ron={..._g,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must have at least ".concat(e," items"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must have at most ".concat(e," items"),length:(e,t,n)=>!t||t.length===e?!0:n||"Must have exactly ".concat(e," items"),presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,valid:(e,t,n)=>{if(typeof t==="undefined")return!0;const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(e.some(l=>zw(l,s)))continue;const a=s&&s._key?{_key:s._key}:i;o.push([a])}return o.length===0?!0:new Kf(n||"Value did not match any allowed values",{paths:o})},unique:(e,t,n)=>{const r=[];if(!t)return!0;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const a=t[i],l=t[s];zw(a,l)&&(r.indexOf(i)===-1&&r.push(i),r.indexOf(s)===-1&&r.push(s))}const o=r.map(i=>{const s=t[i];return[s&&s._key?{_key:s._key}:i]});return r.length>0?new Kf(n||"Can't be a duplicate",{paths:o}):!0}},Mon=["_key","_type","_weak"],Fon={..._g,presence:(e,t,n)=>{if(e!=="required")return!0;const r=t&&Object.keys(t).filter(o=>!Mon.includes(o));return t===void 0||r&&r.length===0?n||"Required":!0},reference:async(e,t,n,r)=>{if(!t)return!0;if(!kd(t))return n||"Must be a reference to a document";const{type:o,getDocumentExists:i}=r;if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!i)throw new Error("`getDocumentExists` was not provided in validation context");return await i({id:t._ref})?!0:"This reference must be published"},assetRequired:(e,t,n)=>{if(!t||!t.asset||!t.asset._ref){const r=e.assetType||"Asset";return n||"".concat(r," required")}return!0}};function ese(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Lon=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,tse=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),e==="date"?ci(new Date(t),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",ci(new Date(t),r))};function mS(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}const Bon={..._g,type:(e,t,n)=>!"".concat(t)||Lon.test(t)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(e,t,n,r)=>{const o=mS(t);if(!o||!t||o>=mS(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=ese(r.type.options)?r.type.options:{},s=tse(r.type.name,e,i);return n||"Must be at or after ".concat(s)},max:(e,t,n,r)=>{const o=mS(t);if(!o||!t||o<=mS(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=ese(r.type.options)?r.type.options:{},s=tse(r.type.name,e,i);return n||"Must be at or before ".concat(s)}};var ko;const Non={Boolean:Aon,Number:Pon,String:$on,Array:Ron,Object:Fon,Date:Bon},k$e=e=>e&&e.type?k$e(e.type):e,zon=e=>typeof e!="object"||!e?!1:e.type===xL.FIELD_REF,Von=[],nse=Symbol("FIELD_REF"),Hon=["Array","Boolean","Date","Number","Object","String"],xL=(ko=class{constructor(e){this._type=void 0,this._level=void 0,this._required=void 0,this._typeDef=void 0,this._message=void 0,this._rules=[],this._fieldRules=void 0,this.valueOfField=ko.valueOfField.bind(ko),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new ko;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=XAt(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const o=["type","uri","email"].includes(r.flag),i=n.has(r.flag);return!(o&&i)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!Hon.includes(t))throw new Error('Unknown type "'.concat(e,'"'));const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){return this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,o;const i=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,s=typeof t=="string"?!1:(o=t==null?void 0:t.invert)!=null?o:n==null?void 0:n.invert,a={pattern:e,name:i,invert:s||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(Eon(o),"$")):o}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=k$e(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"Image":"File":t="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,t){if(!t)throw new Error("missing context");const n=e==null;if(n&&this._required==="optional")return Von;const r=this._required===void 0&&n?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&Non[this._type]||_g;return(await Promise.all(r.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=o[s.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(s.flag,'" not found for ').concat(d))}let l="constraint"in s?s.constraint:null;zon(l)&&(l=Gn(t.parent,l.path));let u;try{u=await a(l,e,this._message,t)}catch(d){const f=new Kf("".concat(fV(t.path),": Exception occurred while validating value: ").concat(d.message));return kx(f,"error",t)}return kx(u,this._level,t)}))).flat()}},ko.FIELD_REF=nse,ko.array=e=>new ko(e).type("Array"),ko.object=e=>new ko(e).type("Object"),ko.string=e=>new ko(e).type("String"),ko.number=e=>new ko(e).type("Number"),ko.boolean=e=>new ko(e).type("Boolean"),ko.dateTime=e=>new ko(e).type("Date"),ko.valueOfField=e=>({type:nse,path:e}),ko),Uon=function(t,n){const r=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},Won=function(t){return window.clearTimeout(t)},Mj=typeof window>"u"?void 0:window,Yon=(Mj==null?void 0:Mj.requestIdleCallback)||Uon,qon=(Mj==null?void 0:Mj.cancelIdleCallback)||Won,Gon=IA(Zon);function Kon(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:"drafts.".concat(e)}}function rse(e){return e.reduce((t,n,r)=>{const o=typeof n=="number",i=Ul(n),s=r===0?"":".",a=o||i?"[]":"".concat(s).concat(n);return"".concat(t).concat(a)},"")}const ose=(e,t)=>{const{getClient:n,document:r,path:o,type:i}=t,s=i==null?void 0:i.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const a=(s==null?void 0:s.disableArrayWarning)||!1,{published:l,draft:u}=Kon(r._id),d=r._type,f=rse(o.concat("current"));!a&&f.includes("[]")&&Gon(rse(o));const p=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(p,"][0]._id)"),{docType:d,draft:u,published:l,slug:e},{tag:"validation.slug-is-unique"})};function Zon(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const Xon=async(e,t)=>{var n;if(!e)return!0;if(typeof e!="object")return"Slug must be an object";const r=e.current;if(!r)return"Slug must have a value";const o=(n=t==null?void 0:t.type)==null?void 0:n.options,i=(o==null?void 0:o.isUnique)||ose,s={...t,parent:t.parent,type:t.type,defaultIsUnique:ose};return await i(r,s)?!0:"Slug is already in use"},Qon={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},Jon=e=>e in Qon;function j$e(e,t){return e?t.has(e)?[]:(t.add(e),[...e.type?j$e(e.type,t):[],e]):[]}function ein(e,t){let n=e;Jon(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(o=>tin(o,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(Xon):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function T$e(e){return e?!("fields"in e)&&e.type?T$e(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function tin(e,t){return t.jsonType==="object"&&T$e(t)||e.value===void 0?e:e.value}function Vw(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>Vw({...e,validation:r}));if(t instanceof xL)return[t];const n=Object.values(j$e(e,new Set).reduce((r,o)=>(r[o.name]=o,r),{})).reduce(ein,new xL(e));return t?Vw({...e,validation:t(n)}):[n]}const ise=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),nin=e=>e!=null;function rin(e,t){if(t.length===1)return t[0];const n=O6(e)&&e._type,r=e==null||!n&&E$e(e).toLowerCase();return r&&r!=="object"?t.find(o=>o.jsonType===r):t.find(o=>{var i;return((i=o.type)==null?void 0:i.name)===n})||t.find(o=>o.name===n)||t.find(o=>o.name==="object"&&r==="object")}const oin=[];function iin(e,t,n,r){const o=n.get(t._type);if(!o)return console.warn('Schema type for object type "%s" not found, skipping validation',t._type),ve(oin);const i={getClient:e,schema:n,parent:void 0,value:t,path:[],document:t,type:o,getDocumentExists:r==null?void 0:r.getDocumentExists};return wL(i).pipe(Mn(s=>(console.error(s),ve([{type:"validation",level:"error",path:[],item:new Kf(s==null?void 0:s.message)}]))))}function wL(e){let{value:t,type:n,path:r=[],parent:o,...i}=e;const s=Vw(n),a=s.map(p=>xo(()=>p.validate(t,{...i,parent:o,path:r,type:n})));let l=[];const u=s.some(p=>p.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!t||t==null&&u)){const p=n.fields.reduce((m,v)=>(m[v.name]=v.type,m),{});l=l.concat(s.map(m=>m._fieldRules).filter(nin).flatMap(m=>Object.entries(m)).flatMap(m=>{let[v,g]=m;const y=p[v];return Vw({...y,validation:g}).map(x=>{const b=ise(t)?t[v]:void 0;return xo(()=>x.validate(b,{...i,parent:t,path:r.concat(v),type:y}))})})),l=l.concat(n.fields.map(m=>wL({...i,parent:t,value:ise(t)?t[m.name]:void 0,path:r.concat(m.name),type:m.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(l=l.concat(t.map((p,m)=>wL({...i,parent:t,value:p,path:r.concat(Ul(p)?{_key:p._key}:m),type:rin(p,n.of)})))),xo(()=>ln([...a,...l])).pipe(ft(p=>Kr(sin(),p),40),vA(),IEe(),le($n),le(p=>s.some(m=>m._fieldRules)?mh(p,m=>JSON.stringify(m)):p))}function sin(e){return new mt(t=>{const n=Yon(()=>{t.complete()},e?{timeout:e}:void 0);return()=>qon(n)})}function ain(e){return KE(e,new Set),e}function KE(e,t){if(!t.has(e)){if(t.add(e),e.validation=Vw(e),"fields"in e)for(const n of e.fields)KE(n.type,t);if("of"in e)for(const n of e.of)KE(n,t);if(e.annotations)for(const n of e.annotations)KE(n,t)}}function lin(e){return e.getTypeNames().forEach(n=>{const r=e.get(n);r&&ain(r)}),e}var cin={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},uin={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},din={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},fin={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},hin={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},pin={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},min={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},gin={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},vin={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},yin={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata…",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},bin={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const xin=e=>e.severity==="error",win=[hin,cin,uin,pin,bin,din,fin,yin,vin,min,gin];function Cin(e){const t=VAt(e.types).getTypes(),n=VTt(t),r=n.some(i=>i.problems.some(xin)),o=vB.compile({name:e.name,types:r?[]:[...e.types,...win].filter(Boolean)});return o._validation=n,lin(o)}function fm(e){return typeof e.title=="string"?e.title:e.type?fm(e.type):e.name||e.jsonType}const un={apiVersion:"2022-09-09"};var sse=Object.freeze,_in=Object.defineProperty,Sin=(e,t)=>sse(_in(e,"raw",{value:sse(t||e.slice())})),ase;const Ein=$(hs)(ase||(ase=Sin([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function kin(){return c.jsx(Ein,{children:c.jsx(U,{height:"fill",align:"center",justify:"center",children:c.jsx(gr,{})})})}function jin(e){const{text:t}=e;return c.jsxs(U,{direction:"row",justify:"center",align:"center",children:[c.jsx(gr,{}),c.jsx(M,{marginLeft:2,children:c.jsx(L,{children:t})})]})}const lse={referringDocuments:[],isLoading:!0};function Tin(e){const t=bl();return So(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(le(n=>({referringDocuments:n,isLoading:!1})),pi(lse)),[t,e],lse)}const Ain=()=>h.createElement(h.Fragment);function Din(e,t){return n=>{let r=o=>h.createElement(e,o);for(const o of t){const i=r;r=s=>h.createElement(o,{...s,renderDefault:i})}return r({...n,renderDefault:Ain})}}function lc(e){const{options:t}=Nn().__internal,{defaultComponent:n,pick:r}=e;return h.useMemo(()=>{const o=[...FP(t,[])];o.reverse();const s=o.map(a=>{let{config:l}=a;return r(l)}).filter(Boolean);return Din(n,s)},[n,t,r])}function Fc(e,t){return t.name===e||!!(t.type&&Fc(e,t.type))}const Pin={default:u$e,media:frn,detail:Gnn,inline:Drn,block:Srn,blockImage:brn};function Iin(){return c.jsx(oh,{className:"sanity-studio__preview-fallback-icon"})}function Wh(e){const{icon:t,layout:n,media:r,imageUrl:o,title:i,...s}=e,a=yr(un),l=h.useMemo(()=>sD(a),[a]),u=h.useCallback(v=>{const{dimensions:g}=v;return c.jsx("img",{alt:d0(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:l.image(r).width(g.width||100).height(g.height||100).fit(g.fit).dpr(g.dpr||1).url()||""})},[l,r,i]),d=h.useCallback(()=>h.createElement(t||Iin),[t]),f=h.useMemo(()=>t===!1?!1:ic.isValidElementType(r)||h.isValidElement(r)?r:dx(r)?u:d0(o)?c.jsx("img",{src:o,alt:d0(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[t,o,r,d,u,i]),p=h.useMemo(()=>({...s,media:f,title:i}),[f,s,i]),m=Pin[n||"default"];return h.createElement(m,p)}const Oin=typeof window>"u"?tr:Vi(window,"resize").pipe(Mo(1)),$in=typeof window>"u"?tr:Vi(window,"scroll",{passive:!0,capture:!0}).pipe(Mo(1)),Rin=typeof window>"u"?tr:Vi(window,"orientationchange").pipe(Mo(1)),A$e=150;function Min(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const Fin=Min()?Lin():Bin();function Lin(){const e=new kr,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:"".concat(A$e,"px")});return function(r){return new mt(o=>(t.observe(r),o.next(),()=>t.unobserve(r))).pipe(ft(()=>e.asObservable()),pt(o=>o.target===r),le(o=>({isIntersecting:o.isIntersecting})))}}function Bin(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,o,i){return r.left<=o.right+i&&r.right>=o.left-i&&r.top<=o.bottom+i&&r.bottom>=o.top-i}function n(r){return()=>t(r.getBoundingClientRect(),e(),A$e)}return function(o){const i=n(o);return ln(ve(i()),Oin,$in,Rin).pipe(le(i),le(s=>({isIntersecting:s})))}}const Nin=typeof window>"u"?tr:Vi(document,"visibilitychange").pipe(Mo(1));function zin(e){const{element:t,hideDelay:n=0}=e,[r,o]=h.useState(!1);return h.useEffect(()=>{if(!t)return;const i=Kr(ve(!document.hidden),Nin.pipe(le(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(nr()),s=Fin(t).pipe(le(u=>u.isIntersecting)),l=i.pipe(rt(u=>u?s:ve(!1)),rt(u=>u?ve(!0):ve(!1).pipe(REe(n))),nr()).subscribe(o);return()=>l.unsubscribe()},[t,n]),r}const Vin={isLoading:!0},Hin={isLoading:!1};function hV(e){const{enabled:t=!0,ordering:n,schemaType:r,value:o}=e||{},{observeForPreview:i}=Ki();return So(()=>!t||!o||!r?ve(Hin):i(o,r,{ordering:n}).pipe(le(s=>({isLoading:!1,value:s.snapshot||void 0})),Mn(s=>ve({isLoading:!1,error:s}))),[t,i,n,r,o],Vin)}function Uin(e){return Win(e==null?void 0:e._upload)}function Zy(e){return d0(e)?e:void 0}function Win(e){var t,n;if(!xt(e))return;const r=typeof e.progress=="number"?e.progress:0,o=Zy(e.initiated||e.createdAt),i=Zy(e.updated||e.updatedAt),s=Zy((t=e==null?void 0:e.file)==null?void 0:t.name),a=Zy((n=e==null?void 0:e.file)==null?void 0:n.type),l=Zy(e.previewImage);if(o&&i&&s&&a)return{progress:r,createdAt:o,updatedAt:i,file:{name:s,type:a},previewImage:l}}const Yin=1e3*2;function pV(e){const{layout:t,value:n,component:r,style:o,schemaType:i,skipVisibilityCheck:s,...a}=e,[l,u]=h.useState(null),d=zin({element:s?null:l,hideDelay:Yin}),f=hV({enabled:s||d,schemaType:i,value:n}),p=h.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),m=h.useMemo(()=>Uin(n),[n]),v=h.useMemo(()=>{var g,y;return m!=null&&m.previewImage?c.jsx("img",{alt:"The image currently being uploaded",src:m.previewImage}):(g=f==null?void 0:f.value)!=null&&g.media?(y=f==null?void 0:f.value)==null?void 0:y.media:i.icon},[f,i,m]);return c.jsx("div",{ref:u,style:p,children:h.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:v,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:t,schemaType:i})})}function mV(e){const t=e==null?void 0:e.select;if(t)return Object.values(t).map(n=>String(n).split("."))}const qin=e=>e.liveEdit===!0;function lP(e,t,n,r){const o=qin(t)?ve({snapshot:null}):e.observeForPreview({_type:"reference",_ref:vi(n)},t),i=e.observeForPreview({_type:"reference",_ref:Fn(n)},t);return Go([o,i]).pipe(le(s=>{let[a,l]=s;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:l.snapshot?{title:r,...l.snapshot||{}}:null}}),pi({draft:null,isLoading:!0,published:null}))}const Gin=e=>({title:c.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:c.jsx("em",{children:e.title?"Missing document ID: ".concat(e._id):"Document ID: ".concat(e._id)}),media:()=>c.jsx(zr,{})}),gV=e=>{let{value:t,draft:n,published:r}=e;const o=n||r;return o?AWt({},o,t,(i,s)=>typeof s>"u"?i:s):Gin(t)},D$e=["_id","_rev","_type"],Kin=[...D$e,"_key"],cse={available:!0,reason:"READABLE"},Zin={available:!1,reason:"PERMISSION_DENIED"},Xin={available:!1,reason:"NOT_FOUND"},Qin={title:"Invalid preview config",subtitle:"Check the error log in the console",media:c.jsx(zr,{})};function Jin(e){return Array.isArray(e)&&(e.length===0||e.some(Xu))}function esn(e){const t=Array.isArray(e)&&e.find(Xu);return!t||!t.children?"":t.children.filter(aa).map(n=>n.text).join("")}function P$e(e){return Object.keys(e)}const tsn=["_id","_type","_upload","_createdAt","_updatedAt"],J0=[],CL=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),nsn=uC(()=>{const e=CL.getAll(),n=$n(Object.keys(e).map(r=>{const o=e[r];return mh(o,i=>i.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(r=>{const o=e[r],i=o[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),i.type.preview),mh(o,a=>a.error.message).forEach(a=>{var l;if(a.error.type==="returnValueError"){const u=typeof((l=a.type.preview)==null?void 0:l.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),CL.clear())},1e3),Xy=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?J0:[yV("returnValueError",new Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(vV(t))))]},rsn={media:()=>J0,title:Xy("title"),subtitle:Xy("subtitle"),description:Xy("description"),imageUrl:Xy("imageUrl"),date:Xy("date")};function vV(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(xt(e)){const n=Object.keys(e),r=n.length>3?"...":"",o="object with keys ";return"".concat(t?o:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){const n=e.length>3?"...":"",r="array with ";return"".concat(t?r:"","[").concat(e.map(o=>vV(o,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function osn(e,t){if(typeof t>"u")return J0;const n=rsn[e];return n&&n(t)||J0}function yV(e,t){return Object.assign(t,{type:e})}function isn(e){return!Tr(e)||e===null?[yV("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(vV(e))))]:Object.entries(e).reduce((t,n)=>{let[r,o]=n;return[...t,...osn(r,o)]},J0)}function ssn(e){return{...e,errors:[...e.errors||[],...isn(e.returnValue)]}}function asn(e){return P$e(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:Jin(r)?esn(r):r}},{})}function _L(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const o=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:o?o(t,n):asn(t),errors:J0}}catch(i){return{returnValue:null,errors:[yV("prepareError",i)]}}}function use(e,t,n){return e.errors.forEach(r=>CL.add(t,n,r)),nsn(),Qin}function lsn(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function csn(e){return lsn(e)?e.options.list.map(n=>M6(n)?n:{title:n,value:n}):void 0}function Fj(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o;const i=typeof((r=t.preview)==null?void 0:r.prepare)=="function",s=((o=t.preview)==null?void 0:o.select)||{},l=Object.keys(s).reduce((f,p)=>{var m;const v="fields"in t?t:null,g=s[p],y=(m=v==null?void 0:v.fields)==null?void 0:m.find(b=>b.name===g),x=y&&csn(y.type);if(!i&&x){const b=x&&x.find(w=>w.value===Gn(e,s[p]));f[p]=b?b.value:Gn(e,s[p])}else f[p]=Gn(e,s[p]);return f},{}),u=_L(t,l,n);if(u.errors.length>0)return use(u,t,l);const d=ssn(_L(t,l,n));return d.errors.length>0?use(d,t,l):{...St(e,tsn),...u.returnValue}}function ZE(e,t){let n,r={},o=0;return function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return new mt(d=>{clearTimeout(n),n=setTimeout(i,t);const f={args:l,observer:d,completed:!1},p=o++;return r[p]=f,()=>{f.completed=!0}})};function i(){const s=r;r={};const a=Object.keys(s).filter(u=>{const d=s[u];return d&&!d.completed});if(a.length===0)return;const l=a.map(u=>{const d=s[u];return d&&d.args}).filter(_o);e(l).subscribe({next(u){u.forEach((d,f)=>{const p=s[a[f]];p&&!p.completed&&p.observer.next(u[f])})},complete(){a.forEach(u=>{const d=s[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=s[d];f&&!f.completed&&f.observer.error(u)})}})}}const usn=11164;function dsn(e){let t=[],n=0;const r=[];for(const o of e)n+o.length+1>=usn&&(r.push(t),t=[],n=0),n+=o.length+1,t.push(o);return r.includes(t)||r.push(t),r}function fsn(e,t){return e.push(...t),e}function I$e(e,t){function n(s){const a=vi(s),l=Fn(s);return Go([r(a),r(l)]).pipe(nr(dd),le(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(s){return t({_ref:s},[["_rev"]]).pipe(le(a=>xt(a)&&!!("_rev"in a&&(a!=null&&a._rev))),nr(),rt(a=>a?ve(cse):o(s)))}const o=ZE(function(a){const l=[...new Set($n(a))];return jr(dsn(l)).pipe(ft(i,10),PEe(fsn,[]),le(u=>a.map(d=>{let[f]=d;return u[l.indexOf(f)]})))},1);function i(s){return xo(()=>{const a={uri:e.getDataUrl("doc",s.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(le(l=>{const u=LB(l.omitted||[],d=>d.id);return s.map(d=>{const f=u[d];if(!f)return cse;if(f.reason==="existence")return Xin;if(f.reason==="permission")return Zin;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function dse(e,t,n){return{...e,[t]:n}}function hsn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>new mt(n=>t.subscribe(n)).pipe(rt(n=>{const r=P$e(n).map(o=>{const i=n[o];return Rat(i)?jr(i).pipe(le(s=>[o,s])):ve([o,i])});return e.wait?Go(r).pipe(le(o=>o.reduce((i,s)=>{let[a,l]=s;return dse(i,a,l)},{}))):jr(r).pipe(vA(),ma((o,i)=>{let[s,a]=i;return dse(o,s,a)},{}))}))}function psn(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function msn(e,t){return t.filter(n=>!(n[0]in e))}function gsn(e){return kd(e)?e._ref:"_id"in e?e._id:void 0}function SL(e,t,n,r){if(!e||typeof e!="object")return ve(e);const o=gsn(e),i=o?{...e,_id:o}:{...e};i._type==="reference"&&(delete i._type,delete i._ref,delete i._weak,delete i._dataset,delete i._projectId,delete i._strengthenOnPublish);const s=msn(i,t);if(o&&s.length>0){const u=wo(s.map(f=>f[0])),d=xbe(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(o,u,d).pipe(rt(f=>f===null?ve(null):SL({...psn(u),...kd(e)?{...e,...d}:e,...f},t,n,d)))}const a={};t.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const l=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(p=>p.length>0);return f.length===0?u[d]=xt(e)?e[d]:void 0:u[d]=SL(e[d],f,n,r),u},i);return ve(l).pipe(hsn({wait:!0}))}function vsn(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function ysn(e){const{observeFields:t}=e;return{observePaths(n,r,o){return SL(n,vsn(r),t,o)}}}function bsn(e){return Tr(e)}function xsn(e){return Tr(e)}function wsn(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(o,i,s,a){if(R6(i)){if(!xbe(o))return ve({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return t(o._ref,u).pipe(rt(d=>{if(d){const f=i.to.find(p=>p.type===d);return r(o,f,{},u)}return ve({snapshot:void 0})}))}if(Qu(i))return xsn(o)?t(o._ref).pipe(rt(u=>{if(u){const d=i.to.find(f=>f.name===u);return r(o,d)}return ve({snapshot:void 0})})):ve({snapshot:void 0});const l=mV(i.preview);return l?n(o,l,a).pipe(le(u=>({type:i,snapshot:u&&Fj(u,i,s)}))):ve({type:i,snapshot:o&&bsn(o)?_L(i,o,s).returnValue:null})}}function Csn(e,t){const{observeDocumentPairAvailability:n}=I$e(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(i,s){const{draftId:a,publishedId:l}=J3e(i);return n(a).pipe(rt(u=>{if(!u.draft.available&&!u.published.available)return ve({id:l,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...s,...r];return Go([t({_type:"reference",_ref:a},d),t({_type:"reference",_ref:l},d)]).pipe(le(f=>{let[p,m]=f;const v=xt(p)&&"_type"in p&&p._type||xt(m)&&"_type"in m&&m._type||null;return{id:l,type:typeof v=="string"?v:null,draft:{availability:u.draft,snapshot:p},published:{availability:u.published,snapshot:m}}}))}))}}function _sn(e){return MWt(e.reduce((t,n,r)=>{let[o,i]=n;const s=ug(i.join(","),Eke).join(".");t[s]||(t[s]={fields:i,ids:[],map:[]});const a=t[s].ids.length;return t[s].ids[a]=o,t[s].map[a]=r,t},{}))}function Ssn(e){return JSON.stringify(e)}const Esn=e=>e$e(e)?'"'.concat(e,'": @').concat(Xz(e)):e;function ksn(e){let{ids:t,fields:n}=e;const r=[...D$e,...n];return"*[_id in [".concat(t.map(Ssn).join(","),"]][0...").concat(t.length,"]{").concat(r.map(Esn).join(","),"}")}function jsn(e){return"[".concat(e.map(ksn).join(","),"][0...").concat(e.length,"]")}function Tsn(e,t){return e.reduce((n,r,o)=>(t[o].map.forEach((s,a)=>{const l=t[o].ids[a],u=r.find(d=>d._id===l);n[s]=u||null}),n),[])}function Asn(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const Dsn=e=>e;function Psn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dsn,n,r;for(let o=0;o<e.length;o++){if(o===0){n=t(e[o]);continue}if(r=t(e[o]),n!==r)return!1;n=r}return!0}function Isn(e){const{observePaths:t,versionedClient:n}=e;let r;const o=()=>{if(!r){const w=jr(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(ga()),C=w.pipe(pt(S=>S.type==="welcome"),Mo({refCount:!0,bufferSize:1}));C.subscribe();const _=w.pipe(pt(S=>S.type==="mutation"));r={welcome$:C,mutations$:_}}return r};function i(w){const C=o();return ln(C.welcome$,C.mutations$.pipe(pt(_=>_.documentId===w)))}function s(w){return function(_){const S=_sn(_);return w.observable.fetch(jsn(S),{},{tag:"preview.document-paths"}).pipe(le(E=>Tsn(E,S)))}}const a=ZE(s(n),100),l=ZE(s(n),1e3);function u(w,C){return i(w).pipe(rt(_=>_.type==="welcome"||_.visibility==="query"?a(w,C).pipe(ft(S=>Kr(ve(S),S===void 0?l(w,C):[]))):l(w,C)))}const d={},f=IA(function(C){const _=n.withConfig(C),S=s(_);return ZE(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Vi(document,"visibilitychange").pipe(pi(0),le(()=>document.visibilityState==="visible"),rt(w=>w?Ko(0,p):tr),ga());function v(w,C,_){return m.pipe(pi(0)).pipe(rt(()=>f(_)(w,C)))}function g(w,C,_){let S=null;const E=ln(xo(()=>S===null?tr:ve(S)),_?v(w,C,_):u(w,C)).pipe(_n(j=>S=j),Mo({refCount:!0,bufferSize:1}));return{id:w,fields:C,changes$:E}}function y(w,C,_){const S=_?"".concat(_.projectId,":").concat(_.dataset,":").concat(w):"$current$-".concat(w);S in d||(d[S]=[]);const E=d[S];Dm(C,$n(E.map(T=>T.fields))).length>0&&E.push(g(w,C,_));const k=E.filter(T=>T.fields.some(A=>C.includes(A))).map(T=>T.changes$);return Go(k).pipe(le(T=>T.filter(Boolean)),pt(T=>Psn(T,A=>A._rev)),le(T=>T.length===0?null:x(T,C)),nr(Asn(C)))}return{observeFields:y};function x(w,C){return[...Kin,...C].reduce((_,S)=>{const E=b(w,S);return E!==void 0&&(_[S]=E),_},{})}function b(w,C){let _;return w.some(S=>C in S?(_=S[C],!0):!1),_}}function Osn(e){let{client:t}=e;const n=t.withConfig({apiVersion:"1"}),r=(d,f,p)=>i(d,f,p),{observeFields:o}=Isn({observePaths:r,versionedClient:n}),{observePaths:i}=ysn({observeFields:o});function s(d,f){return i({_type:"reference",_ref:d},["_type"],f).pipe(le(p=>xt(p)&&typeof p._type=="string"?p._type:void 0),nr())}const a=wsn({observeDocumentTypeFromId:s,observePaths:i}),{observeDocumentPairAvailability:l}=I$e(n,i),{observePathsDocumentPair:u}=Csn(n,i);return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:s,unstable_observeDocumentPairAvailability:l,unstable_observePathsDocumentPair:u}}const $sn=e=>!!(e.type&&e.type.name==="document"),Rsn=e=>e.name.startsWith("sanity."),Msn=e=>e.getTypeNames().map(t=>e.get(t)).filter(_o).filter(t=>$sn(t)).filter(t=>!Rsn(t)),Fsn=(e,t)=>{const{phrases:n,words:r}=Vsn(e),[o,i]=Nsn(n,t),[s,a]=zsn(r,t);return[o+s,[a,i].join(", ")]},Lsn=e=>typeof e=="string"?e:JSON.stringify(e);function Bsn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=LB(e,o=>o.typeName);return t.map((o,i)=>{var s;const l=(s=r[o._type].paths||[])==null?void 0:s.map((d,f)=>{const p=Lsn(o["w".concat(f)]);if(!p)return{path:d.path,score:0,why:"No match"};const[m,v]=Fsn(n,p);return{path:d.path,score:m*d.weight,why:"".concat(v," (*").concat(d.weight,")")}}),u=l.reduce((d,f)=>d+f.score,0);return{hit:o,resultIndex:t.length-i,score:u,stories:l}})}function Nsn(e,t){const n=t.toLowerCase().trim();let r=0,o=0;return e.forEach(i=>{n.includes(i)&&(r+=i.length/n.length,o+=i.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(o," of ").concat(n.length," characters")]}function zsn(e,t){const n=wo(aD(Ije(r0(t)))),r=c5(e,n),o=aAe(n,e),i=r.length/o.length;return i===1?[1,"[Word] Exact match"]:[i/2,"[Word] Matched ".concat(r.length," of ").concat(o.length," terms: [").concat(r.join(", "),"]")]}function Vsn(e){const t=wo(e.map(r0)),[n,r]=CB(t,o=>/^".*"$/.test(o));return{phrases:wo(n).map(r0).map(Hsn),words:wo(r.map(r0))}}function Hsn(e){return e.replace(/^"(.*)"$/,"$1")}const Usn=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,Wsn=/(^[.]+)|([.]+$)/;function Ysn(e){return(e.match(Usn)||[]).map(t=>t.replace(Wsn,""))}const qsn=4,Gsn=1e3,Ksn=s$t([$n,aAe,aD]);function fse(e,t){let n=!1;return{specs:e.map(o=>({typeName:o.name,paths:o.__experimental_search.map(i=>{const s=i.path.map(a=>typeof a=="number"&&(n=!0,t)?[]:a);return{weight:i.weight,path:Etn(s),mapWith:i.mapWith}})})),hasIndexedPaths:n}}const O$e=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n};function Zsn(e,t){const n=Ksn(t.map(o=>(o.paths||[]).map(i=>O$e(i))));return e.map((o,i)=>n.map(s=>"".concat(s," match $t").concat(i))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function Xsn(e){const t=[],n=e.replace(/("[^"]*")/g,i=>Ije(i).length>1?(t.push(i),""):i),r=t.map(i=>w$t(r0(i))),o=wo(aD(Ysn(r0(n))));return[...r,...o]}function Qsn(e){function t(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function $$e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:o,params:i,tag:s}=t,{specs:a,hasIndexedPaths:l}=fse(e.types,!1),u=Xsn(e.query),d=l?fse(e.types,!0).specs:a,f=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...Zsn(u,d),o?"(".concat(o,")"):"",e.filter?"(".concat(e.filter,")"):""].filter(Boolean),p=a.map(S=>{const E='_type == "'.concat(S.typeName,'" => '),j="{ ".concat(S.paths.map((k,T)=>'"w'.concat(T,'": ').concat(O$e(k)))," }");return"".concat(E).concat(j)}),m=Qsn((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),v=["_type","_id"],g=p.length>0?"...select(".concat(p.join(`,
`),")"):"",y=v.join(", ")+(g?", ".concat(g):"");let x="*[".concat(f.join(" && "),"]")+"| order(".concat(m,")")+"[$__offset...$__limit]"+"{".concat(y,"}");if(t!=null&&t.__unstable_extendedProjection){const S=t==null?void 0:t.__unstable_extendedProjection,E=v.concat(S).join(", ");x=["*[".concat(f.join(" && "),"]{").concat(E,"}"),"order(".concat(m,")[$__offset...$__limit]{").concat(y,"}")].join("|")}const b=["findability-mvi:".concat(qsn)].concat((t==null?void 0:t.comments)||[]).map(S=>"// ".concat(S)).join(`
`),w=b?"".concat(b,`
`).concat(x):x,C=(n=t==null?void 0:t.offset)!=null?n:0,_=((r=t==null?void 0:t.limit)!=null?r:Gsn)+C;return{query:w,params:{...Jsn(u),__types:a.map(S=>S.typeName),__limit:_,__offset:C,...i||{}},options:{tag:s},searchSpec:a,terms:u}}const Jsn=e=>{const t={};return e.reduce((n,r,o)=>(n["t".concat(o)]="".concat(r,"*"),n),t)};function ean(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}function bV(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=ean(o,e),{query:a,params:l,options:u,searchSpec:d,terms:f}=$$e(s,{...n,...i});return t.observable.fetch(a,l,u).pipe(n.unique?le(ftn):_n(),le(p=>Bsn(d,p,f)),i!=null&&i.skipSortByScore?_n():le(p=>ug(p,m=>-m.score)))}}const tan={available:!0,reason:"READABLE"},hse={available:!1,reason:"PERMISSION_DENIED"},pse={available:!1,reason:"NOT_FOUND"};function R$e(e,t,n){const{publishedId:r,draftId:o}=J3e(t);return e.unstable_observeDocumentPairAvailability(t).pipe(rt(s=>{if(!s.draft.available&&!s.published.available){const d=s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?hse:pse;return ve({id:t,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:o},l={_type:"reference",_ref:r};return Go([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(r)]).pipe(le(d=>{let[f,p]=d;return f||p})).pipe(rt(d=>{if(!d)return ve({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(y=>y.name===d);if(!f)return ve({id:t,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const p=[...mV(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],m=e.observePaths(a,p).pipe(le(y=>y?{_id:o,...Fj(y,f)}:void 0),pi(void 0)),v=e.observePaths(l,p).pipe(le(y=>y?{_id:r,...Fj(y,f)}:void 0),pi(void 0));return Go([m,v]).pipe(le(y=>{let[x,b]=y;return{draft:x,published:b}})).pipe(le(y=>{const x=s.draft.available||s.published.available?tan:s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?hse:pse;return{type:d,id:r,availability:x,preview:{draft:xt(y.draft)?y.draft:void 0,published:xt(y.published)?y.published:void 0}}}))}))}))}function nan(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:vi(t.id))}function ran(e,t){return t.length===0?ve([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function M$e(e,t,n,r){return bV(n.to,e,r)(t,{includeDrafts:!0}).pipe(le(i=>i.map(s=>s.hit)),le(rP),le(i=>i.slice(0,100)),ft(i=>ran(e,nan(i)).pipe(le(s=>i.map(a=>{const l=vi(a.id);return{id:a.id,type:a.type,draft:a.draft||s.includes(l)?{_id:l,_type:a.type}:void 0,published:a.published||s.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function oan(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}const Nm=Symbol.for("sanity.patch");function ls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Nm,type:"setIfMissing",path:t,value:e}}function Df(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:Nm,type:"insert",path:n,position:t,items:e}}function bt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Nm,type:"set",path:t,value:e}}function Je(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:Nm,type:"unset",path:e}}function ian(e,t){return{...e,path:[t,...e.path]}}class dt{static from(t){return t instanceof dt?t:new dt(Array.isArray(t)?$n(t):[t])}constructor(t){this.patches=t}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dt.from([...$n(n),...this.patches])}append(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dt.from([...this.patches,...$n(n)])}prefixAll(t){return dt.from(this.patches.map(n=>ian(n,t)))}}var mse=Object.freeze,san=Object.defineProperty,aan=(e,t)=>mse(san(e,"raw",{value:mse(t||e.slice())})),gse;const lan={warning:"caution",error:"critical"},can=$(M)(gse||(gse=aan([`
  border-top: 1px solid var(--card-border-color);
`])));function lu(e){const{children:t,status:n="warning",suffix:r,title:o,...i}=e;return c.jsxs(Q,{radius:2,tone:lan[n],...i,"data-ui":"Alert",children:[c.jsxs(U,{padding:4,children:[c.jsx(M,{children:c.jsxs(L,{size:1,children:[n==="warning"&&c.jsx(zr,{}),n==="error"&&c.jsx(Ca,{})]})}),c.jsxs(M,{flex:1,marginLeft:3,children:[c.jsx(L,{size:1,weight:"semibold",children:o}),t&&c.jsx(M,{marginTop:3,children:t})]})]}),r&&c.jsx(can,{children:r})]})}function xV(e,t){const n=h.useRef(t||null);return h.useEffect(()=>{n.current=e},[e]),n.current}function Gi(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dd;const r=xV(e);h.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}function F$e(e,t){h.useEffect(()=>{const n=r=>{const o=r.target;if(o instanceof HTMLElement){if(e.some(i=>{var s;return(s=i.current)==null?void 0:s.contains(o)}))return;t(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}const uan=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dan=/_key\s*==\s*['"](.*)['"]/;function Sn(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Lr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function nl(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(Bl(n))return nl(Array.isArray(e)?e[n]:void 0,r);if(Lr(n))return nl(Array.isArray(e)?e.find(o=>o._key===n._key):void 0,r);if(typeof n=="string")return nl(xt(e)?e[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function fan(e,t){return typeof t!="number"&&!Lr(t)?-1:typeof t=="number"?t:e.findIndex(n=>Ul(n)&&n._key===t._key)}function han(e){const t=e.match(uan);if(!t)throw new Error("Invalid path string");return t.map(pan)}function pan(e){return Bl(e)?man(e):Lr(e)?gan(e):mm(e)?van(e):e}function man(e){return Number(e.replace(/[^\d]/g,""))}function gan(e){const t=e.match(dan);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function van(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function L$e(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const o=t[r];return Lr(n)&&Lr(o)?n._key===o._key:Bl(n)?Number(n)===Number(o):mm(n)&&mm(o)?n[0]===o[0]&&n[1]===o[1]:n===o})}function B$e(e){return Ul(e)?e._key:void 0}function EL(e){const t=B$e(e);return t?{_key:t}:void 0}function yan(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function N$e(e,t){return e.get((t==null?void 0:t.author)||null)}function p_(e,t){const n=Array.isArray(t)?t:han(t);return ban(e,n)}function ban(e,t){const n=kL(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function kL(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.length===0)return e;const r=t[0],o=t.slice(1);if(mm(r))throw new Error("Index tuples are not supported in diff paths");if(Bl(r)||Lr(r)){const s=Bl(r)?"at index ".concat(r):"with key ".concat(r._key);if(e.type!=="array"){"Failed to get item ".concat(s," at path ").concat(Sn(n)," (not an array)");return}const a=e.items.find(Bl(r)?l=>l.toIndex===r:l=>xan(l,r));if(!a){"Failed to get item ".concat(s," at path ").concat(Sn(n)," (item missing)");return}return kL(a.diff,o,n.concat(r))}if(e.type!=="object"){"Failed to get property ".concat(r," at path ").concat(Sn(n)," (not an object)");return}const i=e.fields[r];if(typeof i>"u"){"Failed to get property ".concat(r," at path ").concat(Sn(n)," (field did not exist)");return}return kL(i,o,n.concat(r))}function xan(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function cP(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t(e,n)){if(e.type==="array"){wan(e,t,n);return}if(e.type==="object"){Can(e,t,n);return}e.type==="string"&&_an(e,t,n)}}function wan(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),s=i?{_key:i}:San(r);cP(r.diff,t,n.concat(s))})}function Can(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const o=e.fields[r];cP(o,t,n.concat(r))})}function _an(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{cP(r,t,n)})}function San(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function z$e(e){const t=uV();return N$e(t,e)}function e1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=uV(),r=h.useMemo(()=>p_(e,t),[e,t]);return h.useMemo(()=>N$e(n,r),[r,n])}function cs(e){if("diff"in e){const{diff:t,path:n=[],...r}=e,o=p_(t,n);return c.jsx(vse,{...r,annotations:o?[o]:[]})}return c.jsx(vse,{...e})}function vse(e){const{annotations:t,children:n,description:r="Changed",...o}=e;if(!t)return n;const i=c.jsxs(te,{padding:3,space:2,children:[c.jsx(Ut,{size:1,style:{textTransform:"uppercase"},children:r}),c.jsx(te,{space:2,children:t.map((s,a)=>c.jsx(Ean,{annotation:s},a))})]});return c.jsx(xd,{zOffset:"paneFooter",children:c.jsx(it,{content:i,portal:!0,...o,children:n})})}function Ean(e){let{annotation:t}=e;const{author:n,timestamp:r}=t,[o]=ny(n),i=z$e(t),s=ai(r,{minimal:!0});return c.jsxs(Zt,{space:2,children:[c.jsxs(U,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[c.jsx(ll,{user:n}),c.jsx(Zt,{paddingLeft:2,children:c.jsx(L,{muted:!0,size:1,style:{color:i.text},children:o?o.displayName:"Loading…"})})]}),c.jsx(L,{as:"time",muted:!0,size:1,dateTime:r,children:s})]})}var yse=Object.freeze,kan=Object.defineProperty,jan=(e,t)=>yse(kan(e,"raw",{value:yse(t||e.slice())})),bse;const Tan=$(Q)(bse||(bse=jan([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg}),Aan=[],Li=h.forwardRef(function(t,n){const{annotation:r,as:o="div",children:i,className:s,diff:a,disableHoverEffect:l,path:u=Aan,style:d={},tooltip:f,...p}=t,m=h.useMemo(()=>r||p_(a,u),[r,a,u]),v=z$e(m),g=c.jsx(Tan,{...p,as:o,className:s,"data-hover":l||!m?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:v.background,color:v.text},children:i});return f&&m?c.jsx(cs,{annotations:[m],description:f&&typeof f=="object"&&f.description,children:g}):g});var xse=Object.freeze,Dan=Object.defineProperty,V$e=(e,t)=>xse(Dan(e,"raw",{value:xse(t||e.slice())})),wse,Cse;const wV=$.div(wse||(wse=V$e([`
  border-radius: `,`;
  padding: `,`;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])}),Lj=$(L)(Cse||(Cse=V$e([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function Pan(e){const{change:t,segment:n}=e;if(typeof n=="string")return c.jsx(M,{children:c.jsx(L,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:o,toIndex:i,annotation:s}=n,a=typeof o>"u",l=typeof i>"u";if(a)return c.jsx(Ian,{annotation:s,change:t,toIndex:i});if(l)return c.jsx(Oan,{annotation:s,fromIndex:o});if(r&&typeof i<"u"&&typeof o<"u")return c.jsx($an,{annotation:s,fromIndex:o,toIndex:i});const u=(i||0)+1;return c.jsx(M,{padding:1,children:c.jsxs(L,{size:1,weight:"semibold",children:["#",u]})})}function Ian(e){const{annotation:t,change:n,toIndex:r=0}=e,o=r+1,i="Added in position ".concat(o),s=c.jsxs(c.Fragment,{children:["#",o]}),l=(n!=null&&n.diff?p_(n.diff,[]):void 0)||t;return l?c.jsx(Li,{annotation:l,tooltip:{description:i},as:wV,children:c.jsx(Lj,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):c.jsx(L,{size:1,weight:"semibold",children:s})}function Oan(e){const{annotation:t,fromIndex:n=0}=e,r=n+1,o="Removed from position ".concat(r);return c.jsx(Li,{annotation:t||null,as:wV,tooltip:{description:o},children:c.jsxs(Lj,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function $an(e){const{annotation:t,fromIndex:n,toIndex:r}=e,o=r-n,i=o<0?"↑":"↓",s=Math.abs(o),a="Moved ".concat(s," position").concat(s===1?"":"s"," ").concat(o<0?"up":"down");return c.jsxs(c.Fragment,{children:[c.jsx(M,{padding:1,children:c.jsxs(Lj,{size:1,weight:"semibold",children:["#",r+1]})}),c.jsx(Li,{annotation:t,as:wV,tooltip:{description:a},children:c.jsxs(Lj,{size:1,weight:"semibold",children:[i,Math.abs(o)]})})]})}function H$e(e){const{change:t,titlePath:n}=e;return c.jsx(t7,{maxLength:4,separator:c.jsx(L,{muted:!0,size:1,children:c.jsx(Jc,{})}),children:n.map((r,o)=>typeof r=="string"||!t||t.showIndex?c.jsx(Pan,{change:t,segment:r},o):null)})}function Ran(e){return xt(e)&&typeof(e==null?void 0:e.then)=="function"}function Man(e,t,n){const{currentUser:r,document:o,parent:i,value:s}=n,a=h.useRef(!1);return h.useMemo(()=>{let l=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{l=e({document:o,parent:i,value:s,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(u.message)),!1}return Ran(l)&&!a.current?(console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),!1):(typeof l>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),l)},[e,o,i,s,r,t])}const jL=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:o,value:i}=e,s=si(i),a=Jo();return Man(t,n,{currentUser:a,document:r,parent:o,value:s})},wd=h.createContext({path:[]});function TL(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:e};if(Fan(t)&&Lan(e))for(const o of t.fields){const i=TL(e[o.name],o.type);if(i)return i}}}function Fan(e){return e.jsonType==="object"}function Lan(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function Ban(e){return O6(e)?e._type:zan(e)}function Nan(e,t){return e.action==="added"?{toType:Qy(t,e.toValue)}:e.action==="changed"?{fromType:Qy(t,e.fromValue),toType:Qy(t,e.toValue)}:e.action==="removed"?{fromType:Qy(t,e.fromValue)}:{toType:Qy(t,e.toValue)}}function Qy(e,t){const n=Ban(t),r=e.of.find(o=>o.name===n);return r||(e.of.length===1?e.of[0]:void 0)}function zan(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const W1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],uP="",Y1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],Van="↲",Bj=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Han=" ",U$e="⁠";function Uan(e){return e.of.some(Y$e)}const Wan=Y1.map(e=>e[0]).concat(W1.map(e=>e[0])),Yan=Y1.map(e=>e[1]).concat(W1.map(e=>e[1])),W$e=Wan.concat(Yan).concat(Bj).concat(uP).concat(U$e),_se=new RegExp("".concat(W$e.join("|")),"g"),qan=new RegExp("".concat(W$e.join("|"),`|
`),"g");function Y$e(e){return e.jsonType==="object"&&e.name==="block"}function Gan(e){return Xu(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function Sse(e,t){return e.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===t||r.diff.fromValue===t)).map(r=>r.diff).map(r=>r)[0]}function AL(e,t){const n=e.find(o=>o.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(o=>o.name===t._type)||void 0}function CV(e){return e.decorators?F1(e.decorators,["value"],["asc"]):[]}function q$e(e,t){return CV(t).some(n=>n.value===e)}function Ese(e,t,n,r,o){return t?t.children.map(i=>{var s;let a=aa(i)?(s=i.text)==null?void 0:s.replace(_se,""):"";if(aa(i)){const l=_V(e,i),u=l==null?void 0:l.fields.text;u&&u.toValue===i.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(_se,"")).join(U$e)),i.marks&&i.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=o[i._key];return"".concat(uP).concat(a)}).join(""):""}function Kan(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const o={},i={},s={},a=AL(t.fields,{_key:"bogus",_type:"span"});a&&CV(a).forEach((g,y)=>{i[g.value]=Y1[y]}),Z$e(r.origin).forEach((g,y)=>{o[g._key]=W1[y]}),G$e(r.origin).forEach((g,y)=>{s[g._key]=Bj[y]});const d=Ese(r.origin,r.fromValue,i,o,s),f=Ese(r.origin,r.toValue,i,o,s),p={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},m={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:p,fromValue:m,toValue:p,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:Zan(d,f).map(g=>({...g,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:m.children[0],toValue:p.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:m.children,toValue:p.children}}}}throw new Error("Can not display this diff")}function Zan(e,t){const n=[],r=mN(ZC(e,t));let o=0,i=0;for(const[s,a]of r)switch(s){case kt:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case On:n.push({type:"stringSegment",action:"removed",text:e.substring(o,o+a.length),annotation:null}),o+=a.length;break;case Jn:n.push({type:"stringSegment",action:"added",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break}return $n(n.map(s=>{const a=[];if(s.text.length>1){const l=[...s.text.matchAll(qan)];let u=-1;l.forEach(d=>{const f=d.index||0;f>u&&(a.push({...s,text:s.text.substring(u+1,f)}),a.push({...s,text:d[0]})),d===l[l.length-1]&&a.push({...s,text:s.text.substring(f+1)}),u=f}),l.length===0&&a.push(s)}else a.push(s);return a}))}function G$e(e){const t=[...e.toValue?e.toValue.children.filter(r=>r._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),F1(t,["_key"],["asc"])}function _V(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function Xan(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function K$e(e){return e&&Wt(Object.keys(e),["_key","_type"])||!1}function Qan(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Z$e(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),F1(t,["_key"],["asc"])}const Jan=[];function eln(e){let{checked:t,color:n}=e;return c.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[c.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof t>"u"&&c.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),t&&c.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function tln(e){let{checked:t,color:n}=e;return c.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{width:"38",height:"22",rx:"11",fill:t?n==null?void 0:n.border:n==null?void 0:n.background}),typeof t>"u"&&c.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),t&&c.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof t=="boolean"&&!t&&c.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const nln=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o}=t,{title:i,options:s}=n,a=(s==null?void 0:s.layout)==="checkbox"?eln:tln,l=e1(t,[]),u=o!=null;return c.jsxs(U,{align:"center",children:[c.jsx(cs,{diff:t,children:c.jsxs(U,{align:"center",children:[c.jsx(a,{checked:r,color:l}),u&&c.jsxs(c.Fragment,{children:[c.jsx(M,{marginX:2,children:c.jsx(DV,{})}),c.jsx(a,{checked:o,color:l})]})]})}),u&&i&&c.jsx(M,{marginLeft:2,children:c.jsx(L,{size:1,weight:"semibold",children:i})})]})};var kse=Object.freeze,rln=Object.defineProperty,oln=(e,t)=>kse(rln(e,"raw",{value:kse(t||e.slice())})),jse;const iln="YYYY-MM-DD",sln="HH:mm",aln=$.div(jse||(jse=oln([`
  display: inline-block;
  word-wrap: break-word;
`]))),lln=function(t){let{value:n,schemaType:r}=t;return c.jsx(M,{as:aln,paddingX:2,paddingY:1,children:cln(n,r)})};function cln(e,t){const{options:n,name:r}=t,o=(n==null?void 0:n.dateFormat)||iln,i=(n==null?void 0:n.timeFormat)||sln;return OD(new Date(e),r==="date"?o:"".concat(o," ").concat(i))}const Tse=e=>{let{diff:t,schemaType:n}=e;return c.jsx(m_,{align:"center",diff:t,layout:"grid",previewComponent:lln,schemaType:n})},X$e=h.createContext(null);function dP(){const e=h.useContext(X$e);if(!e)throw new Error("DocumentChange: missing context value");return e}function Ase(e){const[t,n]=h.useState(void 0),r=yr(un);return h.useEffect(()=>{if(!e)return;const o=r.observable.getDocument(e).subscribe(n);return()=>{o.unsubscribe()}},[r,e]),e?t:void 0}function uln(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}var Dse=Object.freeze,dln=Object.defineProperty,fln=(e,t)=>Dse(dln(e,"raw",{value:Dse(t||e.slice())})),Pse;const hln=$.div(Pse||(Pse=fln([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),e=>{let{theme:t}=e;return`
    --size-diff-positive: `.concat(t.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(t.sanity.color.solid.critical.enabled.bg,`;
  `)}),pln=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o,fields:i}=t,s=r==null?void 0:r.asset,a=o==null?void 0:o.asset,l=Ase(s==null?void 0:s._ref),u=Ase(a==null?void 0:a._ref),d=Object.entries(i).filter(S=>{let[E,j]=S;return j.isChanged&&E!=="_type"}).map(S=>{let[E]=S;return E}),f=d.includes("asset"),p=n.fields.filter(S=>S.name!=="asset"&&d.includes(S.name)).map(S=>S.name),m=(l==null?void 0:l.size)&&l.size/1e3/1e3,v=(u==null?void 0:u.size)&&u.size/1e3/1e3,g=uln(m,v),y=m?m.toFixed(2):void 0,x=v?v.toFixed(2):void 0,b=h.useMemo(()=>({display:"block",flex:1}),[]),w=l&&c.jsx(Li,{as:"del",diff:t,path:"asset._ref",style:b,children:c.jsx($L,{title:l.originalFilename||"Untitled",icon:oh,children:c.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(y,"MB")})})}),C=u&&c.jsx(Li,{as:"ins",diff:t,path:"asset._ref",style:b,children:c.jsx($L,{title:u.originalFilename||"Untitled",icon:oh,children:c.jsxs(U,{align:"center",children:[c.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")}),g!==0&&c.jsx(Q,{radius:2,padding:1,as:hln,marginLeft:2,children:c.jsxs(L,{size:0,"data-number":g>0?"positive":"negative",children:[g>0&&"+",g,"%"]})})]})})}),_=c.jsxs(c.Fragment,{children:[w&&!C&&c.jsx(cs,{diff:t,path:"asset._ref",description:"Removed",children:w}),w&&C&&c.jsx(cs,{diff:t,path:"asset._ref",children:c.jsx(PV,{from:w,layout:"grid",to:C})}),!w&&C&&c.jsx(cs,{diff:t,path:"asset._ref",description:"Added",children:C})]});return c.jsxs(c.Fragment,{children:[f&&_,p.length>0&&c.jsx(M,{marginTop:f?4:3,children:c.jsx(g_,{diff:t,schemaType:n,fields:p})})]})};function Ise(e,t){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(r=>parseInt(r,16)).concat(t);return"rgba(".concat(n.join(", "),")")}function mln(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function gln(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function vln(e){const{crop:t,diff:n,hash:r,hotspot:o,width:i=100,height:s=100,...a}=e,l=e1(n,"crop"),u=e1(n,"hotspot");return c.jsxs("svg",{...a,fill:"none",width:i,height:s,viewBox:"0 0 ".concat(i," ").concat(s),children:[c.jsx("defs",{children:t&&o&&c.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[c.jsx("rect",{x:0,y:0,width:i,height:s,fill:"#fff"}),c.jsx(Ose,{hotspot:o,fill:"#000",offset:1,width:i,height:s,stroke:"#000",strokeWidth:3})]})}),t&&c.jsx(cs,{diff:n,path:"crop",description:"Crop changed",children:c.jsx("g",{children:c.jsx(yln,{crop:t,fill:Ise(l.border,.25),mask:o?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:l.border,strokeWidth:1,width:i,height:s})})}),o&&c.jsx(cs,{diff:n,path:"hotspot",description:"Hotspot changed",children:c.jsx("g",{children:c.jsx(Ose,{hotspot:o,fill:Ise(u.border,.25),stroke:u.border,strokeWidth:1,width:i,height:s})})})]})}function yln(e){let{crop:t,width:n,height:r,...o}=e;const i={x:t.left*n,y:t.top*r,width:(1-t.right-t.left)*n,height:(1-t.bottom-t.top)*r};return c.jsx("rect",{...o,...i,style:{vectorEffect:"non-scaling-stroke"}})}function Ose(e){let{hotspot:t,offset:n=0,width:r,height:o,...i}=e;const s={cx:t.x*r,cy:t.y*o,rx:t.width/2*r+n,ry:t.height/2*o+n};return c.jsx("ellipse",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}var $se=Object.freeze,bln=Object.defineProperty,SV=(e,t)=>$se(bln(e,"raw",{value:$se(t||e.slice())})),Rse,Mse,Fse;const xln=["originalFilename"],Lse=()=>c.jsx(Q,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:c.jsx(U,{align:"center",justify:"center",height:"fill",children:c.jsx(L,{size:1,muted:!0,children:"(no image)"})})}),wln=$.div(Rse||(Rse=SV([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),fe.gray[100].hex,fe.gray[50].hex,fe.gray[50].hex,fe.gray[50].hex,fe.gray[50].hex),Cln=$.img(Mse||(Mse=SV([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),_ln=$.div(Fse||(Fse=SV([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function E$(e){var t,n,r,o;const{id:i,action:s,diff:a,hotspot:l,crop:u,is:d}=e,f=yr(un),[p,m]=ne.useState(),{value:v}=FTn(i,xln),g=GOt(i),y=h.useMemo(()=>sD(f),[f]),x=v===null,b=v&&v.originalFilename||"Untitled",w=y.image(i).height(190).dpr(gln()).fit("max"),C=((n=(t=a.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((o=(r=a.toValue)==null?void 0:r.asset)==null?void 0:o._ref),_=s==="changed"?void 0:s;return c.jsxs(U,{direction:"column",height:"fill",flex:1,children:[c.jsx(M,{flex:1,padding:2,paddingBottom:0,children:c.jsxs(U,{as:wln,direction:"column","data-changed":d==="from"&&C?"":void 0,"data-error":p?"":void 0,children:[!x&&!p&&c.jsx(Cln,{src:w.toString()||"",alt:b,"data-action":_,onError:m,width:g.width,height:g.height}),(x||p)&&c.jsx(M,{paddingY:5,children:c.jsx(L,{size:1,muted:!0,align:"center",children:x?"Image is deleted":"Error loading image"})}),c.jsx(_ln,{children:c.jsx(vln,{crop:u&&!$Ot(u)?u:void 0,diff:a,hash:mln("".concat(w.toString()||"","-").concat(d)),hotspot:l&&!ROt(l)?l:void 0,width:g.width,height:g.height})})]})}),c.jsx($L,{title:b,icon:Yl,markRemoved:C&&d==="from",children:_?c.jsx("div",{children:_}):c.jsxs("div",{children:[g.width," × ",g.height]})})]})}const Sln=["crop","hotspot"],Eln=["asset",...Sln],k$={flex:1},kln=e=>{let{diff:t,schemaType:n}=e;var r,o;const{fromValue:i,toValue:s,fields:a,isChanged:l}=t,u=(r=i==null?void 0:i.asset)==null?void 0:r._ref,d=(o=s==null?void 0:s.asset)==null?void 0:o._ref,f=p_(t,["asset","_ref"]),p=Object.keys(a).filter(j=>a[j].isChanged&&j!=="_type"),m=n.fields.filter(j=>!Eln.includes(j.name)&&p.includes(j.name)).map(j=>j.name);let v="changed";!u&&d?v="added":!d&&u&&(v="removed");const g=p.includes("asset"),y=p.includes("crop"),x=p.includes("hotspot"),b=y||x,w=g||b,C=b&&!g,_=i&&u?c.jsx(Li,{annotation:f,style:k$,children:c.jsx(E$,{is:"from",id:u,diff:t,action:v,hotspot:C&&x?i.hotspot:void 0,crop:C&&y?i.crop:void 0})}):c.jsx(Lse,{}),S=s&&d?c.jsx(Li,{annotation:f,style:k$,children:c.jsx(E$,{is:"to",id:d,diff:t,hotspot:C&&x?s.hotspot:void 0,crop:C&&y?s.crop:void 0})}):c.jsx(Lse,{});if(!_&&!S)return c.jsx(Q,{padding:4,radius:2,tone:"transparent",children:c.jsx(L,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!l)return d?c.jsx(Li,{annotation:f,style:k$,children:c.jsx(E$,{id:d,is:"to",diff:t})}):null;const E=c.jsx(PV,{align:"center",from:_,layout:"grid",to:S});return c.jsxs(c.Fragment,{children:[w&&(g?c.jsx(cs,{annotations:f?[f]:[],description:"".concat(v[0].toUpperCase()).concat(v.slice(1)),children:E}):E),m.length>0&&c.jsx(M,{marginTop:w?4:3,children:c.jsx(g_,{diff:t,schemaType:n,fields:m})})]})};var Bse=Object.freeze,jln=Object.defineProperty,Tln=(e,t)=>Bse(jln(e,"raw",{value:Bse(t||e.slice())})),Nse;const Aln=$.div(Nse||(Nse=Tln([`
  display: inline-block;
  word-break: break-all;
`]))),Dln=e=>{const{value:t}=e;return c.jsx(M,{as:Aln,paddingX:2,paddingY:1,children:t})},Pln=e=>{let{diff:t,schemaType:n}=e;return c.jsx(m_,{diff:t,schemaType:n,previewComponent:Dln,layout:"inline"})};var zse=Object.freeze,Iln=Object.defineProperty,Oln=(e,t)=>zse(Iln(e,"raw",{value:zse(t||e.slice())})),Vse;const $ln=$.blockquote(Vse||(Vse=Oln([`
  margin: 0;
`])));function Rln(e){let{children:t}=e;return c.jsx("div",{children:c.jsx($ln,{children:t})})}var Hse=Object.freeze,Mln=Object.defineProperty,Fln=(e,t)=>Hse(Mln(e,"raw",{value:Hse(t||e.slice())})),Use;const Lln={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},Bln=$(Xo)(Use||(Use=Fln([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function Nln(e){let{style:t,children:n}=e;return c.jsx(Bln,{size:Lln[t],children:n})}var Wse=Object.freeze,zln=Object.defineProperty,Vln=(e,t)=>Wse(zln(e,"raw",{value:Wse(t||e.slice())})),Yse;const Hln=$.div(Yse||(Yse=Vln([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function Uln(e){let{children:t}=e;return c.jsx(Hln,{children:t})}const Wln=[];function Yln(e){var t,n,r;const{diff:o,block:i,children:s}=e,a=e1(o,Wln),{path:l}=h.useContext(wd),{onSetFocus:u}=h.useContext(wg),d=o.action==="removed";let f=s;const p=h.useCallback(v=>{v.stopPropagation(),d||u(l)},[l,d,u]);i.style==="blockquote"?f=c.jsx(Rln,{children:f}):i.style&&Gan(i)?f=c.jsx(Nln,{style:i.style,children:f}):f=c.jsx(Uln,{children:f});let m;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){m=(n=(t=o==null?void 0:o.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const v=a?{background:a.background,color:a.text}:{};f=c.jsx(Q,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:c.jsxs(te,{space:2,children:[c.jsx(cs,{annotations:[(r=o.origin.fields.style)==null?void 0:r.annotation],diff:o.origin.fields.style,children:c.jsxs(L,{size:0,children:["Changed block style from '",m,"' to '",i.style,"'"]})}),c.jsx(M,{style:v,children:f})]})})}return c.jsx("div",{onClick:p,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:f})}var qse=Object.freeze,qln=Object.defineProperty,fP=(e,t)=>qse(qln(e,"raw",{value:qse(t||e.slice())})),Gse,Kse,Zse,Xse;const q1=$(M)(Gse||(Gse=fP([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),Q$e=$(L)(Kse||(Kse=fP([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),EV=$(M)(Zse||(Zse=fP([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),q1),J$e=$(M)(Xse||(Xse=fP([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var Qse=Object.freeze,Gln=Object.defineProperty,Kln=(e,t)=>Qse(Gln(e,"raw",{value:Qse(t||e.slice())})),Jse;const DL=$.div(Jse||(Jse=Kln([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),EV);function Zln(e){let{children:t,diff:n,object:r,schemaType:o,path:i,...s}=e;return o?n&&n.action!=="unchanged"?c.jsx(Xln,{...s,diff:n,object:r,schemaType:o,path:i,children:t}):c.jsx(DL,{children:t}):c.jsx(DL,{...s,children:"Unknown schema type"})}function Xln(e){let{diff:t,children:n,object:r,schemaType:o,path:i,...s}=e;const{onSetFocus:a}=h.useContext(wg),{path:l}=h.useContext(wd),[u,d]=h.useState(null),f=e1(t,[]),p=h.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),m=t.action==="removed",[v,g]=h.useState(!1),y=r&&K$e(r),x=h.useMemo(()=>[i[0]].concat(["markDefs",{_key:r._key}]),[r._key,i]),b=h.useMemo(()=>l.slice(0,l.findIndex(P=>Lr(P)&&P._key===r._key)),[l,r._key]),w=h.useMemo(()=>b.concat(i),[i,b]),C=h.useMemo(()=>b.concat(x),[x,b]),_="field-".concat(Ur(C)),S=Gz(),E=h.useMemo(()=>S.filter(P=>{let[I]=P;return I.startsWith(_)}).length>0,[_,S]);h.useEffect(()=>{!v&&E&&(g(!0),a(C))},[E,C,a,v]);const j=h.useCallback(P=>{P.stopPropagation(),g(!0),m||(P.preventDefault(),a(w),setTimeout(()=>a(C),10))},[w,m,C,a]),k=h.useCallback(()=>{E||g(!1)},[E]);pr(k,[u]);const T=t.action!=="unchanged"&&t.annotation||null,A=h.useMemo(()=>T?[T]:[],[T]),D=c.jsx(wd.Provider,{value:{path:C},children:c.jsx(J$e,{padding:3,children:c.jsxs("div",{children:[y&&c.jsxs(Ut,{size:1,muted:!0,children:["Empty ",o.title]}),!y&&c.jsx(g_,{diff:t,schemaType:o})]})})});return c.jsx(DL,{...s,onClick:j,style:p,"data-changed":"","data-removed":t.action==="removed"?"":void 0,children:c.jsx(nn,{content:D,open:v,ref:d,portal:!0,children:c.jsx(EV,{paddingLeft:1,children:c.jsx(cs,{annotations:A,description:"".concat(t.action," annotation"),children:c.jsxs(q1,{style:{display:"inline-flex"},children:[c.jsx("span",{children:n}),c.jsx(U,{align:"center",paddingX:1,children:c.jsx(Q$e,{size:0,children:c.jsx(hl,{})})})]})})})})})}var eae=Object.freeze,Qln=Object.defineProperty,Jln=(e,t)=>eae(Qln(e,"raw",{value:eae(t||e.slice())})),tae;const ecn=$.span(tae||(tae=Jln([`
  display: inline;
  `,`
`])),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(t.sanity.fonts.code.family,`;
          background: `).concat(t.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function tcn(e){let{mark:t,children:n}=e;return c.jsx(ecn,{decoration:t,children:n})}var nae=Object.freeze,ncn=Object.defineProperty,rcn=(e,t)=>nae(ncn(e,"raw",{value:nae(t||e.slice())})),rae;const PL=$(Q)(rae||(rae=rcn([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),q1);function ocn(e){let{diff:t,object:n,schemaType:r,...o}=e;return r?t?c.jsx(icn,{...o,diff:t,object:n,schemaType:r}):c.jsx(PL,{children:c.jsx(S_,{schemaType:r,value:n,layout:"inline"})}):c.jsxs(PL,{...o,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function icn(e){let{diff:t,object:n,path:r,schemaType:o,...i}=e;const{path:s}=h.useContext(wd),{onSetFocus:a}=h.useContext(wg),l=e1(t,[]),u=h.useMemo(()=>l?{background:l.background,color:l.text}:{},[l]),[d,f]=h.useState(!1),p=n&&K$e(n),m=t.action==="removed",g=s.slice(0,s.findIndex(k=>Lr(k)&&k._key===n._key)).concat(r),y="field-".concat(Ur(g)),b=Gz().filter(k=>{let[T]=k;return T.startsWith(y)}).length>0,w=s.slice(0,-1).concat(r).concat([$be]);h.useEffect(()=>{b&&(f(!0),a(w))},[w,b,a]);const C=h.useCallback(k=>{if(k.stopPropagation(),f(!0),!m){a(w);return}k.preventDefault()},[w,m,a]),_=h.useCallback(()=>{f(!1)},[]),S=c.jsx(wd.Provider,{value:{path:g},children:c.jsx(scn,{diff:t,emptyObject:p,onClose:_,schemaType:o})}),E=t.action!=="unchanged"&&t.annotation||null,j=E?[E]:[];return c.jsx(PL,{...i,onClick:C,style:u,"data-removed":t.action==="removed"?"":void 0,border:!0,radius:2,children:c.jsx(nn,{content:S,open:d,portal:!0,children:c.jsx(EV,{children:c.jsx(cs,{annotations:j,description:"".concat(t.action," inline object"),children:c.jsxs(q1,{children:[c.jsx(S_,{schemaType:o,value:n,layout:"inline"}),c.jsx(U,{align:"center",paddingX:1,children:c.jsx(Q$e,{size:0,children:c.jsx(hl,{})})})]})})})})})}function scn(e){let{diff:t,emptyObject:n,onClose:r,schemaType:o}=e;const[i,s]=h.useState(null),a=h.useCallback(()=>{r()},[r]);return pr(a,[i]),c.jsxs(J$e,{ref:s,padding:3,children:[n&&c.jsxs(Ut,{size:1,muted:!0,children:["Empty ",o.title]}),!n&&c.jsx(g_,{diff:t,schemaType:o})]})}function acn(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const a=t||n;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?c.jsx(lcn,{...s,childDiff:n,diff:t,segment:i,path:o,children:r}):c.jsx(q1,{children:r})}function lcn(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const{onSetFocus:a}=ne.useContext(wg),{path:l}=ne.useContext(wd),u=h.useMemo(()=>o.slice(-2,1)[0],[o]),d=t&&t.action==="removed",p=l.slice(0,l.findIndex(b=>Lr(b)&&Lr(u)&&b._key===u._key)).concat(o),m=h.useCallback(b=>{b.stopPropagation(),d||(b.preventDefault(),a(p))},[p,d,a]),g=t&&t.segments.find(b=>b.text===i.text)||t||n,y=g&&g.action!=="unchanged"&&g.annotation||null,x=y&&i.action!=="unchanged"?c.jsx(Li,{annotation:y,as:i.action==="removed"?"del":"ins",tooltip:{description:"".concat(pn(i.action)," text")},children:r}):null;return c.jsx(q1,{...s,onClick:m,"data-changed":"",children:c.jsx("span",{children:c.jsx(c.Fragment,{children:x||r})})})}const kV=Y1.map(e=>e[0]),jV=Y1.map(e=>e[1]),XE=W1.map(e=>e[0]),IL=W1.map(e=>e[1]),ccn=kV.concat(XE),eRe=jV.concat(IL),ucn=kV.concat(jV),dcn=new RegExp("".concat(ucn.concat(eRe).join("|")),"g");function fcn(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,o=h.useMemo(()=>t.origin.toValue?G$e(t.origin):[],[t.origin]),i=h.useCallback(s=>{const a=AL(n.fields,s);let l=[];if(a){l=CV(a);const u=t.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],p={};if(mcn(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const b=Sse(t.origin,r.children[0])||t.origin;if(b&&b.action!=="unchanged")return c.jsx(Li,{annotation:b.annotation,as:b.action==="removed"?"del":"ins",tooltip:{description:"".concat(pn(b.action)," empty text")},children:c.jsx("span",{children:Van})},"empty-block-".concat(r._key))}let m=-1,v=-1;const g=[];let y;const x=Z$e(t.origin);return d.forEach(b=>{var w,C,_;v++;const S=Bj.includes(b.text),E=ccn.includes(b.text),j=eRe.includes(b.text),k=b.text===uP,T=b.action==="removed";if(k)T||m++;else if(E||j){if(E&&XE.includes(b.text)){const A=x[XE.indexOf(b.text)];A&&g.push({mark:A._key,symbols:[b.text,IL[XE.indexOf(b.text)]],object:A})}j&&IL.includes(b.text)&&(y=g.pop())}else if(S){const A=Bj.findIndex(I=>I===b.text),D=(w=o[A])==null?void 0:w._key,P=o[A];if(D){const I=AL(n.fields,P),R=Sse(t.origin,P);f.push(c.jsx(ocn,{object:P,path:[{_key:r._key},"children",{_key:P._key}],diff:R,schemaType:I},"inline-object-".concat(P._key)))}}else if(b.text){const A=()=>{var O;return(O=t.origin.fromValue)==null?void 0:O.children.find(V=>V.text&&V.text.match(Qan(b.text)))},D=r.children[m]||A(),P=D&&_V(t.origin,D);if(!D)throw new Error("Could not find child");const I=(C=P==null?void 0:P.fields)!=null&&C.text?(_=P==null?void 0:P.fields)==null?void 0:_.text:void 0,R=c.jsx(acn,{diff:I,path:[{_key:r._key},"children",{_key:D._key}],childDiff:P,segment:b,children:hcn({diff:t,child:D,decoratorTypes:l,seg:b,segIndex:v,spanSchemaType:a})},"text-".concat(D._key,"-").concat(v));if(g.length>0&&g.forEach(O=>{p[O.mark]=p[O.mark]||[],p[O.mark].push(R)}),y){const O="annotation-".concat(y.object._key),V=f[f.length-1];if(V&&V.key!==O){const B=Xan(t.origin,y.mark),H=y&&a.annotations&&a.annotations.find(W=>y&&y.object&&W.name===y.object._type);f.push(c.jsx(Zln,{object:y.object,diff:B,path:[{_key:r._key},"children",{_key:D._key}],schemaType:H,children:c.jsx(c.Fragment,{children:p[y.mark]})},O))}y=void 0}g.length===0&&f.push(R)}}),ne.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,t,o,n]);return c.jsx(Yln,{block:t.displayValue,diff:t,children:c.jsx(c.Fragment,{children:(t.displayValue.children||[]).map(s=>i(s))})})}function hcn(e){let{diff:t,child:n,decoratorTypes:r,seg:o,segIndex:i,spanSchemaType:s}=e;if(o.text===`
`)return c.jsx("br",{});let a=c.jsx("span",{children:o.text.replace(/ /g,Han)},"text-".concat(i));const l=n&&_V(t.origin,n),u=aa(n)?n.marks||[]:[];return l&&(a=pcn({activeMarks:u,decoratorTypes:r,diff:t,children:a,seg:o,segIndex:i,spanDiff:l,spanSchemaType:s})),u&&u.length>0&&u.forEach(d=>{q$e(d,s)&&(a=c.jsx(tcn,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(i)))}),a}function pcn(e){let{activeMarks:t,decoratorTypes:n,diff:r,children:o,seg:i,segIndex:s,spanDiff:a,spanSchemaType:l}=e;var u;let d=c.jsx("span",{children:o},"text-segment-".concat(s));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",p=a&&a.action!=="unchanged"&&a.annotation||void 0,m=(u=a==null?void 0:a.fields)==null?void 0:u.marks,v=m&&m.action!=="unchanged"&&m.annotation||p;let g=[];const x=f.split(uP).filter(S=>!!S).join(""),b=x.substring(0,x.indexOf(i.text)+i.text.length),w=b.substring(0,b.indexOf(i.text)),C=[];return[...w.matchAll(dcn)].forEach(S=>{var E;const j=S[0],k=Y1.concat(W1).find(T=>T.indexOf(j)>-1);if(k){const T=j===k[0],A=((E=n[T?kV.indexOf(j):jV.indexOf(j)])==null?void 0:E.value)||j;w.lastIndexOf(j)>w.lastIndexOf(k[1])&&C.push(A)}}),g=Vzt(t,wo(C)),v&&g.length>0&&g.some(S=>q$e(S,l))&&(d=c.jsx(Li,{annotation:v,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(s,"-").concat(g.join("-")))),d}function mcn(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const gcn=e=>{const{diff:t,schemaType:n}=e,r=h.useMemo(()=>Kan(t,n),[t,n]);return c.jsx("div",{"data-diff-action":t.action,children:c.jsx(fcn,{diff:r,schemaType:n})})};var oae=Object.freeze,vcn=Object.defineProperty,ycn=(e,t)=>oae(vcn(e,"raw",{value:oae(t||e.slice())})),iae;const bcn=$.div(iae||(iae=ycn([`
  word-wrap: break-word;
`]))),xcn=e=>{let{value:t,schemaType:n}=e;return c.jsx(M,{as:bcn,padding:2,children:c.jsx(S_,{schemaType:n,value:t,layout:"default"})})},wcn=e=>{let{diff:t,schemaType:n}=e;return c.jsx(m_,{align:"center",diff:t,layout:"grid",path:"_ref",previewComponent:xcn,schemaType:n})};var sae=Object.freeze,Ccn=Object.defineProperty,_cn=(e,t)=>sae(Ccn(e,"raw",{value:sae(t||e.slice())})),aae;const Scn=$.div(aae||(aae=_cn([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),Ecn=e=>{const{value:t}=e;return c.jsx(M,{as:Scn,paddingX:2,paddingY:1,children:t})};var lae=Object.freeze,kcn=Object.defineProperty,jcn=(e,t)=>lae(kcn(e,"raw",{value:lae(t||e.slice())})),cae;const Tcn=$.div(cae||(cae=jcn([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),Acn=e=>{let{diff:t,schemaType:n}=e;const{options:r}=n;return r!=null&&r.list?c.jsx(m_,{diff:t,previewComponent:Ecn,schemaType:n}):c.jsx(Tcn,{children:c.jsx(wun,{diff:t})})},uae={block:gcn,boolean:{component:nln,showHeader:!1},date:Tse,datetime:Tse,file:pln,image:kln,number:Pln,reference:wcn,string:Acn};function tRe(e,t){var n;let r=e;for(;r;){const s=((n=r==null?void 0:r.components)==null?void 0:n.diff)||Dcn(r,t)||uae[r.name];if(s)return s;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return uae[i]}function Dcn(e,t){const n=Jan;let r;for(const o of n){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(r=o({schemaType:e,parentSchemaType:t}),r)return r}}function Pcn(e){const t=dae(e.fromValue),n=dae(e.toValue);return!t&&n?"Added":!n&&t?"Removed":"Changed"}function nRe(e){return e.type==="field"}function dae(e){return e!==null&&typeof e<"u"&&e!==""}function TV(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!tRe(e,o.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return rRe(e,t,n,r,o);if(e.jsonType==="array"&&t.type==="array")return $cn(e,t,n,r)}return oRe(e,t,n,r,o)}function rRe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=[],s={...o,parentSchema:e},a=e.fieldsets||e.fields.map(l=>({single:!0,field:l}));for(const l of a)l.single?i.push(...Icn(l.field,t,n,r,s)):i.push(...Ocn(l,t,n,r,s));return i.length<2?i:[{type:"group",key:Sn(n)||"root",path:n,titlePath:r,changes:AV(i,r.length),schemaType:e}]}function Icn(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:i,...s}=o,a=t.fields[e.name];if(!a||!a.isChanged||i&&!i.includes(e.name))return[];const l=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return TV(e.type,a,l,u,s)}function Ocn(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:i,name:s,title:a,readOnly:l,hidden:u}=e,{fieldFilter:d,...f}=o,p=u,m=l,v=r.concat([a||s]),g=[];for(const y of i){const x=t.fields[y.name];if(!x||!x.isChanged||d&&!d.includes(y.name))continue;const b=n.concat([y.name]),w=v.concat([y.type.title||y.name]);g.push(...TV({readOnly:m,hidden:p,...y.type},x,b,w,f))}return g.length<2?g:[{type:"group",key:Sn(n)||"root",fieldsetName:s,path:n,titlePath:v,changes:AV(g,v.length),readOnly:m,hidden:p}]}function $cn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=t.items.filter(l=>l.hasMoved&&l.fromIndex!==l.toIndex||l.diff.action!=="unchanged");if(o.length===0)return[];const i=Uan(e),s=[],a=o.reduce((l,u)=>{const d=Nan(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",Sn(n)),l;const p=EL(u.diff.fromValue)||EL(u.diff.toValue)||t.items.indexOf(u),m=n.concat(p),v={itemDiff:u,parentDiff:t,parentSchema:e},g=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),y=b=>(b.type==="field"&&L$e(m,b.path)&&(b.itemDiff=u),b),x=TV(f,u.diff,m,g,v).map(y);return i&&x.filter(nRe).forEach((b,w,C)=>{b.showHeader=C.length===1,b.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?l.push(...oRe(f,u.diff,m,g,v)):l.push(...x),l},s);return a.length>1?[{type:"group",key:Sn(n)||"root",path:n,titlePath:r,changes:AV(a,r.length),schemaType:e}]:a}function oRe(e,t,n,r){let{itemDiff:o,parentDiff:i,parentSchema:s}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:l,type:u}=t;if(u==="array"&&fae(a)&&fae(l))return[];let d;typeof a<"u"&&(d=TL(a,e)),!d&&typeof l<"u"&&(d=TL(l,e));let f=!0,p;const m=tRe(e,s);return m&&typeof m=="function"?p=m:m&&(p=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:o,parentDiff:i,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:Sn(n)||"root",diffComponent:d?void 0:p,parentSchema:s}]}function AV(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function fae(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const hae=e=>e.type==="field"&&e.diff.action==="added",iRe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...iRe(n))}),t},sRe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Rcn=(e,t)=>{const n=e[t],r=B$e(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},Mcn={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function hP(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const o=iRe(e),i=o.filter(hae);o.filter(s=>!hae(s)).forEach(s=>hP(s,t,n)),r.push(...pae(t,i.map(s=>s.path).reverse()))}else e.diff.action==="added"?r.push(...pae(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...Lcn(e.itemDiff,e.parentDiff,e.path)):r.push(...Bcn(e.diff,t,e.path));n.patch.execute(r)}function Fcn(e,t,n){const r=e.toValue;return aRe(r,t,n)}function pae(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>sRe(t[r],i))||n.push(Fcn(e,t[r],t));return[{unset:[...new Set(n.map(Sn))]}]}function aRe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const o=t.slice(0,-1),i=nl(e,o),s=[o,...n.filter(a=>!sRe(a,o))];return lRe(i,o,n)?aRe(e,o,s,r):t}function Lcn(e,t,n){const r=n.slice(0,-1),{parentValue:o,fromIndex:i,fromValue:s}=Vcn(t,e);let a;if(i===0)a={before:Sn([...r,0])};else{const l=i-1,d=EL(o[l])||l;a={after:Sn([...r,d])}}return[{unset:[Sn(n)]},{insert:{...a,items:[s]}}]}function Bcn(e,t,n){const r=BD(e.toValue,e.fromValue,Mcn,n),o=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:p}=d;return{insert:{after:Sn(f),items:p}}}),i=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(Sn(f.path)),[]),s=new Set,a=[];let l=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(l=!0,a.push(...Ncn(f.path,t,s)),d[Sn(f.path)]=f.value,d),{});return[...a,...o,...i.length>0?[{unset:i}]:[],...l?[{set:u}]:[]]}function Ncn(e,t,n){const r=t.fromValue,o=t.toValue,i=[];for(let s=1;s<=e.length;s++){const a=e.slice(0,s),l=Sn(a);if(n.has(l))continue;const u=e[s],d=Lr(u)||Bl(u),f=nl(r,a),p=mae(f);if(d&&Array.isArray(f)&&!nl(o,e.slice(0,s+1))){const m=fan(f,u),v=f[m-1],g=nl(r,a.concat(u)),y=Ul(v)?{_key:v._key}:m-1,x=Sn(a.concat(m<1?0:y));i.push({setIfMissing:{[l]:[]}}),i.push({insert:{after:x,items:[mae(g)]}}),s++;continue}typeof p>"u"||(n.add(l),i.push({setIfMissing:{[l]:p}}))}return i}function zcn(e,t,n){if(!xt(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const o=[...t,Rcn(e,r)];if(!lRe(e[r],o,n))return!1}return!0}function lRe(e,t,n){const r=n==null?void 0:n.some(i=>Sn(i)===Sn(t)),o=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||o||yan(e)||zcn(e,t,n)}function mae(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return Ul(e)&&(t._key=e._key),O6(e)&&(t._type=e._type),t}function Vcn(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(t.fromIndex))}const cu=!1;class Hcn extends ne.Component{constructor(){super(...arguments),this.state={}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{error:t}=this.state;return t?c.jsx(Q,{padding:3,radius:2,tone:"critical",children:c.jsxs(U,{children:[c.jsx(L,{size:1,children:c.jsx(Ca,{})}),c.jsxs(M,{paddingLeft:3,children:[c.jsx(L,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),cu]})]})}):this.props.children}}const Ucn={down:hxe,right:pxe};function DV(e){const{direction:t="right",...n}=e,r=Ucn[t];return c.jsx(L,{muted:!0,size:1,...n,children:h.createElement(r)})}var gae=Object.freeze,Wcn=Object.defineProperty,cRe=(e,t)=>gae(Wcn(e,"raw",{value:gae(t||e.slice())})),vae,yae;const j$=$.pre(vae||(vae=cRe([`
  overflow-x: auto;
  position: relative;
`]))),Ycn=$.div(yae||(yae=cRe([`
  position: absolute;
  top: 0;
  right: 0;
`])));function qcn(e){const{children:t,as:n,change:r,...o}=e,i=h.useRef(!1),[s,a]=h.useState(!1),l=h.useCallback(()=>a(f=>!f),[a]),u=h.useCallback(()=>i.current=!0,[]),d=h.useCallback(()=>i.current=!1,[i]);return h.useEffect(()=>{function f(p){const{metaKey:m,key:v}=p;m&&v==="i"&&i.current&&l()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[l]),c.jsx(M,{as:n,onMouseEnter:u,onMouseLeave:d,...o,children:s?c.jsx(Gcn,{change:r}):t})}const T$=e=>{let{title:t}=e;return c.jsx(M,{padding:3,display:"inline-block",as:Ycn,children:c.jsx(Ut,{size:1,muted:!0,children:t})})};function Gcn(e){let{change:t}=e;var n,r,o;return c.jsxs(te,{space:3,children:[c.jsxs(Q,{padding:3,tone:"transparent",as:j$,radius:1,children:[c.jsx(T$,{title:"meta"}),c.jsx(dr,{language:"json",size:1,children:Kcn({path:Sn(t.path),fromIndex:(n=t.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=t.itemDiff)==null?void 0:r.toIndex,hasMoved:(o=t.itemDiff)==null?void 0:o.hasMoved,action:t.diff.action,isChanged:t.diff.isChanged})})]}),c.jsxs(Q,{as:j$,tone:"critical",padding:3,radius:1,children:[c.jsx(T$,{title:"from"}),c.jsx(dr,{language:"json",size:1,children:bae(t.diff.fromValue)})]}),c.jsx(Q,{children:c.jsx(DV,{direction:"down",align:"center"})}),c.jsxs(Q,{as:j$,tone:"positive",padding:3,radius:1,children:[c.jsx(T$,{title:"to"}),c.jsx(dr,{language:"json",size:1,children:bae(t.diff.toValue)})]})]})}function bae(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function Kcn(e){const t=[];return Object.entries(e).forEach(n=>{let[r,o]=n;typeof o<"u"&&o!==null&&t.push("".concat(r,": ").concat(o))}),t.join(`
`)}const Zcn={flexShrink:0},Xcn={alignItems:"stretch"},xae={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},PV=h.forwardRef(function(t,n){const{align:r="top",layout:o="inline",from:i,to:s,style:a,...l}=t,u=zs(),d=o==="inline"?U:tn,f=h.useMemo(()=>({...a,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(ge(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,a,u]),p=o==="inline"?Zcn:Xcn;return c.jsxs(d,{...l,ref:n,style:f,"data-from-to-layout":!0,children:[i&&c.jsxs(c.Fragment,{children:[c.jsx(U,{align:xae[r],style:p,children:i}),c.jsx(U,{align:"center",justify:"center",padding:2,children:c.jsx(DV,{})})]}),c.jsx(U,{align:xae[r],style:p,children:s})]})}),A$={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function m_(e){const{align:t,cardClassName:n,diff:r,layout:o,path:i,previewComponent:s,schemaType:a}=e,{action:l}=r,u=Pcn(r);if(l==="unchanged")return c.jsx(Li,{className:n,style:A$,children:h.createElement(s,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&c.jsx(Li,{as:"del",className:n,diff:r,path:i,style:A$,children:h.createElement(s,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&c.jsx(Li,{as:"ins",className:n,diff:r,path:i,style:A$,children:h.createElement(s,{schemaType:a,value:r.toValue})});return d&&!f?c.jsx(cs,{description:u,diff:r,path:i,children:d}):!d&&f?c.jsx(cs,{description:u,diff:r,path:i,children:f}):c.jsx(cs,{description:u,diff:r,path:i,children:c.jsx(PV,{align:t,from:d,layout:o,to:f})})}const Qcn=e=>{let{value:t,schemaType:n}=e;return c.jsx(M,{padding:2,children:c.jsx(S_,{schemaType:n,value:t,layout:"default"})})},Jcn=e=>{const{diff:t,schemaType:n}=e;return c.jsx(m_,{diff:t,schemaType:n,previewComponent:Qcn,layout:"grid"})};var wae=Object.freeze,eun=Object.defineProperty,tun=(e,t)=>wae(eun(e,"raw",{value:wae(t||e.slice())})),Cae;const nun=$(oe)(Cae||(Cae=tun([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),uRe=h.forwardRef(function(t,n){const{selected:r,...o}=t;return c.jsx(nun,{icon:a8,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...o})});function run(e){let{error:t}=e;return c.jsx(Q,{tone:"critical",padding:3,children:c.jsxs(U,{align:"flex-start",children:[c.jsx(M,{children:c.jsx(L,{children:c.jsx(Ca,{})})}),c.jsx(M,{flex:1,paddingLeft:3,children:c.jsxs(L,{size:1,as:"p",children:["Value error: ",t.message]})})]})})}var _ae=Object.freeze,oun=Object.defineProperty,IV=(e,t)=>_ae(oun(e,"raw",{value:_ae(t||e.slice())})),Sae,Eae,kae;const iun=$.div(Sae||(Sae=IV([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),sun=$.div(Eae||(Eae=IV([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[2])}),aun=$(nn)(kae||(kae=IV([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function lun(e){var t;const{change:n,hidden:r,readOnly:o}=e,i=n.diffComponent||Jcn,{documentId:s,schemaType:a,rootDiff:l,isComparingCurrent:u,FieldWrapper:d=ne.Fragment}=dP(),f=dc(s,a.name),[p,m]=h.useState(!1),[v,g]=h.useState(!1),[y,x]=h.useState(null),[b,w]=Gh({id:s,type:a.name,permission:"update"}),C=h.useCallback(()=>{hP(n,l,f)},[n,l,f]),_=h.useCallback(()=>{m(!0)},[]),S=ne.useCallback(()=>{m(!1)},[]),E=h.useCallback(()=>{g(!0)},[]),j=h.useCallback(()=>{g(!1)},[]),k=h.useCallback(()=>m(!1),[]);pr(k,[y]);const A=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path;return h.useMemo(()=>r?null:c.jsxs(te,{space:1,as:iun,children:[n.showHeader&&c.jsx(H$e,{change:n,titlePath:n.titlePath}),c.jsx(d,{path:A,hasHover:v,children:c.jsxs(qcn,{change:n,as:sun,"data-revert-field-hover":v?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?c.jsx(run,{error:n.error}):c.jsx(Hcn,{children:c.jsx(wd.Provider,{value:{path:n.path},children:c.jsx(i,{diff:n.diff,schemaType:n.schemaType})})}),u&&!w&&(b==null?void 0:b.granted)&&c.jsx(aun,{content:c.jsxs(M,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",c.jsxs(tn,{columns:2,gap:2,marginTop:2,children:[c.jsx(oe,{mode:"ghost",onClick:S,children:c.jsx(L,{align:"center",children:"Cancel"})}),c.jsx(oe,{tone:"critical",onClick:C,children:c.jsx(L,{align:"center",children:"Revert change"})})]})]}),open:p,portal:!0,placement:"left",ref:x,children:c.jsx(M,{flex:1,children:c.jsx(uRe,{onClick:_,onMouseEnter:E,onMouseLeave:j,selected:p,disabled:o,"data-testid":"single-change-revert-button-".concat(n==null?void 0:n.key)})})})]})})]}),[n,S,o,p,i,d,r,E,j,C,_,u,w,b,v,A])}function cun(){const e=h.useRef(null),[t,n]=h.useState(!1);return h.useEffect(()=>{const r=e.current;if(!r)return()=>{};const o=()=>n(!0),i=()=>n(!1);return r.addEventListener("mouseover",o),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",o),r.removeEventListener("mouseout",i)}},[]),[e,t]}var jae=Object.freeze,uun=Object.defineProperty,OV=(e,t)=>jae(uun(e,"raw",{value:jae(t||e.slice())})),Tae,Aae,Dae;const dun=$.div(Tae||(Tae=OV([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),fun=$.div(Aae||(Aae=OV([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[2])}),hun=$(nn)(Dae||(Dae=OV([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function pun(e){const{change:t,readOnly:n,hidden:r,...o}=e,{titlePath:i,changes:s,path:a}=t,{path:l}=h.useContext(wd),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:p,isComparingCurrent:m}=dP(),v=s.every(P=>nRe(P)&&Y$e(P.schemaType)),g=L$e(l,a),[y,x]=cun(),b=dc(u,d.name),[w,C]=h.useState(!1),[_,S]=h.useState(null),[E,j]=Gh({id:u,type:d.name,permission:"update"}),k=h.useCallback(()=>hP(t,p,b),[t,p,b]),T=h.useCallback(()=>{C(!0)},[]),A=h.useCallback(()=>{C(!1)},[]);pr(()=>C(!1),[_]);const D=h.useMemo(()=>r?null:c.jsxs(te,{space:1,as:fun,"data-revert-group-hover":x?"":void 0,"data-portable-text":v?"":void 0,children:[c.jsx(te,{as:dun,space:5,children:s.map(P=>c.jsx(dRe,{change:P,readOnly:n,hidden:r},P.key))}),m&&!j&&(E==null?void 0:E.granted)&&c.jsx(hun,{content:c.jsxs(M,{children:["Are you sure you want to revert the changes?",c.jsxs(tn,{columns:2,gap:2,marginTop:2,children:[c.jsx(oe,{mode:"ghost",onClick:A,children:c.jsx(L,{align:"center",children:"Cancel"})}),c.jsx(oe,{tone:"critical",onClick:k,children:c.jsx(L,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:w,ref:S,children:c.jsx(M,{children:c.jsx(uRe,{onClick:T,ref:y,selected:w,disabled:n,"data-testid":"group-change-revert-button-".concat(t.fieldsetName)})})})]}),[s,A,w,n,t.fieldsetName,k,T,r,m,x,j,v,E,y]);return r?null:c.jsxs(te,{space:1,...o,children:[c.jsx(H$e,{titlePath:i}),g||!f?D:c.jsx(f,{hasHover:x,path:t.path,children:D})]})}function dRe(e){var t,n;const{change:r,hidden:o,readOnly:i}=e,{value:s}=dP(),a=jL({document:s,checkProperty:o||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),l=jL({document:s,checkProperty:i||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?c.jsx(lun,{change:r,readOnly:l}):r.type==="group"?c.jsx(pun,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:l}):c.jsxs(L,{children:["Unknown change type: ",c.jsx("code",{children:r.type||"undefined"})]})}function OL(){return c.jsxs(te,{space:3,children:[c.jsx(L,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),c.jsx(L,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var Pae=Object.freeze,mun=Object.defineProperty,fRe=(e,t)=>Pae(mun(e,"raw",{value:Pae(t||e.slice())})),Iae,Oae;const gun=$.div(Iae||(Iae=fRe([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),vun=$(nn)(Oae||(Oae=fRe([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function g_(e){let{diff:t,fields:n,schemaType:r}=e;const{documentId:o,isComparingCurrent:i,value:s}=dP(),a=dc(o,r.name),{path:l}=h.useContext(wd),u=l.length===0,[d,f]=h.useState(!1),[p,m]=h.useState(!1),v=jL({document:s,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[g,y]=Gh({id:o,type:r.name,permission:"update"}),x=h.useMemo(()=>rRe(r,t,l,[],{fieldFilter:n}),[r,n,l,t]),b=h.useMemo(()=>n&&n.length===0?[]:yun(x),[x,n]),w=x[0],C=h.useCallback(()=>{hP(w,t,a),f(!1)},[w,t,a]),_=h.useCallback(()=>{f(!0)},[]),S=h.useCallback(()=>{m(!0)},[]),E=h.useCallback(()=>{m(!1)},[]),j=h.useCallback(()=>{f(!1)},[]),[k,T]=h.useState(null),A=h.useCallback(()=>f(!1),[]);if(pr(A,[k]),b.length===0)return u?c.jsx(OL,{}):null;const D=u&&b.length>1;return c.jsx(Q,{children:c.jsxs(te,{space:5,children:[c.jsx(te,{as:gun,space:5,children:b.map(P=>c.jsx("div",{children:c.jsx(dRe,{change:P,"data-revert-all-changes-hover":p?"":void 0,readOnly:v||(P==null?void 0:P.readOnly),hidden:P==null?void 0:P.hidden},P.key)},P.key))}),D&&i&&!y&&(g==null?void 0:g.granted)&&c.jsx(vun,{content:c.jsxs(M,{children:["Are you sure you want to revert all ",b.length," changes?",c.jsxs(tn,{columns:2,gap:2,marginTop:2,children:[c.jsx(oe,{mode:"ghost",text:"Cancel",onClick:j}),c.jsx(oe,{tone:"critical",text:"Revert all",onClick:C})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:T,children:c.jsx(te,{children:c.jsx(oe,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:a8,onClick:_,onMouseEnter:S,onMouseLeave:E,disabled:v})})})]})})}function yun(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}var $ae=Object.freeze,bun=Object.defineProperty,hRe=(e,t)=>$ae(bun(e,"raw",{value:$ae(t||e.slice())})),Rae,Mae;const Fae=$.span(Rae||(Rae=hRe([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[1])}),Lae=$(L)(Mae||(Mae=hRe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function xun(e){const{segment:t}=e,{text:n}=t;return t.action==="added"?c.jsx(Li,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:Fae,children:c.jsx(Lae,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?c.jsx(Li,{annotation:t.annotation,as:Fae,disableHoverEffect:!0,tooltip:{description:"Removed"},children:c.jsx(Lae,{as:"del",children:n})}):c.jsx(Q,{as:"span",radius:2,style:{display:"inline"},children:n})}function wun(e){const{diff:t}=e;return c.jsx(c.Fragment,{children:(t.segments||[]).map((n,r)=>c.jsx(xun,{segment:n},r))})}var Bae=Object.freeze,Cun=Object.defineProperty,_un=(e,t)=>Bae(Cun(e,"raw",{value:Bae(t||e.slice())})),Nae;const D$=$(L)(Nae||(Nae=_un([`
  color: inherit;
`])));function $L(e){const{title:t,action:n,icon:r,children:o,markRemoved:i}=e;return c.jsxs(U,{padding:2,align:"center",children:[r&&c.jsx(M,{padding:2,children:c.jsx(D$,{size:4,forwardedAs:i?"del":"div",children:h.createElement(r)})}),c.jsxs(te,{space:2,paddingLeft:2,children:[c.jsx(D$,{size:1,weight:"semibold",forwardedAs:i?"del":"h3",textOverflow:"ellipsis",children:t}),n&&c.jsx("div",{children:n}),c.jsx(D$,{size:0,textOverflow:"ellipsis",children:o})]})]})}var zae=Object.freeze,Sun=Object.defineProperty,Eun=(e,t)=>zae(Sun(e,"raw",{value:zae(t||e.slice())})),Vae;$.div(Vae||(Vae=Eun([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const pRe=h.createContext(null);function kun(e){const t=h.useMemo(()=>({value:e.value}),[e.value]);return c.jsx(pRe.Provider,{value:t,children:e.children})}function $V(e){const t=qc(e),n=h.useContext(pRe);if(!n)throw new Error("useFormValue must be used within a FormValueProvider");return nl(n==null?void 0:n.value,t)}const mRe=h.createContext(null);function jun(e){const t=h.useRef(e.value);t.current=e.value;const n=h.useCallback(r=>nl(t.current,r),[t]);return c.jsx(mRe.Provider,{value:n,children:e.children})}function Tun(){const e=h.useContext(mRe);if(!e)throw new Error("useFormValue must be used within a FormValueProvider");return e}const gRe=h.createContext(null),Aun={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function RV(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=h.useCallback(u=>{const d=o(u);i(d)},[o,i]),l=ne.useCallback(()=>{a(t.of[0])},[t,a]);return n?c.jsx(it,{portal:!0,content:c.jsx(M,{padding:2,sizing:"border",children:c.jsx(L,{size:1,children:"This field is read-only"})}),children:c.jsx(tn,{children:c.jsx(oe,{icon:Ro,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):c.jsxs(tn,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?c.jsx(oe,{icon:Ro,mode:"ghost",onClick:l,text:"Add item"}):c.jsx(rn,{button:c.jsx(oe,{icon:Ro,mode:"ghost",text:"Add item…"}),id:s||"",menu:c.jsx(zt,{children:t.of.map((u,d)=>{var f,p;const m=Qu(u)&&(u.to||[]).length===1&&u.to[0].icon,v=u.icon||((f=u.type)==null?void 0:f.icon)||m;return c.jsx(Ne,{text:u.title||((p=u.type)==null?void 0:p.name),onClick:()=>a(u),icon:v},d)})}),popover:Aun}),r]})}function Nd(){const e=h.useContext(gRe);if(!e)throw new Error("FormBuilder: missing context value");return e}var Hae=Object.freeze,Dun=Object.defineProperty,Pun=(e,t)=>Hae(Dun(e,"raw",{value:Hae(t||e.slice())})),Uae;const Iun=e=>e==="error"?c.jsx(Ca,{}):e==="warning"?c.jsx(zr,{}):c.jsx(Zm,{}),Oun=$(L)(e=>{let{theme:t}=e;return de(Uae||(Uae=Pun([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function vRe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:o}=Nd().__internal.components;return t.length===0&&n.length===0?null:c.jsxs(te,{space:1,children:[n.length>0&&n.map((i,s)=>{let{message:a,level:l}=i;return c.jsxs(U,{children:[c.jsx(M,{marginRight:2,marginBottom:s+1===n.length?0:2,children:c.jsx(Oun,{size:1,"data-error":l==="error"?"":void 0,"data-warning":l==="warning"?"":void 0,"data-info":l==="info"?"":void 0,children:Iun(l)})}),c.jsx(M,{children:c.jsx(L,{size:1,children:a||"Error"})})]},"validationItem-".concat(s))}),t.length>0&&c.jsxs(M,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&c.jsx(o,{markers:t})]})]})}function $un(){return c.jsxs(L,{size:1,children:["This is a example custom marker, please implement ",c.jsx("code",{children:"renderCustomMarkers"})," function."]})}const MV=ne.createContext(null),v_=h.memo(function(t){const n=h.useRef(t);n.current=t;const r=h.useCallback(p=>{var m,v,g;return(g=(v=(m=n.current)==null?void 0:m.transformPatches)==null?void 0:v.call(m,p))!=null?g:[]},[n]),o=h.useCallback(p=>{n.current.onChange(p)},[]),i=h.useCallback(p=>{n.current.onPathFocus(p)},[]),s=h.useCallback(p=>{n.current.onPathBlur(p)},[]),a=h.useCallback(p=>{n.current.onPathOpen(p)},[]),l=h.useCallback((p,m)=>{n.current.onSetPathCollapsed(p,m)},[]),u=h.useCallback((p,m)=>{n.current.onSetFieldSetCollapsed(p,m)},[]),d=h.useCallback((p,m)=>{n.current.onFieldGroupSelect(p,m)},[]),f=h.useMemo(()=>({transformPatches:r,onChange:o,onPathFocus:i,onPathBlur:s,onPathOpen:a,onSetPathCollapsed:l,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[o,d,s,i,a,u,l,r]);return c.jsx(MV.Provider,{value:f,children:t.children})});function yl(){const e=h.useContext(MV);if(!e)throw new Error("Form context not provided");return e}function FV(e,t){return RL(e,t,new WeakSet)}function RL(e,t,n){if(e===t)return e;if(n.has(t)||e==null||t==null||typeof e!==typeof t)return t;if(Array.isArray(t)){n.add(t);let i=e.length===t.length;const s=[];for(let a=0;a<t.length;a++){const l=RL(e[a],t[a],n);l!==e[a]&&(i=!1),s[a]=l}return n.delete(t),i?e:s}if(typeof t=="object"){n.add(t);const i=Object.keys(t);let s=Object.keys(e).length===i.length;const a={};for(const l of i){const u=RL(e[l],t[l],n);u!==e[l]&&(s=!1),a[l]=u}return n.delete(t),s?e:a}return t}const yRe=h.createContext([]);function Run(e){return c.jsx(yRe.Provider,{value:e.presence,children:e.children})}function Mun(){const e=h.useContext(yRe);if(!e)throw new Error("Form context not provided");return e}function G1(e,t){const n=Mun(),r=h.useRef(n),o=FV(r.current,n.filter(i=>Ii(e,i.path)&&(t||!Cn(e,i.path))));return r.current=o,o}const bRe=h.createContext([]);function Fun(e){return c.jsx(bRe.Provider,{value:e.validation,children:e.children})}function Lun(){const e=h.useContext(bRe);if(!e)throw new Error("Form context not provided");return e}function LV(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Lun();return h.useMemo(()=>n.filter(r=>Ii(e,r.path)&&(t||!Cn(e,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[t,e,n])}function Bun(e){const{action:t}=e,n=h.useCallback(()=>{t.onAction()},[t]),r=typeof t.disabled=="object"&&c.jsx(L,{size:1,children:t.disabled.reason});return c.jsx(h_,{content:r,placement:"left",children:c.jsx(Ne,{disabled:!!t.disabled,fontSize:1,icon:t.icon,iconRight:t.iconRight||(t.selected?fa:void 0),onClick:n,padding:3,pressed:t.selected,space:3,text:t.title,tone:t.tone})})}const Nun={placement:"right",fallbackPlacements:["top","bottom"]};function zun(e){const{group:t}=e;return t.expanded?c.jsxs(c.Fragment,{children:[c.jsx(M,{padding:2,paddingBottom:1,children:c.jsx(Ut,{muted:!0,size:0,children:t.title})}),t.children.map((n,r)=>{var o;return c.jsx(ML,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})]}):c.jsx(r7,{fontSize:1,icon:t.icon,padding:3,popover:Nun,space:3,text:t.title,tone:t.tone,children:t.children.map((n,r)=>{var o;return c.jsx(ML,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})})}function ML(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?c.jsx(Mr,{}):t.type==="group"?c.jsxs(c.Fragment,{children:[!n&&c.jsx(Mr,{}),c.jsx(zun,{group:t})]}):c.jsxs(c.Fragment,{children:[r&&c.jsx(Mr,{}),c.jsx(Bun,{action:t})]})}const xRe={placement:"top"};function Wae(e){return"renderAsButton"in e&&e.renderAsButton}const Vun=h.memo(function(t){const{nodes:n,onMenuOpenChange:r}=t,[o,i]=h.useState(!1),s=h.useCallback(()=>{r(!0),i(!0)},[r]),a=h.useCallback(()=>{r(!1),i(!1)},[r]),l=h.useMemo(()=>n.filter(Wae),[n]),u=h.useMemo(()=>n.filter(p=>!Wae(p)),[n]),d=h.useMemo(()=>{const p=u.length;if(p===0||p>1)return u;const m=u[0];return m.type==="group"?[{...m,expanded:!0}]:u},[u]),f=h.useMemo(()=>[...d.length?[{type:"group",children:d,icon:Fo,title:"Field actions"}]:[],...l],[l,d]);return c.jsx(c.Fragment,{children:f.map((p,m)=>c.jsx(Hun,{node:p,onOpen:s,onClose:a,open:o},m))})}),Hun=h.memo(function(t){const{node:n,onOpen:r,onClose:o,open:i}=t;return n.type==="divider"?c.jsx(Q,{borderLeft:!0,flex:"none"}):n.type==="action"?c.jsx(Uh,{fontSize:1,icon:n.icon,label:i?void 0:n.title,mode:"bleed",onClick:n.onAction,padding:2,tooltip:xRe}):c.jsx(Wun,{node:n,onOpen:r,onClose:o,open:i})}),Uun={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function Wun(e){const{node:t,onOpen:n,onClose:r,open:o}=e;return c.jsx(rn,{button:c.jsx(Uh,{fontSize:1,icon:t.icon,label:o?void 0:t.title,mode:"bleed",padding:2,tooltip:xRe}),id:h.useId(),menu:c.jsx(zt,{children:t.children.map((i,s)=>{var a;return c.jsx(ML,{action:i,isFirst:s===0,prevIsGroup:((a=t.children[s-1])==null?void 0:a.type)==="group"},s)})}),onOpen:n,onClose:r,popover:Uun})}function wRe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:wRe(t.children)}:t)}const y_=h.memo(function(t){const{actions:n,documentId:r,documentType:o,onActions:i,path:s,schemaType:a}=t,l=n.length,u=h.useRef(l),[d,f]=h.useState(()=>Array.from(new Array(l))),p=h.useRef(d),m=h.useCallback((v,g)=>{f(y=>{const x=[...y];return x[v]=g,x})},[]);return h.useEffect(()=>{p.current!==d&&(p.current=d,i(wRe(d)))},[d,i]),h.useEffect(()=>{if(u.current!==l){const v=Array.from(new Array(l));for(let g=0;g<l;g++)v[g]=p.current[g];u.current=l,f(v),p.current=v}},[l]),c.jsx(c.Fragment,{children:n.map((v,g)=>c.jsx(Yun,{action:v,index:g,documentId:r,documentType:o,path:s,schemaType:a,setFieldAction:m},g))})}),Yun=h.memo(function(t){const{action:n,documentId:r,documentType:o,index:i,path:s,schemaType:a,setFieldAction:l}=t,u=si(n.useAction({documentId:r,documentType:o,path:s,schemaType:a}));return h.useEffect(()=>{l(i,u)},[i,u,l]),null}),CRe=h.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function Yae(){return h.useContext(CRe)}const _Re=h.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function b_(e){const{actions:t,children:n,path:r,focused:o}=e,{onMouseEnter:i,onMouseLeave:s}=Yae(),a=Yae().hoveredStack[0],l=Bm||(a?Sn(r)===a:!1),u=h.useCallback(()=>{i(r)},[i,r]),d=h.useCallback(()=>{s(r)},[s,r]),f=h.useMemo(()=>({actions:t,focused:o,hovered:l,onMouseEnter:u,onMouseLeave:d}),[t,o,u,d,l]);return c.jsx(_Re.Provider,{value:f,children:n})}function BV(){return h.useContext(_Re)}function qun(e){const{children:t}=e,[n,r]=h.useState([]),o=h.useCallback(a=>{const l=Sn(a);r(u=>u.includes(l)?u:[l,...u])},[]),i=h.useCallback(a=>{const l=Sn(a);r(u=>u.includes(l)?u.filter(d=>d!==l):u)},[]),s=h.useMemo(()=>({hoveredStack:n,onMouseEnter:o,onMouseLeave:i}),[o,i,n]);return c.jsx(CRe.Provider,{value:s,children:t})}const SRe=h.createContext(null);function Gun(e){const t=h.useMemo(()=>({id:e.id}),[e.id]);return c.jsx(SRe.Provider,{value:t,children:e.children})}function Kun(){const e=h.useContext(SRe);if(!e)throw new Error("useDocumentId must be used within a DocumentIdProvider");return e.id}function pP(){return Fn(Kun())}const Zun={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function Xun(e){const{__internal_fieldActions:t=hn,__internal_patchChannel:n=Zun,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,file:l,filterField:u,focusPath:d,focused:f,groups:p,id:m,image:v,onChange:g,onFieldGroupSelect:y,onPathBlur:x,onPathFocus:b,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:_,presence:S,readOnly:E,renderAnnotation:j,renderBlock:k,renderField:T,renderInlineBlock:A,renderInput:D,renderItem:P,renderPreview:I,schemaType:R,unstable:O,validation:V}=e,B=h.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:RV,CustomMarkers:(O==null?void 0:O.CustomMarkers)||$un,Markers:(O==null?void 0:O.Markers)||vRe},field:{actions:t},file:{assetSources:l.assetSources,directUploads:(l==null?void 0:l.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:v.assetSources,directUploads:(v==null?void 0:v.directUploads)!==!1},onChange:g}),[t,l.assetSources,l==null?void 0:l.directUploads,u,v.assetSources,v==null?void 0:v.directUploads,g,n,O==null?void 0:O.CustomMarkers,O==null?void 0:O.Markers]),H=h.useMemo(()=>({__internal:B,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:d,focused:f,groups:p,id:m,readOnly:E,renderAnnotation:j,renderBlock:k,renderField:T,renderInlineBlock:A,renderInput:D,renderItem:P,renderPreview:I,schemaType:R}),[B,r,o,s,a,d,f,p,m,E,j,k,T,A,D,P,I,R]);return c.jsx(gRe.Provider,{value:H,children:c.jsx(v_,{onChange:g,onFieldGroupSelect:y,onPathBlur:x,onPathFocus:b,onPathOpen:w,onSetPathCollapsed:_,onSetFieldSetCollapsed:C,children:c.jsx(Gun,{id:m,children:c.jsx(Run,{presence:S,children:c.jsx(Fun,{validation:V,children:c.jsx(qun,{children:i})})})})})})}function Qun(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,focusPath:l,focused:u,groups:d,id:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetPathCollapsed:x,onSetFieldSetCollapsed:b,presence:w,readOnly:C,schemaType:_,validation:S}=e,{file:E,image:j}=Nn().form,k=jFe(),T=TFe(),A=mH(),D=AFe(),P=DFe(),I=PFe(),R=IFe(),O=h.useCallback(ee=>c.jsx(k,{...ee}),[k]),V=h.useCallback(ee=>c.jsx(T,{...ee}),[T]),B=h.useCallback(ee=>c.jsx(D,{...ee}),[D]),H=h.useCallback(ee=>c.jsx(pV,{component:A,...ee}),[A]),W=h.useCallback(ee=>c.jsx(P,{...ee}),[P]),z=h.useCallback(ee=>c.jsx(I,{...ee}),[I]),G=h.useCallback(ee=>c.jsx(R,{...ee}),[R]);return c.jsx(Xun,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,file:E,focusPath:l,focused:u,groups:d,id:f,image:j,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetPathCollapsed:x,onSetFieldSetCollapsed:b,presence:w,readOnly:C,renderAnnotation:G,renderBlock:W,renderField:V,renderInlineBlock:z,renderInput:O,renderItem:B,renderPreview:H,schemaType:_,validation:S,children:i})}const ERe=h.createContext(null);function Jun(e){const t=h.useMemo(()=>({actions:e.actions||hn}),[e.actions]);return c.jsx(ERe.Provider,{value:t,children:e.children})}function mP(){const e=ne.useContext(ERe);if(!e)throw new Error("useDocumentFieldActions must be used within a DocumentFieldActionsProvider");return e.actions}function edn(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:l,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetFieldSetCollapsed:x,onSetPathCollapsed:b,presence:w,readOnly:C,schemaType:_,validation:S,value:E}=e,j=h.useCallback(ae=>b([ae],!0),[b]),k=h.useCallback(ae=>b([ae],!1),[b]),T=h.useCallback(()=>m(hn),[m]),A=h.useCallback(()=>v(hn),[v]),D=h.useCallback(ae=>p(dt.from(ae)),[p]),P=h.useRef(null),I=h.useCallback(ae=>y(hn,ae),[y]),R=h.useCallback(ae=>g([ae]),[g]),O=h.useCallback(()=>g([]),[g]),V=h.useCallback(ae=>x([ae],!0),[x]),B=h.useCallback(ae=>x([ae],!1),[x]),H=jFe(),W=TFe(),z=mH(),G=AFe(),ee=DFe(),N=PFe(),Y=IFe(),q=h.useCallback(ae=>c.jsx(H,{...ae}),[H]),Z=h.useCallback(ae=>c.jsx(W,{...ae}),[W]),ie=h.useCallback(ae=>c.jsx(G,{...ae}),[G]),re=h.useCallback(ae=>c.jsx(pV,{component:z,...ae}),[z]),K=h.useCallback(ae=>c.jsx(ee,{...ae}),[ee]),X=h.useCallback(ae=>c.jsx(N,{...ae}),[N]),ce=h.useCallback(ae=>c.jsx(Y,{...ae}),[Y]),me={focusPath:a,elementProps:{ref:P,id:d,onBlur:T,onFocus:A,"aria-describedby":void 0},changed:f.some(ae=>ae.kind==="field"&&ae.field.changed),focused:l,groups:u,id:d,level:0,members:f,onChange:D,onFieldClose:O,onFieldCollapse:j,onFieldSetCollapse:V,onFieldExpand:k,onFieldSetExpand:B,onPathFocus:v,onFieldOpen:R,onFieldGroupSelect:I,path:hn,presence:hn,readOnly:C,renderAnnotation:ce,renderBlock:K,renderField:Z,renderInlineBlock:X,renderInput:q,renderItem:ie,renderPreview:re,schemaType:_,validation:hn,value:E};return c.jsx(Qun,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:l,groups:u,id:d,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetPathCollapsed:b,onSetFieldSetCollapsed:x,presence:w,validation:S,readOnly:C,schemaType:_,children:c.jsx(jun,{value:E,children:c.jsx(kun,{value:E,children:c.jsx(Jun,{actions:t,children:q(me)})})})})}const kRe=h.createContext({});function jRe(){return h.useContext(kRe)}function tdn(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}=e,s=h.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}),[n,r,o,i]);return c.jsx(kRe.Provider,{value:s,children:t})}h.createContext(null);function gP(e,t){return Gi(t,h.useCallback((n,r)=>{e.current&&!n&&r&&V0(e.current,{scrollMode:"always"})},[e]))}function ndn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return VB(t),t}const rdn=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function Hw(e){const t=rdn();return ndn(e).reduce((n,r)=>n+t[r],"").slice(0,e)}var qae=Object.freeze,odn=Object.defineProperty,TRe=(e,t)=>qae(odn(e,"raw",{value:qae(t||e.slice())})),Gae,Kae;const idn={portal:!0},sdn=$(Q)(e=>{let{theme:t,$selected:n}=e;var r;const{color:o}=t.sanity;return de(Gae||(Gae=TRe([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=o.selectable)==null?void 0:r.default.pressed.border:void 0)}),adn=$(M)(Kae||(Kae=TRe([`
  max-width: 150px;
`]))),Zae=e=>{if(e.length===1)return"".concat(e[0].user.displayName," is editing this document");if(e.length>1)return"".concat(e.length," people are editing this document right now")};function NV(e){const{presence:t}=e,{color:n}=cxe().sanity,r=n.dark?"light":"dark",{selected:o}=Dnn(),i=h.useMemo(()=>Array.from(new Set(t.map(a=>a.user.id))).map(a=>t.find(l=>l.user.id===a)).filter(_o),[t]),s=h.useMemo(()=>c.jsx(adn,{padding:2,children:c.jsx(L,{align:"center",size:1,children:Zae(i)})}),[i]);return c.jsx(it,{content:s,...idn,children:c.jsx(sdn,{scheme:o?r:void 0,$selected:o,children:c.jsx(cA,{maxLength:2,"aria-label":Zae(i),children:i.map(a=>c.jsx(ll,{user:a.user},a.user.id))})})})}const ldn=3,ARe=3,Nj=-4,Uw=23,Xae=4,cdn=[0,.25,.75,1],gS=23,udn=8,ddn=8,DRe=20,PRe=20,P$=!1,fdn=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function hdn(e){return-Nj+(Uw+Nj)*e}var Qae=Object.freeze,pdn=Object.defineProperty,IRe=(e,t)=>Qae(pdn(e,"raw",{value:Qae(t||e.slice())})),Jae,ele;const ORe=$(U)(Jae||(Jae=IRe([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),mdn=$(U)(ele||(ele=IRe([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),gdn=ne.createContext([]);function vdn(e){const{children:t,items:n}=e,r=h.useMemo(()=>c.jsx(te,{padding:1,sizing:"border",children:n.map(o=>c.jsxs(U,{align:"center",gap:2,padding:1,children:[c.jsx("div",{children:c.jsx(ll,{user:o.user,status:"online"})}),c.jsx(L,{size:1,children:o.user.displayName})]},o.user.id))}),[n]);return c.jsx(it,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const{Tracker:ydn,useReporter:bdn,useReportedValues:xdn}=X3e(),$Re=h.memo(function(t){let{presence:n,position:r="inside",animateArrowFrom:o="inside",maxAvatars:i=ARe,stack:s=!0}=t;const a=mh(n||[],p=>p.user.id),l=ug(a,p=>p.lastActiveAt),[u,d]=s?fdn(l,i):[[],l],f=[...d.reverse().map(p=>({key:p.user.id,element:c.jsx(ll,{animateArrowFrom:o,position:r,status:"online",user:p.user})})),u.length>=2?{key:"counter",element:c.jsx(eF,{count:u.length})}:null].filter(Boolean);return c.jsxs(ORe,{children:[c.jsx("div",{}),c.jsx(mdn,{direction:"row-reverse",children:f.map((p,m)=>p&&c.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-m*(Uw+Nj),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-m},children:p.element},p.key))})]})});function wdn(e){const t=h.useContext(gdn),{presence:n=t,maxAvatars:r=ARe}=e,o=h.useRef(null);bdn(h.useId(),()=>({presence:n,element:o.current,maxAvatars:r}));const i=h.useMemo(()=>mh(n||[],s=>s.user.id),[n]);return c.jsx(vdn,{items:i,children:c.jsx(ORe,{ref:o,style:{minHeight:Uw,minWidth:Uw}})})}const x_=wdn,Cdn=e=>{const t=new kr,n=new IntersectionObserver(r=>{r.forEach(o=>{t.next(o)})},e);return{observe:r=>new mt(o=>{const i=t.pipe(pt(s=>s.target===r)).subscribe(o);return n.observe(r),()=>{i.unsubscribe(),n.unobserve(r)}})}},zV=e=>{const{onIntersection:t,io:n,id:r,...o}=e,i=ne.useRef(null);return ne.useEffect(()=>{const s=i.current;if(!s)return;const a=n.observe(s).pipe(_n(l=>t(r,l))).subscribe();return()=>a.unsubscribe()},[n,r,t]),c.jsx("div",{ref:i,...o})};var tle=Object.freeze,_dn=Object.defineProperty,zm=(e,t)=>tle(_dn(e,"raw",{value:tle(t||e.slice())})),nle,rle,ole,ile,sle,ale,lle;const Sdn=$.div(nle||(nle=zm([`
  position: relative;
`]))),Edn=$.div(rle||(rle=zm([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),VV=de(ole||(ole=zm([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),kdn=$(zV)(e=>{let{$debug:t,margins:n}=e;return de(ile||(ile=zm([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),VV,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),jdn=$(zV)(e=>{let{$debug:t}=e;return de(ale||(ale=zm([`
    `,`

    visibility: none;

    `,`
  `])),VV,t&&de(sle||(sle=zm([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),Tdn=$(zV)(e=>{let{$debug:t}=e;return de(lle||(lle=zm([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),VV,t?"blue":"transparent")}),Adn=e=>"".concat(e,"px"),Ddn=e=>0-e,Pdn=h.forwardRef(function(t,n){const{regions:r,render:o,children:i,margins:s}=t,a=h.useRef(null),l=h.useMemo(()=>s,[JSON.stringify(s)]),u=h.useMemo(()=>Cdn({rootMargin:l.map(Ddn).map(Adn).join(" "),threshold:cdn}),[l]),[d,f]=h.useState({}),p=h.useCallback((y,x)=>{f(b=>({...b,[y]:x}))},[]),m=d["::top"],v=d["::bottom"],g=h.useMemo(()=>m&&v?r.filter(y=>{var x;return((x=y.presence)==null?void 0:x.length)>0}).map(y=>{const x=d[y.id];if(!x)return null;const{bottom:b,top:w}=x.boundingClientRect,C=x.boundingClientRect.top<m.boundingClientRect.bottom,_=x.boundingClientRect.top<v.boundingClientRect.top,S=x.isIntersecting?w-(x.intersectionRect.top-gS):C?-m.boundingClientRect.bottom:v.boundingClientRect.top,E=x.isIntersecting?-(b-(x.intersectionRect.bottom+gS)):_?v.boundingClientRect.top:-m.boundingClientRect.bottom,j=S<=udn?"top":E<=ddn?"bottom":"inside";return{distanceTop:S,distanceBottom:E,region:y,position:j}}).filter(Boolean):[],[v,d,r,m]);return c.jsxs(Sdn,{ref:n,children:[c.jsx(kdn,{$debug:P$,io:u,id:"::top",onIntersection:p,margins:l}),c.jsx("div",{children:i}),c.jsx(Edn,{ref:a,children:a.current&&o(g,a.current.offsetWidth)}),r.map(y=>{const x=y.rect.width===0;return c.jsx(jdn,{$debug:P$,io:u,onIntersection:p,id:y.id,style:{width:x?1:y.rect.width,left:y.rect.left-(x?1:0),top:y.rect.top-gS,height:y.rect.height+gS*2}},y.id)}),c.jsx(Tdn,{$debug:P$,id:"::bottom",io:u,onIntersection:p})]})}),RRe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},Idn=e=>e.top+e.height;function Odn(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,s=i?Idn(i):0;return{...t,spacerHeight:t.region.rect.top-s}})}const vS=e=>F1(e,t=>t.region.rect.top),$dn=(e,t)=>e+t,cle=e=>e.reduce($dn,0);function Rdn(e){const t=Odn(vS(e)),n={top:[],inside:[],bottom:[],...BN(t,r=>r.position)};return{top:vS(n.top).map((r,o,i)=>({...r,indent:i.slice(o+1).reduce((s,a)=>s+a.region.rect.width,0)})),inside:vS(n.inside).map(r=>({...r,indent:0})),bottom:vS(n.bottom).map((r,o,i)=>({...r,indent:i.slice(0,o).reduce((s,a)=>s+a.region.rect.width,0)}))}}const ule=e=>{let{height:t,...n}=e;return c.jsx("div",{style:{height:Math.max(0,t),...n==null?void 0:n.style}})},Mdn=[0,0,0,0],Fdn=(e,t)=>{let n=e,r=-n.scrollTop,o=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,o+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:o}};function Ldn(e,t){return{...Fdn(e,t),width:e.offsetWidth,height:e.offsetHeight}}function Bdn(e,t){return e.map(n=>{let[r,o]=n;return{...o,id:r,rect:Ldn(o.element,t)}})}function Ndn(e){const{children:t,margins:n=Mdn}=e,r=xdn(),o=ne.useRef(null),i=ne.useMemo(()=>o.current?Bdn(r,o.current):FL,[r]),s=ne.useCallback((a,l)=>{const u=Rdn(a.filter(m=>m.region.presence.length>0)),d=cle(u.top.map(m=>m.region.rect.height+m.spacerHeight)),f=cle([...u.inside,...u.bottom].map(m=>m.region.rect.height+m.spacerHeight)),p=u.inside.reduce((m,v)=>{const{distanceTop:g,distanceBottom:y}=v,x=g<=DRe,b=y<=PRe;return{nearTop:m.nearTop+(x?v.region.presence.length:0),nearBottom:m.nearBottom+(b?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return c.jsxs(c.Fragment,{children:[c.jsx(dle,{closeCount:p.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),c.jsx(ule,{height:d}),c.jsx(zdn,{containerWidth:l,regionsWithIntersectionDetails:u.inside}),c.jsx(ule,{height:f}),c.jsx(dle,{closeCount:p.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return c.jsx(Pdn,{ref:o,margins:n,regions:i,render:s,children:t})}const FL=[],dle=h.memo(function(t){const{closeCount:n,margins:r,position:o,regionsWithIntersectionDetails:i}=t,s=o==="top"?1:-1,a=h.useMemo(()=>i.length?$n(ug(i,g=>g.region.rect.top*s).map(g=>g.region.presence||FL)):FL,[s,i]),[l,u,d,f]=r,p=(f||0)+(a.length>0?-n*(Uw+Nj):0)-u,m=o==="top"?l:d,v=h.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...RRe,transform:"translate3d(".concat(p,"px, 0px, 0px)"),top:Xae+1+m,bottom:Xae+1+m}),[p,m]);return c.jsx("div",{"data-dock":o,style:v,children:c.jsx($Re,{position:o,maxAvatars:ldn,presence:a})},"sticky-".concat(o))});function zdn(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return c.jsx(c.Fragment,{children:t.map(r=>{const o=r.region.rect.left,{distanceTop:i,distanceBottom:s}=r,a=i<=DRe,l=s<=PRe,u=n-o-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return c.jsx(ne.Fragment,{children:c.jsx("div",{style:{zIndex:2,position:"absolute",...RRe,left:o,transform:"translate3d(".concat(a||l?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:c.jsx(Hdn,{value:()=>"⤒".concat(i," | ").concat(s,"⤓"),children:c.jsx($Re,{stack:!a&&!l,position:a?"top":l?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const Vdn=e=>e.children,Hdn=Vdn,Udn=[0,0,0,0];function Wdn(e){let{children:t,margins:n}=e;return c.jsx(ydn,{children:c.jsx(Ndn,{margins:n||Udn,children:t})})}const w_=Wdn;var fle=Object.freeze,Ydn=Object.defineProperty,K1=(e,t)=>fle(Ydn(e,"raw",{value:fle(t||e.slice())})),hle,ple,mle,gle,vle,yle;const qdn={open:500},Gdn=$(U)(hle||(hle=K1([`
  /* Prevent buttons from taking up extra vertical space */
  line-height: 1;
  /* For floating actions menu */
  position: relative;
`]))),Kdn=$(M)(e=>{let{theme:t,$right:n}=e;const{space:r}=t.sanity;return de(ple||(ple=K1([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),n+r[1])}),Zdn=$(M)(e=>{let{theme:t,$presenceMaxWidth:n}=e;const{space:r}=t.sanity;return de(mle||(mle=K1([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),n+r[1])}),Xdn=$(M)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e;const{space:o}=t.sanity,i=r?n+o[1]:n;return de(gle||(gle=K1([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),i)}),Qdn=$(Q)(e=>{let{theme:t}=e;const n=t.sanity.space[1]/2;return de(vle||(vle=K1([`
    align-items: center;
    bottom: 0;
    gap: `,`px;
    padding: `,`px;
    position: absolute;
    right: 0;

    @media (hover: hover) {
      // If hover is supported, we hide the floating card by default
      // and only show it when it has focus within or when the field is hovered or focused.
      opacity: 0;
      pointer-events: none;

      [data-ui='FieldActionsFlex'] {
        opacity: 0;
        width: 0;
      }

      &[data-actions-visible='false']:not(:focus-within) {
        // Remove the shadow when the field actions are not visible
        box-shadow: none;

        // Since the field actions always will be present in the DOM (to make them focusable) –
        // they will always affect the width of the floating card, even when they are not visible.
        // Therefore, we remove the background of the floating card when the field actions are not visible.
        background: transparent;
      }

      // Remove the shadow when the field has comments but no actions
      &[data-has-comments='true']:not([data-has-actions='true']) {
        box-shadow: none;
      }

      // Show the floating card when it has focus within (ie when field actions are focused).
      &:focus-within {
        opacity: 1;
        pointer-events: auto;
        width: max-content;

        [data-ui='FieldActionsFlex'] {
          opacity: 1;
          pointer-events: auto;
          width: max-content;
        }
      }
    }

    &[data-visible='true'] {
      opacity: 1;
      pointer-events: auto;
      width: max-content;
    }

    &[data-actions-visible='true'] {
      [data-ui='FieldActionsFlex'] {
        opacity: 1;
        pointer-events: auto;
        width: max-content;
      }
    }
  `])),n,n)}),Jdn=$(U)(yle||(yle=K1([`
  gap: inherit;
`]))),ble=4;function MRe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:o,fieldFocused:i,fieldHovered:s,presence:a}=e,[l,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState(0),[v,g]=h.useState(null),[y,x]=h.useState(0),{hasComments:b=!1,button:w=null,isAddingComment:C=!1}=t||{},_=r&&r.length>0,S=i||s||l||C,E=(t==null?void 0:t.button)||_,j=S||b,k=h.useCallback(()=>{if(d){const{width:P}=d.getBoundingClientRect();m(P||0)}},[d]),T=h.useCallback(k,[k]),A=h.useCallback(k,[k]);h.useEffect(()=>{k()},[k,S]),h.useEffect(()=>{if(v){const{width:P}=v.getBoundingClientRect();x(P||0)}},[v]);const D=h.useMemo(()=>n?c.jsx(Xdn,{$fieldActionsVisible:!!S,$right:p,ref:g,children:n}):null,[p,S,n]);return c.jsxs(Gdn,{align:"flex-end",children:[c.jsx(Zdn,{flex:1,paddingY:2,$presenceMaxWidth:hdn(ble),children:o}),a&&a.length>0&&c.jsx(Kdn,{flex:"none",paddingBottom:1,$right:p+y,children:c.jsx(x_,{maxAvatars:ble,presence:a})}),D,(E||b)&&c.jsx(USe,{delay:qdn,children:c.jsxs(Qdn,{"data-actions-visible":S?"true":"false","data-has-actions":_?"true":"false","data-has-comments":b?"true":"false","data-visible":j?"true":"false",display:"flex",onBlurCapture:A,onFocusCapture:T,radius:2,ref:f,shadow:2,sizing:"border",children:[_&&c.jsx(Jdn,{align:"center","data-ui":"FieldActionsFlex",children:c.jsx(Vun,{nodes:r,onMenuOpenChange:u})}),w]})})]})}function Yh(e,t){if(!(!t||!e))return"desc_".concat(e)}var xle=Object.freeze,efn=Object.defineProperty,tfn=(e,t)=>xle(efn(e,"raw",{value:xle(t||e.slice())})),wle;const nfn=[],f0={error:fe.red[500].hex,warning:fe.yellow[500].hex,info:fe.blue[500].hex},h0={error:c.jsx(Ca,{"data-testid":"input-validation-icon-error","aria-label":"Has error","aria-hidden":!0,role:"presentation"}),warning:c.jsx(zr,{"data-testid":"input-validation-icon-warning","aria-label":"Has warning","aria-hidden":!0,role:"presentation"}),info:c.jsx(Zm,{"data-testid":"input-validation-icon-info","aria-label":"Has information","aria-hidden":!0,role:"presentation"})},rfn=$(te)(wle||(wle=tfn([`
  max-width: 200px;
`])));function Z1(e){const{validation:t=nfn,__unstable_showSummary:n,fontSize:r,placement:o="top"}=e,i=t.filter(m=>m.level==="error"),s=t.filter(m=>m.level==="warning"),a=t.filter(m=>m.level==="info"),l=i.length>0,u=s.length>0,d=a.length>0,f=h.useMemo(()=>{if(l)return h0.error;if(u)return h0.warning;if(d)return h0.info},[l,d,u]),p=h.useMemo(()=>{if(l)return f0.error;if(u)return f0.warning;if(d)return f0.info},[l,d,u]);return c.jsx(it,{content:c.jsxs(rfn,{padding:3,space:3,children:[n&&c.jsx(ifn,{validation:t}),!n&&c.jsx(c.Fragment,{children:t.map((m,v)=>c.jsx(ofn,{validation:m},v))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:c.jsx("div",{children:c.jsx(L,{muted:!0,size:r,weight:"semibold",style:{color:p},children:f})})})}function ofn(e){const{validation:t}=e,n=h.useMemo(()=>{if(t.level==="error")return h0.error;if(t.level==="warning")return h0.warning;if(t.level==="info")return h0.info},[t]),r=h.useMemo(()=>{if(t.level==="error")return f0.error;if(t.level==="warning")return f0.warning;if(t.level==="info")return f0.info},[t]);return c.jsxs(U,{children:[c.jsx(M,{marginRight:2,children:c.jsx(L,{size:1,style:{color:r},children:n})}),c.jsx(M,{flex:1,children:c.jsx(L,{size:1,children:t.message})})]})}function ifn(e){let{validation:t}=e;const n=t.filter(m=>m.level==="error"),r=t.filter(m=>m.level==="warning"),o=n.length,i=r.length,s="error".concat(o===1?"":"s"),a="warning".concat(i===1?"":"s"),l=o&&"".concat(o," ").concat(s),u=i&&"".concat(i," ").concat(a),d=o>0,f=i>0,p=d&&f;return c.jsxs(L,{size:1,children:[l||"",p&&c.jsx(c.Fragment,{children:" and "}),u||""]})}const sfn=[],FRe=h.memo(function(t){const{description:n,inputId:r,title:o,validation:i=sfn}=t,s=i.length>0;return c.jsxs(te,{space:2,children:[c.jsxs(U,{children:[c.jsx(L,{as:"label",htmlFor:r,weight:"semibold",size:1,children:o||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),s&&c.jsx(M,{marginLeft:2,children:c.jsx(Z1,{fontSize:1,validation:i})})]}),n&&c.jsx(L,{muted:!0,size:1,id:Yh(r,n),children:n})]})}),Cle=[],X1=h.memo(function(t){const{__unstable_headerActions:n=Cle,__unstable_presence:r=Cle,__internal_slot:o=null,__internal_comments:i,children:s,description:a,inputId:l,level:u,title:d,validation:f,...p}=t,{focused:m,hovered:v,onMouseEnter:g,onMouseLeave:y}=BV();return c.jsxs(te,{...p,"data-level":u,onMouseEnter:g,onMouseLeave:y,space:1,children:[d&&c.jsx(MRe,{__internal_comments:i,__internal_slot:o,actions:n,fieldFocused:!!m,fieldHovered:v,presence:r,content:c.jsx(FRe,{description:a,inputId:l,title:d,validation:f})}),c.jsx("div",{children:s})]})});var _le=Object.freeze,afn=Object.defineProperty,HV=(e,t)=>_le(afn(e,"raw",{value:_le(t||e.slice())})),Sle,Ele,kle;const jle=$.legend(Sle||(Sle=HV([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),lfn=$(U).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:o}=t.sanity.color;return de(Ele||(Ele=HV([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),ge(r[1]),Qz({base:o,focusRing:n}))}),cfn=$(M)(kle||(kle=HV([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),ufn=h.memo(function(t){const{collapsed:n,collapsible:r,onClick:o,title:i}=t,s=c.jsx(L,{weight:"semibold",size:1,children:i||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?c.jsx(jle,{children:c.jsxs(lfn,{type:"button",onClick:o,children:[c.jsx(cfn,{children:c.jsx(L,{muted:!0,size:1,children:c.jsx(PT,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),s]})}):c.jsx(jle,{children:s})});var Tle=Object.freeze,dfn=Object.defineProperty,LRe=(e,t)=>Tle(dfn(e,"raw",{value:Tle(t||e.slice())})),Ale,Dle;function ffn(e){return typeof e=="function"?e():e}const hfn=$(M).attrs({forwardedAs:"fieldset"})(Ale||(Ale=LRe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),pfn=$(M)(e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r,radius:o}=n.sanity,{base:i}=n.sanity.color;return de(Dle||(Dle=LRe([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),t?"1px solid var(--card-border-color)":void 0,ge(o[1]),Qz({base:i,focusRing:{...r,offset:2}}))}),I$=[],vP=h.forwardRef(function(t,n){const{__internal_comments:r,__internal_slot:o=null,__unstable_headerActions:i=I$,__unstable_presence:s=I$,children:a,collapsed:l,collapsible:u,columns:d,description:f,level:p=0,onCollapse:m,onExpand:v,onFocus:g,tabIndex:y,title:x,validation:b=I$,inputId:w,...C}=t,{focused:_,hovered:S,onMouseEnter:E,onMouseLeave:j}=BV(),k=b.length>0,T=mr(n),A=h.useCallback(I=>{T.current===I.target&&g&&g(I)},[T,g]),D=h.useCallback(()=>l?v==null?void 0:v():m==null?void 0:m(),[l,m,v]),P=h.useMemo(()=>l?null:c.jsx(tn,{columns:d,gapX:4,gapY:5,children:ffn(a)}),[a,l,d]);return c.jsxs(hfn,{"data-level":p,...C,onMouseEnter:E,onMouseLeave:j,children:[c.jsx(MRe,{__internal_comments:r,__internal_slot:o,actions:i,fieldFocused:!!_,fieldHovered:S,presence:s,content:c.jsxs(te,{space:2,children:[c.jsxs(U,{children:[c.jsx(ufn,{collapsed:!!l,collapsible:u,onClick:u?D:void 0,title:x}),k&&c.jsx(M,{marginLeft:2,children:c.jsx(Z1,{fontSize:1,validation:b})})]}),f&&c.jsx(L,{muted:!0,size:1,id:Yh(w,f),children:f})]})}),c.jsx(pfn,{$borderLeft:p>0,hidden:l,marginTop:1,paddingLeft:p===0?0:3,onFocus:typeof y=="number"&&y>-1?A:void 0,ref:T,tabIndex:y,children:!l&&P})]})});var Ple=Object.freeze,mfn=Object.defineProperty,gfn=(e,t)=>Ple(mfn(e,"raw",{value:Ple(t||e.slice())})),Ile;const vfn=$.div(Ile||(Ile=gfn([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function yfn(e){let{children:t,maxAvatars:n,position:r="bottom"}=e;return c.jsx(vfn,{"data-max-avatars":n,"data-position":r,children:t})}var Ole=Object.freeze,bfn=Object.defineProperty,xfn=(e,t)=>Ole(bfn(e,"raw",{value:Ole(t||e.slice())})),$le;const wfn=$(oe)($le||($le=xfn([`
  cursor: `,`;
`])),e=>e.grid?"move":"ns-resize"),BRe=ne.createContext(null),NRe=function(t){const n=h.useContext(BRe),{listeners:r,attributes:o}=qPe({id:n});return c.jsx(wfn,{icon:Exe,mode:"bleed","data-ui":"DragHandleButton",...o,...t,...r})};function Cfn(e,t,n,r){const o={...e},i=r.y||0,s=r.x||0;return t.top+o.y<=n.top+i?o.y=n.top-t.top+i:t.bottom+o.y>=n.top+n.height-i&&(o.y=n.top+n.height-t.bottom-i),t.left+o.x<=n.left-s?o.x=n.left-t.left+s:t.right+o.x>=n.left+n.width+s&&(o.x=n.left+n.width-t.right+s),o}const _fn=e=>t=>{let{containerNodeRect:n,draggingNodeRect:r,transform:o}=t;return!r||!n?o:Cfn(o,r,n,e)};var Rle=Object.freeze,Sfn=Object.defineProperty,Mle=(e,t)=>Rle(Sfn(e,"raw",{value:Rle(t||e.slice())})),Fle,Lle;const UV="moving",zRe=$(M)(Lle||(Lle=Mle([`
  `,`
`])),e=>e.$moving&&de(Fle||(Fle=Mle([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),Efn={threshold:{x:0,y:.02}},kfn={coordinateGetter:RHt},jfn={duration:200,easing:"ease"};function Tfn(e){return e==="x"?FHt:LHt}function Afn(e){return e==="x"?CHt:SHt}const Dfn=h.memo(function(t){const{items:n,axis:r,onItemMove:o,onItemMoveStart:i,onItemMoveEnd:s,children:a,...l}=t,u=cVt(Tte(qN),Tte(WN,kfn)),d=h.useCallback(p=>{var m,v,g,y;const{active:x,over:b}=p;x.id!==(b==null?void 0:b.id)&&(o==null||o({fromIndex:(v=(m=x.data.current)==null?void 0:m.sortable)==null?void 0:v.index,toIndex:(y=(g=b==null?void 0:b.data.current)==null?void 0:g.sortable)==null?void 0:y.index})),s==null||s()},[o,s]),f=h.useMemo(()=>[_fn({y:4}),...r?[Tfn(r)]:[]],[r]);return c.jsx(dHt,{sensors:u,autoScroll:Efn,modifiers:f,collisionDetection:dVt,onDragEnd:d,onDragStart:i,children:c.jsx(kHt,{items:n,strategy:r?Afn(r):void 0,children:c.jsx(tn,{...l,children:a})})})}),Pfn=h.forwardRef(function(t,n){const{id:r,children:o,disableTransition:i}=t,{setNodeRef:s,transform:a,transition:l,active:u}=qPe({id:r,transition:i?null:jfn}),d=r===(u==null?void 0:u.id),f=h.useMemo(()=>({transform:Aw.Translate.toString(a),transition:l,pointerEvents:u?"none":void 0}),[a,l,u]),p=h.useCallback(m=>{s(m),typeof n=="function"?n(m):n&&(n.current=m)},[n,s]);return c.jsx(zRe,{ref:p,style:f,$moving:d,className:d?UV:"","data-index":t["data-index"],children:o})});function WV(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:o,...i}=e,s=h.useCallback(a=>{t==null||t(a)},[t]);return o?c.jsx(Dfn,{onItemMove:s,onItemMoveStart:r,onItemMoveEnd:n,...i}):c.jsx(tn,{...i})}const YV=h.forwardRef(function(t,n){const{sortable:r,...o}=t;return c.jsx(BRe.Provider,{value:t.id,children:r?c.jsx(Pfn,{ref:n,...o}):c.jsx(zRe,{ref:n,...o})})});var Ble=Object.freeze,Ifn=Object.defineProperty,Ofn=(e,t)=>Ble(Ifn(e,"raw",{value:Ble(t||e.slice())})),Nle;const $fn=$(Q)(Nle||(Nle=Ofn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),UV);function yP(e){const{validation:t,selected:n,tone:r,presence:o,focused:i,children:s,dragHandle:a,menu:l,footer:u}=e,d=h.useRef(null);return Gi(i,(f,p)=>{var m;!f&&p&&((m=d.current)==null||m.focus())}),c.jsx($fn,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:c.jsxs(te,{space:1,children:[c.jsxs(U,{align:"center",children:[a&&c.jsx(M,{marginRight:1,paddingY:1,children:c.jsx(NRe,{paddingX:1,paddingY:3})}),c.jsx(M,{flex:1,children:s}),(o||t||l)&&c.jsxs(U,{align:"center",marginLeft:1,children:[o&&c.jsx(M,{marginLeft:1,children:o}),t&&c.jsx(M,{marginLeft:1,children:t}),l]})]}),u]})})}var zle=Object.freeze,Rfn=Object.defineProperty,bP=(e,t)=>zle(Rfn(e,"raw",{value:zle(t||e.slice())})),Vle,Hle,Ule,Wle;const Mfn=$.button(Vle||(Vle=bP([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),Ffn=$(PT)(Hle||(Hle=bP([`
  transform: `,`;
`])),e=>e.open?"rotate(90deg)":""),Lfn=$(U)(Ule||(Ule=bP([`
  cursor: default;
`]))),Bfn=$(M)(Wle||(Wle=bP([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function Sg(e){const{children:t,open:n,icon:r,title:o="Details",...i}=e,[s,a]=h.useState(n||!1),l=h.useCallback(()=>a(u=>!u),[]);return h.useEffect(()=>a(n||!1),[n]),c.jsxs(M,{...i,children:[c.jsx(Mfn,{type:"button",onClick:l,children:c.jsx(Lfn,{align:"center",children:c.jsxs(Zt,{children:[c.jsx(Bfn,{"data-open":s?"":void 0,children:c.jsx(L,{size:1,children:c.jsx(Ffn,{open:s})})}),r&&c.jsx(M,{marginLeft:1,children:r}),c.jsx(M,{flex:1,marginLeft:1,children:c.jsx(L,{size:1,weight:"medium",children:o})})]})})}),c.jsx(M,{hidden:!s,marginTop:3,children:t})]})}const Nfn={warning:"caution",error:"critical",info:"positive"},zfn={warning:c.jsx(zr,{}),error:c.jsx(Ca,{}),info:c.jsx(Zm,{})};function Zf(e){const{children:t,status:n="warning",title:r,...o}=e;return c.jsx(Q,{radius:2,tone:Nfn[n],...o,"data-ui":"Alert",children:c.jsx(U,{padding:1,children:t&&c.jsx(M,{flex:1,children:c.jsx(Sg,{icon:zfn[n],title:r,children:c.jsx(M,{marginLeft:3,marginTop:3,children:t})})})})})}function qV(e){if(ul(e))return e.name==="object"?{}:{_type:e.name};if(tc(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function Q1(e){if(!ul(e))throw new Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...qV(e),_key:qC(12)}}const Vfn={portal:!0,tone:"default",placement:"left",constrainSize:!0},xP=h.memo(function(t){const{types:n,onInsert:r}=t;return c.jsxs(c.Fragment,{children:[c.jsx(Yle,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:Dxe}),c.jsx(Yle,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:Pxe})]})});function Yle(e){const{types:t,onInsert:n,pos:r,text:o,icon:i}=e;return(t==null?void 0:t.length)===1?c.jsx(Ne,{text:o,icon:i,onClick:()=>n(r,t[0])},r):c.jsx(r7,{text:o,popover:Vfn,children:t==null?void 0:t.map(s=>c.jsx(Ne,{icon:s.icon,text:s.title,onClick:()=>n(r,s)},s.name))},r)}const VRe=()=>{},O$={isLoading:!0,result:void 0,error:void 0,retry:VRe},Hfn={isLoading:!1,result:void 0,error:void 0,retry:VRe};function wP(e,t){const n=h.useMemo(()=>new kr,[]),r=h.useMemo(()=>n.asObservable(),[n]),o=h.useCallback(()=>{n.next({type:"retry"})},[n]),i=So(()=>Kr(ve(null),r).pipe(le(()=>e),bF(a=>a?t(a).pipe(le(l=>({isLoading:!1,result:l,error:void 0,retry:o})),pi(O$),Mn(l=>(console.error(l),ve({isLoading:!1,result:void 0,error:l,retry:o})))):ve(Hfn))),[t,e,r,o],O$),s=xV(e,e);return e&&s!==e?O$:i}function HRe(e){var t,n,r,o,i,s;const{id:a,layout:l,preview:u,refType:d,renderPreview:f,showTypeLabel:p}=e,m=y1(),v=A_(a),g=((t=u.draft)==null?void 0:t._id)||((n=u.published)==null?void 0:n._id)||a,y=h.useMemo(()=>({_id:g,_type:d.name}),[g,d.name]),x=h.useMemo(()=>({layout:l,schemaType:d,value:y}),[l,y,d]),b=ai(((r=u.published)==null?void 0:r._updatedAt)||"",{minimal:!0,agoSuffix:!0}),w=ai(((o=u.draft)==null?void 0:o._updatedAt)||"",{minimal:!0,agoSuffix:!0});return c.jsxs(U,{align:"center",children:[c.jsx(M,{flex:1,children:f(x)}),c.jsx(M,{paddingLeft:3,children:c.jsxs(Zt,{space:3,children:[p&&c.jsx(Ut,{size:1,muted:!0,children:d.title}),v&&v.length>0&&c.jsx(NV,{presence:v}),c.jsxs(Zt,{space:4,children:[c.jsx(M,{children:c.jsx(it,{portal:!0,content:c.jsx(M,{padding:2,children:c.jsx(L,{size:1,children:(i=u.published)!=null&&i._updatedAt?"Published ".concat(b):"Not published"})}),children:c.jsx(fr,{tone:m.tone==="default"?"positive":"default",size:1,dimmed:!u.published,muted:!u.published,children:c.jsx(d1,{"aria-label":u.published?"Published":"Not published"})})})}),c.jsx(M,{children:c.jsx(it,{portal:!0,content:c.jsx(M,{padding:2,children:c.jsx(L,{size:1,children:(s=u.draft)!=null&&s._updatedAt?"Edited ".concat(w):"No unpublished edits"})}),children:c.jsx(fr,{tone:m.tone==="default"?"caution":"default",size:1,dimmed:!u.draft,muted:!u.draft,children:c.jsx(ed,{"aria-label":u.draft?"Edited":"No unpublished edits"})})})})]})]})})]})}function URe(e){var t,n,r,o,i,s;const{referenceInfo:a,renderPreview:l,type:u,value:d,showTypeLabel:f}=e;if(a.isLoading||a.error)return c.jsx(Wh,{isPlaceholder:!0});if(((t=a.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const x=u.to.find(w=>{var C;return w.name===((C=d==null?void 0:d._strengthenOnPublish)==null?void 0:C.type)});if(!x)return c.jsx(Gle,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(w=>w.name)});const b=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(o=d._strengthenOnPublish)==null?void 0:o.type}:d;return c.jsxs(U,{align:"center",children:[c.jsx(M,{flex:1,children:l({layout:"default",schemaType:x,value:b,skipVisibilityCheck:!0})}),c.jsx(M,{children:c.jsx(Zt,{space:4,children:f&&c.jsx(Ut,{size:1,muted:!0,children:x.title})})})]})}const p=a.result.availability,m=p.reason==="NOT_FOUND",v=p.reason==="PERMISSION_DENIED";if(v||m)return c.jsxs(Zt,{space:2,children:[c.jsx(M,{padding:1,children:c.jsx(U,{align:"center",children:c.jsx(M,{flex:1,paddingY:2,children:c.jsx(L,{muted:!0,children:"Document unavailable"})})})}),v||m?c.jsx(M,{children:c.jsx(it,{portal:!0,content:m?c.jsxs(qle,{title:"Not found",icon:E0,children:["The referenced document does not exist",c.jsx("br",{}),"(id: ",c.jsx("code",{children:d._ref}),")"]}):c.jsx(qle,{title:"Insufficient permissions",icon:rh,children:"The referenced document could not be accessed due to insufficient permissions"}),children:c.jsx(fr,{tone:"default",children:c.jsx(E0,{})})})}):null]});const g=(i=a.result)==null?void 0:i.type,y=u.to.find(x=>x.name===g);return y?c.jsx(HRe,{id:d._ref,layout:"default",preview:(s=a.result)==null?void 0:s.preview,refType:y,renderPreview:l,showTypeLabel:f}):c.jsx(Gle,{documentId:d._ref,actualType:g||"<unknown>",declaredTypes:u.to.map(x=>x.name)})}function qle(e){const t=e.icon;return c.jsxs(U,{padding:3,children:[c.jsx(M,{children:c.jsx(L,{size:1,children:c.jsx(t,{})})}),c.jsxs(M,{flex:1,marginLeft:3,children:[c.jsx(L,{size:1,weight:"semibold",children:e.title}),c.jsx(M,{marginTop:3,children:c.jsx(L,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function Gle(e){return c.jsxs(U,{align:"center",justify:"flex-start",children:[c.jsx(M,{padding:1,children:c.jsx(U,{align:"center",children:c.jsx(M,{flex:1,paddingY:2,children:c.jsx(L,{muted:!0,children:"Document of invalid type"})})})}),c.jsx(M,{children:c.jsx(it,{portal:!0,content:c.jsxs(te,{space:3,padding:3,children:[c.jsxs(L,{size:1,children:["Referenced document (",c.jsx("code",{children:e.documentId}),") is of type"," ",c.jsx("code",{children:e.actualType}),"."]}),c.jsxs(L,{size:1,children:["According to the schema, referenced documents can only be of type"," ",Ufn(e.declaredTypes.map(t=>c.jsx("code",{children:t},t)),"or"),"."]})]}),children:c.jsx(M,{padding:2,children:c.jsx(fr,{tone:"default",children:c.jsx(E0,{})})})})})]})}const Ufn=(e,t)=>e.length===1?e[0]:e.length===2?[e[0],c.jsxs(h.Fragment,{children:[" ",t," "]},"comma"),e[1]]:[...e.slice(0,-1).map((r,o)=>c.jsxs(h.Fragment,{children:[r,", "]},o)),c.jsxs(h.Fragment,{children:[t," ",e[e.length-1]]},"last")];var Kle=Object.freeze,Wfn=Object.defineProperty,Yfn=(e,t)=>Kle(Wfn(e,"raw",{value:Kle(t||e.slice())})),Zle;const qfn=$(Q)(Zle||(Zle=Yfn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),WRe=h.forwardRef(function(t,n){const{as:r,documentId:o,documentType:i,...s}=t,a=o&&i&&{"data-as":"a",forwardedAs:r,documentId:o,documentType:i};return c.jsx(qfn,{...s,...a,ref:n})}),YRe=h.createContext(null);function Gfn(){const e=h.useContext(YRe);return e||{menuRef:{current:null},containerRef:{current:null}}}function Kfn(e){const{menuRef:t,containerRef:n}=e;return c.jsx(YRe.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function Zfn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Xfn={portal:!0,tone:"default"},Qfn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function Jfn(e){var t,n,r,o,i,s,a,l,u,d,f;const{schemaType:p,parentSchemaType:m,path:v,readOnly:g,onRemove:y,value:x,open:b,onInsert:w,presence:C,validation:_,inputId:S,changed:E,focused:j,children:k,inputProps:{onChange:T,focusPath:A,onPathFocus:D,renderPreview:P,elementProps:I}}=e,R=!g&&((t=m.options)==null?void 0:t.sortable)!==!1,O=m.of,V=h.useRef(null),B=h.useRef(null),H=h.useRef(null),{EditReferenceLink:W,getReferenceInfo:z,selectedState:G,isCurrentDocumentLiveEdit:ee}=uH({path:v,schemaType:p,value:x});gP(V,b),Gi(j,(Ee,Be)=>{var ut;!Ee&&Be&&V.current&&((ut=V.current)==null||ut.focus())});const N=e.validation.some(Ee=>Ee.level==="error"),Y=e.validation.some(Ee=>Ee.level==="warning"),q=x._resolvingInitialValue,Z=h.useCallback(()=>{w({items:[{...x,_key:Hw()}],position:"after"})},[w,x]),ie=h.useCallback((Ee,Be)=>{w({items:[{...Q1(Be),_key:Hw()}],position:Ee})},[w]),re=wP(x==null?void 0:x._ref,z),K=x._ref,X=((n=re.result)==null?void 0:n.type)||((r=x==null?void 0:x._strengthenOnPublish)==null?void 0:r.type),ce=K&&((s=(i=(o=re.result)==null?void 0:o.preview)==null?void 0:i.published)==null?void 0:s._id),me=h.useCallback(()=>{T([p.weak===!0?bt(!0,["_weak"]):Je(["_weak"]),Je(["_strengthenOnPublish"])])},[T,p.weak]),ae=X?p.to.find(Ee=>Ee.name===X):void 0,Ce=G==="pressed",_e=G==="selected",he=Zfn({readOnly:g,hasErrors:N,hasWarnings:Y}),be=!K||A[0]==="_ref",Le=h.useMemo(()=>h.forwardRef(function(Be,ut){return c.jsx(dg,{...Be,intent:"edit",params:{id:x==null?void 0:x._ref,type:ae==null?void 0:ae.name},target:"_blank",rel:"noopener noreferrer",ref:ut})}),[ae==null?void 0:ae.name,x==null?void 0:x._ref]),$e=h.useCallback(()=>{D(K&&be?[]:["_ref"])},[K,be,D]),ct=h.useMemo(()=>g?null:c.jsx(M,{marginLeft:1,children:c.jsx(rn,{button:c.jsx(oe,{paddingY:3,paddingX:2,mode:"bleed",icon:Fo}),id:"".concat(S,"-menuButton"),menu:c.jsxs(zt,{ref:B,children:[!g&&c.jsxs(c.Fragment,{children:[c.jsx(Ne,{text:"Remove",tone:"critical",icon:Co,onClick:y}),c.jsx(Ne,{text:K&&be?"Cancel replace":"Replace",icon:K&&be?Bi:f1,onClick:$e}),c.jsx(Ne,{text:"Duplicate",icon:Ju,onClick:Z}),c.jsx(xP,{onInsert:ie,types:O})]}),!g&&!be&&K&&c.jsx(Mr,{}),!be&&K&&c.jsx(Ne,{as:Le,"data-as":"a",text:"Open in new tab",icon:Sh})]}),popover:Xfn})}),[g,S,y,K,be,$e,Z,ie,O,Le]),ot=h.useCallback(()=>{T(p.weak===!0?bt(!0,["_weak"]):Je(["_weak"]))},[T,p]),Nt=x!=null&&x._weak?"weak":"strong",Rt=p.weak===!0?"weak":"strong",Ae=K&&!re.isLoading&&(x==null?void 0:x._strengthenOnPublish),Ge=!re.isLoading&&((a=re.result)==null?void 0:a.availability.available)&&K&&Nt!==Rt&&!Ae,Ye=((l=re.result)==null?void 0:l.preview.draft)||((u=re.result)==null?void 0:u.preview.published),tt=c.jsxs(c.Fragment,{children:[ee&&ce&&x._strengthenOnPublish&&c.jsx(Zf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:c.jsxs(te,{space:3,children:[c.jsxs(L,{as:"p",muted:!0,size:1,children:[c.jsx("strong",{children:(f=(d=re.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",p.weak?c.jsx(c.Fragment,{children:"finalized"}):c.jsx(c.Fragment,{children:"converted to a strong reference"}),"."]}),c.jsx(oe,{onClick:me,text:c.jsx(c.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),Ge&&c.jsx(Zf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(te,{space:3,children:[c.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:Nt}),", but according to the current schema it should be"," ",c.jsxs("em",{children:[Rt,"."]})]}),c.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?c.jsxs(c.Fragment,{children:["It will not be possible to delete the"," ",Ye!=null&&Ye.title?c.jsxs(c.Fragment,{children:['"',Ye==null?void 0:Ye.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):c.jsxs(c.Fragment,{children:["This makes it possible to delete the"," ",Ye!=null&&Ye.title?c.jsxs(c.Fragment,{children:['"',Ye==null?void 0:Ye.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),c.jsx(oe,{onClick:ot,text:c.jsxs(c.Fragment,{children:["Convert to ",Rt," reference"]}),tone:"caution"})]})}),re.error&&c.jsx(Zf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(te,{space:3,children:[c.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",re.error.message]}),c.jsx(oe,{onClick:re.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),wt=c.jsx(Kfn,{menuRef:B,containerRef:H,children:c.jsx(yP,{dragHandle:R,presence:!be&&C.length>0&&c.jsx(x_,{presence:C,maxAvatars:1}),validation:!be&&_.length>0&&c.jsx(Z1,{validation:_}),menu:ct,footer:be?void 0:tt,tone:be?void 0:he,focused:j,children:be?c.jsx(M,{padding:1,ref:H,children:c.jsx(vP,{title:p.title,description:p.description,__unstable_presence:C,validation:_,inputId:S,children:k})}):c.jsxs(WRe,{as:W,tone:"inherit",radius:2,documentId:x==null?void 0:x._ref,documentType:ae==null?void 0:ae.name,disabled:q,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:_e,pressed:Ce,"data-selected":_e?!0:void 0,"data-pressed":Ce?!0:void 0,...I,children:[c.jsx(URe,{value:x,referenceInfo:re,renderPreview:P,type:p}),q&&c.jsx(Q,{style:Qfn,tone:"transparent",radius:2,as:U,justify:"center",children:c.jsxs(U,{align:"center",justify:"center",padding:3,children:[c.jsx(M,{marginX:3,children:c.jsx(gr,{muted:!0})}),c.jsx(L,{children:"Resolving initial value…"})]})})]})})});return c.jsx(yi,{path:v,isChanged:E,hasFocus:!!j,children:c.jsx(M,{paddingX:1,children:wt})})}function Xle(e){return ul(e.schemaType)}function Qle(e){return tc(e.schemaType)}function ehn(e){return e._key!==void 0}function QE(e){return ehn(e)?e:{...e,_key:Hw(12)}}const qRe=4;function Jle(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function thn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qRe;const n=nhn(t);return function(){return jr(n(e(...arguments)))}}function nhn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qRe;const t=[],n=[],r=new kr;return o;function o(a){return new mt(l=>{if(t.length>=e)return i(a).pipe(ft(o)).subscribe(l);const u=a.subscribe(l);return t.push(u),()=>{Jle(t,u),Jle(n,a),u.unsubscribe(),s()}})}function i(a){return n.push(a),r.asObservable().pipe(BEe(l=>l===a))}function s(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const rhn=4;function ohn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.metadata,i=r.storeOriginalFilename,{label:s,title:a,description:l,creditLine:u,source:d}=r;return chn(n).pipe(Mn(()=>ve(null)),ft(f=>f?ahn(e,"sanity.".concat(t,"Asset"),f):ve(null)),ft(f=>f?ve({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:o,preserveFilename:i,label:s,title:a,description:l,creditLine:u,source:d}).pipe(le(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const GRe=thn(ohn,rhn),ihn=(e,t,n)=>GRe(e,"image",t,n),shn=(e,t,n)=>GRe(e,"file",t,n);function KRe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function ZRe(e,t){return KRe(e,t)}function XRe(e,t){return KRe(e,t)}function ahn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function lhn(e){return new mt(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function chn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?ve(null):lhn(e).pipe(ft(t=>crypto.subtle.digest("SHA-1",t)),le(uhn))}function uhn(e){return Array.prototype.map.call(new Uint8Array(e),t=>"00".concat(t.toString(16)).slice(-2)).join("")}function dhn(e,t){return new mt(n=>{const r=new window.FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(t===void 0?e:e.slice(0,t)),()=>r.abort()})}const fhn=/(invalid image format)|(No exif data)/i,hhn=128e3;function phn(e){return jr(dhn(e,hhn)).pipe(le(t=>XUt(t)),Mn(t=>(fhn.test(t.message)||console.warn("Exif read failed, continuing anyway: ".concat(t.message)),ve({}))))}function ece(e){return[5,6,7,8].indexOf(e)>-1}function mhn(e,t){const n=t.x,r=t.y,o=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(o),e==null||e.translate(-n,-r)}function tce(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const ghn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],vhn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],yhn="top-left",bhn=120;function xhn(e,t){const n=ghn[t-1],r=e.height/e.width;e.width=bhn/r,e.height=e.width*r;const o=document.createElement("canvas"),i=o.getContext("2d");if(ece(t)?(o.height=e.width,o.width=e.height):(o.width=e.width,o.height=e.height),n.op==="flip-x"&&tce(o,!0,!1),n.op==="flip-y"&&tce(o,!1,!0),n.degrees&&(mhn(i,{degrees:n.degrees,x:o.width/2,y:o.height/2}),ece(t))){const s=o.width-o.height;i==null||i.translate(s/2,-s/2)}return i==null||i.drawImage(e,0,0,e.width,e.height),o}function whn(e,t){return new mt(n=>{const r=vhn.indexOf(t)+1,o=xhn(e,r);n.next(o.toDataURL("image/jpeg",.1)),n.complete()})}function Chn(e){return new mt(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error('Could not load image from url "'.concat(e,'". Image may be of an unsupported format')))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function _hn(e,t){return Chn(window.URL.createObjectURL(e)).pipe(ft(n=>whn(n,t)))}const Ol="_upload",Shn=Je([Ol]);function hm(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const QRe=hm([Shn]);function JRe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return hm([bt(n,[Ol])])}function Ehn(e,t,n){const r=ihn(e,t,n).pipe(pt(i=>i.stage!=="download"),le(i=>({...i,progress:2+i.percent/100*98})),le(i=>i.type==="complete"?hm([bt({_type:"reference",_ref:i.asset._id},["asset"]),bt(100,[Ol,"progress"]),bt(new Date().toISOString(),[Ol,"updatedAt"])]):hm([bt(i.percent,[Ol,"progress"]),bt(new Date().toISOString(),[Ol,"updatedAt"])]))),o=phn(t).pipe(ft(i=>_hn(t,i.orientation||yhn)),Mn(i=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,i.message),ve(null))),pt(Boolean),le(i=>hm([bt(i,[Ol,"previewImage"])])));return Kr(ve(JRe(t)),ln(r,o),ve(QRe))}function eMe(e,t,n){const r=shn(e,t,n).pipe(le(o=>o.type==="complete"?hm([bt({_type:"reference",_ref:o.asset._id},["asset"]),bt(100,[Ol,"progress"]),bt(new Date().toISOString(),[Ol,"updated"])]):hm([bt(o.percent,[Ol,"progress"]),bt(new Date().toISOString(),[Ol,"updated"])])));return Kr(ve(JRe(t)),r,ve(QRe))}const khn={type:"image",accepts:"image/*",upload:(e,t,n,r)=>Ehn(e,t,r)},jhn={type:"file",accepts:"",upload:(e,t,n,r)=>eMe(e,t,r)},Thn={type:"string",accepts:"text/*",upload:(e,t,n,r)=>eMe(e,t,r).pipe(le(o=>({type:"uploadProgress",patches:[bt(o)]})))},Ahn=[khn,Thn,jhn].map((e,t)=>({...e,priority:t}));function LL(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}function GV(e,t){return Ahn.find(n=>{var r;return Fc(n.type,e)&&LL(t,n.accepts)&&LL(t,((r=e.options)==null?void 0:r.accept)||"")})||null}const Dhn=["_key","_type","_weak"];function tMe(e){return Object.keys(e).every(t=>Dhn.includes(t))}const Phn=(e,t)=>{const n=Fs(t);return e.of.find(r=>r.name===n)};function Ihn(e,t){return Object.entries(e).map(n=>{let[r,o]=n;return bt(o,[...t,r])})}function nMe(e,t,n){return jr(e).pipe(ft(r=>{const o={_key:r._key};return ve(Phn(t,r)).pipe(ft(i=>i?ve(i):tr),ft(i=>!tMe(r)||!n?tr:Kr(ve({type:"patch",patches:[bt(!0,[o,"_resolvingInitialValue"])]}),xo(()=>n(i,r)).pipe(pt(_o),le(s=>({type:"patch",patches:Ihn(s,[o])})),Mn(s=>ve({type:"error",error:s,item:r,schemaType:i}))),ve({type:"patch",patches:[Je([o,"_resolvingInitialValue"])]}))))}))}const nce="before",rce="after";function Ohn(e,t,n){if(t!==nce&&t!==rce)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(nce," or ").concat(rce));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=oce(...o);if(e.length===0)return s;const a=e.length,l=Math.abs((a+n)%a)%a,u=t==="after"?l+1:l,d=e.slice();return d.splice(u,0,...oce(s)),d}function oce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const ice=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function $hn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function Rhn(e,t){if(typeof t=="number")return t;const n=oN(e,t);return n===-1?!1:n}function Mhn(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!ice(t.value,"from")||!ice(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return $hn(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=Rhn(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return Ohn(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=ZV(n[i],{...t,path:o}),n}function Fhn(e,t){const n=KAe(e);if(t.path.length===0){if(t.type==="set"){if(!cC(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Hi(n,r):(n[r]=ZV(n[r],{...t,path:o}),n)}const rMe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},Lhn=Object.keys(rMe);function Bhn(e,t){if(!Lhn.includes(t.type))throw new Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return rMe[t.type](e,t.value)}const oMe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=DDe(IDe(t),e,{allowExceedingIndices:!0});return n}},Nhn=Object.keys(oMe);function zhn(e,t){if(!Nhn.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return oMe[t.type](e,t.value)}function KV(e,t){return t.reduce(ZV,e)}function Vhn(e,t){return Array.isArray(e)?Mhn(e,t):XA(e)?zhn(e,t):cC(e)?Fhn(e,t):Bhn(e,t)}function ZV(e,t){return Vhn(e,t)}function Hhn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:o,onSetFieldSetCollapsed:i,onPathOpen:s,onFieldGroupSelect:a}=yl(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,y=mP(),x=h.useRef(),b=h.useRef({});Gi(l.field.focused,(X,ce)=>{var me;!X&&ce&&((me=x.current)==null||me.focus())});const w=h.useCallback(X=>{X.currentTarget===X.target&&X.currentTarget===x.current&&n(l.field.path)},[l.field.path,n]),C=h.useCallback(X=>{X.currentTarget===X.target&&X.currentTarget===x.current&&t(l.field.path)},[l.field.path,t]),_=h.useRef(l.field.value);h.useEffect(()=>{_.current=l.field.value},[l.field.value]);const S=h.useCallback(X=>{const ce=dt.from(X).patches;if(ce.some(ae=>ae.type==="unset"&&ae.path.length===1)&&(_.current=KV(_.current||[],ce),Array.isArray(_.current)&&!_.current.length)){r(dt.from(Je([l.name])));return}r(dt.from(X).prepend(ls([])).prefixAll(l.name))},[r,l.name,_]),E=BH(),j=Qo(),k=h.useCallback(()=>{o(l.field.path,!0)},[o,l.field.path]),T=h.useCallback(()=>{o(l.field.path,!1)},[o,l.field.path]),A=h.useCallback(X=>{o(l.field.path.concat({_key:X}),!0)},[o,l.field.path]),D=h.useCallback(X=>{o(l.field.path.concat({_key:X}),!1)},[o,l.field.path]),P=h.useCallback(X=>{s(X),o(X,!1)},[s,o]),I=h.useCallback(()=>{s(l.field.path),o(l.field.path,!0)},[s,l.field.path,o]),R=h.useCallback(X=>{if(X.items.length===0)throw new Error("Insert event should include at least one item");const ce=X.items.map(_e=>QE(_e));S(dt.from([Df(ce,X.position,[X.referenceItem])]));const me=ce[0]._key,ae=[...l.field.path,{_key:me}];n(ae);const Ce=X.open!==!1;X.skipInitialValue?Ce&&P(ae):nMe(ce,l.field.schemaType,E).pipe(_n(_e=>{_e.type==="patch"?S(_e.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(_e.schemaType.title,": ").concat(_e.error.message,"."),status:"error"})})).subscribe({complete:()=>{Ce&&P(ae)}})},[S,P,l.field.path,l.field.schemaType,n,E,j]),O=h.useCallback(X=>{const ce=l.field.value,me=ce==null?void 0:ce[X.fromIndex],ae=ce==null?void 0:ce[X.toIndex];if(X.fromIndex!==X.toIndex){if(!(me!=null&&me._key)||!(ae!=null&&ae._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([Je([{_key:me._key}]),Df([me],X.fromIndex>X.toIndex?"before":"after",[{_key:ae._key}])])}},[S,l.field.value]),V=h.useCallback(X=>{S([ls([]),Df([QE(X)],"before",[0])])},[S]),B=h.useCallback(X=>{S([ls([]),Df([QE(X)],"after",[-1])])},[S]),H=h.useCallback(X=>{b.current[X]&&(b.current[X].unsubscribe(),delete b.current[X]),S([Je([{_key:X}])])},[S]),W=h.useCallback(X=>{n(l.field.path.concat(X))},[l.field.path,n]),z=h.useMemo(()=>({onBlur:C,onFocus:w,id:l.field.id,ref:x,"aria-describedby":Yh(l.field.id,l.field.schemaType.description)}),[C,w,l.field.id,l.field.schemaType.description]),G=yr(un),ee=Nd(),N=ee.__internal.image.directUploads,Y=ee.__internal.file.directUploads,q=h.useCallback((X,ce)=>Fc("image",X)&&!N||Fc("file",X)&&!Y?null:GV(X,ce),[Y,N]),Z=h.useCallback(X=>{let{file:ce,schemaType:me,uploader:ae}=X;const Ce=Q1(me),_e=Ce._key;R({items:[Ce],position:"after",referenceItem:-1,open:!1});const he=ae.upload(G,ce,me).pipe(le(be=>dt.from(be.patches||[]).prefixAll({_key:_e})),_n(be=>S(be.patches)));b.current={...b.current,[_e]:he.subscribe()}},[G,S,R]),ie=h.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onItemExpand:D,onItemCollapse:A,onItemClose:I,onItemOpen:P,focusPath:l.field.focusPath,focused:l.field.focused,path:l.field.path,onChange:S,onInsert:R,onItemMove:O,onItemRemove:H,onItemAppend:B,onItemPrepend:V,onPathFocus:W,resolveInitialValue:E,onUpload:Z,resolveUploader:q,validation:l.field.validation,presence:l.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:f,renderItem:v,renderPreview:g,elementProps:z}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.focusPath,l.field.focused,l.field.path,l.field.validation,l.field.presence,D,A,I,P,S,R,O,H,B,V,W,E,Z,q,u,d,p,m,f,v,g,z]),re=h.useMemo(()=>m(ie),[ie,m]),K=h.useMemo(()=>({actions:y,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,changed:l.field.changed,onCollapse:k,onExpand:T,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:re,inputProps:ie}),[y,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,k,T,re,ie]);return c.jsx(v_,{onFieldGroupSelect:a,onChange:S,onSetFieldSetCollapsed:i,onSetPathCollapsed:o,onPathOpen:s,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(K),[K,f])})}function iMe(e,t,n){return gm(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function Uhn(e){const{member:t,renderInput:n,renderField:r}=e,o=mP(),i=h.useRef(),[s,a]=h.useState(),{onPathBlur:l,onPathFocus:u,onChange:d}=yl();h.useEffect(()=>{var C;t.field.focused&&((C=i.current)==null||C.focus())},[t.field.focused]);const f=h.useCallback(()=>{l(t.field.path)},[t.field.path,l]),p=h.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=h.useCallback(C=>{d(dt.from(C).prefixAll(t.name))},[d,t.name]),v=h.useCallback(C=>{let _=C.currentTarget.value;if(gm(t.field.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else aC(t.field.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);gm(t.field.schemaType)&&a(S?void 0:C.currentTarget.value),d(dt.from(S?Je():bt(_)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),g=h.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,y=h.useMemo(()=>({onBlur:f,onFocus:p,id:t.field.id,ref:i,onChange:v,value:iMe(t.field.schemaType,t.field.value,s),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":Yh(t.field.id,t.field.schemaType.description)}),[f,p,v,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,s]),x=h.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:g,elementProps:y}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,g,y]),b=h.useMemo(()=>n(x),[x,n]),w=h.useMemo(()=>({actions:o,changed:t.field.changed,children:b,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:x,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[o,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,b,x]);return c.jsx(c.Fragment,{children:r(w)})}const Whn=function(t){const{onPathBlur:n,onPathFocus:r,onChange:o,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:l}=yl(),{member:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:y}=t,x=mP(),b=h.useRef(),w=h.useRef(u.field.value);h.useEffect(()=>{w.current=u.field.value},[u.field.value]),Gi(u.field.focused,(ee,N)=>{var Y;!ee&&N&&((Y=b.current)==null||Y.focus())});const C=h.useCallback(()=>{n(u.field.path)},[u.field.path,n]),_=h.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=h.useCallback(ee=>{r(u.field.path.concat(ee))},[u.field.path,r]),E=h.useCallback(ee=>{if(!(u.field.path.length===0)){const Y=dt.from(ee).patches;if(w.current=KV(w.current||{},Y),w.current&&A$t(w.current)){o(dt.from(Je([u.name])));return}}o(dt.from(ee).prepend(ls(qV(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),j=h.useCallback(()=>{s(u.field.path,!0)},[s,u.field.path]),k=h.useCallback(()=>{s(u.field.path,!1)},[s,u.field.path]),T=h.useCallback(ee=>{s(u.field.path.concat(ee),!0)},[s,u.field.path]),A=h.useCallback(ee=>{s(u.field.path.concat(ee),!1)},[s,u.field.path]),D=h.useCallback(ee=>{i(u.field.path.concat(ee))},[i,u.field.path]),P=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),I=h.useCallback(ee=>{a(u.field.path.concat(ee),!1)},[a,u.field.path]),R=h.useCallback(ee=>{a(u.field.path.concat(ee),!0)},[a,u.field.path]),O=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),V=h.useCallback(()=>{i(u.field.path.slice(0,-1))},[i,u.field.path]),B=h.useCallback(ee=>{l(u.field.path,ee)},[l,u.field.path]),H=h.useMemo(()=>({onBlur:C,onFocus:_,id:u.field.id,ref:b,"aria-describedby":Yh(u.field.id,u.field.schemaType.description)}),[C,_,u.field.id,u.field.schemaType.description]),W=h.useMemo(()=>({elementProps:H,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:B,onFieldOpen:D,onFieldClose:P,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:I,onFieldSetCollapse:R,onPathFocus:S,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:E,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:y}),[H,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,B,D,P,T,A,I,R,S,E,d,f,p,m,v,g,y]),z=h.useMemo(()=>v(W),[W,v]),G=h.useMemo(()=>({actions:x,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:j,onExpand:k,open:u.open,changed:u.field.changed,onOpen:O,onClose:V,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:z,inputProps:W}),[x,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,j,k,O,V,z,W]);return c.jsx(v_,{onFieldGroupSelect:l,onChange:E,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:s,onPathBlur:n,onPathFocus:r,children:h.useMemo(()=>p(G),[G,p])})};function Yhn(e,t){return new mt(n=>{const r=new FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function qhn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function Ghn(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function Khn(e){return/^\d+$/.test(e)}function Zhn(e,t){let n=!1,r=!1,o=!1;return t.forEach(i=>{aC(i)&&(n=!0),wbe(i)&&(o=!0),gm(i)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&Khn(e)?Number(e):o?e:void 0}function Xhn(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return Yhn(n,"utf-8").pipe(le(r=>r==null?void 0:r.split(/[\n\r]/).map(o=>Zhn(o,e)).filter(o=>o!==void 0)),pt(r=>Array.isArray(r)),le(r=>({type:"uploadProgress",patches:[Df(r,"after",[-1])]})))}}}function Qhn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:o,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onFieldGroupSelect:a}=yl(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,y=mP(),x=h.useRef(),b=h.useRef(),w=yr(un);Gi(l.field.focused,(N,Y)=>{var q;!N&&Y&&((q=x.current)==null||q.focus())});const C=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&n(l.field.path)},[l.field.path,n]),_=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&t(l.field.path)},[l.field.path,t]),S=h.useCallback(N=>{const Y=dt.from(N).patches;if(Y.some(Z=>Z.type==="unset"&&Z.path.length===1)){const Z=KV(l.field.value||[],Y);if(Array.isArray(Z)&&!Z.length){r(dt.from(Je([l.name])));return}}r(dt.from(N).prepend(ls([])).prefixAll(l.name))},[r,l.name,l.field.value]),E=h.useCallback(N=>{i(l.field.path,N)},[i,l.field.path]),j=h.useCallback(()=>{i(l.field.path,!0)},[i,l.field.path]),k=h.useCallback(()=>{i(l.field.path,!1)},[i,l.field.path]),T=h.useCallback(N=>{S(N.length===0?Je():bt(N))},[S]),A=h.useCallback(N=>{const{value:Y=[]}=l.field;N.fromIndex!==N.toIndex&&T(qhn(Y,N.fromIndex,N.toIndex))},[l.field,T]),D=h.useCallback(N=>{const{value:Y=[]}=l.field;T(Y.concat(N))},[l.field,T]),P=h.useCallback(N=>{const{value:Y=[]}=l.field;T([N].concat(Y||[]))},[l.field,T]),I=h.useCallback(N=>{const{value:Y=[]}=l.field,q=N.referenceIndex+(N.position==="before"?-1:0);T(Ghn(q,Y,N.items))},[l.field,T]),R=h.useCallback(N=>{S(Je([N]))},[S]),O=h.useCallback(N=>{n(l.field.path.concat([N]))},[l.field.path,n]),V=h.useMemo(()=>({onBlur:_,onFocus:C,id:l.field.id,ref:x,"aria-describedby":Yh(l.field.id,l.field.schemaType.description)}),[_,C,l.field.id,l.field.schemaType.description]),B=h.useMemo(()=>Xhn(l.field.schemaType.of),[l.field.schemaType.of]),H=h.useCallback((N,Y)=>LL(Y,"text/*")?B:null,[B]),W=h.useCallback(N=>{let{file:Y,schemaType:q,uploader:Z}=N;const ie=Z.upload(w,Y,q).pipe(le(re=>dt.from(re.patches||[])),_n(re=>S(re.patches)));b.current&&b.current.unsubscribe(),b.current=ie.subscribe()},[w,S]),z=h.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,onSetCollapsed:E,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,elementProps:V,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,onChange:S,onInsert:I,onMoveItem:A,onItemRemove:R,onItemAppend:D,onItemPrepend:P,validation:l.field.validation,presence:l.field.presence,resolveUploader:H,onUpload:W,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:v,onIndexFocus:O,renderPreview:g}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.validation,l.field.presence,E,V,S,I,A,R,D,P,H,W,u,d,p,m,v,O,g]),G=h.useMemo(()=>m(z),[z,m]),ee=h.useMemo(()=>({actions:y,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onExpand:k,changed:l.field.changed,onCollapse:j,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:G,inputProps:z}),[y,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,k,j,G,z]);return c.jsx(v_,{onFieldGroupSelect:a,onChange:S,onPathOpen:o,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(ee),[ee,f])})}function sMe(e){return ul(e.field.schemaType)}function Jhn(e){return tc(e.field.schemaType)&&e.field.schemaType.of.every(t=>Cbe(t))}function XV(e){return tc(e.field.schemaType)&&e.field.schemaType.of.every(t=>ul(t))}const C_=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}=t;return sMe(n)?c.jsx(Whn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}):Jhn(n)?c.jsx(Qhn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInput:a,renderInlineBlock:s,renderItem:l,renderPreview:u}):XV(n)?c.jsx(Hhn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}):c.jsx(Uhn,{member:n,renderField:i,renderInput:a})}),aMe=["yes","true","1"],lMe=["false","no","false","0","null"],epn=aMe.concat(lMe),yS=()=>!0,tpn=e=>t=>t&&t[e],npn=e=>t=>(t&&t._type)===e;function rpn(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function opn(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const $$={string:{number:{test:Number,convert:Number},boolean:{test:e=>epn.includes(e.toLowerCase()),convert:e=>aMe.includes(e.toLowerCase())||!lMe.includes(e.toLowerCase())},richDate:{test:e=>hd(e),convert:e=>({_type:"richDate",local:rpn(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:opn(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:npn("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:tpn("utc"),convert:e=>e.utc}},number:{string:{test:yS,convert:String},boolean:{test:yS,convert:Number}},boolean:{string:{test:yS,convert:e=>e?"Yes":"No"},number:{test:yS,convert:Number}}};function ipn(e){let{value:t,targetType:n,onChange:r}=e;const o=h.useMemo(()=>({...t,_type:n}),[n,t]),i=h.useCallback(()=>r(dt.from(ls(n,["_type"])),o),[o,r,n]);return c.jsx(oe,{onClick:i,text:c.jsxs(c.Fragment,{children:["Convert to ",c.jsx("code",{children:n})]})})}function spn(e){let{value:t,onChange:n,validTypes:r}=e;const o=h.useMemo(()=>({...t,_type:r[0]}),[r,t]),i=h.useCallback(()=>n(dt.from(Je()),o),[o,n]);return c.jsx(oe,{onClick:i,tone:"critical",text:"Unset value"})}function apn(e){let{validTypes:t,value:n,onChange:r}=e;const o=An(),i=t.length===1,s=o.has(t[0]);return c.jsx(lu,{status:"warning",title:c.jsxs(c.Fragment,{children:["Property value missing ",c.jsx("code",{children:"_type"})]}),children:c.jsx(Sg,{open:cu,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(te,{space:3,children:[c.jsxs(L,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",c.jsx("code",{children:"_type"})," property."]}),i&&!s&&c.jsxs(L,{as:"p",muted:!0,size:1,children:["Either remove the ",c.jsx("code",{children:"name"})," property of the object declaration, or set"," ",c.jsx("code",{children:"_type"})," property on items."]}),!i&&c.jsx(L,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!i&&c.jsx(te,{as:"ul",space:2,children:t.map(a=>c.jsx(L,{as:"li",muted:!0,size:1,children:c.jsx("code",{children:a})},a))}),c.jsxs(te,{space:2,children:[c.jsxs(L,{as:"h4",weight:"semibold",size:1,children:["Current value (",c.jsx("code",{children:"object"}),"):"]}),c.jsx(Q,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:c.jsx(dr,{language:"json",children:JSON.stringify(n,null,2)})})]}),c.jsxs(tn,{columns:[1,2,2],gap:1,children:[i&&c.jsx(ipn,{onChange:r,targetType:t[0],value:n}),c.jsx(spn,{onChange:r,validTypes:t,value:n})]})]})})})}function lpn(e,t,n){return t in $$?Object.keys($$[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...$$[t][r]})).filter(r=>r.test(e)):[]}const cMe=h.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:o,onChange:i}=e;h.useImperativeHandle(t,()=>({focus:()=>{}}));const s=h.useCallback(()=>{i(dt.from(Je()))},[i]),a=h.useCallback(d=>{i(dt.from(bt(d)))},[i]),l=h.useMemo(()=>lpn(n,r,o),[n,r,o]);if(Tr(n)&&!("_type"in n))return c.jsx(apn,{value:n,validTypes:o,onChange:i});const u=c.jsx(te,{padding:2,children:c.jsx(oe,{onClick:s,tone:"critical",text:"Reset value"})});return c.jsxs(lu,{status:"error",suffix:u,title:c.jsx(c.Fragment,{children:"Invalid property value"}),children:[c.jsx(L,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),c.jsx(Sg,{marginTop:4,open:cu,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(te,{space:3,children:[o.length===1&&c.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",c.jsx("code",{children:o[0]})," according to the schema."]}),o.length===1&&c.jsx(L,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),o.length!==1&&c.jsx(L,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),o.length!==1&&c.jsx(te,{as:"ul",space:2,children:o.map(d=>c.jsx(L,{as:"li",children:c.jsx("code",{children:d})},d))}),c.jsxs(te,{marginTop:2,space:2,children:[c.jsxs(L,{size:1,weight:"semibold",children:["The current value (",c.jsx("code",{children:r}),")"]}),c.jsx(Q,{border:!0,padding:2,radius:2,tone:"inherit",children:c.jsx(dr,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),l.length>0&&c.jsx(te,{space:1,children:l.map(d=>c.jsx(cpn,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});cMe.displayName="InvalidValueInput";function cpn(e){let{converter:t,onConvert:n,value:r}=e;const o=h.useCallback(()=>n(t.convert(r)),[t,n,r]);return c.jsx(oe,{onClick:o,text:c.jsxs(c.Fragment,{children:["Convert to ",c.jsx("code",{children:t.to})]})})}function upn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(dt.from((t.value||[]).map((o,i)=>ls(qC(),[i,"_key"]))))},[t.value,n]);return c.jsx(X1,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(lu,{status:"warning",suffix:c.jsx(te,{padding:2,children:c.jsx(oe,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:c.jsx(c.Fragment,{children:"Missing keys"}),children:[c.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),c.jsx(Sg,{marginTop:4,open:cu,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(te,{space:3,children:[c.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",c.jsx("code",{children:"_key"})," property has not been included."]}),c.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",c.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function dpn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(dt.from((t.duplicates||[]).map(o=>{let[i,s]=o;return bt("".concat(s,"_deduped_").concat(i),[i,"_key"])})))},[t.duplicates,n]);return c.jsx(X1,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(lu,{status:"warning",suffix:c.jsx(te,{padding:2,children:c.jsx(oe,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:c.jsx(c.Fragment,{children:"Non-unique keys"}),children:[c.jsx(L,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),c.jsx(Sg,{marginTop:4,open:cu,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(te,{space:3,children:[c.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",c.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),c.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",c.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function fpn(e){const{error:t,onChange:n}=e,r=()=>{const i=(t.value||[]).flatMap((s,a)=>Tr(s)?[]:[a]).reverse().map(s=>Je([s]));n(dt.from(i))};return c.jsx(X1,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(lu,{status:"error",suffix:c.jsx(te,{padding:2,children:c.jsx(oe,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:c.jsx(c.Fragment,{children:"Invalid list values"}),children:[c.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),c.jsx(Sg,{marginTop:4,open:cu,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsx(te,{space:3,children:c.jsx(L,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function CP(e){const{member:t}=e,{onChange:n}=yl(),r=h.useCallback(o=>{n(dt.from(o).prefixAll(t.fieldName))},[n,t.fieldName]);return t.error.type==="INCOMPATIBLE_TYPE"?c.jsx(cMe,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?c.jsx(upn,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?c.jsx(dpn,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?c.jsx(fpn,{onChange:r,error:t.error}):c.jsxs(M,{children:["Unexpected error: ",e.member.error.type]})}const QV=h.memo(function(t){var n;const{member:r,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:u,renderPreview:d}=t,{onSetFieldSetCollapsed:f}=yl(),p=h.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),m=h.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return c.jsx(vP,{title:r.fieldSet.title||hg(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:p,onExpand:m,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),inputId:r.fieldSet.name,children:r.fieldSet.members.map(v=>v.kind==="error"?c.jsx(CP,{member:v},r.key):c.jsx(C_,{member:v,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:u,renderPreview:d},v.key))})});function JV(e){const t=h.useRef(),{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}=e,{onPathBlur:d,onPathFocus:f,onChange:p,onPathOpen:m,onSetPathCollapsed:v,onSetFieldSetCollapsed:g,onFieldGroupSelect:y}=yl(),x=BH();Gi(n.item.focused,(q,Z)=>{var ie;!q&&Z&&((ie=t.current)==null||ie.focus())});const b=h.useCallback(()=>{p(dt.from([Je([{_key:n.key}])]))},[n.key,p]),w=h.useCallback(q=>{m(q),v(q,!1)},[m,v]),C=Qo(),_=h.useCallback(q=>{if(q.items.length===0)throw new Error("Insert event should include at least one item");const Z=q.items.map(ce=>QE(ce));p(dt.from([Df(Z,q.position,[{_key:n.key}])]));const ie=Z[0]._key,K=[...n.item.path.slice(0,-1),{_key:ie}];f(K);const X=q.open!==!1;q.skipInitialValue?X&&w(K):nMe(Z,n.parentSchemaType,x).pipe(_n(ce=>{ce.type==="patch"?p(dt.from(ce.patches)):C.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(ce.schemaType.title,": ").concat(ce.error.message,"."),status:"error"})})).subscribe({complete:()=>{X&&w(K)}})},[w,n.item.path,n.key,n.parentSchemaType,p,f,x,C]),S=h.useCallback(()=>{d(n.item.path)},[n.item.path,d]),E=h.useCallback(()=>{f(n.item.path)},[n.item.path,f]),j=h.useCallback(q=>{f(n.item.path.concat(q))},[n.item.path,f]),k=h.useCallback(q=>{p(dt.from(q).prepend(ls(qV(n.item.schemaType))).prefixAll({_key:n.key}))},[p,n.item.schemaType,n.key]),T=h.useCallback(()=>{v(n.item.path,!0)},[v,n.item.path]),A=h.useCallback(()=>{v(n.item.path,!1)},[v,n.item.path]),D=h.useCallback(q=>{v(n.item.path.concat(q),!0)},[v,n.item.path]),P=h.useCallback(q=>{v(n.item.path.concat(q),!1)},[v,n.item.path]),I=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),R=h.useCallback(q=>{m(n.item.path.concat(q))},[m,n.item.path]),O=h.useCallback(q=>{g(n.item.path.concat(q),!1)},[g,n.item.path]),V=h.useCallback(q=>{g(n.item.path.concat(q),!0)},[g,n.item.path]),B=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),H=!n.item.value||tMe(n.item.value),W=h.useCallback(()=>{H&&b();const q=n.item.path.slice(0,-1);m(q),f(q)},[H,m,n.item.path,f,b]),z=h.useCallback(q=>{y(n.item.path,q)},[y,n.item.path]),G=h.useMemo(()=>({onBlur:S,onFocus:E,id:n.item.id,ref:t,"aria-describedby":Yh(n.item.id,n.item.schemaType.description)}),[S,E,n.item.id,n.item.schemaType.description]),ee=h.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:k,onFieldClose:I,onFieldCollapse:D,onFieldSetCollapse:V,onFieldExpand:P,onFieldSetExpand:O,onFieldGroupSelect:z,onPathFocus:j,onFieldOpen:R,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:G}),[G,k,I,D,V,P,O,j,R,z,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,o,i,s,a,l,u]),N=h.useMemo(()=>a(ee),[ee,a]),Y=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onRemove:b,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:B,onClose:W,onExpand:A,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:E,onBlur:S,inputId:n.item.id,path:n.item.path,children:N,changed:n.item.changed,inputProps:ee}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,_,b,B,W,A,T,E,S,N,ee]);return c.jsx(v_,{onFieldGroupSelect:y,onChange:k,onPathOpen:m,onSetFieldSetCollapsed:g,onSetPathCollapsed:v,onPathBlur:d,onPathFocus:f,children:h.useMemo(()=>l(Y),[Y,l])})}function eH(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function hpn(e){const t=h.useRef(),{member:n,renderItem:r,renderInput:o}=e,[i,s]=h.useState(),{onPathBlur:a,onPathFocus:l,onChange:u}=yl();Gi(n.item.focused,(C,_)=>{var S;!C&&_&&((S=t.current)==null||S.focus())});const d=h.useCallback(C=>{a(n.item.path)},[n.item.path,a]),f=h.useCallback(C=>{l(n.item.path)},[n.item.path,l]),p=h.useCallback(C=>{u(dt.from(C).prefixAll(n.index))},[u,n.index]),m=h.useCallback(C=>{let _=C.currentTarget.value;if(gm(n.item.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else aC(n.item.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);gm(n.item.schemaType)&&s(S?void 0:C.currentTarget.value),p(bt(S?eH(n.item.schemaType):_))},[p,n.item.schemaType]),v=h.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:t,onChange:m,value:ppn(n.item.schemaType,n.item.value,i),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":Yh(n.item.id,n.item.schemaType.description)}),[d,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,i]),g=h.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:v}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,v]),y=h.useMemo(()=>o(g),[g,o]),x=h.useCallback(()=>{u(dt.from([Je([n.index])]))},[n.index,u]),b=h.useCallback(C=>{u(dt.from([Df(C.items,C.position,[n.index])]))},[n.index,u]),w=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:b,onRemove:x,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:y}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,b,x,f,d,y]);return c.jsx(c.Fragment,{children:h.useMemo(()=>r(w),[w,r])})}function ppn(e,t,n){return Object.is(t,-0)?"":iMe(e,t,n)}var sce=Object.freeze,mpn=Object.defineProperty,gpn=(e,t)=>sce(mpn(e,"raw",{value:sce(t||e.slice())})),ace;const vpn=$(Q)(ace||(ace=gpn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function uMe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ne.useState(!1),[a,l]=ne.useState(null);pr(()=>s(!1),[a]);const u=ne.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Fs(t);return c.jsx(nn,{open:i,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(vpn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(te,{space:4,children:[c.jsxs(L,{weight:"semibold",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]}),c.jsx(L,{size:1,weight:"semibold",children:"Why is this happening?"}),c.jsxs(L,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(M,{children:c.jsxs(L,{size:1,children:[c.jsx(kT,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(te,{space:2,children:[c.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(Q,{padding:2,overflow:"auto",border:!0,children:c.jsx(dr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(Q,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:c.jsxs(U,{align:"center",children:[c.jsx(M,{marginRight:3,children:c.jsx(L,{children:c.jsx(zl,{})})}),c.jsx(M,{flex:1,children:c.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]})})]})})})}function ypn(e){const{member:t}=e;return t.error.type==="INVALID_ITEM_TYPE"?c.jsx(uMe,{value:t.error.value}):c.jsxs("div",{children:["Unexpected Error: ",t.error.type]})}const bpn=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderInput:i,renderInlineBlock:s,renderField:a,renderItem:l,renderPreview:u}=t;return n.kind==="field"?c.jsx(C_,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:l,renderPreview:u},n.key):n.kind==="error"?c.jsx(CP,{member:n},n.key):n.kind==="fieldSet"?c.jsx(QV,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:l,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function xpn(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:o,renderInlineBlock:i,renderField:s,renderItem:a,renderPreview:l}=e,u=h.useMemo(()=>t.map(d=>c.jsx(bpn,{member:d,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:l},d.key)),[t,n,r,s,i,o,a,l]);return c.jsx(c.Fragment,{children:u})}const Jy=e=>{let{children:t}=e;return t};function wpn(e){return"absolutePath"in e}const dMe=h.memo(function(t){const n=h.useMemo(()=>wpn(t)?t.absolutePath:t.path.concat(t.relativePath),[t]),r=h.useCallback(()=>c.jsx(c.Fragment,{children:"Missing destination render function"}),[]);return c.jsx(Cpn,{...t,absolutePath:n,destinationRenderAnnotation:t.renderAnnotation||r,destinationRenderBlock:t.renderBlock||r,destinationRenderField:t.renderField,destinationRenderInlineBlock:t.renderInlineBlock||r,destinationRenderInput:t.renderInput,destinationRenderItem:t.renderItem,destinationRenderPreview:t.renderPreview})}),Cpn=h.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderInput:a,destinationRenderItem:l,destinationRenderPreview:u}=t,d=h.useCallback(y=>{if(Cn(y.path,n)||Ii(n,y.path))return a(y);if(!Xle(y)&&!Qle(y))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(y.path)));return c.jsx(e,{...y,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderInput:a,destinationRenderItem:l,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderPreview:u})},[n,r,o,i,s,a,l,u]),f=h.useCallback(y=>Ii(n,y.path)&&(t.includeField||!Cn(n,y.path))?i(y):Jy(y),[n,i,t.includeField]),p=h.useCallback(y=>Ii(n,y.path)&&(t.includeItem||!Cn(n,y.path))?l(y):Jy(y),[n,l,t.includeItem]),m=h.useCallback(y=>Ii(n,y.path)&&(t.includeItem||!Cn(n,y.path))?o(y):Jy(y),[n,o,t.includeItem]),v=h.useCallback(y=>Ii(n,y.path)&&(t.includeItem||!Cn(n,y.path))?s(y):Jy(y),[n,s,t.includeItem]),g=h.useCallback(y=>Ii(n,y.path)&&(t.includeItem||!Cn(n,y.path))?r(y):Jy(y),[n,r,t.includeItem]);if(Qle(t)){const y=Bb(t.path,n),x=t.members.find(b=>b.kind=="item"&&Lr(y[0])&&b.key===y[0]._key);if(!x){const w=Bb(t.path,n)[0]._key;return c.jsxs("div",{children:["No array item with _key ",c.jsxs("code",{children:['"',w,'"']})," found at path ",JSON.stringify(t.path)]})}return x.kind==="error"?c.jsx(ypn,{member:x}):c.jsx(JV,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderField:f,renderInlineBlock:v,renderItem:p,renderPreview:u})}if(Xle(t)){const y=Bb(t.path,n),x=t.members.find(b=>b.kind=="field"&&y[0]===b.name);if(!x){const b=y[0];return c.jsxs("div",{children:["Field ",JSON.stringify(b)," not found among members – please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return c.jsx(C_,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderInlineBlock:v,renderField:f,renderItem:p,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),fMe=h.createContext(null);function _pn(){const e=h.useContext(fMe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}function Ww(e){const{scrollElement:t,containerElement:n}=e;return c.jsx(fMe.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}const Spn=[0,0,1,0];function hMe(e){const{children:t,header:n,id:r,legacy_referenceElement:o,onClose:i,type:s,width:a,autofocus:l}=e,[u,d]=h.useState(null),f=h.useRef(null),p=c.jsx(w_,{margins:Spn,children:c.jsx(M,{ref:f,padding:4,children:t})});return s==="dialog"?c.jsx(Ww,{scrollElement:u,containerElement:f,children:c.jsx(Wi,{header:n,id:r||"",onClickOutside:i,onClose:i,width:a,contentRef:d,__unstable_autoFocus:l,children:p})}):c.jsx(knn,{header:n,onClose:i,referenceElement:o,width:a,containerRef:d,children:c.jsx(Ww,{scrollElement:u,containerElement:f,children:p})})}function Epn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const kpn={portal:!0,tone:"default"},jpn={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},Tpn={position:"relative"};function Apn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:l,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:y,onClose:x,changed:b,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=l.options)==null?void 0:t.sortable)!==!1,E=l.of,j=h.useRef(null);gP(j,m),Gi(w,(G,ee)=>{var N;!G&&ee&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Hw()}],position:"after"})},[v,p]),A=h.useCallback((G,ee)=>{v({items:[Q1(ee)],position:G})},[v]),D=G1(u,!0),P=h.useMemo(()=>D.length===0?null:c.jsx(x_,{presence:D,maxAvatars:1}),[D]),I=LV(u,!0),R=h.useMemo(()=>I.length===0?null:c.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(Z1,{validation:I,__unstable_showSummary:!0})}),[I]),O=I.some(G=>G.level==="error"),V=I.some(G=>G.level==="warning"),B=h.useMemo(()=>d?null:c.jsx(rn,{button:c.jsx(oe,{padding:2,mode:"bleed",icon:Fo}),id:"".concat(e.inputId,"-menuButton"),menu:c.jsxs(zt,{children:[c.jsx(Ne,{text:"Remove",tone:"critical",icon:Co,onClick:f}),c.jsx(Ne,{text:"Duplicate",icon:Ju,onClick:T}),c.jsx(xP,{types:E,onInsert:A})]}),popover:kpn}),[T,A,f,E,e.inputId,d]),H=Epn({readOnly:d,hasErrors:O,hasWarnings:V}),W=c.jsx(yP,{menu:B,presence:P,validation:R,tone:H,focused:w,dragHandle:S,selected:m,children:c.jsxs(Q,{as:"button",type:"button",tone:"inherit",radius:2,disabled:k,padding:1,onClick:y,ref:j,onFocus:g,__unstable_focusRing:!0,style:Tpn,children:[_({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),k&&c.jsx(Q,{style:jpn,tone:"transparent",radius:2,as:U,justify:"center",children:c.jsxs(U,{align:"center",justify:"center",padding:3,children:[c.jsx(M,{marginX:3,children:c.jsx(gr,{muted:!0})}),c.jsx(L,{size:1,muted:!0,children:"Resolving initial value…"})]})})]})}),z=fm(a);return c.jsxs(c.Fragment,{children:[c.jsx(yi,{path:u,isChanged:b,hasFocus:!!w,children:c.jsx(M,{paddingX:1,children:W})}),m&&c.jsx(hMe,{header:d?"View ".concat(z):"Edit ".concat(z),type:((r=(n=l==null?void 0:l.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=l==null?void 0:l.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}function Dpn(e){var t;return(t=e.components)!=null&&t.item?e.components.item:Qu(e)?Jfn:Apn}function Ppn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Ipn={portal:!0,tone:"default"};function Opn(e){var t,n,r,o,i,s,a,l,u,d;const f=h.useRef(null),{schemaType:p,path:m,open:v,inputId:g,children:y,inputProps:x}=e,{readOnly:b,focused:w,renderPreview:C,onChange:_}=e.inputProps,[S,E]=h.useState([]),j=pP(),k=h.useCallback(()=>x.onChange(Je()),[x]),T=e.value,{EditReferenceLink:A,getReferenceInfo:D,selectedState:P,isCurrentDocumentLiveEdit:I}=uH({path:m,schemaType:p,value:T});gP(f,v),Gi(w,(he,be)=>{!he&&be&&f.current&&f.current.focus()});const R=e.validation.some(he=>he.level==="error"),O=e.validation.some(he=>he.level==="warning"),V=wP(T==null?void 0:T._ref,D),B=((t=V.result)==null?void 0:t.type)||((n=T==null?void 0:T._strengthenOnPublish)==null?void 0:n.type),H=B?p.to.find(he=>he.name===B):void 0,W=P==="pressed",z=P==="selected",G=T==null?void 0:T._ref,ee=G&&((i=(o=(r=V.result)==null?void 0:r.preview)==null?void 0:o.published)==null?void 0:i._id),N=h.useCallback(()=>{_([p.weak===!0?bt(!0,["_weak"]):Je(["_weak"]),Je(["_strengthenOnPublish"])])},[_,p.weak]),Y=h.useCallback(()=>{_(p.weak===!0?bt(!0,["_weak"]):Je(["_weak"]))},[_,p]),q=h.useCallback(()=>{x.onPathFocus(["_ref"])},[x]),Z=T!=null&&T._weak?"weak":"strong",ie=p.weak===!0?"weak":"strong",re=G&&!V.isLoading&&(T==null?void 0:T._strengthenOnPublish),K=!V.isLoading&&((s=V.result)==null?void 0:s.availability.available)&&G&&Z!==ie&&!re,X=Ppn({readOnly:b,hasErrors:R,hasWarnings:O}),ce=!(T!=null&&T._ref)||x.focusPath[0]==="_ref",me=((a=V.result)==null?void 0:a.preview.draft)||((l=V.result)==null?void 0:l.preview.published),ae=c.jsxs(c.Fragment,{children:[I&&ee&&T._strengthenOnPublish&&c.jsx(Zf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:c.jsxs(te,{space:3,children:[c.jsxs(L,{as:"p",muted:!0,size:1,children:[c.jsx("strong",{children:(d=(u=V.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",p.weak?c.jsx(c.Fragment,{children:"finalized"}):c.jsx(c.Fragment,{children:"converted to a strong reference"}),"."]}),c.jsx(oe,{onClick:N,text:c.jsx(c.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),K&&c.jsx(Zf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(te,{space:3,children:[c.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:Z}),", but according to the current schema it should be"," ",c.jsxs("em",{children:[ie,"."]})]}),c.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?c.jsxs(c.Fragment,{children:["It will not be possible to delete the"," ",me!=null&&me.title?c.jsxs(c.Fragment,{children:['"',me==null?void 0:me.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):c.jsxs(c.Fragment,{children:["This makes it possible to delete the"," ",me!=null&&me.title?c.jsxs(c.Fragment,{children:['"',me==null?void 0:me.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),c.jsx(oe,{onClick:Y,text:c.jsxs(c.Fragment,{children:["Convert to ",ie," reference"]}),tone:"caution"})]})}),V.error&&c.jsx(Zf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(te,{space:3,children:[c.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",V.error.message]}),c.jsx(oe,{onClick:V.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),Ce=h.useMemo(()=>h.forwardRef(function(be,Le){return c.jsx(dg,{...be,intent:"edit",params:{id:T==null?void 0:T._ref,type:H==null?void 0:H.name},target:"_blank",rel:"noopener noreferrer",ref:Le})}),[H==null?void 0:H.name,T==null?void 0:T._ref]),_e=h.useMemo(()=>b?null:c.jsx(M,{marginLeft:1,children:c.jsx(rn,{button:c.jsx(oe,{paddingY:3,paddingX:2,mode:"bleed",icon:Fo}),id:"".concat(g,"-menuButton"),menu:c.jsxs(zt,{children:[!b&&c.jsxs(c.Fragment,{children:[c.jsx(Ne,{text:"Clear",tone:"critical",icon:Co,onClick:k}),c.jsx(Ne,{text:"Replace",icon:f1,onClick:q})]}),!b&&(T==null?void 0:T._ref)&&c.jsx(Mr,{}),(T==null?void 0:T._ref)&&c.jsx(Ne,{as:Ce,"data-as":"a",text:"Open in new tab",icon:Sh})]}),popover:Ipn})}),[k,q,g,Ce,b,T==null?void 0:T._ref]);return c.jsxs(c.Fragment,{children:[j&&e.actions&&e.actions.length>0&&c.jsx(y_,{actions:e.actions,documentId:j,documentType:p.name,onActions:E,path:m,schemaType:p}),c.jsx(b_,{actions:S,focused:!!e.inputProps.focused,path:m,children:c.jsx(X1,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:S,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,children:ce?c.jsx(M,{children:y}):c.jsx(Q,{shadow:1,radius:1,padding:1,tone:X,children:c.jsxs(te,{space:1,children:[c.jsxs(U,{gap:1,align:"center",children:[c.jsx(WRe,{__unstable_focusRing:!0,as:A,"data-pressed":W?!0:void 0,"data-selected":z?!0:void 0,documentId:T==null?void 0:T._ref,documentType:H==null?void 0:H.name,flex:1,paddingX:2,paddingY:1,pressed:W,radius:2,ref:f,selected:z,tone:"inherit",children:c.jsx(URe,{value:T,referenceInfo:V,renderPreview:C,type:p})}),c.jsx(M,{children:_e})]}),ae]})})})})]})}function pMe(e,t){return Gn(e.options,t)}const lce=["array","file","image","reference","slug"],$pn=["asset","crop","hotspot","_ref","_weak"],Rpn=["tags"],Mpn=["slug"];function tH(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?tH(e.type,t):[];return[e,...n]}function Fpn(e,t){return tc(e)?Bpn(e,t):Lpn(e,t)}function Lpn(e,t){var n,r,o;const{type:i,options:s}=e,a=mMe(i,lce),l=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,u=(a==null?void 0:a.name)||"";if(Mpn.includes(u))return 0;const d=lce.includes(u),f=((n=l==null?void 0:l.filter(m=>!$pn.includes(m.name)).length)!=null?n:0)>0,p=((o=(r=s==null?void 0:s.list)==null?void 0:r.length)!=null?o:0)>0;return f||p||!d?t:0}function Bpn(e,t){var n;const{options:r}=e,o=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,i=Rpn.includes((r==null?void 0:r.layout)||"");return o&&!i?t:0}function mMe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return mMe(e.type,t)}const zj=[];function Npn(e){return c.jsx(yi,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function R$(e){const[t,n]=h.useState(zj),r=pP(),o=!!e.inputProps.focused;return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(y_,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(b_,{actions:t,focused:o,path:e.path,children:c.jsx(X1,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":"field-".concat(e.inputId),description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,children:c.jsx(yi,{hasFocus:o,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function zpn(e){const[t,n]=h.useState(zj),r=pP(),o=!!e.inputProps.focused;return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(y_,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(b_,{actions:t,focused:o,path:e.path,children:c.jsx(vP,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":"field-".concat(e.inputId),description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function Vpn(e){const[t,n]=h.useState(zj),r=pP(),o=!!e.inputProps.focused,i=e.inputProps.members.find(a=>a.kind==="field"&&a.name==="hotspot"),s=i!=null&&i.open?e.presence:e.presence.concat((i==null?void 0:i.field.presence)||zj);return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(y_,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(b_,{actions:t,focused:o,path:e.path,children:c.jsx(vP,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:s,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function Hpn(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(aC(e))return Npn;const n=tH(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?Vpn:n.some(r=>R6(r))||n.some(r=>r.name==="slug")?R$:n.some(r=>Qu(r))?Opn:e.jsonType!=="object"&&e.jsonType!=="array"?R$:zpn}function Upn(e){const{allowedDecorators:t,block:n,onChange:r}=e;let o;return i=>{o=Array.isArray(i)?i:[i],o=o.map(a=>xw(a,{allowedDecorators:t}));const s=[Df(o,"after",[{_key:n._key}])];return r(dt.from(s))}}function Wpn(e){const{allowedDecorators:t,block:n,onChange:r}=e;return o=>{const i=[bt(xw(o,{allowedDecorators:t}),[{_key:n._key}])];return r(dt.from(i))}}function Ypn(e){const{block:t,onChange:n}=e;return()=>{const r=[Je([{_key:t._key}])];return n(dt.from(r))}}var cce=Object.freeze,qpn=Object.defineProperty,Gpn=(e,t)=>cce(qpn(e,"raw",{value:cce(t||e.slice())})),uce;const Kpn=$.div(uce||(uce=Gpn([`
  display: flex;
  pointer-events: all;
`])));function gMe(e){const t=Eo(),{block:n,onChange:r,renderBlockActions:o}=e,i=h.useMemo(()=>t.schemaTypes.decorators.map(a=>a.value),[t]),s=h.useMemo(()=>{if(o){const a={block:n,value:we.getValue(t),set:Wpn({allowedDecorators:i,block:n,onChange:r}),unset:Ypn({block:n,onChange:r}),insert:Upn({allowedDecorators:i,block:n,onChange:r})};return o(a)}},[o,n,t,r,i]);return s?c.jsx(Kpn,{contentEditable:!1,children:s}):null}var dce=Object.freeze,Zpn=Object.defineProperty,Xpn=(e,t)=>dce(Zpn(e,"raw",{value:dce(t||e.slice())})),fce;const vMe=$.div(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=Dt(o.spot.yellow,.2);return de(fce||(fce=Xpn([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],i)});var hce=Object.freeze,Qpn=Object.defineProperty,Jpn=(e,t)=>hce(Qpn(e,"raw",{value:hce(t||e.slice())})),pce;const yMe=$(yi)(()=>de(pce||(pce=Jpn([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function _P(e){return e.type?_P(e.type):e.name==="block"}function emn(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const tmn=["@@_NONEXISTENT_PATH_@@"];function SP(e){const t=h.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:hn,r=LV((e==null?void 0:e.path)||tmn),o=h.useMemo(()=>e!=null&&e.schemaType&&_P(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[i,s,a]=h.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),l=FV(t.current,o);return t.current=l,h.useMemo(()=>({validation:l,hasError:i,hasWarning:s,hasInfo:a}),[l,i,s,a])}const bMe=h.createContext([]);function nmn(e){return c.jsx(bMe.Provider,{value:e.markers,children:e.children})}function EP(e){const t=h.useContext(bMe);if(!t)throw new Error("Form context not provided");return h.useMemo(()=>t.filter(r=>Cn(r.path,e)),[t,e])}const nH=h.createContext([]);function rmn(e){return c.jsx(nH.Provider,{value:e.memberItems,children:e.children})}function kP(e){const t=h.useContext(nH);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function omn(){const e=h.useContext(nH);if(!e)throw new Error("Form context not provided");return e}function imn(e){const t=h.useRef([]);return smn({props:e,ref:t}),t.current}const smn=e=>{let{props:t,ref:n}=e;var r;const o=[],{members:i,path:s,schemaType:a,renderAnnotation:l,renderField:u,renderBlock:d,renderInput:f,renderItem:p,renderInlineBlock:m,renderPreview:v}=t;for(const y of i)if(y.kind==="item")if(!_P(y.item.schemaType))o.push({kind:"objectBlock",member:y,node:y.item});else{(y.item.validation.length>0||y.item.changed||(r=y.item.presence)!=null&&r.length)&&o.push({kind:"textBlock",member:y,node:y.item});const b=y.item.members.find(C=>C.kind==="field"&&C.name==="children");if(b&&b.kind==="field"&&XV(b))for(const C of b.field.members)C.kind==="item"&&C.item.schemaType.name!=="span"&&o.push({kind:"inlineObject",member:C,node:C.item});const w=y.item.members.filter(emn).find(C=>C.name==="markDefs");if(w)for(const C of w.field.members)C.kind==="item"&&C.item.schemaType.jsonType==="object"&&o.push({kind:"annotation",member:C,node:C.item})}const g=o.map(y=>{const x=Sn(y.node.path),b=n.current.find(_=>_.key===x),w=y.kind!=="textBlock";let C=null;if(w&&y.member!==(b==null?void 0:b.member)||y.node!==(b==null?void 0:b.node)){const _={absolutePath:qc(y.node.path),includeField:!1,members:i,path:qc(s),renderAnnotation:l,renderBlock:d,renderField:u,renderInlineBlock:m,renderInput:f,renderItem:p,renderPreview:v,schemaType:a};C=c.jsx(dMe,{..._})}return b?(b.member=y.member,b.node=y.node,b.input=C||b.input,b):{kind:y.kind,key:x,member:y.member,node:y.node,elementRef:h.createRef(),input:C}});return n.current=g,g};var mce=Object.freeze,amn=Object.defineProperty,Cd=(e,t)=>mce(amn(e,"raw",{value:mce(t||e.slice())})),gce,vce,yce,bce,xce,wce,Cce,_ce,Sce;const lmn=$(Q)(e=>{var t;const{color:n,radius:r,space:o}=e.theme.sanity,i=de(gce||(gce=Cd([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),o[1],o[1],o[1],o[1],r[2],n.dark?"screen":"multiply");return de(vce||(vce=Cd([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(t=n.selectable)==null?void 0:t.primary.selected.border,n.input.default.hovered.border,i,n.dark?fe.purple[950].hex:fe.purple[50].hex,i,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,i,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),cmn=$(M)(yce||(yce=Cd([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),umn=$.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return de(xce||(xce=Cd([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&de(bce||(bce=Cd([`
        display: none;
      `]))))}),dmn=$(U)(wce||(wce=Cd([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),fmn=$(M)(Cce||(Cce=Cd([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),hmn=$(U)(_ce||(_ce=Cd([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),pmn=$(M)(Sce||(Sce=Cd([`
  max-width: 250px;
`]))),mmn={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function gmn(e){const{children:t,focused:n,isOpen:r,onOpen:o,onRemove:i,readOnly:s,value:a}=e,l=h.useId(),u=h.useRef(null),d=h.useRef(!1),f=h.useMemo(()=>kd(a)?h.forwardRef(function(v,g){return c.jsx(dg,{...v,intent:"edit",params:{id:a._ref},ref:g})}):void 0,[a]);h.useEffect(()=>{r&&(d.current=!1)},[r]),Ns(h.useCallback(m=>{n&&m.key==="Tab"&&u.current&&!d.current&&!r&&(m.preventDefault(),m.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation(),i()},[i]);return c.jsxs(U,{children:[c.jsx(M,{flex:1,children:t}),c.jsx(M,{children:c.jsx(rn,{button:c.jsx(oe,{"aria-label":"Open menu",fontSize:1,iconRight:Fo,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:l,menu:c.jsx(zt,{children:c.jsxs(c.Fragment,{children:["_ref"in a&&a._ref&&c.jsx(Ne,{as:f,"data-as":"a",icon:ih,text:"Open reference"}),s&&c.jsx(Ne,{icon:n8,onClick:o,text:"View"}),!s&&c.jsx(Ne,{icon:ed,onClick:o,text:"Edit"}),!s&&c.jsx(Ne,{icon:Co,onClick:p,text:"Delete",tone:"critical"})]})}),popover:mmn})})]})}const xMe=e=>Array.isArray(e)?e.flatMap(xMe):typeof e=="number"?[e]:e==="auto"?["auto"]:[],vmn=e=>e==="dialog"||e==="popover"?e:void 0;function ymn(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:vmn(n.type),width:xMe(n.width)}:void 0}function bmn(e){const{onClose:t,children:n,title:r,width:o=1,autoFocus:i}=e,s=h.useId(),[a,l]=h.useState(null),u=h.useRef(null);return c.jsx(Wi,{header:r,id:s,onClickOutside:t,onClose:t,portal:"default",width:o,contentRef:l,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:i,children:c.jsx(w_,{margins:[0,0,1,0],children:c.jsx(Ww,{scrollElement:a,containerElement:u,children:c.jsx(M,{padding:4,ref:u,children:n})})})})}var Ece=Object.freeze,xmn=Object.defineProperty,rH=(e,t)=>Ece(xmn(e,"raw",{value:Ece(t||e.slice())})),kce,jce,Tce;const wmn=$(nn)(kce||(kce=rH([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),Cmn=$(M)(jce||(jce=rH([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),_mn=$(M)(Tce||(Tce=rH([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),Smn=["top","bottom"];function Emn(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:o=0}=e,[i,s]=h.useState(!1);return h.useEffect(()=>{s(!0)},[]),c.jsx(wmn,{content:c.jsx(kmn,{...e}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:Smn,floatingBoundary:t,open:i,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:o})}function kmn(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:o,autoFocus:i}=e;Ns(h.useCallback(u=>{u.key==="Escape"&&t()},[t])),pr(t,r?[r]:[],n);const[s,a]=h.useState(null),l=h.useRef(null);return c.jsx(Ww,{scrollElement:s,containerElement:l,children:c.jsxs(U,{ref:l,direction:"column",height:"fill",children:[c.jsx(_mn,{flex:"none",padding:1,children:c.jsxs(U,{align:"center",children:[c.jsx(M,{flex:1,padding:2,children:c.jsx(L,{weight:"semibold",children:o})}),c.jsx(oe,{autoFocus:!!i,icon:Bi,mode:"bleed",onClick:t,padding:2})]})}),c.jsx(Cmn,{flex:1,children:c.jsx(w_,{margins:[0,0,1,0],children:c.jsx(M,{padding:3,ref:a,children:e.children})})})]})})}function oH(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:o,referenceBoundary:i,referenceElement:s,schemaType:a}=e,l=h.useMemo(()=>ymn(a),[a]),u=(l==null?void 0:l.type)||n,d=c.jsxs(c.Fragment,{children:["Edit ",a.title]}),f=h.useCallback(()=>{o()},[o]),p=l==null?void 0:l.width;return u==="popover"?c.jsx(Emn,{autoFocus:t,floatingBoundary:r,onClose:f,referenceBoundary:i,referenceElement:s,title:d,width:p,children:e.children}):c.jsx(bmn,{onClose:f,title:d,width:p,autoFocus:t,children:e.children})}function jmn(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:l,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:p,renderBlock:m,renderBlockActions:v,renderCustomMarkers:g,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:w,renderPreview:C,schemaType:_,selected:S,value:E}=e,{onChange:j}=yl(),{Markers:k}=Nd().__internal.components,[T,A]=h.useState(!1),D=EP(l),P=Eo(),I=kP(Sn(l)),R=h.useRef(!1),O=h.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),V=h.useCallback(()=>A(!0),[]),B=h.useCallback(()=>A(!1),[]),H=h.useCallback(()=>{I&&(we.blur(P),s(I.node.path))},[P,I,s]),W=h.useCallback(()=>{i(),we.select(P,O),we.focus(P)},[i,P,O]),z=h.useCallback(()=>{if(!R.current)try{we.delete(P,O,{mode:"blocks"})}catch(be){console.error(be)}finally{R.current=!0}},[P,O]);h.useEffect(()=>()=>{R.current&&we.focus(P)},[P]);const G=h.useMemo(()=>o&&!v?{paddingX:5}:o&&v?{paddingLeft:5,paddingRight:2}:v?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,v]),{validation:ee,hasError:N,hasWarning:Y,hasInfo:q}=SP(I==null?void 0:I.node),Z=P.schemaTypes.portableText,ie=D.length>0,re=G1(l,!0),K=h.useMemo(()=>re.filter(be=>Cn(be.path,l)),[l,re]),X=N||Y||q||ie,ce=h.useMemo(()=>X&&c.jsx(pmn,{padding:2,children:c.jsx(k,{markers:D,validation:ee,renderCustomMarkers:g})})||null,[k,D,g,X,ee]),me=!!(I!=null&&I.member.open),ae=I==null?void 0:I.input,Ce=(I==null?void 0:I.node.path)||hn,_e=(t=I==null?void 0:I.elementRef)==null?void 0:t.current,he=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:_e||null,children:ae,focused:r,markers:D,onClose:W,onOpen:H,onPathFocus:a,onRemove:z,open:me,parentSchemaType:Z,path:Ce,presence:K,readOnly:!!u,renderAnnotation:p,renderBlock:m,renderDefault:wMe,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:w,renderPreview:C,schemaType:_,selected:S,validation:ee,value:E}),[n,_e,ae,r,D,W,H,a,z,me,Z,Ce,K,u,d,p,m,y,x,b,w,C,_,S,ee,E]);return h.useMemo(()=>c.jsx(M,{ref:I==null?void 0:I.elementRef,contentEditable:!1,children:c.jsx(U,{paddingBottom:1,marginY:3,style:void 0,children:c.jsxs(dmn,{flex:1,children:[c.jsx(it,{placement:"top",portal:"editor",disabled:!X,content:ce,children:c.jsx(cmn,{...G,children:m&&m(he)})}),c.jsx(fmn,{marginRight:1,children:c.jsx(hmn,{children:v&&E&&r&&!u&&c.jsx(gMe,{block:E,onChange:j,renderBlockActions:v})})}),o&&I&&c.jsx(umn,{$hasChanges:I.member.item.changed,onMouseOut:B,onMouseOver:V,children:c.jsx(yMe,{hasFocus:r,isChanged:I.member.item.changed,path:I.member.item.path,withHoverEffect:!1})}),T&&c.jsx(vMe,{})]})})}),[he,r,B,V,G,o,I,j,u,m,v,T,ce,X,E])}const wMe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,value:g,validation:y}=e,x=g9e(g),b=y.filter(E=>E.level==="error").length>0,w=y.filter(E=>E.level==="warning").length>0,C=s.length>0,_=v||i?"primary":"default",S=h.useCallback(E=>{E.preventDefault(),E.stopPropagation(),l()},[l]);return c.jsxs(c.Fragment,{children:[c.jsx(lmn,{"data-focused":i?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":b?"":void 0,"data-markers":C?"":void 0,"data-read-only":f?"":void 0,"data-selected":v?"":void 0,"data-testid":"pte-block-object","data-warning":w?"":void 0,flex:1,onDoubleClick:S,padding:x?0:1,tone:_,children:p({actions:c.jsx(gmn,{isOpen:d,focused:i,onOpen:l,onRemove:u,readOnly:f,value:g}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:g})}),d&&c.jsx(oH,{floatingBoundary:t,defaultType:"dialog",onClose:a,autoFocus:i,schemaType:m,referenceBoundary:n,referenceElement:r,children:o})]})},eb=[1,2,3,4,5,6,7,8,9],Ace=["●","○","■"],Dce=["number","lower-alpha","lower-roman"],Tmn={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},Amn={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function $p(e){return"list-level-".concat(e)}var Pce=Object.freeze,Dmn=Object.defineProperty,Qc=(e,t)=>Pce(Dmn(e,"raw",{value:Pce(t||e.slice())})),Ice,Oce,$ce,Rce,Mce,Fce,Lce,Bce,Nce,zce;function Pmn(e){var t;const{$level:n,theme:r}=e,{color:o,fonts:i,radius:s,space:a}=r.sanity,l=Dce[(n-1)%Dce.length],u=Ace[(n-1)%Ace.length];return de(Ice||(Ice=Qc([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),o.dark?"screen":"multiply",a[1],a[1],a[1],a[1],s[2],o.dark?fe.purple[950].hex:fe.purple[50].hex,o.muted.caution.enabled.border,o.muted.caution.hovered.bg,o.muted.critical.enabled.border,o.muted.critical.hovered.bg,$p(n),$p(n),l,u,i.text.family,(t=o.selectable)==null?void 0:t.primary.pressed.bg)}const Imn=$.div(Pmn),Omn=$(M)(Oce||(Oce=Qc([`
  position: relative;
  display: flex;
`]))),$mn=$.div($ce||($ce=Qc([`
  user-select: none;
  white-space: nowrap;
`]))),Rmn=$(M)(Rce||(Rce=Qc([`
  user-select: none;
`]))),Mmn=$(M)(Mce||(Mce=Qc([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),Fmn=$(U)(e=>{let{theme:t}=e;const{fonts:n,space:r}=t.sanity,o=n.text.sizes[1],i=n.text.sizes[2],s=o.lineHeight-o.ascenderHeight-o.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,u=0-(s+r[2]+r[2]-a)/2;return de(Fce||(Fce=Qc([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),Lmn=$(M)(Lce||(Lce=Qc([`
  max-width: 250px;
`]))),Bmn=$(U)(Bce||(Bce=Qc([`
  position: relative;
  padding-left: `,`px;
`])),e=>{let{$level:t}=e;return t?t*32:0}),Nmn=$.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return de(zce||(zce=Qc([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&de(Nce||(Nce=Qc([`
        display: none;
      `]))))});var Vce=Object.freeze,zmn=Object.defineProperty,CMe=(e,t)=>Vce(zmn(e,"raw",{value:Vce(t||e.slice())})),Hce,Uce;const zd=$.div(Hce||(Hce=CMe([`
  display: block;
`]))),iH=e=>{let{children:t,...n}=e;return c.jsx(L,{"data-testid":"text-style--normal",...n,children:c.jsx(zd,{children:t})})},_Me=e=>{let{children:t,...n}=e;return c.jsx(Xo,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:c.jsx(zd,{children:t})})},SMe=e=>{let{children:t,...n}=e;return c.jsx(Xo,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:c.jsx(zd,{children:t})})},EMe=e=>{let{children:t,...n}=e;return c.jsx(Xo,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:c.jsx(zd,{children:t})})},kMe=e=>{let{children:t,...n}=e;return c.jsx(Xo,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:c.jsx(zd,{children:t})})},jMe=e=>{let{children:t,...n}=e;return c.jsx(Xo,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:c.jsx(zd,{children:t})})},TMe=e=>{let{children:t,...n}=e;return c.jsx(Xo,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:c.jsx(zd,{children:t})})},Vmn=$.blockquote(Uce||(Uce=CMe([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),e=>{let{theme:t}=e;return t.sanity.space[3]}),AMe=e=>{let{children:t,...n}=e;return c.jsx(Vmn,{"data-testid":"text-style--blockquote",...n,children:c.jsx(L,{as:"p",children:t})})},M$={normal:iH,h1:_Me,h2:SMe,h3:EMe,h4:kMe,h5:jMe,h6:TMe,blockquote:AMe};function Hmn(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:l,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:w,schemaType:C,selected:_,spellCheck:S,value:E}=e,{Markers:j}=Nd().__internal.components,[k,T]=h.useState(!1),A=EP(l),D=kP(Sn(l)),P=Eo(),{onChange:I}=yl(),R=G1(l,!0),O=h.useMemo(()=>R.filter(ae=>Cn(ae.path,l)||ae.path.slice(-3)[1]==="children"&&ae.path.length-l.length===2),[l,R]),V=h.useCallback(()=>T(!0),[]),B=h.useCallback(()=>T(!1),[]),{validation:H,hasError:W,hasWarning:z,hasInfo:G}=SP(D==null?void 0:D.node),ee=!!v&&A.length>0,N=W||z||ee||G,Y=h.useCallback(()=>{D&&s(D.node.path)},[s,D]),q=h.useCallback(()=>{const ae={path:l.slice(-1),offset:0},Ce={focus:ae,anchor:ae};we.delete(P,Ce,{mode:"blocks"}),we.focus(P)},[l,P]),Z=h.useMemo(()=>c.jsxs(Bmn,{align:"flex-start",$level:E==null?void 0:E.level,children:[E.listItem&&c.jsx($mn,{contentEditable:!1,children:c.jsx(L,{"data-list-prefix":"",children:c.jsx(zd,{})})}),c.jsx("div",{"data-text":"",style:void 0,children:t})]}),[E.listItem,E.level,t]),ie=h.useMemo(()=>o&&!m?{paddingX:5}:o&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,m]),re=h.useMemo(()=>E.listItem?{paddingY:2}:Amn[E.style||"normal"]||{paddingY:2},[E]),K=!!(D!=null&&D.member.open),X=P.schemaTypes.portableText,ce=h.useMemo(()=>{var ae;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((ae=D==null?void 0:D.elementRef)==null?void 0:ae.current)||null,children:Z,focused:r,markers:A,onClose:i,onOpen:Y,onPathFocus:a,onRemove:q,open:K,parentSchemaType:X,path:(D==null?void 0:D.node.path)||hn,presence:O,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderDefault:DMe,renderField:g,renderInput:x,renderInlineBlock:y,renderItem:b,renderPreview:w,schemaType:C,selected:_,validation:H,value:E}},[n,r,K,A,D==null?void 0:D.elementRef,D==null?void 0:D.node.path,i,Y,a,q,X,u,d,p,f,g,y,x,b,w,C,_,Z,O,H,E]),me=h.useMemo(()=>N&&c.jsx(Lmn,{padding:2,children:c.jsx(j,{markers:A,renderCustomMarkers:v,validation:H})})||null,[j,A,v,N,H]);return h.useMemo(()=>c.jsx(M,{"data-testid":"text-block",...re,style:void 0,ref:D==null?void 0:D.elementRef,children:c.jsx(Omn,{"data-testid":"text-block__wrapper",children:c.jsxs(U,{flex:1,...ie,children:[c.jsx(M,{flex:1,children:c.jsx(it,{content:me,disabled:!N,placement:"top",portal:"editor",children:c.jsx(Imn,{$level:E.level||1,"data-error":W?"":void 0,"data-list-item":E.listItem,"data-markers":ee?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":z?"":void 0,spellCheck:S,children:f&&f(ce)})})}),c.jsxs(Rmn,{contentEditable:!1,children:[c.jsx(Mmn,{marginRight:1,children:c.jsx(Fmn,{children:m&&r&&!u&&c.jsx(gMe,{onChange:I,block:E,renderBlockActions:m})})}),o&&D&&c.jsx(Nmn,{$hasChanges:D.member.item.changed,onMouseEnter:V,onMouseLeave:B,children:c.jsx(yMe,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})})]}),k&&c.jsx(vMe,{})]})})}),[ce,r,V,B,W,ee,z,ie,o,D,I,re,u,f,m,k,S,me,N,E])}const DMe=e=>c.jsx(c.Fragment,{children:e.children});var Wce=Object.freeze,Umn=Object.defineProperty,Wmn=(e,t)=>Wce(Umn(e,"raw",{value:Wce(t||e.slice())})),Yce;const Ymn=$(nn)(Yce||(Yce=Wmn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),qmn=["top","bottom"];function Gmn(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:o,referenceBoundary:i,referenceElement:s,title:a,open:l}=e,{sanity:u}=zs(),d=h.useRef(null),f=h.useRef(null),p=u.color.dark?"light":"dark";Ns(h.useCallback(g=>{g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),n())},[n]));const m=h.useCallback(g=>{var y;if(!((y=f.current)!=null&&y.disabled)){g.preventDefault(),g.stopPropagation();try{o(g)}catch(x){console.error(x)}finally{f.current&&(f.current.disabled=!0)}}},[o]),v=h.useMemo(()=>c.jsx(M,{padding:1,children:c.jsxs(Zt,{space:1,children:[c.jsx(M,{padding:2,children:c.jsx(L,{weight:"semibold",size:1,children:a})}),c.jsx(oe,{icon:ed,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),c.jsx(oe,{ref:f,icon:Co,mode:"bleed",padding:2,onClick:m,tone:"critical",alt:"Remove object"})]})}),[m,r,a]);return c.jsx(Ymn,{constrainSize:!0,content:v,fallbackPlacements:qmn,floatingBoundary:t,open:l,placement:"top",portal:!0,referenceBoundary:i,referenceElement:s,scheme:p})}var qce=Object.freeze,Kmn=Object.defineProperty,sH=(e,t)=>qce(Kmn(e,"raw",{value:qce(t||e.slice())})),Gce,Kce,Zce;const Zmn=$(Q)(Jmn),Xmn=$.span(Gce||(Gce=sH([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),Qmn=$(M)(Kce||(Kce=sH([`
  max-width: 250px;
`])));function Jmn(e){let{theme:t}=e;var n,r,o;const{color:i,radius:s}=t.sanity;return de(Zce||(Zce=sH([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),s[2],(n=i.selectable)==null?void 0:n.primary.selected.border,(r=i.selectable)==null?void 0:r.primary.pressed.fg,(o=i.selectable)==null?void 0:o.primary.pressed.bg,i.input.default.hovered.border,i.dark?fe.purple[950].hex:fe.purple[50].hex,i.muted.caution.hovered.bg,i.muted.caution.hovered.border,i.input.invalid.enabled.bg,i.input.invalid.enabled.border,i.input.invalid.hovered.border)}const egn=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:o,onItemOpen:i,onPathFocus:s,path:a,readOnly:l,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:p,renderCustomMarkers:m,renderField:v,renderItem:g,renderInlineBlock:y,renderInput:x,renderPreview:b,schemaType:w,selected:C,value:_}=e,{Markers:S}=Nd().__internal.components,E=Eo(),j=EP(a),k=kP(Sn(a)),{validation:T,hasError:A,hasInfo:D,hasWarning:P}=SP(k==null?void 0:k.node),I=E.schemaTypes.block,R=j.length>0,O=h.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),V=h.useCallback(()=>{we.delete(E,O,{mode:"children"}),we.focus(E)},[O,E]),B=h.useCallback(()=>{k&&(we.blur(E),i(k.node.path))},[E,i,k]),H=h.useCallback(()=>{o(),we.select(E,O),we.focus(E)},[o,E,O]),W=!!(k!=null&&k.member.open),z=k==null?void 0:k.input,G=(k==null?void 0:k.node.path)||hn,ee=(t=k==null?void 0:k.elementRef)==null?void 0:t.current,N=G1(a,!0),Y=h.useMemo(()=>N.filter(re=>Cn(re.path,a)),[a,N]),q=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:ee,children:z,focused:r,onClose:H,onOpen:B,onPathFocus:s,onRemove:V,open:W,markers:j,member:k==null?void 0:k.member,parentSchemaType:I,path:G,presence:Y,readOnly:!!l,renderAnnotation:f,renderBlock:p,renderDefault:PMe,renderField:v,renderInlineBlock:y,renderInput:x,renderItem:g,renderPreview:b,schemaType:w,selected:C,value:_,validation:T}),[n,r,z,W,j,k==null?void 0:k.member,G,H,B,s,V,I,l,u,ee,f,p,v,y,x,g,b,Y,w,C,T,_]),Z=A||P||D||R,ie=h.useMemo(()=>Z&&c.jsx(Qmn,{padding:2,children:c.jsx(S,{markers:j,validation:T,renderCustomMarkers:m})})||null,[S,j,m,Z,T]);return h.useMemo(()=>c.jsx("span",{ref:k==null?void 0:k.elementRef,contentEditable:!1,children:c.jsx(it,{placement:"bottom",portal:"editor",disabled:!Z,content:ie,children:y&&c.jsx("span",{style:{position:"relative"},children:y(q)})})}),[q,k==null?void 0:k.elementRef,y,ie,Z])},PMe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,validation:g,value:y}=e,x=s.length>0,[b,w]=h.useState(!1),C=(m==null?void 0:m.title)||m.name,_=g.filter(T=>T.level==="error").length>0,S=g.filter(T=>T.level==="warning").length>0,E=h.useCallback(()=>{w(!1),l()},[l]);h.useEffect(()=>{w(d?!1:!!i)},[i,d]);const j=h.useMemo(()=>{if(_)return"critical";if(S)return"caution";if(v||i)return"primary"},[i,_,S,v]),k=h.useCallback(()=>{w(!1)},[]);return c.jsxs(c.Fragment,{children:[c.jsx(Zmn,{"data-focused":i||void 0,"data-invalid":_||void 0,"data-markers":x||void 0,"data-read-only":f||void 0,"data-selected":v||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:f?E:void 0,onDoubleClick:E,tone:j,children:c.jsx(Xmn,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:y,fallbackTitle:"Click to edit"})})}),r&&c.jsx(Gmn,{floatingBoundary:t,onClosePopover:k,onDelete:u,onEdit:E,open:b,referenceBoundary:n,referenceElement:r,title:C}),d&&c.jsx(oH,{defaultType:"popover",onClose:a,autoFocus:i,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};var Xce=Object.freeze,tgn=Object.defineProperty,ngn=(e,t)=>Xce(tgn(e,"raw",{value:Xce(t||e.slice())})),Qce;const rgn=$(nn)(Qce||(Qce=ngn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),ogn=["top","bottom"];function ign(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:o,referenceBoundary:i,referenceElement:s,selected:a,title:l}=e,[u,d]=h.useState(!1),[f,p]=h.useState(null),m=h.useRef(null),{sanity:v}=zs(),g=h.useRef(null),y=v.color.dark?"light":"dark",x=h.useMemo(()=>f?{getBoundingClientRect:()=>f}:null,[f]);Ns(h.useCallback(S=>{u&&S.key==="Escape"&&d(!1)},[u]));const b=h.useCallback(()=>{if(t){d(!1),p(null);return}const S=window.getSelection();if(!S||S.rangeCount===0)return;const E=S.getRangeAt(0);if(!(s==null?void 0:s.contains(E.commonAncestorContainer))){d(!1),p(null);return}const k=E==null?void 0:E.getBoundingClientRect();k&&(d(!0),p(k))},[t,s]);h.useEffect(()=>(document.addEventListener("selectionchange",b,{passive:!0}),()=>{document.removeEventListener("selectionchange",b)}),[b]);const w=h.useCallback(()=>{d(!1),r()},[r]);h.useEffect(()=>{!t&&a&&d(!0),t&&d(!1)},[t,a]);const C=h.useCallback(()=>{d(!1),o()},[o]),_=h.useCallback(()=>{m.current&&p(m.current.getBoundingClientRect())},[]);return h.useEffect(()=>{if(u)return i==null||i.addEventListener("scroll",_),()=>{i==null||i.removeEventListener("scroll",_)}},[u,i,_]),u?c.jsx(rgn,{open:u,floatingBoundary:n,constrainSize:!0,content:c.jsx(M,{padding:1,"data-testid":"annotation-toolbar-popover",children:c.jsxs(Zt,{space:1,children:[c.jsx(M,{padding:2,children:c.jsx(L,{weight:"semibold",size:1,children:l})}),c.jsx(oe,{icon:ed,mode:"bleed",onClick:w,padding:2,alt:"Edit annotation",tabIndex:0}),c.jsx(oe,{icon:Co,mode:"bleed",padding:2,onClick:C,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:ogn,placement:"top",portal:!0,preventOverflow:!0,ref:g,referenceBoundary:i,referenceElement:x,scheme:y}):null}var Jce=Object.freeze,sgn=Object.defineProperty,IMe=(e,t)=>Jce(sgn(e,"raw",{value:Jce(t||e.slice())})),eue,tue;const agn=$.span(e=>{var t,n,r,o;const{$toneKey:i="default",theme:s}=e;return de(eue||(eue=IMe([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(t=s.sanity.color.selectable)==null?void 0:t[i].enabled.bg,(n=s.sanity.color.selectable)==null?void 0:n[i].enabled.fg,(r=s.sanity.color.selectable)==null?void 0:r[i].enabled.fg,(o=s.sanity.color.selectable)==null?void 0:o[i].enabled.fg,s.sanity.color.dark?fe.purple[950].hex:fe.purple[50].hex,s.sanity.color.muted.caution.hovered.bg,s.sanity.color.muted.critical.hovered.bg)}),lgn=$(M).attrs({forwardedAs:"span"})(tue||(tue=IMe([`
  max-width: 250px;
`])));function cgn(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:o,focused:i,onItemClose:s,onItemOpen:a,onPathFocus:l,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:p,renderBlock:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:w,schemaType:C,selected:_,value:S}=e,{Markers:E=vRe}=Nd().__internal.components,j=Eo(),k=h.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:S._key}]),[u,S._key]),[T,A]=h.useState(null),D=h.useMemo(()=>u.slice(u.length-3,u.length),[u]),P=kP(Sn(k)),{validation:I}=SP(P==null?void 0:P.node),R=EP(u),O=h.useMemo(()=>c.jsx("span",{"data-annotation":"",children:n}),[n]),V=h.useCallback(()=>{P&&(we.blur(j),l(P.node.focusPath),a(P.node.path))},[j,P,a,l]),B=h.useCallback(()=>{s();const K=we.getSelection(j),X=(K==null?void 0:K.focus.path)&&Cn(K.focus.path,D)&&K.focus.offset,ce=(K==null?void 0:K.anchor.path)&&Cn(K.anchor.path,D)&&K.anchor.offset;we.select(j,{anchor:{path:D,offset:ce||0},focus:{path:D,offset:X||0}}),we.focus(j)},[j,D,s]),H=h.useCallback(()=>{we.removeAnnotation(j,C),we.focus(j)},[j,C]),W=h.useMemo(()=>I.length>0||R.length>0?c.jsx(it,{placement:"bottom",portal:"default",content:c.jsx(lgn,{padding:2,children:c.jsx(E,{markers:R,renderCustomMarkers:v,validation:I})}),children:O}):void 0,[E,R,v,O,I]),z=G1(u,!0),G=h.useMemo(()=>z.filter(K=>Cn(K.path,u)),[u,z]),ee=!!(P!=null&&P.member.open),N=P==null?void 0:P.input,Y=(P==null?void 0:P.node.path)||hn,q=T,Z=h.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:f,__unstable_referenceElement:q,__unstable_textElementFocus:r,children:N,focused:i,markers:R,onClose:B,onOpen:V,onPathFocus:l,onRemove:H,open:ee,parentSchemaType:j.schemaTypes.block,path:Y,presence:G,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:g,renderInlineBlock:y,renderInput:x,renderPreview:w,renderItem:b,renderDefault:BL,schemaType:C,selected:_,textElement:W||O,validation:I,value:S}),[j.schemaTypes.block,r,o,i,N,ee,R,W,Y,B,V,l,H,d,f,q,p,m,g,y,x,b,w,G,C,_,O,I,S]),ie=(t=C.components)==null?void 0:t.annotation,re=h.useCallback(K=>{P!=null&&P.elementRef&&(P.elementRef.current=K),A(K)},[P]);return h.useMemo(()=>c.jsx("span",{ref:re,style:void 0,children:ie?c.jsx(ie,{...Z}):c.jsx(BL,{...Z})}),[ie,Z,re])}const BL=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,selected:p,schemaType:m,textElement:v,validation:g}=e,y=m.name==="link",x=g.filter(_=>_.level==="error").length>0,b=g.filter(_=>_.level==="warning").length>0,w=s.length>0,C=h.useMemo(()=>x?"critical":b?"caution":y?"primary":"default",[y,x,b]);return c.jsxs(agn,{$toneKey:C,"data-link":y?"":void 0,"data-error":x?"":void 0,"data-warning":b?"":void 0,"data-markers":w||void 0,onClick:f?l:void 0,children:[v,c.jsx(ign,{annotationOpen:d,floatingBoundary:t,onOpen:l,onRemove:u,referenceBoundary:n,referenceElement:r,selected:p,title:m.title||m.name}),d&&c.jsx(oH,{defaultType:"popover",floatingBoundary:t,onClose:a,autoFocus:i,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};function ugn(e){var t;return(t=e.components)!=null&&t.block?e.components.block:_P(e)?DMe:wMe}function dgn(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:PMe}function fgn(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:BL}const hgn=/^\d+$/;function pgn(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function mgn(e){const[t,n]=e.split("==");return{[t]:pgn(n)}}function ggn(e){return hgn.test(e)?Number(e):e}function vgn(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?mgn(t):ggn(t))}function Wg(e){return vgn(e)}class czn extends ne.Component{constructor(){super(...arguments),this.state={focusPath:[]},this.handleFocus=t=>{this.setState({focusPath:t})},this.handleBlur=()=>{}}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function t1(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:o}=e,i=t==null?void 0:t._ref,s=So(()=>r(i),[i,r]);return c.jsx(c.Fragment,{children:i&&s?n(s):o})}function ygn(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):OMe(Array.from(e.items||[])).then($n)}function bgn(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):OMe(n).then($n)}function nue(e){return e===null?[]:[e]}function OMe(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return nue(t.getAsFile())}return n?n.isDirectory?$Me(n):nue(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function $Me(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map($Me)).then($n))}return Promise.resolve([])}function xgn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,o)=>{const i=new Image;i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const a=s.getContext("2d");a==null||a.drawImage(i,0,0,s.width,s.height);try{s.toBlob(r,t,n)}catch(l){o(l)}},i.src=e})}const wgn={opacity:0,position:"absolute"};function RMe(e){return ne.forwardRef(function(n,r){const{onFiles:o,onFilesOver:i,onFilesOut:s,disabled:a,...l}=n,[u,d]=ne.useState(!1),f=ne.useRef(null),p=mr(r),m=ne.useRef([]),v=h.useCallback(S=>{o==null||o(S)},[o]),g=h.useCallback(S=>{S.target===p.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&d(!0)},[p]),y=h.useCallback(S=>{ygn(S.clipboardData).then(E=>f.current?E.length>0?E:Cgn(f.current,"image/jpeg"):[]).then(E=>{var j;v(E),d(!1),(j=p.current)==null||j.focus()})},[v,p]),x=h.useCallback(S=>{m.current=[],S.preventDefault(),S.stopPropagation();const E=S.nativeEvent.dataTransfer;o&&E&&bgn(E).then(j=>{j&&v(j)}),s==null||s()},[v,o,s]),b=h.useCallback(S=>{o&&(S.preventDefault(),S.stopPropagation())},[o]),w=h.useCallback(S=>{if(S.stopPropagation(),i&&p.current===S.currentTarget){m.current=[...new Set(m.current),S.currentTarget];const E=Array.from(S.dataTransfer.items).map(j=>({type:j.type,kind:j.kind}));i(E)}},[i,p]),C=h.useCallback(S=>{S.stopPropagation();const E=m.current.indexOf(S.currentTarget);E>-1&&m.current.splice(E,1),m.current.length===0&&(s==null||s())},[s]),_=ne.useRef(!1);return ne.useEffect(()=>{var S;!_.current&&u&&f.current?(f.current.focus(),_gn(f.current)):_.current&&!u&&((S=f.current)==null||S.focus()),_.current=u},[u]),c.jsxs(c.Fragment,{children:[c.jsx(e,{...l,ref:p,onKeyDown:a?void 0:g,onDragOver:a?void 0:b,onDragEnter:a?void 0:w,onDragLeave:a?void 0:C,onDrop:a?void 0:x}),!a&&u&&c.jsx("div",{contentEditable:!0,onPaste:y,ref:f,style:wgn})]})})}function Cgn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>xgn(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}function _gn(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function aH(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function lH(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&aH(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var rue=Object.freeze,Sgn=Object.defineProperty,Egn=(e,t)=>rue(Sgn(e,"raw",{value:rue(t||e.slice())})),oue;function MMe(e){return $(e)(t=>{const n={width:t.$border?1:0,color:"var(--card-border-color)"};return de(oue||(oue=Egn([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),aH(n),ge(t.theme.sanity.radius[1]),lH({base:t.theme.sanity.color.base,border:n,focusRing:t.theme.sanity.focusRing}))})}const FMe=MMe(RMe(Q));var iue=Object.freeze,kgn=Object.defineProperty,jP=(e,t)=>iue(kgn(e,"raw",{value:iue(t||e.slice())})),sue,aue,lue,cue;const jgn=$(Q)(sue||(sue=jP([`
  min-height: 82px;
  box-sizing: border-box;
`]))),Tgn=$(U)(aue||(aue=jP([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Agn=$(te)(lue||(lue=jP([`
  position: relative;
  width: 60%;
`]))),Dgn=$(dr)(cue||(cue=jP([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),Pgn=1e3*60*2,Ign=e=>new Date().getTime()-new Date(e).getTime();function LMe(e){let{uploadState:t,onCancel:n,onStale:r,height:o}=e;const i=t.file.name;return h.useEffect(()=>{Ign(t.updatedAt)>Pgn&&(r==null||r())},[t.updatedAt,r]),c.jsx(jgn,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:c.jsxs(Tgn,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[c.jsxs(Agn,{children:[c.jsx(U,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:c.jsx(L,{size:1,children:c.jsxs(Zt,{space:2,children:["Uploading",c.jsx(Dgn,{size:1,children:i||"..."})]})})}),c.jsx(Q,{marginTop:3,radius:5,shadow:1,children:c.jsx(orn,{value:t.progress})})]}),n?c.jsx(oe,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function Ogn(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.onload=()=>{const i=new FileReader;i.onloadend=()=>{var s;const a=(s=i.result)==null?void 0:s.toString(),l=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!l&&!t){r(new Error("Could not find mime type for image"));return}n(BMe(i.result,t||"".concat(Od(),".").concat(l)))},i.readAsDataURL(o.response)},o.onerror=i=>{r(i)},o.open("GET",e),o.responseType="blob",o.send()})}function $gn(e,t){return new Promise((n,r)=>{const o=e.toString(),i=o.substring(11,o.indexOf(";base64"));if(!i&&!t){r(new Error("Could not find mime type for image"));return}n(BMe(e,t||"".concat(Od(),".").concat(i)))})}function BMe(e,t){var n;const r=e.split(","),o=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],i=atob(r[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);return new File([a],t,{type:o})}function NMe(e){let{assetFromSource:t,onChange:n,type:r,resolveUploader:o,uploadWith:i,isImage:s}=e;if(!t)throw new Error("No asset given");if(!Array.isArray(t)||t.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=t[0],l=a.assetDocumentProps,u=l==null?void 0:l.originalFilename,d=l==null?void 0:l.label,f=l==null?void 0:l.title,p=l==null?void 0:l.description,m=l==null?void 0:l.creditLine,v=l==null?void 0:l.source,g=s?[Je(["hotspot"]),Je(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([ls({_type:r.name}),...g,bt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const y=o(r,a.value);y&&i(y,a.value,{label:d,title:f,description:p,creditLine:m,source:v});break}case"base64":$gn(a.value,u).then(y=>{const x=o(r,y);x&&i(x,y,{label:d,title:f,description:p,creditLine:m,source:v})});break;case"url":Ogn(a.value,u).then(y=>{const x=o(r,y);x&&i(x,y,{label:d,title:f,description:p,creditLine:m,source:v})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var uue=Object.freeze,Rgn=Object.defineProperty,Mgn=(e,t)=>uue(Rgn(e,"raw",{value:uue(t||e.slice())})),due;const Fgn=$(Ne)(due||(due=Mgn([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),Lgn=ne.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:l,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,y="".concat(o||"","-").concat(h.useId()),x=ne.useCallback(w=>{u&&w.target.files&&u(Array.from(w.target.files))},[u]),b=c.jsxs(U,{align:"center",justify:"flex-start",padding:d,children:[r&&c.jsx(M,{marginRight:m?f:void 0,children:c.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,ic.isValidElementType(r)&&h.createElement(r)]})}),m&&c.jsx(L,{align:p,size:a,textOverflow:"ellipsis",children:m})]});return c.jsxs(Fgn,{...g,htmlFor:y,padding:0,fontSize:2,disabled:v,ref:n,children:[b,c.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:s,id:y,multiple:l,onChange:x,type:"file",value:"",disabled:v})]})});function zMe(e){const{onUpload:t,onReset:n,readOnly:r,accept:o,directUploads:i,browse:s,downloadUrl:a,copyUrl:l}=e,{push:u}=Qo(),d=h.useCallback(()=>{navigator.clipboard.writeText(l||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,l]);return c.jsxs(c.Fragment,{children:[c.jsx(M,{padding:2,children:c.jsx(Ut,{muted:!0,size:1,children:"Replace"})}),c.jsx(Lgn,{icon:IT,mode:"bleed",onSelect:t,accept:o,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!i,fontSize:2}),s,(a||l)&&c.jsx(Mr,{}),a&&c.jsx(Ne,{as:"a",icon:t8,text:"Download",href:a}),l&&c.jsx(Ne,{icon:Ju,text:"Copy URL",onClick:d}),c.jsx(Mr,{}),c.jsx(Ne,{tone:"critical",icon:td,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var fue=Object.freeze,Bgn=Object.defineProperty,Ngn=(e,t)=>fue(Bgn(e,"raw",{value:fue(t||e.slice())})),hue;const zgn=$(U)(hue||(hue=Ngn([`
  pointer-events: none;
`])));function VMe(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:o,rejectedFilesCount:i,directUploads:s}=e,a=n==="file",l=h.useMemo(()=>r?c.jsx(fC,{}):t&&i>0||!s?c.jsx(rh,{}):a?c.jsx(u1,{}):c.jsx(Yl,{}),[s,t,a,r,i]),u=h.useMemo(()=>{let d="Drag or paste ".concat(n," here");return s?(r&&(d="Read only"),t&&s&&!r&&(o.length>0&&(d="Drop to upload ".concat(n)),i>0&&(d="Can't upload ".concat(i," file").concat(i>1?"s":""," here"))),d):"Can't upload files here"},[o.length,s,t,r,i,n]);return c.jsxs(zgn,{align:"center",gap:2,justify:"center",children:[c.jsx(L,{muted:!0,children:l}),c.jsx(L,{size:1,muted:!0,children:u})]})}var pue=Object.freeze,Vgn=Object.defineProperty,Hgn=(e,t)=>pue(Vgn(e,"raw",{value:pue(t||e.slice())})),mue;const Ugn=$(oe).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e;const{focusRing:n}=t.sanity,r=t.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return de(mue||(mue=Hgn([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),lH({base:r,border:o,focusRing:n}))}),Wgn=ne.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:l,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,y="".concat(o||"","-").concat(h.useId()),x=zs(),b=ne.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),w=c.jsxs(U,{align:"center",justify:"center",padding:d,children:[r&&c.jsx(M,{marginRight:m?f:void 0,children:c.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,ic.isValidElementType(r)&&h.createElement(r)]})}),m&&c.jsx(L,{align:p,size:a,textOverflow:"ellipsis",weight:x.sanity.button.textWeight,children:m})]});return c.jsxs(Ugn,{...g,htmlFor:y,padding:0,fontSize:2,disabled:v,children:[w,c.jsx("input",{"data-testid":"file-button-input",accept:i,capture:s,id:y,multiple:l,onChange:b,ref:n,type:"file",value:"",disabled:v})]})});function Ygn(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:o,hoveringFiles:i,onUpload:s,readOnly:a,rejectedFilesCount:l,type:u}=e,[d,f]=h.useState(null),p=lA(d),m=(p==null?void 0:p.border)&&p.border.width<440;return c.jsxs(U,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[c.jsx(U,{flex:1,justify:"center",children:c.jsx(VMe,{acceptedFiles:n,directUploads:o,hoveringFiles:i,readOnly:a,rejectedFilesCount:l,type:u})}),c.jsxs(U,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[c.jsx(Wgn,{accept:t,"data-testid":"file-input-upload-button",disabled:a||!o,icon:IT,mode:"ghost",onSelect:s,text:"Upload"}),r]})]})}const HMe=ne.memo(Ygn);var gue=Object.freeze,qgn=Object.defineProperty,Ggn=(e,t)=>gue(qgn(e,"raw",{value:gue(t||e.slice())})),vue;const Kgn=$(oe)(vue||(vue=Ggn([`
  width: 100%;
`])));function UMe(e){let{onClearStale:t}=e;return c.jsxs(Q,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(U,{gap:4,marginBottom:4,children:[c.jsx(M,{children:c.jsx(L,{size:1,children:c.jsx(zr,{})})}),c.jsxs(te,{space:3,children:[c.jsx(L,{size:1,weight:"semibold",children:"Incomplete upload"}),c.jsx(L,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),c.jsx(Kgn,{icon:td,text:"Clear upload",onClick:t,mode:"ghost"})]})}var yue=Object.freeze,Zgn=Object.defineProperty,WMe=(e,t)=>yue(Zgn(e,"raw",{value:yue(t||e.slice())})),bue,xue;const Xgn=$(Q)(bue||(bue=WMe([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),Qgn=$(U)(xue||(xue=WMe([`
  height: 100%;
`])));function YMe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(r))," ").concat(o[i])}function Jgn(e){const{originalFilename:t,size:n,children:r,muted:o,disabled:i,onClick:s,isMenuOpen:a,onMenuOpen:l,setMenuButtonElement:u}=e,[d,f]=h.useState(null),[p,m]=h.useState(null),v=h.useCallback(()=>l(!0),[l]);Ns(h.useCallback(y=>{a&&(y.key==="Escape"||y.key==="Tab")&&(l(!1),p==null||p.focus())},[a,l,p])),pr(h.useCallback(y=>{p!=null&&p.contains(y.target)||l(!1)},[p,l]),[d]);const g=h.useCallback(y=>{u(y),m(y)},[u]);return h.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),c.jsxs(U,{wrap:"nowrap",justify:"space-between",align:"center",children:[c.jsx(Q,{as:o||i?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:s,flex:1,children:c.jsxs(U,{wrap:"nowrap",align:"center",children:[c.jsx(Q,{padding:3,tone:"transparent",shadow:1,radius:1,children:c.jsx(L,{muted:o,children:c.jsx(u1,{})})}),c.jsxs(te,{flex:1,space:2,marginLeft:3,children:[c.jsx(L,{size:2,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",children:t}),c.jsx(L,{size:1,muted:!0,"data-testid":"file-size",children:YMe(n)})]})]})}),c.jsx(M,{padding:2,children:c.jsx(U,{justify:"center",children:c.jsx(nn,{content:c.jsx(zt,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:c.jsx(oe,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:Fo,mode:"bleed",onClick:v,ref:g})})})})]})}function wue(){return c.jsxs(U,{align:"center",justify:"flex-start",padding:2,children:[c.jsx(C1,{padding:3,radius:1,animated:!0}),c.jsxs(te,{flex:1,space:2,marginLeft:3,children:[c.jsx(Jk,{style:{width:"100%"},radius:1,animated:!0}),c.jsx(Jk,{style:{width:"100%"},radius:1,animated:!0})]})]})}var Cue=Object.freeze,evn=Object.defineProperty,tvn=(e,t)=>Cue(evn(e,"raw",{value:Cue(t||e.slice())})),_ue;const nvn=$(oe)(_ue||(_ue=tvn([`
  width: 100%;
`])));function rvn(e){let{onClearValue:t}=e;return c.jsxs(Q,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(U,{gap:4,marginBottom:4,children:[c.jsx(M,{children:c.jsx(L,{size:1,children:c.jsx(zr,{})})}),c.jsxs(te,{space:3,children:[c.jsx(L,{size:1,weight:"semibold",children:"Invalid file value"}),c.jsx(L,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),c.jsx(nvn,{icon:td,text:"Reset value",onClick:t,mode:"ghost"})]})}function ovn(e){let{children:t}=e;return t}const ivn=["asset"];class svn extends ne.PureComponent{constructor(t){var n;super(t),n=this,this.uploadSubscription=null,this.browseButtonElement=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1},this.toast=null,this.handleRemoveButtonClick=()=>{const{path:r,value:o}=this.props,s=typeof r.slice(-1)[0]!="string",a=Object.keys(o||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>Je([f]));this.props.onChange(dt.from(u&&!s?Je():d))},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange(Je(["asset"]))},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectFileFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()},this.setBrowseButtonElement=r=>{this.browseButtonElement=r},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:l}=n.props,{source:u}=i,d={metadata:Gn(s,"options.metadata"),storeOriginalFilename:Gn(s,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(dt.from([ls({_type:s.name})])),n.uploadSubscription=r.upload(l,o,s,d).subscribe({next:f=>{f.patches&&a(dt.from(f.patches))},error:f=>{var p;console.error(f),(p=n.toast)==null||p.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;NMe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleUpload=r=>{let{file:o,uploader:i}=r;this.uploadWith(i,o)},this.setToast=r=>{this.toast=r},this._assetFieldPath=t.path.concat(ivn)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(dt.from([Je(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(o=>{var i,s;return{file:o,uploader:(s=(i=this.props).resolveUploader)==null?void 0:s.call(i,n,o)}}).find(o=>o.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return c.jsx(LMe,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props;if(!t)return null;const i=Gn(r,"options.accept",""),s=t.component;return n&&n.asset?c.jsx(t1,{observeAsset:o,reference:n.asset,waitPlaceholder:c.jsx(wue,{}),children:a=>c.jsx(s,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):c.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:o}=this.props,{hoveringFiles:i,isStale:s}=this.state,a=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!fJ(t)?()=>c.jsx(rvn,{onClearValue:this.handleClearField}):l=>c.jsxs(c.Fragment,{children:[s&&c.jsx(M,{marginBottom:2,children:c.jsx(UMe,{onClearStale:this.handleClearUploadState})}),c.jsx(yi,{path:this._assetFieldPath,hasFocus:!!l.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):c.jsx(FMe,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:c.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:o,directUploads:i,observeAsset:s}=this.props,{isMenuOpen:a}=this.state,l=t==null?void 0:t.asset;if(!l)return null;const u=Gn(o,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:c.jsx(Ne,{icon:ui,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>c.jsx(Ne,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||Yl,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),c.jsx(t1,{reference:l,observeAsset:s,waitPlaceholder:c.jsx(wue,{}),children:f=>{let{originalFilename:p,extension:m,url:v,size:g}=f;const y=p||"download.".concat(m);let x,b;return fJ(t)&&(b="".concat(v,"?dl"),x=v),c.jsx(Jgn,{size:g,originalFilename:y,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:c.jsx(zMe,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:b,copyUrl:x,readOnly:n,accept:u,directUploads:i})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),l=s.length-a.length;return c.jsx(Xgn,{tone:t,children:c.jsx(Qgn,{align:"center",justify:"center",gap:2,flex:1,children:c.jsx(VMe,{readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:l,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t.length===0?null:t.length>1&&!n&&r?c.jsx(rn,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:c.jsx(oe,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:ui}),"data-testid":"input-select-button",menu:c.jsx(zt,{children:t.map(i=>c.jsx(Ne,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i)},icon:i.icon||Yl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))})}):c.jsx(oe,{fontSize:2,text:"Browse",icon:ui,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o==null?void 0:o(n,u)),a=i.length-s.length,l=Gn(n,"options.accept","");return c.jsx("div",{style:{padding:1},children:c.jsx(Q,{tone:t?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:c.jsx(HMe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"file",accept:l,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),l=s.length-a.length;return s.length>0&&(l>0||!t)?"critical":!(r!=null&&r._upload)&&!o&&s.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&o?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderItem:i,renderInput:s,renderField:a,renderPreview:l}=this.props,{selectedAssetSource:u}=this.state;return c.jsxs(c.Fragment,{children:[c.jsx(iV,{ref:this.setToast}),t.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?c.jsx(C_,{member:d,renderAnnotation:n,renderInlineBlock:o,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():s,renderField:d.name==="asset"?ovn:a,renderItem:i,renderPreview:l},d.key):d.kind==="fieldSet"?c.jsx(QV,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:i,renderPreview:l},d.key):d.kind==="error"?c.jsx(CP,{member:d},d.key):c.jsxs(c.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function avn(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=Ki(),{file:o}=Nd().__internal,i=yr(un),s=h.useCallback((u,d)=>o.directUploads?GV(u,d):null,[o.directUploads]),a=h.useMemo(()=>n||o.assetSources,[o,n]),l=h.useCallback(u=>XRe(r,u),[r]);return c.jsx(svn,{...e,client:i,assetSources:a,directUploads:o.directUploads,observeAsset:l,resolveUploader:s})}var Sue=Object.freeze,lvn=Object.defineProperty,cvn=(e,t)=>Sue(lvn(e,"raw",{value:Sue(t||e.slice())})),Eue;const kue=$(M)(Eue||(Eue=cvn([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),e=>{let{ratio:t=3/2}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t});function uvn(e){const{src:t,children:n}=e,[r,o]=h.useState(!0),[i,s]=h.useState(null),[a,l]=h.useState(null);return h.useEffect(()=>{s(null),l(null),o(!0);const u=new Image;u.onload=()=>{s(u),l(null),o(!1)},u.onerror=()=>{l(new Error("Could not load image from ".concat(JSON.stringify(t)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:i,error:a,isLoading:r})}const dvn=["","webkit","moz","ms","o"].map(e=>"".concat(e,"backingStoreRatio"));let bS=-1;function fvn(e){return bS===-1&&(bS=dvn.find(t=>t in e)),bS&&e[bS]}function jue(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,o=t.height/2;if(r<=0||o<=0)return!1;const i={x:e.x-n.x,y:e.y-n.y};return Math.pow(i.x,2)/Math.pow(r,2)+Math.pow(i.y,2)/Math.pow(o,2)<=1}function Tue(e,t){let{x:n,y:r}=e;return Math.pow(n-t.x,2)+Math.pow(r-t.y,2)<Math.pow(t.radius,2)}function F$(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function Aue(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}class NL{constructor(t,n){this.x=t,this.y=n}}class Due{constructor(t,n,r){this.y=t,this._left=n,this._right=r}get right(){return new NL(this._right,this.y)}get left(){return new NL(this._left,this.y)}get length(){return this._right-this._left}}class hvn{constructor(t){this.rect=t}get top(){return new Due(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new Due(this.rect.bottom,this.rect.left,this.rect.right)}}class ho{static fromEdges(t){let{left:n,right:r,top:o,bottom:i}=t;return new ho(n,o,1-n-r,1-o-i)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.left=t,this.top=n,this.width=r,this.height=o}setTopLeft(t,n){return new ho(t,n,this.width||0,this.height||0)}setSize(t,n){return new ho(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,o=this.height||0;return new ho(t-r/2,n-o/2,r||0,o||0)}get center(){return new NL(this.left+this.width/2,this.top+this.height/2)}get corners(){return new hvn(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new ho((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new ho(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,o=this.height*t.height,i=this.width*t.width;return new ho(r,n,i,o)}clamp(t){let{left:n,top:r,width:o,height:i}=this;return t.width<o&&(o=t.width,n=t.left),t.height<i&&(i=t.height,r=t.top),n+o>t.left+t.width&&(n=t.right-o),r+i>t.top+t.height&&(r=t.bottom-i),new ho(Math.max(n,t.left),Math.max(r,t.top),o,i)}}const xS=yf("sanity-imagetool");function pvn(e){return class extends ne.PureComponent{constructor(){super(...arguments),this.domNode=null,this.currentPos=null,this.isDragging=!1,this.handleTouchMove=n=>{this.isDragging&&n.preventDefault()},this.handleDragStart=n=>{const{onDragStart:r,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){xS("Start cancelled, already a drag in progress");return}this.isDragging=!0;const i=B$(n);xS("Drag started %o",i),r(L$(i.x,i.y,this.domNode.getBoundingClientRect())),this.currentPos=i},this.handleDrag=n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,o=B$(n),i=mvn(o,this.currentPos);r(i),xS("moving by %o",i),this.currentPos=o},this.handleDragEnd=n=>{const{onDragEnd:r,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const i=B$(n);r(L$(i.x,i.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,xS("Done moving %o",i)},this.handleDragCancel=()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(L$(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null},this.setDomNode=n=>{this.domNode=n}}componentDidMount(){Bm?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){Bm?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:o,onDrag:i,...s}=this.props;return c.jsx(e,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...s})}}}function L$(e,t,n){return{x:e-n.left,y:t-n.top}}function B$(e){return"touches"in e?e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:0,y:0}:{x:e.clientX,y:e.clientY}}function mvn(e,t){return{x:e.x-t.x,y:e.y-t.y}}var Pue=Object.freeze,gvn=Object.defineProperty,qMe=(e,t)=>Pue(gvn(e,"raw",{value:Pue(t||e.slice())})),Iue,Oue;const vvn=pvn("canvas"),yvn=$.div(Iue||(Iue=qMe([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),bvn=$(vvn)(Oue||(Oue=qMe([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),xvn="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",wvn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",_d={x:.5,y:.5,height:1,width:1},Sd={top:0,left:0,right:0,bottom:0},tb=8,Cvn=12,_vn=10;function Svn(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function Evn(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function $ue(e,t){const{top:n,right:r,bottom:o,left:i}=e.crop||Sd,s={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:o+(t.bottom||0)>0?o:0,left:i+(t.left||0)>0?i:0}},a={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:o+(t.bottom||0)>0&&t.bottom||0,left:i+(t.left||0)>0&&t.left||0};return{value:s,delta:a}}function kvn(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const Rue=IA(()=>{const e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d"),n=t&&fvn(t)||1;return e/n}),Mue=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class jvn extends ne.PureComponent{constructor(){super(...arguments),this.state={cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null},this.handleDragStart=t=>{let{x:n,y:r}=t;const o={x:n*this.getScale(),y:r*this.getScale()},i=jue(o,this.getHotspotRect()),s=Tue(o,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(o),l=F$(o,this.getCropRect());a?this.setState({cropping:a}):s?this.setState({resizing:!0}):i?this.setState({moving:!0}):l&&this.setState({cropMoving:!0})},this.handleDrag=t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)},this.handleDragEnd=()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:o}=this.getClampedValue(),i=Svn(o),s={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(s),n&&n(s)},this.handleMouseOut=()=>{this.setState({mousePosition:null})},this.handleMouseMove=t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(t.clientX-n.left)*this.getScale(),y:(t.clientY-n.top)*this.getScale()}})},this.setCanvas=t=>{this.canvas=t}}getHotspotRect(){const{value:t,image:n}=this.props,r=t.hotspot||_d,o=new ho().setSize(r.width,r.height).setCenter(r.x,r.y);return new ho().setSize(n.width,n.height).shrink(tb*this.getScale()).multiply(o)}getCropRect(){const{value:t,image:n}=this.props;return new ho().setSize(n.width,n.height).shrink(tb*this.getScale()).cropRelative(ho.fromEdges(t.crop||Sd).clamp(new ho(0,0,1,1)))}getCropHandles(){const t=this.getCropRect(),n=Cvn*this.getScale(),r=n/2,o=new ho(0,0,n,n);return{left:o.setTopLeft(t.left-r,t.center.y-r),right:o.setTopLeft(t.right-r,t.center.y-r),top:o.setTopLeft(t.center.x-r,t.top-r),topLeft:o.setTopLeft(t.left-r,t.top-r),topRight:o.setTopLeft(t.right-r,t.top-r),bottom:o.setTopLeft(t.center.x-r,t.bottom-r),bottomLeft:o.setTopLeft(t.left-r,t.bottom-r),bottomRight:o.setTopLeft(t.right-r,t.bottom-r)}}getActiveCropHandleFor(t){let{x:n,y:r}=t;const o=this.getCropHandles();for(const i of Mue)if(F$({x:n,y:r},o[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:o}=this.props,i=this.getScale(),s={x:t.x*i/n.width,y:t.y*i/n.height};o(Tvn(r,s))}emitCropMove(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s=t.x*i/n.width,a=-t.x*i/n.width,l=t.y*i/n.height,u=-t.y*i/n.height,d={left:s,right:a,top:l,bottom:u};Evn(o,d)&&r(Fue(o,d))}emitCrop(t,n){const{image:r,onChange:o,value:i}=this.props,s=this.getScale();let a=0,l=0,u=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?a=n.x*s/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(l=-n.x*s/r.width),t=="top"||t==="topLeft"||t==="topRight"?u=n.y*s/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*s/r.height);const f={left:a,right:l,top:u,bottom:d},p=$ue(i,f).value,m=$ue(i,f).delta;o(Fue(p,m))}emitResize(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s={x:t.x*i*2/n.width,y:t.y*i*2/n.height};r(Avn(o,{height:s.y,width:s.x}))}getClampedValue(){const t=this.props.value,n=ho.fromEdges(t.crop||Sd).clamp(new ho(0,0,1,1)),r=t.hotspot||_d,o=new ho(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:o}}paintHotspot(t,n){const{image:r,readOnly:o}=this.props,i=new ho().setSize(r.width,r.height),{hotspot:s,crop:a}=this.getClampedValue(),l=this.getScale(),u=tb*l;t.save(),m(),d(),t.clip(),p(),t.restore(),o||v(Math.PI*1.25);function d(){t.save();const g=i.shrink(u).multiply(s),y=g.height/g.width;t.scale(1,y),t.beginPath(),t.globalAlpha=n,t.arc(g.center.x,g.center.y/y,Math.abs(g.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*l,t.stroke(),t.closePath(),t.restore()}function f(g,y,x,b,w,C,_,S){t.save(),t.drawImage(r,g,y,x,b,w,C,_,S),t.restore()}function p(){const g=i.multiply(s),y=i.shrink(u).multiply(s);f(g.left,g.top,g.width,g.height,y.left,y.top,y.width,y.height)}function m(){const g=i.cropRelative(a),y=i.shrink(u).cropRelative(a);t.save(),f(g.left,g.top,g.width,g.height,y.left,y.top,y.width,y.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(y.left,y.top,y.width,y.height),t.restore()}function v(g){t.save();const y=_vn*l,x=i.shrink(u).multiply(s),b=Aue(g,x);t.beginPath(),t.arc(b.x,b.y,y,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(b.x,b.y,y,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*l,t.stroke(),t.closePath()}}getActualSize(){var t;const n=(t=this.canvas)==null?void 0:t.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const t=this.getHotspotRect(),n=Aue(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(t){t.save();const{image:n}=this.props,r=this.getHotspotRect(),o=this.getScale(),i=tb*o;t.setLineDash&&t.setLineDash([2*o,2*o]),t.lineWidth=.5*o,t.strokeStyle="rgba(200, 200, 200, 0.5)",s(r.center.x),a(r.center.y),t.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),s(r.left),s(r.right),t.restore();function s(u){l(u,i,u,n.height-i)}function a(u){l(i,u,n.width-i,u)}function l(u,d,f,p){t.beginPath(),t.moveTo(u,d),t.lineTo(f,p),t.stroke(),t.closePath()}}paintBackground(t){const{image:n}=this.props,r=new ho().setSize(n.width,n.height).shrink(tb*this.getScale());t.save(),t.fillStyle="white",t.clearRect(0,0,n.width,n.height),t.globalAlpha=.3,t.drawImage(n,r.left,r.top,r.width,r.height),t.restore()}paint(t){const{readOnly:n}=this.props;t.save();const r=Rue();t.scale(r,r);const o=!n&&this.state.mousePosition?.8:.2;this.paintBackground(t),this.paintHotspot(t,o),this.debug(t),this.paintCropBorder(t),n||this.highlightCropHandles(t,o),t.restore()}paintMousePosition(t){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;t.beginPath(),t.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),t.fillStyle="lightblue",t.fill(),t.restore()}paintCropBorder(t){const n=this.getCropRect();t.save(),t.beginPath(),t.fillStyle="rgba(66, 66, 66, 0.9)",t.lineWidth=1,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath(),t.restore()}highlightCropHandles(t,n){t.save();const r=this.getCropHandles();Mue.forEach(o=>{t.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:i,top:s,height:a,width:l}=r[o];t.fillRect(i,s,l,a),t.beginPath(),t.fillStyle="rgba(66, 66, 66, ".concat(n,")"),t.rect(i,s,l,a),t.closePath(),t.stroke()}),t.restore()}getScale(){const t=this.getActualSize();return this.props.image.width/t.width}getCursor(){const{mousePosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return kvn(r)||"auto";const o=Tue(t,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(wvn,"), move");const i=jue(t,this.getHotspotRect()),s=F$(t,this.getCropRect());return i||s?"url(".concat(xvn,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const t=this.canvas.domNode,n=t.getContext("2d");if(!n)return;this.paint(n);const r=t.style.cursor,o=this.getCursor();r!==o&&(t.style.cursor=o)}render(){const{image:t,readOnly:n}=this.props,r=Rue();return c.jsx(yvn,{children:c.jsx(bvn,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:t.height*r,width:t.width*r})})}}function Tvn(e,t){const n=e&&e.hotspot||_d;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function Avn(e,t){const n=e&&e.hotspot||_d;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function Fue(e,t){const n=e&&e.crop||Sd;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function Dvn(e){const{image:t,maxHeight:n,maxWidth:r,children:o}=e,[i]=h.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});h.useEffect(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}),[i]);const s=h.useCallback((a,l,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),p=Math.min(a.height,l),m=a.width>a.height,v=m?f:p*d,g=m?f/d:p;i.width=v,i.height=g;const y=i.getContext("2d");return y&&y.drawImage(a,0,0,a.width,a.height,0,0,v,g),i},[i]);return o(s(t,n,r))}function Yw(e){return c.jsx(uvn,{src:e.src,children:t=>{let{isLoading:n,image:r,error:o}=t;return n?c.jsx("div",{children:"Loading..."}):o?c.jsx("div",{children:o.message}):r?c.jsx(Dvn,{image:r,maxHeight:Yw.maxHeight,maxWidth:Yw.maxWidth,children:i=>c.jsx(jvn,{image:i,...e})}):null}})}Yw.maxHeight=500;Yw.maxWidth=1e3;function Pvn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Lue(e.image)||1,n=e.hotspot||_d,r=e.crop||Sd,o=Lue(e.container)||t*Ovn(r),i=e.align||{x:"center",y:"center"},s=Ivn(t,{hotspot:n,crop:r},{aspect:o,align:i}),a=KMe(GMe(100/o));return{debug:{result:s},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:qd(s.crop.height),width:qd(s.crop.width),top:qd(s.crop.top),left:qd(s.crop.left)},image:{position:"absolute",height:qd(s.image.height),width:qd(s.image.width),top:qd(s.image.top),left:qd(s.image.left)}}}function Lue(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function GMe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,t);return Math.round(e*n)/n}function Ivn(e,t,n){const r=t.crop,o=n.aspect,i=n.align,s=1-r.left-r.right,a=1-r.top-r.bottom,l={top:-r.top/a,left:-r.left/s,width:1/s,height:1/a},d=s/a*e,f={x:(t.hotspot.x-r.left)/s,y:(t.hotspot.y-r.top)/a,height:t.hotspot.height/a,width:t.hotspot.width/s},p=1/f.width,m=1/f.height*d/o,v=Math.min(p,m);let g;const y=d<=o;y?g=1:g=d/o;let x,b;if(g>v){x="letterbox";let w;const C=g-v;y?w=1-C:w=v,b={width:w,height:w/d*o,left:0,top:0};const _=f.x*b.width-f.width*b.width/2;switch(i.x){case"left":b.left=y?0:-_;break;case"right":b.left=y?1-b.width:_;break;case"center":b.left=y?(1-b.width)/2:-_;break;default:throw new Error("Invalid x alignment: '".concat(i.x,"'. Must be either 'left', 'right' or 'center'"))}const S=f.y*b.height-f.height*b.height/2;switch(i.y){case"top":b.top=y?-S:0;break;case"bottom":b.top=S;break;case"center":b.top=y?-S:(1-b.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(i.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(y){x="full_width";let w=-f.y/d*o+.5;const C=g/d*o;w>0?w=0:-w>C-1&&(w=-(C-1)),b={width:g,height:C,left:0,top:w}}else{x="full_height";const w=g;let C=.5-f.x*g;C>0?C=0:-C>w-1&&(C=-(w-1)),b={width:w,height:g/d*o,top:0,left:C}}return{method:x,crop:b,image:l}}function Ovn(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function KMe(e){return e===0?0:"".concat(e,"%")}function qd(e){return KMe(GMe(e*100))}var Bue=Object.freeze,$vn=Object.defineProperty,Rvn=(e,t)=>Bue($vn(e,"raw",{value:Bue(t||e.slice())})),Nue;const Mvn=$.div(Nue||(Nue=Rvn([`
  position: relative;
  width: 100%;
`]))),Fvn=yf("sanity-imagetool");function Lvn(e,t){const n=1/t,r=t*n,o=r-(e.left+e.right)*r,i=n-(e.top+e.bottom)*n;return o/i}const Bvn=h.memo(function(t){const{alignX:n="center",alignY:r="center",alt:o,aspectRatio:i="none",className:s="",crop:a=Sd,hotspot:l=_d,onError:u,onLoad:d,src:f,srcAspectRatio:p,srcSet:m,style:v}=t,[g,y]=h.useState(null),x=h.useRef(null),b=h.useRef(null),w=h.useCallback(()=>{if(x.current)if(i==="auto"){const S=x.current.parentNode;h.startTransition(()=>y(S.offsetWidth/S.offsetHeight))}else y(null)},[i]);h.useEffect(()=>{const S=b.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(Fvn("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),S.src=S.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[f,w]);const C=h.useMemo(()=>i==="none"?a?Lvn(a,p):p:i==="auto"?g:i||null,[i,g,a,p]),_=h.useMemo(()=>Pvn({container:{aspectRatio:C||p},image:{aspectRatio:p},hotspot:l,crop:a,align:{x:n,y:r}}),[n,r,a,l,p,C]);return c.jsx(Mvn,{className:"".concat(s),style:v,ref:x,children:c.jsxs("div",{style:_.container,children:[c.jsx("div",{style:_.padding}),c.jsx("div",{style:_.crop,children:c.jsx("img",{ref:b,src:f,alt:o,srcSet:m,onLoad:d,onError:u,style:_.image})})]})})}),Nvn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function zvn(e){return e.startsWith("blob:")}function Vvn(e){return new mt(t=>{const n=document.createElement("img");let r=!1;const o=()=>{r=!0,t.next(n),t.complete()},i=()=>{r=!0,t.error(new Error("Could not load image from ".concat(zvn(e)?"blob":e)))};return n.onload=o,n.onerror=i,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=Nvn)}})}const zue={isLoading:!0};function Hvn(e){const[t,n]=h.useState(zue);return h.useEffect(()=>{n(zue);const r=Vvn(e).subscribe({error:o=>{n({isLoading:!1,error:o})},next:o=>{n({image:o,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}var Vue=Object.freeze,Uvn=Object.defineProperty,Wvn=(e,t)=>Vue(Uvn(e,"raw",{value:Vue(t||e.slice())})),Hue;const Uue=["hotspot"],Wue=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],Yue={crop:Sd,hotspot:_d},Yvn=$.div(Hue||(Hue=Wvn([`
  min-height: 6em;
`])));function qvn(e){return c.jsx(U,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function Gvn(e){const{imageUrl:t,value:n,changed:r,level:o,path:i,focusPath:s=hn,presence:a,onChange:l,schemaType:u,onPathFocus:d,readOnly:f,elementProps:p}=e,[m,v]=h.useState(n||Yue),{image:g,isLoading:y,error:x}=Hvn(t),b=h.useCallback(()=>{d(Uue)},[d]);h.useEffect(()=>{v(n||Yue)},[n]);const w=s[0]==="hotspot";Gi(w,_=>{var S;!_&&w&&((S=p.ref.current)==null||S.focus())});const C=h.useCallback(_=>{if(f)return;const S=u.fields.find(T=>T.name==="crop"&&T.type.name!=="object"),E=u.fields.find(T=>T.type.name!=="object"&&T.name==="hotspot"),j=S?{_type:S.type.name,..._.crop||Sd}:_.crop,k=E?{_type:E.type.name,..._.hotspot||_d}:_.hotspot;l([bt(j,["crop"]),bt(k,["hotspot"])])},[l,f,u.fields]);return c.jsx(X1,{title:"Hotspot & crop",level:o,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:c.jsxs("div",{children:[c.jsx(Q,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:b,children:c.jsx(yi,{path:i.concat(Uue),hasFocus:s[0]==="hotspot",isChanged:r,children:c.jsxs(kue,{ratio:3/2,children:[(y||x)&&c.jsx(qvn,{children:x?c.jsx(Q,{padding:4,radius:2,tone:"critical",border:!0,children:c.jsxs(L,{children:["Error: ",x.message]})}):c.jsx(L,{muted:!0,children:"Loading image… "})}),!y&&g&&c.jsx(M,{margin:1,children:c.jsx(Yw,{value:m,src:g.src,readOnly:!!f,onChangeEnd:C,onChange:v})})]})})}),c.jsx(M,{marginTop:3,children:c.jsx(tn,{columns:Wue.length,gap:1,children:Wue.map(_=>{let[S,E]=_;return c.jsxs("div",{children:[c.jsx(Xo,{as:"h4",size:0,children:S}),c.jsx(M,{marginTop:2,children:c.jsx(kue,{ratio:E,children:c.jsx(Q,{__unstable_checkered:!0,children:!y&&g?c.jsx(Bvn,{aspectRatio:E,src:g.src,srcAspectRatio:g.width/g.height,hotspot:m.hotspot||_d,crop:m.crop||Sd}):c.jsx(Yvn,{})})})})]},E)})})})]})})}var que=Object.freeze,Kvn=Object.defineProperty,Zvn=(e,t)=>que(Kvn(e,"raw",{value:que(t||e.slice())})),Gue;const Xvn=$(Zt)(Gue||(Gue=Zvn([`
  position: absolute;
  top: 0;
  right: 0;
`])));function Qvn(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:o,setMenuButtonElement:i,onMenuOpen:s,isMenuOpen:a}=e,[l,u]=h.useState(null),[d,f]=h.useState(null),p=h.useCallback(()=>s(!a),[s,a]);Ns(h.useCallback(v=>{a&&(v.key==="Escape"||v.key==="Tab")&&(s(!1),d==null||d.focus())},[a,s,d])),pr(h.useCallback(v=>{d!=null&&d.contains(v.target)||s(!1)},[d,s]),[l]);const m=h.useCallback(v=>{i(v),f(v)},[i]);return h.useEffect(()=>{a&&(l==null||l.focus())},[a,l]),c.jsxs(Xvn,{"data-buttons":!0,space:1,padding:2,children:[r&&c.jsx(it,{content:c.jsx(L,{size:1,children:"Crop image"}),padding:2,children:c.jsx(oe,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:_xe,mode:"ghost",onClick:t,ref:o})}),c.jsx(nn,{id:"image-actions-menu",content:c.jsx(zt,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:c.jsx(oe,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:Fo,mode:"ghost",onClick:p,ref:m})})]})}var Kue=Object.freeze,Jvn=Object.defineProperty,TP=(e,t)=>Kue(Jvn(e,"raw",{value:Kue(t||e.slice())})),Zue,Xue,Que,Jue;const ede=30,e0n=$(Q)(Zue||(Zue=TP([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),t0n=$(gr)(Xue||(Xue=TP([`
  position: absolute;
`]))),n0n=$(U)(e=>{let{$drag:t,$tone:n}=e;const r=fh.color.light[n].card.enabled.fg,o=Dt(fh.color.light[n].card.enabled.bg,.8);return de(Que||(Que=TP([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),t?"blur(10px)":"",n?r:"",t?o:"transparent")}),r0n=$(U)(Jue||(Jue=TP([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),o0n=e=>{const n=new URLSearchParams(e.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function i0n(e){const{drag:t,readOnly:n,isRejected:r,src:o,...i}=e,[s,a]=h.useState(!1),[l,u]=h.useState(null),d=Dh(l),f=(d==null?void 0:d.width)||0,m=t?r||n?"critical":"primary":"default",v=ede*document.documentElement.clientHeight/100,[g,y]=o0n(o),x=g/y,w=(g>f?f/x:y)<v?null:"".concat(ede,"vh");h.useEffect(()=>{a(!1)},[o]);const C=h.useCallback(()=>{a(!0)},[]);return c.jsxs(e0n,{...i,ref:u,style:{height:w},tone:"transparent",children:[c.jsxs(Q,{"data-container":!0,tone:"inherit",children:[!s&&c.jsx(tde,{cardTone:"transparent",drag:!0,content:c.jsx(t0n,{})}),c.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:C,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&c.jsx(tde,{cardTone:m,drag:t,content:c.jsxs(c.Fragment,{children:[c.jsx(M,{marginBottom:3,children:c.jsx(Xo,{children:c.jsx(s0n,{isRejected:r,readOnly:n})})}),c.jsx(a0n,{isRejected:r,readOnly:n})]})})]})}function s0n(e){let{isRejected:t,readOnly:n}=e;return t?c.jsx(rh,{}):n?c.jsx(fC,{}):c.jsx(Yl,{})}function a0n(e){let{isRejected:t,readOnly:n}=e,r="Drop image to upload";return t&&(r="Cannot upload this file here"),n&&(r="This field is read only"),c.jsx(L,{size:1,children:r})}function tde(e){let{cardTone:t,drag:n,content:r}=e;return c.jsx(n0n,{justify:"flex-end",padding:3,$drag:n,$tone:t,children:c.jsx(r0n,{direction:"column",align:"center",justify:"center",children:r})})}var nde=Object.freeze,l0n=Object.defineProperty,c0n=(e,t)=>nde(l0n(e,"raw",{value:nde(t||e.slice())})),rde;const u0n=$(oe)(rde||(rde=c0n([`
  width: 100%;
`])));function d0n(e){let{onClearValue:t}=e;return c.jsxs(Q,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(U,{gap:4,marginBottom:4,children:[c.jsx(M,{children:c.jsx(L,{size:1,children:c.jsx(zr,{})})}),c.jsxs(te,{space:3,children:[c.jsx(L,{size:1,weight:"semibold",children:"Invalid image value"}),c.jsx(L,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),c.jsx(u0n,{icon:td,text:"Reset value",onClick:t,mode:"ghost"})]})}const f0n=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function h0n(e){let{children:t}=e;return t}const ode=["asset"],p0n={portal:!0};class m0n extends ne.PureComponent{constructor(t){var n;super(t),n=this,this._previewElement=null,this.uploadSubscription=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1},this.toast=null,this.setPreviewElement=r=>{this._previewElement=r},this.setHotspotButtonElement=r=>{this.setState({hotspotButtonElement:r})},this.setMenuButtonElement=r=>{this.setState({menuButtonElement:r})},this.getUploadOptions=r=>{const{schemaType:o,resolveUploader:i}=this.props,s=i&&i(o,r);return s?[{type:o,uploader:s}]:[]},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:l}=n.props,{label:u,title:d,description:f,creditLine:p,source:m}=i,v={metadata:Gn(s,"options.metadata"),storeOriginalFilename:Gn(s,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:p,source:m};n.cancelUpload(),n.setState({isUploading:!0}),a(ls({_type:s.name})),n.uploadSubscription=r.upload(l,o,s,v).subscribe({next:g=>{g.patches&&a(g.patches)},error:g=>{var y;console.error(g),(y=n.toast)==null||y.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([Je(["hotspot"]),Je(["crop"])]),n.setState({isUploading:!1})}})},this.handleRemoveButtonClick=()=>{const{value:r}=this.props,o=Object.keys(r||{}),s=o.filter(l=>!["_type","_key","_upload","asset","crop","hotspot"].includes(l)).length===0,a=["asset"].concat(o.filter(l=>["crop","hotspot","_upload"].includes(l))).map(l=>Je([l]));this.props.onChange(s&&!this.valueIsArrayElement()?Je():a)},this.handleFieldChange=r=>{const{onChange:o,schemaType:i}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){o(Je());return}o(r.prepend(ls({_type:i.name})).patches)},this.eventIsUnsettingLastFilledField=r=>{const o=r.patches[0];if(r.patches.length!==1||o.type!=="unset")return!1;const s=Object.keys(this.props.value||{}).filter(l=>!["_type","_key","crop","hotspot"].includes(l));return r.patches[0].path.length===1&&s.length===1&&s[0]===r.patches[0].path[0]},this.valueIsArrayElement=()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"},this.handleOpenDialog=()=>{this.props.onPathFocus(["hotspot"])},this.handleCloseDialog=()=>{var r;this.props.onPathFocus([]),(r=this.state.hotspotButtonElement)==null||r.focus()},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;NMe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r.filter(o=>o.kind!=="string")})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange([Je(["asset"]),Je(["crop"]),Je(["hotspot"])])},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectImageFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()},this.renderHotspotInput=r=>{const{value:o,changed:i,id:s,imageUrlBuilder:a}=this.props,l=this.isImageToolEnabled()&&o&&o.asset;return c.jsx(Wi,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(s,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:c.jsx(w_,{children:c.jsx(M,{padding:4,children:c.jsx(te,{space:5,children:l&&(o==null?void 0:o.asset)&&c.jsx(Gvn,{...this.props,imageUrl:a.image(o.asset).url(),value:o,presence:r.presence,changed:i})})})})})},this.renderPreview=()=>{const{value:r,schemaType:o,readOnly:i,directUploads:s,imageUrlBuilder:a,resolveUploader:l}=this.props;if(!r||!dx(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(m=>l(o,m)),f=u.length-d.length,p=a.width(2e3).fit("max").image(r).dpr(f0n()).auto("format").url();return c.jsx(i0n,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!s,readOnly:i,src:p,alt:"Preview of uploaded image"})},this.setToast=r=>{this.toast=r},this._assetPath=t.path.concat(ode)}isImageToolEnabled(){return Gn(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(Je(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n,resolveUploader:r}=this.props,o=t.map(i=>({file:i,uploader:r(n,i)})).find(i=>i.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:t,assetSources:n,schemaType:r,readOnly:o,directUploads:i,imageUrlBuilder:s,observeAsset:a}=this.props,l=t==null?void 0:t.asset;if(!l)return null;const u=Gn(r,"options.accept","image/*"),d=t&&l&&this.isImageToolEnabled();let f=n&&n.length===0?null:c.jsx(Ne,{icon:ui,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:o,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(p=>c.jsx(Ne,{text:p.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(p)},icon:p.icon||Yl,"data-testid":"file-input-browse-button-".concat(p.name),disabled:o},p.name))),c.jsx(t1,{observeAsset:a,reference:l,children:p=>{let{_id:m,originalFilename:v,extension:g}=p,y,x;if(dx(t)){const b=v||"download.".concat(g);x=s.image(m).forceDownload(b).url(),y=s.image(m).url()}return c.jsx(Qvn,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:b=>this.setState({isMenuOpen:b}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:c.jsx(zMe,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:y,readOnly:o,directUploads:i,accept:u})})}})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t&&t.length===0?null:t&&t.length>1&&!n&&r?c.jsx(rn,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:c.jsx(oe,{"data-testid":"file-input-multi-browse-button",icon:ui,iconRight:hl,mode:"ghost",text:"Select"}),menu:c.jsx(zt,{children:t.map(i=>c.jsx(Ne,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(i)},icon:i.icon||Yl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))}),popover:p0n}):c.jsx(oe,{fontSize:2,text:"Select",icon:ui,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o(t,u)),a=i.length-s.length,l=Gn(t,"options.accept","image/*");return c.jsx("div",{style:{padding:1},children:c.jsx(Q,{tone:n?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:c.jsx(HMe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"image",accept:l,directUploads:r})})})}renderUploadState(t){var n;const{isUploading:r}=this.state,o=(n=this._previewElement)==null?void 0:n.offsetHeight;return c.jsx(LMe,{uploadState:t,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props,i=Gn(r,"options.accept","image/*");if(!t)return null;const s=t.component;return n&&n.asset?c.jsx(t1,{observeAsset:o,reference:n.asset,children:a=>c.jsx(s,{selectedAssets:[a],assetType:"image",accept:i,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):c.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"image",accept:i,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:t,value:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i(t,u)),l=s.length-a.length;return s.length>0&&(l>0||!o)?"critical":!(n!=null&&n._upload)&&!r&&s.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:o,isStale:i}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!dx(t)?()=>c.jsx(d0n,{onClearValue:this.handleClearField}):a=>c.jsxs(c.Fragment,{children:[i&&c.jsx(M,{marginBottom:2,children:c.jsx(UMe,{onClearStale:this.handleClearUploadState})}),c.jsx(yi,{path:a.path.concat(ode),hasFocus:!!a.focused,isChanged:a.changed,children:t!=null&&t._upload?this.renderUploadState(t._upload):c.jsxs(FMe,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||o.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&c.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{focusPath:t,members:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}=this.props,{selectedAssetSource:d}=this.state,f=n.find(p=>p.kind==="field"&&p.name==="hotspot");return c.jsxs(te,{space:5,"data-testid":"image-input",children:[c.jsx(iV,{ref:this.setToast}),n.map(p=>p.kind==="field"&&(p.name==="crop"||p.name==="hotspot")?null:p.kind==="field"?c.jsx(C_,{member:p,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:p.name==="asset"?this.renderAsset():a,renderField:p.name==="asset"?h0n:i,renderItem:l,renderPreview:u},p.key):p.kind==="fieldSet"?c.jsx(QV,{member:p,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u},p.key):p.kind==="error"?c.jsx(CP,{member:p},p.key):c.jsxs(c.Fragment,{children:["Unknown member kind: $",p.kind]})),f&&t[0]==="hotspot"&&c.jsx(dMe,{...this.props,absolutePath:f.field.path,renderInput:this.renderHotspotInput}),d&&this.renderAssetSource()]})}}function g0n(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=Nd().__internal,o=Ki(),i=yr(un),s=r.directUploads,a=h.useCallback((f,p)=>s?GV(f,p):null,[s]),l=ne.useMemo(()=>n||r.assetSources,[r,n]),u=ne.useMemo(()=>sD(i),[i]),d=h.useCallback(f=>ZRe(o,f),[o]);return c.jsx(m0n,{...e,client:i,assetSources:l,directUploads:s,imageUrlBuilder:u,observeAsset:d,resolveUploader:a})}const ZMe=()=>{},N$={isLoading:!0,result:void 0,error:void 0,retry:ZMe},v0n={isLoading:!1,result:void 0,error:void 0,retry:ZMe};function XMe(e,t){const[n,r]=h.useState(0),o=h.useCallback(()=>{r(l=>l+1)},[]),i=h.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),s=So(()=>i._id?t(i).pipe(le(l=>({isLoading:!1,result:l,error:void 0,retry:o,retryAttempt:n})),pi(N$),Mn(l=>(console.error(l),ve({isLoading:!1,result:void 0,error:l,retry:o,retryAttempt:n})))):ve(v0n),[i,t,o,n],N$);return xV(e._id,e._id)!==e._id?N$:s}var ide=Object.freeze,y0n=Object.defineProperty,QMe=(e,t)=>ide(y0n(e,"raw",{value:ide(t||e.slice())})),sde,ade;const b0n=$(U)(sde||(sde=QMe([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),JMe=$(U)(ade||(ade=QMe([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function lde(e){return c.jsx(JMe,{padding:3,children:c.jsx(M,{flex:1,children:c.jsx(M,{children:c.jsx(L,{as:"p",size:1,children:e.children})})})})}function eFe(e){var t,n,r;const{refType:o,showStudioUrlIcon:i,hasStudioUrl:s,showTypeLabel:a,availability:l,preview:u,id:d,dataset:f,projectId:p}=e,m=(l==null?void 0:l.reason)==="NOT_FOUND",v=(l==null?void 0:l.reason)==="PERMISSION_DENIED",g=(t=u.published)==null?void 0:t.media,y=h.useMemo(()=>{if(g){const x=typeof(g==null?void 0:g.asset)<"u"&&dx(g),b=ne.isValidElement(g);return!x&&!b?null:function(C){let{dimensions:_}=C;return b?g:c.jsx("img",{src:sD({dataset:f,projectId:p}).image(g).withOptions(_).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?h.createElement(o.icon):null},[g,f,p,o==null?void 0:o.icon]);return c.jsxs(b0n,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[l!=null&&l.available?c.jsx(M,{flex:1,children:c.jsx(u$e,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:y||!1})}):c.jsx(M,{flex:1,children:c.jsx(U,{align:"center",children:c.jsx(M,{flex:1,paddingY:2,children:c.jsx(L,{muted:!0,children:"Document unavailable"})})})}),c.jsx(M,{paddingLeft:3,children:c.jsxs(Zt,{space:4,children:[o&&a&&c.jsx(Ut,{size:1,muted:!0,children:o.title||o.type}),(v||m)&&c.jsx(M,{children:c.jsx(it,{portal:!0,content:m?c.jsxs(lde,{children:["The referenced document no longer exist and might have been deleted.",c.jsx("br",{}),"(id: ",c.jsx("code",{children:d}),")"]}):c.jsx(lde,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:c.jsx(fr,{tone:"default",children:v?c.jsx(rh,{}):c.jsx(E0,{})})})}),!(m||v)&&i&&c.jsx(M,{children:c.jsx(it,{portal:!0,content:c.jsx(JMe,{padding:2,children:s?c.jsx(L,{size:1,children:"This document opens in a new tab"}):c.jsxs(L,{size:1,children:["This document cannot be opened ",c.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:c.jsx(fr,{size:1,tone:"default",muted:!s,children:c.jsx(Sh,{})})})})]})})]})}function cH(){return yr(un).config().projectId}function x0n(e){var t;const{isLoading:n,result:r,error:o}=XMe(e.document,e.getReferenceInfo),i=cH();if(n)return c.jsxs(te,{space:2,padding:1,children:[c.jsx(zi,{style:{maxWidth:320},radius:1,animated:!0}),c.jsx(zi,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return c.jsx(te,{space:2,padding:1,children:c.jsxs(lu,{title:"Failed to load referenced document",children:["Error: ",o.message]})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return c.jsx(te,{space:2,padding:1,children:"Insufficient permissions to view this document"});const s=e.referenceType.to.find(a=>a.type===r.type);return s?r&&s&&c.jsx(eFe,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:i,showTypeLabel:e.referenceType.to.length>1}):c.jsxs(te,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function cde(e){var t,n;const{value:r,type:o,showStudioUrlIcon:i,hasStudioUrl:s,referenceInfo:a}=e,l=cH();if(a.isLoading||a.error)return c.jsxs(te,{space:2,padding:1,children:[c.jsx(zi,{style:{maxWidth:320},radius:1,animated:!a.error}),c.jsx(zi,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=o.to.length>1,d=(t=a.result)==null?void 0:t.type,f=o.to.find(p=>p.type===d);return(n=a.result.availability)!=null&&n.available&&!f?c.jsx(te,{space:2,padding:2,children:c.jsxs(L,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",c.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):c.jsx(eFe,{availability:a.result.availability,hasStudioUrl:s,showStudioUrlIcon:i,preview:a.result.preview,refType:f,projectId:l,dataset:o.dataset,id:r._ref,showTypeLabel:u})}var ude=Object.freeze,w0n=Object.defineProperty,tFe=(e,t)=>ude(w0n(e,"raw",{value:ude(t||e.slice())})),dde,fde;const C0n=$(nn)(dde||(dde=tFe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),_0n=$(L)(fde||(fde=tFe([`
  word-break: break-word;
`]))),S0n=["top-start","bottom-start"],E0n=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:l,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;return c.jsx(C0n,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:S0n,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:c.jsx("div",{ref:s,children:r?a:c.jsx(M,{padding:4,children:c.jsx(U,{align:"center",height:"fill",justify:"center",children:c.jsxs(_0n,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["“",t.searchString,"”"]})]})})})}),open:!t.loading&&!l,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return c.jsx(e7,{...t,ref:n,renderPopover:o})});var hde=Object.freeze,k0n=Object.defineProperty,j0n=(e,t)=>hde(k0n(e,"raw",{value:hde(t||e.slice())})),pde;const T0n=$(oe)(pde||(pde=j0n([`
  width: 100%;
`])));function A0n(e){let{value:t,onClearValue:n}=e;const r=h.useMemo(()=>!!(t!=null&&t._ref),[t==null?void 0:t._ref]);return c.jsxs(Q,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[c.jsxs(U,{gap:4,marginBottom:r?4:void 0,children:[c.jsx(M,{children:c.jsx(L,{size:1,children:c.jsx(zr,{})})}),c.jsxs(te,{space:3,children:[c.jsx(L,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&c.jsxs(te,{space:3,children:[c.jsxs(L,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",c.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),c.jsx(L,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&c.jsxs(L,{as:"p",size:1,children:["Read how to enable it in"," ",c.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&c.jsx(T0n,{icon:td,text:"Reset value",onClick:n,mode:"ghost"})]})}const mde={hits:[],isLoading:!1},D0n=()=>!0,gde=["_ref"],P0n="crossDatasetReferences";function I0n(e){var t,n,r;const{changed:o,focused:i,focusPath:s,getReferenceInfo:a,onChange:l,onPathFocus:u,onSearch:d,path:f,readOnly:p,schemaType:m,validation:v,value:g,elementProps:y}=e,x=cH(),[b,w]=h.useState(mde),C=h.useCallback(ae=>{if(!ae){l(Je()),u([]);return}if(!b.hits.find(_e=>_e.id===ae))throw new Error("Selected an item that wasnt part of the result set");l(bt({_type:m.name,_ref:Fn(ae),_projectId:x,_dataset:m.dataset,_weak:m.weak,_key:g==null?void 0:g._key})),u([])},[g==null?void 0:g._key,b.hits,m.name,m.dataset,m.weak,x,l,u]),_=h.useCallback(()=>{l(Je())},[l]),S=h.useCallback(ae=>{ae.keyCode===27&&(u==null||u([]))},[u]),E=h.useCallback(ae=>a(ae,m),[a,m]),j=h.useMemo(()=>({_id:g==null?void 0:g._ref}),[g==null?void 0:g._ref]),k=XMe(j,E),T=Y4e(P0n),A=h.useRef(null),D=s.length===1&&s[0]==="_ref",P=y.ref;Gi({hasFocusAt:D,ref:g==null?void 0:g._ref},(ae,Ce)=>{var _e;const he=(ae==null?void 0:ae.ref)!==Ce.ref;((ae==null?void 0:ae.hasFocusAt)!==Ce.hasFocusAt||he)&&Ce.hasFocusAt&&((_e=P.current)==null||_e.focus())});const I=g!=null&&g._weak?"weak":"strong",R=m.weak===!0?"weak":"strong",O=!!(g!=null&&g._ref),V=h.useCallback(()=>{l(m.weak===!0?bt(!0,["_weak"]):Je(["_weak"]))},[l,m]),{push:B}=Qo(),H=h.useMemo(()=>v.filter(ae=>ae.level==="error"),[v]),W=h.useCallback(ae=>{ae.currentTarget===y.ref.current&&(u==null||u([$be]))},[y.ref,u]),z=h.useCallback(ae=>{ae.currentTarget===y.ref.current&&(u==null||u(gde))},[y.ref,u]),G=h.useCallback(()=>{u==null||u(gde)},[u]),ee=h.useId(),N=bA(ae=>ae.pipe(pt(_o),nr(),rt(Ce=>Kr(ve({isLoading:!0}),d(Ce).pipe(le(_e=>({hits:_e,searchString:Ce,isLoading:!1})),Mn(_e=>(B({title:"Reference search failed",description:_e.message,status:"error",id:"reference-search-fail-".concat(ee)}),console.error(_e),ve({hits:[]})))))),ma((Ce,_e)=>({...Ce,..._e}),mde),_n(w)),[ee,d,B]),Y=h.useCallback(()=>{N("")},[N]),q=!k.isLoading&&O&&I!==R,Z=(g==null?void 0:g._ref)&&((n=m.studioUrl)==null?void 0:n.call(m,{id:g==null?void 0:g._ref,type:(t=k==null?void 0:k.result)==null?void 0:t.type}))||null,ie=h.useCallback(ae=>c.jsx(dm,{as:"button",type:"button",radius:2,children:c.jsx(M,{paddingX:3,paddingY:1,children:c.jsx(x0n,{referenceType:m,document:ae.hit.published,getReferenceInfo:E})})}),[m,E]),re=(r=k.result)==null?void 0:r.preview.published,K=D||!(g!=null&&g._ref),X=h.useRef(null),ce=h.useRef(null),me=h.useRef(null);return F$e([X,ce,me],()=>{D&&u([])}),c.jsxs(c.Fragment,{children:[!T.isLoading&&!T.enabled&&c.jsx(A0n,{value:g,onClearValue:_}),(T.isLoading||T.enabled)&&c.jsx(te,{space:1,children:K?c.jsx(te,{space:2,ref:X,children:c.jsx(yi,{path:f,isChanged:o,hasFocus:!!i,children:c.jsx("div",{ref:A,children:c.jsx(E0n,{...y,"data-testid":"autocomplete",loading:b.isLoading,referenceElement:A.current,portalRef:ce,id:ee||"",options:b.hits.map(ae=>({value:ae.id,hit:ae})),onFocus:z,radius:1,placeholder:"Type to search",onKeyDown:S,readOnly:p,disabled:k.isLoading,onQueryChange:N,searchString:b.searchString,onChange:C,filterOption:D0n,renderOption:ie,openButton:{onClick:Y}})})})}):c.jsx(yi,{path:f,isChanged:o,hasFocus:!!i,children:c.jsxs(Q,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":k.error||H.length>0?"critical":"default",children:[c.jsxs(U,{align:"center",padding:1,children:[Z?c.jsx(dm,{as:"a",target:"_blank",rel:"noopener noreferrer",href:Z,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:W,ref:y.ref,children:c.jsx(cde,{value:g,referenceInfo:k,showStudioUrlIcon:!0,hasStudioUrl:!!Z,type:m})}):c.jsx(dm,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:W,ref:y.ref,children:c.jsx(cde,{value:g,referenceInfo:k,showStudioUrlIcon:!0,type:m})}),c.jsx(Zt,{paddingX:1,children:c.jsx(rn,{button:c.jsx(oe,{padding:2,mode:"bleed",icon:Fo,"data-testid":"menu-button"}),id:"".concat(ee,"-menuButton"),menu:c.jsx(zt,{children:!p&&c.jsxs(c.Fragment,{children:[c.jsx(Ne,{text:"Clear",tone:"critical",icon:td,"data-testid":"menu-item-clear",onClick:_}),c.jsx(Ne,{text:"Replace",icon:f1,"data-testid":"menu-item-replace",onClick:G})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),q&&c.jsx(Zf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(te,{space:3,children:[c.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:I}),", but according to the current schema it should be ",c.jsxs("em",{children:[R,"."]})]}),c.jsx(L,{as:"p",muted:!0,size:1,children:m.weak?c.jsxs(c.Fragment,{children:['It will not be possible to delete the "',re==null?void 0:re.title,'"-document without first removing this reference.']}):c.jsxs(c.Fragment,{children:['This makes it possible to delete the "',re==null?void 0:re.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),c.jsx(oe,{onClick:V,text:c.jsxs(c.Fragment,{children:["Convert to ",R," reference"]}),tone:"caution"})]})}),k.error&&c.jsx(Zf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(te,{space:3,children:[c.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",k.error.message]}),c.jsx(oe,{onClick:k.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function O0n(e,t,n,r){return bV(n.to.map(i=>({name:i.type,__experimental_search:i.__experimental_search})),e,r)(t,{includeDrafts:!1}).pipe(le(i=>i.map(s=>s.hit)),le(rP),le(i=>i.map(s=>({id:s.id,type:s.type,published:s.published}))))}const $0n="cross-dataset-refs",nFe={available:!0,reason:"READABLE"},R0n={available:!1,reason:"PERMISSION_DENIED"},M0n={available:!1,reason:"NOT_FOUND"};function F0n(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:o}=t.config(),i=r&&o?{dataset:r,projectId:o}:void 0;return function(a,l){return(a._type?ve(a):n.observeDocumentTypeFromId(a._id,i).pipe(le(u=>({_id:a._id,_type:u})))).pipe(rt(u=>{if(!u._type)return L0n(t,a._id).pipe(le(m=>({id:a._id,type:void 0,availability:m,preview:{published:void 0}})));const d=l.to.find(m=>m.type===u._type),f=[...mV(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],p=n.observePaths(a,f,i).pipe(le(m=>m&&Fj(m,d)));return Go([p]).pipe(le(m=>{let[v]=m;return{type:u._type,id:a._id,availability:nFe,preview:{published:xt(v)?v:void 0}}}))}))}}function L0n(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat($0n,".availability")};return e.observable.request(n).pipe(le(r=>{const i=LB(r.omitted||[],s=>s.id)[t];return i?i.reason==="existence"?M0n:i.reason==="permission"?R0n:null:nFe}))}async function B0n(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=qm(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function N0n(e){const t=h.useRef(e);return t.current=e,t}function z0n(e){const{path:t,schemaType:n}=e,r=Nn(),o=r.getClient(un),i=Ki(),s=r.getClient,a=h.useMemo(()=>o.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[o,n.dataset]),l=$V([]),u=N0n(l),d=h.useCallback(p=>jr(B0n(n.options,u.current,t,s)).pipe(ft(m=>{let{filter:v,params:g}=m;return O0n(a,p,n,{...n.options,filter:v,params:g,tag:"search.cross-dataset-reference"})}),Mn(m=>{var v;const g=m.details&&m.details.type==="queryParseError";return(v=n.options)!=null&&v.filter&&g&&(m.message='Invalid reference filter, please check the custom "filter" option'),ud(m)})),[a,u,t,n,s]),f=h.useMemo(()=>F0n({client:a,documentPreviewStore:i}),[a,i]);return c.jsx(I0n,{...e,getReferenceInfo:f,onSearch:d})}function V0n(e){const t=h.useRef(e);return t.current=e,t}async function H0n(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=qm(t,o);return e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function uH(e){var t,n,r,o;const{path:i,schemaType:s}=e,a=Nn(),l=a.getClient(un),u=An(),d=Ki(),f=h.useMemo(()=>l.withConfig({apiVersion:"2021-03-25"}),[l]),{EditReferenceLinkComponent:p,onEditReference:m,activePath:v,initialValueTemplateItems:g}=jRe(),y=$V([]),x=V0n(y),b=(t=x.current)==null?void 0:t._type,w=h.useMemo(()=>{var P;return(P=u.get(b))==null?void 0:P.liveEdit},[b,u]),C=((n=s.options)==null?void 0:n.disableNew)===!0,_=a.getClient,S=h.useCallback(P=>jr(H0n(s.options,x.current,i,_)).pipe(ft(I=>{let{filter:R,params:O}=I;return M$e(f,P,s,{...s.options,filter:R,params:O,tag:"search.reference"})}),Mn(I=>{var R;const O=I.details&&I.details.type==="queryParseError";return(R=s.options)!=null&&R.filter&&O&&(I.message='Invalid reference filter, please check the custom "filter" option'),ud(I)})),[x,i,f,s,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(I,R){return p?c.jsx(p,{...I,ref:R,parentRefPath:i,template:E}):null}),[p,i,E]),k=h.useCallback(P=>{m==null||m({parentRefPath:i,id:P.id,type:P.type,template:P.template})},[m,i]),T=Ii(i,(v==null?void 0:v.path)||[])?v==null?void 0:v.state:"none",A=h.useMemo(()=>C?[]:(g||[]).filter(P=>s.to.some(I=>{var R;return I.name===((R=P.template)==null?void 0:R.schemaType)})).map(P=>{var I;return(I=P.template)!=null&&I.schemaType?{id:P.id,title:P.title||"".concat(P.template.schemaType," from template ").concat(P.template.id),type:P.template.schemaType,icon:P.icon,template:{id:P.template.id,params:P.parameters},permission:{granted:P.granted,reason:P.reason}}:void 0}).filter(_o),[C,g,s.to]),D=h.useCallback(P=>R$e(d,P,s),[d,s]);return{selectedState:T,handleSearch:S,isCurrentDocumentLiveEdit:w,handleEditReference:k,EditReferenceLink:j,createOptions:A,getReferenceInfo:D}}function U0n(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:o,result:i,error:s}=wP(n,t);if(o)return c.jsxs(te,{space:2,padding:1,children:[c.jsx(zi,{style:{maxWidth:320},radius:1,animated:!0}),c.jsx(zi,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(s)return c.jsx(te,{space:2,padding:1,children:c.jsx(lu,{title:"Failed to load referenced document",children:c.jsxs(L,{muted:!0,size:1,children:["Error: ",s.message]})})});if(!i)return null;if(i.availability.reason==="PERMISSION_DENIED")return c.jsx(te,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=e.type.to.find(l=>l.name===i.type);return a?i&&a&&c.jsx(HRe,{id:i.id,layout:"default",preview:i.preview,refType:a,renderPreview:r,showTypeLabel:e.type.to.length>1}):c.jsxs(te,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,i.type,'"']})}const W0n={display:"inline-flex"},Y0n={width:"100%"},q0n={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function G0n(e){const{createOptions:t,onCreate:n,id:r,...o}=e;return t.some(s=>s.permission.granted)?t.length>1?c.jsx(rn,{button:c.jsx(oe,{...o,disabled:e.readOnly,text:"Create new…",mode:"ghost",icon:Ro}),id:r,menu:c.jsx(zt,{ref:e.menuRef,children:t.map(s=>c.jsx(it,{disabled:s.permission.granted,content:c.jsx(M,{padding:2,children:c.jsx(Xc,{operationLabel:"create this type of document"})}),portal:!0,children:c.jsx("div",{children:c.jsx(Ne,{disabled:!s.permission.granted,icon:s.icon,text:s.title,onClick:()=>n(s)})})},s.id))}),popover:q0n}):c.jsx(oe,{...o,text:"Create new",mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:Ro}):c.jsx(it,{content:c.jsx(M,{padding:2,children:c.jsx(Xc,{operationLabel:"create a new reference"})}),children:c.jsx("div",{style:W0n,children:c.jsx(oe,{text:"Create new",mode:"ghost",disabled:!0,icon:Ro,style:Y0n})})})}var vde=Object.freeze,K0n=Object.defineProperty,rFe=(e,t)=>vde(K0n(e,"raw",{value:vde(t||e.slice())})),yde,bde;const Z0n=$(nn)(yde||(yde=rFe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),X0n=$(L)(bde||(bde=rFe([`
  word-break: break-word;
`]))),Q0n=["top-start","bottom-start"],J0n=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:l,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;var p;return c.jsx(Z0n,{placement:"bottom-start",fallbackPlacements:Q0n,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:c.jsx("div",{ref:s,children:r?a:c.jsx(M,{padding:4,children:c.jsx(U,{align:"center",height:"fill",justify:"center",children:c.jsxs(X0n,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["“",t.searchString,"”"]}),((p=t.searchString)==null?void 0:p.toLowerCase())==="capybara"?c.jsx(c.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!t.loading&&!l,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return c.jsx(e7,{...t,ref:n,renderPopover:o})});var xde=Object.freeze,e1n=Object.defineProperty,oFe=(e,t)=>xde(e1n(e,"raw",{value:xde(t||e.slice())})),wde,Cde;const t1n=de(wde||(wde=oFe([`
  grid-template-columns: minmax(0px, 1fr);
`]))),n1n=de(Cde||(Cde=oFe([`
  grid-template-columns: 1fr min-content;
`]))),r1n=$(tn)(e=>e.$narrow?t1n:n1n),o1n=h.forwardRef(function(t,n){const[r,o]=h.useState(null),i=h.useCallback(a=>{i1n(n,a),o(a)},[n]),s=Dh(r);return c.jsx(r1n,{ref:i,gap:1,$narrow:((s==null?void 0:s.width)||0)<480,children:t.children})});function i1n(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var _de=Object.freeze,s1n=Object.defineProperty,a1n=(e,t)=>_de(s1n(e,"raw",{value:_de(t||e.slice())})),Sde;const l1n=$(dm)(Sde||(Sde=a1n([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),Ede={hits:[],isLoading:!1},c1n=()=>!0;function u1n(e){return e!==null}function d1n(e){var t,n,r,o,i,s;const{createOptions:a,onChange:l,onEditReference:u,onSearch:d,schemaType:f,readOnly:p,id:m,onPathFocus:v,value:g,renderPreview:y,path:x,elementProps:b,focusPath:w}=e,{getReferenceInfo:C}=uH({path:x,schemaType:f,value:g}),[_,S]=h.useState(Ede),E=h.useCallback(K=>{const X=Od(),ce=[ls({}),bt(f.name,["_type"]),bt(X,["_ref"]),bt(!0,["_weak"]),bt({type:K.type,weak:f.weak,template:K.template},["_strengthenOnPublish"])].filter(_o);l(ce),u({id:X,type:K.type,template:K.template}),v([])},[l,u,v,f]),j=h.useCallback(K=>{if(!K){l(Je()),v([]);return}const X=_.hits.find(me=>me.id===K);if(!X)throw new Error("Selected an item that wasnt part of the result set");const ce=[ls({}),bt(f.name,["_type"]),bt(Fn(K),["_ref"]),X.published&&!f.weak?Je(["_weak"]):bt(!0,["_weak"]),X.published?Je(["_strengthenOnPublish"]):bt({type:X==null?void 0:X.type,weak:f.weak},["_strengthenOnPublish"])].filter(_o);l(ce),v([])},[l,v,f.name,f.weak,_.hits]),k=h.useCallback(()=>{l(Je())},[l]),T=h.useCallback(()=>{g!=null&&g._ref||k()},[k,g==null?void 0:g._ref]),A=h.useCallback(K=>{K.key==="Escape"&&v([])},[v]),D=wP(g==null?void 0:g._ref,C),P=h.useRef(null),{push:I}=Qo(),R=bA(K=>K.pipe(pt(u1n),rt(X=>Kr(ve({isLoading:!0}),d(X).pipe(le(ce=>({hits:ce,searchString:X,isLoading:!1})),Mn(ce=>(I({title:"Reference search failed",description:ce.message,status:"error",id:"reference-search-fail-".concat(m)}),console.error(ce),ve({hits:[]})))))),ma((X,ce)=>({...X,...ce}),Ede),_n(S)),[m,d,I]),O=h.useCallback(()=>{R("")},[R]),V=h.useCallback(K=>{K.key==="Escape"&&v([])},[v]),B=h.useCallback(K=>{var X,ce;const me=((X=K.hit.draft)==null?void 0:X._id)||((ce=K.hit.published)==null?void 0:ce._id)||K.value;return c.jsx(l1n,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:c.jsx(M,{paddingX:3,paddingY:1,children:c.jsx(U0n,{getReferenceInfo:C,id:me,renderPreview:y,type:f})})})},[f,C,y]),H=h.useCallback(()=>{var K,X,ce,me;return((X=(K=D.result)==null?void 0:K.preview.draft)==null?void 0:X.title)||((me=(ce=D.result)==null?void 0:ce.preview.published)==null?void 0:me.title)||""},[(n=(t=D.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(o=(r=D.result)==null?void 0:r.preview.published)==null?void 0:o.title]),W=h.useCallback(()=>v(["_ref"]),[v]),z=h.useCallback(K=>{var X;(X=P.current)!=null&&X.contains(K.relatedTarget)||e.elementProps.onBlur(K)},[e.elementProps]),G=((s=(i=D==null?void 0:D.result)==null?void 0:i.availability)==null?void 0:s.reason)==="NOT_FOUND"&&!(g!=null&&g._strengthenOnPublish)&&(g==null?void 0:g._weak);Gi((w==null?void 0:w[0])==="_ref",(K,X)=>{var ce;!K&&X&&((ce=b.ref.current)==null||ce.focus())});const ee=h.useMemo(()=>_.hits.map(K=>({value:K.id,hit:K})),[_.hits]),N=w.length===1&&w[0]==="_ref",{menuRef:Y,containerRef:q}=Gfn(),Z=h.useRef(null),ie=h.useRef(null),re=h.useRef(null);return F$e([q,Z,ie,re,Y],()=>{N&&T()}),c.jsx(te,{space:1,"data-testid":"reference-input",ref:Z,children:c.jsxs(te,{space:2,children:[G?c.jsx(lu,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:c.jsx(te,{padding:2,children:c.jsx(oe,{text:"Clear",onClick:k})}),children:c.jsxs(L,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",c.jsx("code",{children:g._ref}),"). You can either remove the reference or replace it with another document."]})}):null,c.jsxs(o1n,{ref:P,children:[c.jsx(J0n,{...b,onFocus:W,onBlur:z,"data-testid":"autocomplete",loading:_.isLoading,referenceElement:P.current,options:ee,radius:1,placeholder:"Type to search",onKeyDown:A,readOnly:D.isLoading||p,onQueryChange:R,searchString:_.searchString,onChange:j,filterOption:c1n,renderOption:B,renderValue:H,openButton:{onClick:O},portalRef:ie,value:g==null?void 0:g._ref}),a.length>0&&c.jsx(G0n,{id:"".concat(m,"-selectTypeMenuButton"),readOnly:p,createOptions:a,onCreate:E,onKeyDown:V,menuRef:re})]})]})})}async function f1n(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=qm(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function h1n(e){const t=h.useRef(e);return t.current=e,t}function p1n(e){var t,n,r,o;const i=Nn(),s=i.getClient(un),a=An(),l=Ki(),{path:u,schemaType:d}=e,{EditReferenceLinkComponent:f,onEditReference:p,activePath:m,initialValueTemplateItems:v}=jRe(),g=$V([]),y=h1n(g),x=(t=y.current)==null?void 0:t._type,b=a.get(x),w=h.useMemo(()=>b==null?void 0:b.liveEdit,[b]),C=((n=d.options)==null?void 0:n.disableNew)===!0,_=i.getClient,S=h.useCallback(P=>jr(f1n(d.options,y.current,u,_)).pipe(ft(I=>{let{filter:R,params:O}=I;return M$e(s,P,d,{...d.options,filter:R,params:O,tag:"search.reference"})}),Mn(I=>{var R;const O=I.details&&I.details.type==="queryParseError";return(R=d.options)!=null&&R.filter&&O&&(I.message='Invalid reference filter, please check the custom "filter" option'),ud(I)})),[y,u,s,d,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(I,R){return f?c.jsx(f,{...I,ref:R,parentRefPath:u,template:E}):null}),[f,u,E]),k=h.useCallback(P=>{p==null||p({parentRefPath:u,id:P.id,type:P.type,template:P.template})},[p,u]),T=Ii(u,(m==null?void 0:m.path)||[])?m==null?void 0:m.state:"none",A=h.useMemo(()=>C?[]:(v||[]).filter(P=>d.to.some(I=>{var R;return I.name===((R=P.template)==null?void 0:R.schemaType)})).map(P=>{var I,R,O;return(I=P.template)!=null&&I.schemaType?{id:P.id,title:P.title||"".concat(P.template.schemaType," from template ").concat((R=P.template)==null?void 0:R.id),type:P.template.schemaType,icon:P.icon,template:{id:(O=P.template)==null?void 0:O.id,params:P.parameters},permission:{granted:P.granted,reason:P.reason}}:void 0}).filter(_o),[C,v,d.to]),D=h.useCallback((P,I)=>R$e(l,P,I),[l]);return c.jsx(d1n,{...e,onSearch:S,liveEdit:w,getReferenceInfo:D,selectedState:T,editReferenceLinkComponent:j,createOptions:A,onEditReference:k})}function m1n(e){return $6(e.schemaType)}function g1n(e){return C9e(e.schemaType)}function Vj(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((o,i)=>Vj(e[i],t[i]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>Vj(e[o],t[o]))}function kde(e,t){return e?e.some(n=>Vj(n,t)):!1}function v1n(e,t){return e.of.find(n=>n.name===Fs(t))}const y1n=[];function b1n(e){var t,n;const{renderPreview:r,schemaType:o,onChange:i,onPathFocus:s,value:a=[],readOnly:l,elementProps:u,path:d,changed:f}=e,p=h.useMemo(()=>{var y;return(((y=o.options)==null?void 0:y.list)||y1n).map((x,b)=>Ul(x)?x:{...x,_key:"auto-generated-".concat(b)})},[(t=o.options)==null?void 0:t.list]),m=h.useCallback((y,x)=>{if(!y&&Ul(x)){i(Je([{_key:x._key}]));return}const b=p.filter(w=>Vj(x,w)?y:kde(a,w));i(b.length>0?bt(b):Je())},[i,p,a]),v=h.useCallback(y=>{s([y])},[s]),g=((n=o.options)==null?void 0:n.layout)==="grid";return c.jsx(yi,{path:d,isChanged:f,hasFocus:!1,children:c.jsx(tn,{gap:2,columns:g?Math.min(p.length,4):1,tabIndex:0,...u,children:p.map((y,x)=>{const b=v1n(o,y),w=kde(a,y),C=!b;return c.jsxs(U,{align:"center",as:"label",muted:C,children:[c.jsx(uA,{disabled:C,checked:w,onChange:_=>m(_.currentTarget.checked,y),onFocus:()=>v(x),readOnly:l}),c.jsx(M,{flex:1,marginLeft:2,children:b?r({layout:"default",schemaType:b,value:y}):c.jsx(Q,{tone:"caution",radius:2,children:c.jsx(uMe,{value:y,onFocus:()=>v(x)})})})]},x)})})})}var jde=Object.freeze,x1n=Object.defineProperty,w1n=(e,t)=>jde(x1n(e,"raw",{value:jde(t||e.slice())})),Tde;const C1n=$(Q)(Tde||(Tde=w1n([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function iFe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ne.useState(!1),[a,l]=ne.useState(null);pr(()=>s(!1),[a]);const u=ne.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Fs(t);return c.jsx(nn,{open:i,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(C1n,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(te,{space:4,children:[c.jsx(M,{children:c.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),c.jsxs(L,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(M,{children:c.jsxs(L,{size:1,children:[c.jsx(kT,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(te,{space:2,children:[c.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(Q,{padding:2,overflow:"auto",border:!0,children:c.jsx(dr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(Q,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:c.jsxs(U,{align:"center",children:[c.jsx(M,{marginRight:3,children:c.jsx(L,{children:c.jsx(zl,{})})}),c.jsx(M,{flex:1,children:c.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]})})]})})})}function _1n(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function S1n(e){return e.map(t=>_1n(t)?{title:t.title||pn(String(t.value)),value:t.value}:{title:pn(String(t)),value:t})}function E1n(e,t){return e.of.find(n=>n.name===Fs(t.value))}function k1n(e){var t,n;const{schemaType:r,onChange:o,value:i=[],readOnly:s,path:a,changed:l,onIndexFocus:u,elementProps:d}=e,f=h.useMemo(()=>{var v;return S1n(((v=r.options)==null?void 0:v.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(v,g)=>{const y=f.map(x=>x.value).filter(x=>x===g?v:i.includes(x));o(y.length>0?bt(y):Je())},m=((n=r.options)==null?void 0:n.layout)==="grid";return c.jsx(yi,{path:a,isChanged:l,hasFocus:!1,children:c.jsx(tn,{gap:2,columns:m?Math.min(f.length,4):1,...d,children:f.map((v,g)=>{const y=E1n(r,v),x=i.includes(v.value),b=!y;return c.jsxs(U,{align:"center",as:"label",muted:b,children:[c.jsx(uA,{disabled:b,checked:x,onChange:w=>p(w.currentTarget.checked,v.value),onFocus:()=>u(g),readOnly:s}),c.jsx(M,{padding:2,children:c.jsx(L,{children:v.title})}),!y&&c.jsx(iFe,{value:v,onFocus:()=>u(g)})]},g)})})})}function sFe(e){return m1n(e)?c.jsx(b1n,{...e}):c.jsx(k1n,{...e})}var Ade=Object.freeze,j1n=Object.defineProperty,AP=(e,t)=>Ade(j1n(e,"raw",{value:Ade(t||e.slice())})),Dde,Pde,Ide,Ode;const T1n=$.div(Dde||(Dde=AP([`
  position: relative;
`]))),aFe=$.div(Pde||(Pde=AP([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),lFe=$(Q)(Ide||(Ide=AP([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),A1n=$(U)(Ode||(Ode=AP([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  &:hover,
  &:focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),lFe,aFe),D1n=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function P1n(e){const{children:t,message:n,onActivate:r,isOverlayActive:o}=e,[i,s]=h.useState(!1),a=h.useCallback(()=>{r&&r()},[r]),l=h.useCallback(p=>{o&&p.code==="Space"&&r&&(p.preventDefault(),r())},[o,r]),u=h.useCallback(()=>{s(!0)},[]),d=h.useCallback(()=>{s(!1)},[]),f=h.useMemo(()=>{const p=D1n();let m=p?"Tap":"Click";i&&!p&&(m+=" or press space");const v=n||"".concat(m," to activate");return c.jsx(L,{weight:"semibold",children:v})},[i,n]);return c.jsxs(T1n,{onBlur:d,onClick:a,onFocus:u,onKeyDown:l,children:[o&&c.jsxs(A1n,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[c.jsx(lFe,{radius:1}),c.jsx(aFe,{children:f})]}),t]})}var $de=Object.freeze,I1n=Object.defineProperty,O1n=(e,t)=>$de(I1n(e,"raw",{value:$de(t||e.slice())})),Rde;const $1n=$.span(Rde||(Rde=O1n([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function R1n(e){const{value:t,focused:n,selected:r,children:o,schemaType:i}=e,s=Tmn[t],a=i.component,l=h.useCallback(u=>c.jsx($1n,{as:s,"data-mark":t,children:u.children}),[s,t]);return h.useMemo(()=>{const u={focused:n,renderDefault:l,schemaType:i,selected:r,title:i.title,value:t};return a?c.jsx(a,{...u,children:o}):c.jsx(l,{...u,children:o})},[a,l,o,n,i,r,t])}const M1n={portal:!0,constrainSize:!0},cFe=h.forwardRef(function(t,n){const{disableRestoreFocusOnClose:r,menuButton:o,menuButtonProps:i,menuOptions:s,onMenuClose:a}=t;return c.jsx(rn,{__unstable_disableRestoreFocusOnClose:r,id:"menu-button",ref:n,onClose:a,popover:M1n,...i,button:o,menu:c.jsx(zt,{children:s.map((l,u)=>{const{collapsedProps:d={},expandedProps:f={},tooltipProps:p={},tooltipText:m,dividerBefore:v,fontSize:g,padding:y,text:x,icon:b,selected:w,...C}=l.props;return c.jsxs(ne.Fragment,{children:[v&&u!==0&&c.jsx(Mr,{}),c.jsx(Ne,{text:x,icon:b,pressed:w,...C})]},l.key)})})})});function F1n(e){const{onIntersectionChange:t,children:n,options:r,...o}=e,[i,s]=h.useState(null);return h.useEffect(()=>{if(!i)return;const a=new IntersectionObserver(t,r);return a.observe(i),()=>{a.unobserve(i),a.disconnect()}},[i,t,r]),c.jsx(U,{ref:s,...o,children:n})}var Mde=Object.freeze,L1n=Object.defineProperty,B1n=(e,t)=>Mde(L1n(e,"raw",{value:Mde(t||e.slice())})),Fde;const N1n=$.div(Fde||(Fde=B1n([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function uFe(e){const{hidden:t,...n}=e;return c.jsx(N1n,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}var Lde=Object.freeze,z1n=Object.defineProperty,__=(e,t)=>Lde(z1n(e,"raw",{value:Lde(t||e.slice())})),Bde,Nde,zde,Vde,Hde;const Ude=3,V1n=de(Bde||(Bde=__([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),H1n=$(U)(Nde||(Nde=__([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),Ude,Ude),U1n=$(U)(zde||(zde=__([`
  border-radius: inherit;
  position: relative;
`]))),dFe=$(U)(Vde||(Vde=__([`
  width: max-content;
  &[data-hidden='true'] {
    visibility: hidden;
    position: relative;
    margin-top: -1px;
    height: 1px;
  }
`]))),W1n=$(F1n)(Hde||(Hde=__([`
  `,`
`])),V1n);function Y1n(e){return!!e}const dH=h.forwardRef(function(t,n){const{children:r,collapsed:o,disableRestoreFocusOnClose:i,onMenuClose:s,menuButtonProps:a,...l}=t,u=h.useMemo(()=>h.Children.toArray(r).filter(Y1n),[r]),d=h.useMemo(()=>(a==null?void 0:a.button)||c.jsx(oe,{icon:Fo,mode:"bleed"}),[a]);return o?c.jsx(cFe,{ref:n,disableRestoreFocusOnClose:i,menuButton:d,menuButtonProps:a,menuOptions:u,onMenuClose:s}):c.jsx(q1n,{...l,ref:n,disableRestoreFocusOnClose:i,menuButtonProps:a,menuOptions:u,onMenuClose:s})}),q1n=h.forwardRef(function(t,n){const{collapseText:r=!0,disableRestoreFocusOnClose:o,gap:i,menuOptions:s,menuButtonProps:a,onMenuClose:l,...u}=t,[d,f]=h.useState(null),[p,m]=h.useState({}),[v,g]=h.useState({}),y=h.useMemo(()=>({root:d,threshold:.99,rootMargin:"2px"}),[d]),x=h.useMemo(()=>s.map(A=>A.key),[s]),b=h.useMemo(()=>[...Dm(x,Object.keys(p)),...Dm(x,Object.keys(v))],[x,p,v]),w=h.useMemo(()=>s.filter(A=>{const D=p[A.key];return D&&!D.intersects}),[p,s]),C=h.useCallback((A,D)=>{m(P=>{const I=D.key;if(I===null)throw new Error("Expected element to have a non-null key");const R={intersects:A.isIntersecting,element:D},O=P[I];return!O||O.intersects!==R.intersects?{...P,[I]:R}:P})},[]),_=h.useCallback((A,D)=>{g(P=>{const I=D.key;if(I===null)throw new Error("Expected child element to have a non-null key");const R=P[I],O={intersects:A.isIntersecting,element:D};return(R==null?void 0:R.intersects)===O.intersects?P:{...P,[I]:O}})},[]),S=h.useMemo(()=>s.map(A=>{const{collapsedProps:D}=A.props,P=D,I=r?void 0:A.props.text;return h.cloneElement(A,{...P,text:I})}),[s,r]),E=h.useMemo(()=>s.filter(A=>{const D=v[A.key];return(D==null?void 0:D.intersects)===!1}),[s,v]),k=w.length>0?S.filter(A=>{const D=v[A.key];return(D==null?void 0:D.intersects)===!0}):s,T=h.useMemo(()=>(a==null?void 0:a.button)||c.jsx(oe,{icon:Fo,mode:"bleed"}),[a]);return c.jsxs(H1n,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...u,children:[c.jsxs(U1n,{direction:"column",flex:1,justify:"center",ref:f,children:[c.jsx(dFe,{gap:i,children:b.length===0&&k.map((A,D)=>{const{dividerBefore:P,tooltipText:I="",tooltipProps:R={}}=A.props,O=!A.key||!(A.key in p)||E.includes(A);return c.jsxs(h.Fragment,{children:[P&&D!==0&&c.jsx(uFe,{hidden:O}),c.jsx(it,{portal:!0,disabled:!I,content:c.jsx(M,{padding:2,sizing:"border",children:c.jsx(L,{size:1,children:I})}),...R,children:c.jsx(U,{children:h.cloneElement(A,{disabled:A.props.disabled||O,"aria-hidden":O})})})]},A.key)})}),c.jsx(Wde,{gap:i,elements:s,intersectionOptions:y,onIntersectionChange:C}),c.jsx(Wde,{gap:i,elements:S,intersectionOptions:y,onIntersectionChange:_})]}),E.length>0&&c.jsx(U,{marginLeft:i,children:c.jsx(cFe,{disableRestoreFocusOnClose:o,menuButton:T,menuButtonProps:a,menuOptions:E,onMenuClose:l})})]})}),Wde=h.memo(function(t){const{elements:n,gap:r,intersectionOptions:o,onIntersectionChange:i}=t;return c.jsx(dFe,{"data-hidden":!0,"aria-hidden":"true",gap:r,overflow:"hidden",children:n.map((s,a)=>{const{dividerBefore:l}=s.props;return c.jsxs(h.Fragment,{children:[l&&a!==0&&c.jsx(uFe,{hidden:!0}),c.jsx(W1n,{options:o,onIntersectionChange:u=>i(u[0],s),children:c.jsx(U,{children:h.cloneElement(s,{disabled:!0,"aria-hidden":!0})})})]},s.key)})})}),fH=h.forwardRef(function(t,n){const{collapsedProps:r={},expandedProps:o={},tooltipProps:i={},tooltipText:s,dividerBefore:a,...l}=t;return c.jsx(oe,{"data-ui":"CollapseMenuButton",...l,ref:n})});var Yde=Object.freeze,G1n=Object.defineProperty,K1n=(e,t)=>Yde(G1n(e,"raw",{value:Yde(t||e.slice())})),qde;const Z1n=$.div(qde||(qde=K1n([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function X1n(e){const{icon:t,active:n}=e,r=h.useMemo(()=>({backgroundImage:"url(".concat(t,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return c.jsx(Z1n,{style:r})}function Q1n(e,t,n){return e.schemaTypes.decorators.map(o=>{const i=Object.keys(n.marks||{}).find(a=>{var l;return((l=n.marks)==null?void 0:l[a])===o.value});let s=[];return i&&(s=[i]),{type:"format",disabled:t,icon:o==null?void 0:o.icon,key:o.value,handle:()=>{we.toggleMark(e,o.value),we.focus(e)},hotkeys:s,title:o.title}})}function J1n(e,t){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{we.toggleList(e,r.value)},title:r.title}))}function eyn(e){return Gn(e,"icon")||Gn(e,"type.icon")||Gn(e,"type.to.icon")||Gn(e,"type.to[0].icon")}function tyn(e,t,n){const r=e.schemaTypes,o=we.focusChild(e),i=o&&o.text;return r.annotations.map(s=>({type:"annotation",disabled:!i||t,icon:eyn(s),key:s.name,handle:a=>{a?(we.removeAnnotation(e,s),we.focus(e)):n(s)},title:s.title||hg(s.name)}))}function nyn(e,t,n,r){return[{name:"format",actions:Q1n(e,t,r)},{name:"list",actions:J1n(e,t)},{name:"annotation",actions:tyn(e,t,n)}]}function ryn(e){return e.styles.map(t=>({key:"style-".concat(t.value),style:t.value,styleComponent:t&&t.component,title:t.title}))}function Gde(e,t){const n=Gn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function oyn(e,t,n,r){const o=e.blockObjects.map((a,l)=>({handle:()=>n(a),icon:Gde(a,gxe),inline:!1,key:"block-".concat(l),type:a})),i=e.inlineObjects.map((a,l)=>({handle:()=>r(a),icon:Gde(a,Axe),inline:!0,key:"inline-".concat(l),type:a}));return o.concat(i).filter(a=>{var l;return!((l=a.type)!=null&&l.hidden)})}const iyn={link:ih},syn={strong:vxe,em:Ixe,"strike-through":Vxe,underline:Hxe,code:xxe},ayn={number:Rxe,bullet:zb};function lyn(e,t){return e.icon?typeof e.icon=="string"?c.jsx(X1n,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?iyn[e.key]||zl:e.type==="listStyle"?ayn[e.key]||zl:syn[e.key]||zl}function DP(){const e=Eo(),t=R1();return h.useMemo(()=>we.focusBlock(e),[e,t])}function cyn(e){let{hotkeys:t,onMemberOpen:n,resolveInitialValue:r,disabled:o}=e;const i=Eo(),s=h.useCallback(async a=>{const l=await r(a),u=we.addAnnotation(i,a,l);u&&u.markDefPath&&n(u.markDefPath)},[i,n,r]);return h.useMemo(()=>i?nyn(i,o,s,t):[],[o,i,s,t])}function uyn(e){let{actions:t}=e;const n=Eo(),r=R1();return si(h.useMemo(()=>{const o=we.activeAnnotations(n).map(i=>i._type);return t.filter(i=>i.type==="annotation"?o.includes(i.key):i.type==="listStyle"?we.hasListStyle(n,i.key):we.isMarkActive(n,i.key)).map(i=>i.key)},[n,r]))}function dyn(e){let{items:t}=e;const n=Eo(),r=DP(),o=R1();return si(h.useMemo(()=>t.filter(i=>we.hasBlockStyle(n,i.style)).map(i=>i.style),[r,o]))}const fyn=h.memo(dH),hyn={constrainSize:!0,portal:!0},pyn={padding:2,mode:"bleed"},myn=h.memo(function(t){const{disabled:n,groups:r,isFullscreen:o,collapsed:i}=t,s=DP(),a=Eo(),l=(s==null?void 0:s._type)!==a.schemaTypes.block.name,u=!l&&Array.isArray(s.children)&&s.children.length===1&&(s==null?void 0:s.children[0].text)==="",d=n||l,f=h.useMemo(()=>r.reduce((y,x)=>y.concat(x.actions.map((b,w)=>w===0?{...b,firstInGroup:!0}:b)),[]),[r]),p=uyn({actions:f}),m=h.useCallback(()=>{we.focus(a)},[a]),v=h.useMemo(()=>f.map(y=>{const x=y.type==="annotation"&&u,b=p.includes(y.key);return h.createElement(fH,{"data-testid":"action-button-".concat(y.key),disabled:d||x,...pyn,dividerBefore:y.firstInGroup,icon:lyn(y,b),key:y.key,onClick:()=>y.handle(b),selected:b,text:y.title||y.key,tooltipText:y.title||y.key,tooltipProps:{disabled:d||x,placement:o?"bottom":"top",portal:"default"}})}),[f,p,d,u,o]),g=h.useMemo(()=>({button:c.jsx(oe,{icon:Fo,mode:"bleed",padding:2,disabled:d}),popover:hyn}),[d]);return c.jsx(fyn,{collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:g,onMenuClose:m,children:v})});var Kde=Object.freeze,gyn=Object.defineProperty,fFe=(e,t)=>Kde(gyn(e,"raw",{value:Kde(t||e.slice())})),Zde,Xde;const vyn=h.memo(rn),yyn=$(Ne)(Zde||(Zde=fFe([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),byn=$(oe)(Xde||(Xde=fFe([`
  width: 100%;
`]))),xyn={constrainSize:!0,placement:"bottom-start",portal:"default"},hFe={h1:e=>c.jsx(_Me,{children:e}),h2:e=>c.jsx(SMe,{children:e}),h3:e=>c.jsx(EMe,{children:e}),h4:e=>c.jsx(kMe,{children:e}),h5:e=>c.jsx(jMe,{children:e}),h6:e=>c.jsx(TMe,{children:e}),normal:e=>c.jsx(iH,{children:e}),blockquote:e=>c.jsx(AMe,{"data-option":"blockquote",children:e})},wyn=Object.keys(hFe),Cyn=e=>e.preventDefault(),z$={key:"style-none",style:"",title:"No style"},_yn=h.memo(function(t){const{disabled:n,items:r}=t,o=Eo(),i=DP(),s=n||(i?o.schemaTypes.block.name!==i._type:!1),a=dyn({items:r}),{activeItems:l,items:u}=h.useMemo(()=>{const g=r.filter(x=>a.includes(x.style));let y=r;return g.length===0&&y.length>1&&(y=y.concat([z$]),g.push(z$)),{activeItems:g,items:y}},[a,r]),d=h.useMemo(()=>l.length>1?"Multiple":l.length===1?l[0].title:z$.title,[l]),f=h.useCallback(g=>{i&&g.style!==i.style&&(we.toggleBlockStyle(o,g.style),we.focus(o))},[o,i]),p=h.useCallback((g,y)=>{const x=wyn.includes(g),b=hFe[g];return x?b(y):c.jsx(L,{children:y})},[]),m=h.useMemo(()=>c.jsx(byn,{disabled:s,iconRight:rc,mode:"bleed",onClick:Cyn,padding:2,text:d}),[s,d]),v=h.useMemo(()=>c.jsx(zt,{disabled:s,children:u.map(g=>c.jsx(yyn,{pressed:l.includes(g),onClick:s?void 0:()=>f(g),children:p(g.style,(g==null?void 0:g.title)||g.style)},g.key))}),[s,l,f,u,p]);return c.jsx(vyn,{popover:xyn,id:"block-style-select",button:m,menu:v})}),Syn=h.memo(dH),Eyn={constrainSize:!0,portal:!0},kyn=h.memo(function(t){const{disabled:n,items:r,isFullscreen:o,collapsed:i}=t,s=DP(),a=Eo(),l=s&&s._type!==a.schemaTypes.block.name,u=h.useCallback(()=>{we.focus(a)},[a]),d=h.useMemo(()=>r.map(p=>{const m=p.type.title||Hje(p.type.name);return c.jsx(fH,{"aria-label":"Insert ".concat(m).concat(p.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||l&&p.inline===!0,icon:p.icon,onClick:p.handle,text:m,tooltipText:"Insert ".concat(m),tooltipProps:{disabled:n,placement:o?"bottom":"top",portal:"default"}},p.key)}),[r,n,l,o]),f=h.useMemo(()=>({button:c.jsx(oe,{icon:Ro,mode:"bleed",padding:2,disabled:n}),popover:Eyn}),[n]);return c.jsx(Syn,{collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var Qde=Object.freeze,jyn=Object.defineProperty,n1=(e,t)=>Qde(jyn(e,"raw",{value:Qde(t||e.slice())})),Jde,efe,tfe,nfe,rfe,ofe;const Tyn=$(U)(Jde||(Jde=n1([`
  width: 100%;
`]))),Ayn=$(M)(efe||(efe=n1([`
  width: 8em;
`]))),Dyn=$(U)(tfe||(tfe=n1([`
  border-right: 1px solid var(--card-border-color);
`]))),Pyn=$(M)(rfe||(rfe=n1([`
  `,`
`])),e=>{let{$withInsertMenu:t}=e;return t&&de(nfe||(nfe=n1([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),Iyn=$(M)(ofe||(ofe=n1([`
  border-left: 1px solid var(--card-border-color);
`]))),Oyn=300,$yn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Ryn=h.memo(function(t){let{actionGroups:n,blockStyles:r,disabled:o,insertMenuItems:i,isFullscreen:s,onToggleFullscreen:a}=t;const u=n.reduce((x,b)=>x+b.actions.length,0)>0,d=i.length>0,[f,p]=h.useState(null),m=Dh(f),v=m?(m==null?void 0:m.width)<400:!1,g=r.length>1;f$e({rootElement:f});const y=h.useCallback(x=>{x.preventDefault()},[]);return c.jsxs(Tyn,{align:"center",ref:p,onMouseDown:y,children:[g&&c.jsx(Dyn,{flex:v?1:void 0,children:c.jsx(Ayn,{padding:s?2:1,children:c.jsx(_yn,{disabled:o,items:r})})}),c.jsxs(U,{flex:1,children:[u&&c.jsx(Pyn,{flex:v?void 0:1,padding:s?2:1,$withInsertMenu:d,children:c.jsx(myn,{disabled:o,collapsed:v,groups:n,isFullscreen:s})}),d&&c.jsx(M,{flex:v?void 0:1,padding:s?2:1,children:c.jsx(kyn,{disabled:o,collapsed:v,items:i,isFullscreen:s})})]}),c.jsx(Iyn,{padding:s?2:1,children:c.jsx(it,{content:c.jsxs(U,{align:"center",padding:1,children:[c.jsx(M,{flex:1,paddingX:1,children:c.jsx(L,{size:1,children:"".concat(s?"Collapse":"Expand"," editor")})}),c.jsx(M,{marginLeft:1,children:c.jsx(n7,{keys:["".concat($yn?"Cmd":"Ctrl"),"Enter"]})})]}),placement:s?"bottom":"top",portal:"default",children:c.jsx(oe,{padding:2,icon:s?wxe:jxe,mode:"bleed",onClick:a})})})]})});function Myn(e){const{hotkeys:t,isFullscreen:n,readOnly:r,onMemberOpen:o,onToggleFullscreen:i}=e,s=Eo(),a=R1(),l=BH(),u=r||!a,{push:d}=Qo(),f=h.useCallback(x=>{let b=!1;const w=setTimeout(()=>{b=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value…"})},Oyn);return l(x,{}).then(C=>(b&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),C)).catch(C=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(x.name,": ").concat(C.message,"."),status:"error"})}).finally(()=>clearTimeout(w))},[d,l]),p=h.useCallback(async x=>{const b=await f(x),w=we.insertBlock(s,x,b);w&&o(w)},[s,o,f]),m=h.useCallback(async x=>{const b=await f(x),w=we.insertChild(s,x,b);w&&o(w)},[s,o,f]),v=cyn({hotkeys:t,onMemberOpen:o,resolveInitialValue:f,disabled:!0}),g=h.useMemo(()=>ryn(s.schemaTypes),[s]),y=h.useMemo(()=>oyn(s.schemaTypes,u,p,m),[u,s,p,m]);return c.jsx(Ryn,{actionGroups:v,blockStyles:g,disabled:u,insertMenuItems:y,isFullscreen:n,onToggleFullscreen:i})}var ife=Object.freeze,Fyn=Object.defineProperty,Xf=(e,t)=>ife(Fyn(e,"raw",{value:ife(t||e.slice())})),sfe,afe,lfe,cfe,ufe,dfe,ffe,hfe;const Lyn=$(Q)(sfe||(sfe=Xf([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),e=>{let{$fullscreen:t}=e;return t?"100%":"15em"}),Byn=$(Q)(afe||(afe=Xf([`
  z-index: 10;
  line-height: 0;
`]))),Nyn=$(Q)(lfe||(lfe=Xf([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),zyn=$(oP)(cfe||(cfe=Xf([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),Vyn=$(oo)(ufe||(ufe=Xf([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),Hyn=$(Q)(hfe||(hfe=Xf([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),eb.map(e=>$p(e)).join(" "),eb.map(e=>de(dfe||(dfe=Xf([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),e,$p(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},eb.map(e=>$p(e)).join(" "),e=>{let{theme:t}=e;return t.sanity.space[2]},eb.map(e=>$p(e)).join(" "),eb.slice(1).map(e=>de(ffe||(ffe=Xf([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),e,e-1,$p(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?9:5]},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]*2:n.sanity.space[3]*2)});function Uyn(){const e=Eo();return h.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}function Wyn(e){return h.useMemo(()=>(t,n)=>{if(we.getSelection(t)){const o=n.startContainer.parentElement;if(!o)return;V0(o,{scrollMode:"if-needed",boundary:e,block:"start",inline:"nearest"})}},[e])}const Yyn=e=>{const{block:t,focused:n,children:r,selected:o,schemaType:i}=e,s=h.useMemo(()=>(t.style&&M$[t.style]?M$[t.style]:M$[0])||iH,[t.style]),a=h.useCallback(l=>c.jsx(s,{children:c.jsx(zd,{"data-testid":"text-style--".concat(t.style),children:l.children})}),[s,t.style]);return h.useMemo(()=>{const l=i.component,{title:u,value:d}=i,f={block:t,focused:n,renderDefault:a,schemaType:i,selected:o,title:u,value:d};return l?c.jsx(l,{...f,children:r}):c.jsx(a,{...f,children:r})},[a,t,r,n,i,o])},pfe=e=>c.jsx(c.Fragment,{children:e.children}),qyn=e=>{const{block:t,children:n,schemaType:r,selected:o,focused:i,level:s,value:a}=e,{title:l,component:u}=r;return h.useMemo(()=>{const d={block:t,focused:i,level:s,renderDefault:pfe,schemaType:r,selected:o,title:l,value:a};return u?c.jsx(u,{...d,children:n}):c.jsx(pfe,{...d,children:n})},[u,t,n,i,s,r,o,l,a])},Gyn={outline:"none"},Kyn=e=>c.jsx(R1n,{...e}),Zyn=e=>c.jsx(Yyn,{...e}),Xyn=e=>c.jsx(qyn,{...e});function Qyn(e){const{hotkeys:t,initialSelection:n,isActive:r,isFullscreen:o,onCopy:i,onItemOpen:s,onPaste:a,onToggleFullscreen:l,path:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderChild:m,scrollElement:v,setPortalElement:g,setScrollElement:y,ariaDescribedBy:x}=e,{isTopLayer:b}=Ea(),w=h.useRef(null),{element:C}=rg();Ns(h.useCallback(T=>{!b||!o||T.key==="Escape"&&l()},[l,o,b]));const _=h.useCallback(()=>c.jsx("span",{"data-testid":"pt-input-placeholder",children:"Empty"}),[]),S=Uyn(),E=Wyn(v),j=h.useMemo(()=>c.jsx(EDe,{"aria-describedby":x,hotkeys:t,onCopy:i,onPaste:a,ref:w,renderAnnotation:f,renderBlock:p,renderChild:m,renderDecorator:Kyn,renderListItem:Xyn,renderPlaceholder:_,renderStyle:Zyn,scrollSelectionIntoView:E,selection:n,spellCheck:S,style:Gyn}),[x,t,n,i,a,f,p,m,_,E,S]),k=h.useCallback(T=>{s(u.concat(T))},[s,u]);return c.jsxs(Lyn,{$fullscreen:o,"data-testid":"pt-editor",children:[r&&c.jsx(Byn,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:c.jsx(Myn,{hotkeys:t,isFullscreen:o,onMemberOpen:k,onToggleFullscreen:l,readOnly:d})}),c.jsxs(Nyn,{flex:1,tone:d?"transparent":"default",children:[c.jsx(zyn,{ref:y,children:c.jsx(Vyn,{padding:o?2:0,sizing:"border",width:1,children:c.jsx(Hyn,{$isFullscreen:o,tone:d?"transparent":"default",children:c.jsx(ld,{element:o?v:C,children:j})})})}),c.jsx("div",{"data-portal":"",ref:g})]})]})}var mfe=Object.freeze,Jyn=Object.defineProperty,pFe=(e,t)=>mfe(Jyn(e,"raw",{value:mfe(t||e.slice())})),gfe,vfe;const ebn=$.div(e=>{let{theme:t}=e;const{focusRing:n,input:r}=t.sanity,o=t.sanity.color.base,s={color:t.sanity.color.input.default.enabled.border,width:r.border.width};return de(gfe||(gfe=pFe([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),aH(s),r.border.width,lH({base:o,border:s,focusRing:n}))}),tbn=$(hs)(vfe||(vfe=pFe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function nbn(e){const t=Eo(),[n]=h.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),h.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":r.marks["mod+b"]=o.value;break;case"em":r.marks["mod+i"]=o.value;break;case"underline":r.marks["mod+u"]=o.value;break;case"code":r.marks["mod+'"]=o.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function rbn(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,o=omn(),i=Eo(),s=R1();h.useLayoutEffect(()=>{var a,l,u,d,f;if(t.length===0)return;const p=o.find(m=>m.member.open);if(p&&((a=p.elementRef)!=null&&a.current)){if(n&&(V0(n,{scrollMode:"if-needed",block:"start",inline:"start"}),V0(p.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"})),s!=null&&s.focus.path&&Cn(s.focus.path,t))return;const m=p.kind==="textBlock",v=t.length===1;if(m||v){const g=m&&Ul(t[2])?t[2]._key:void 0,y=g&&Array.isArray((l=p.node.value)==null?void 0:l.children)?(u=p.node.value)==null?void 0:u.children.find(C=>C._key===g):void 0,x=y&&y._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,b=m&&(t.length===3&&t[1]==="children"||x);let w=[];b?w=t.slice(0,3):m&&v&&Array.isArray((d=p.node.value)==null?void 0:d.children)?w=[t[0],"children",{_key:(f=p.node.value)==null?void 0:f.children[0]._key}]:v&&(w=[{_key:p.key}]),w.length&&(we.select(i,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),m&&we.focus(i))}}},[n,i,t,r,o,s==null?void 0:s.focus.path])}function obn(e){const{changed:t,focused:n,focusPath:r=hn,hasFocusWithin:o,hotkeys:i,isActive:s,isFullscreen:a,onActivate:l,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:p,onPaste:m,onPathFocus:v,onToggleFullscreen:g,path:y,readOnly:x,renderAnnotation:b,renderBlock:w,renderBlockActions:C,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,value:A}=e,D=Eo(),P=rg().element,[I,R]=h.useState(null),[O,V]=h.useState(null),B=h.useCallback(()=>{g()},[g]),H=h.useMemo(()=>({...i,custom:{"mod+enter":g,...(i==null?void 0:i.custom)||{}}}),[i,g]),W=nbn(H),z=A&&C?C:void 0,G=A&&_?_:void 0,[ee,N]=h.useState(null),Y=h.useCallback(_e=>{const{children:he,focused:be,path:Le,selected:$e,schemaType:ct,value:ot}=_e;return c.jsx(Hmn,{floatingBoundary:P,focused:be,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:y.concat(Le),readOnly:x,referenceBoundary:O,renderAnnotation:b,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderBlockActions:z,renderCustomMarkers:G,renderPreview:T,renderBlock:w,schemaType:ct,selected:$e,value:ot,children:he})},[z,G,O,a,d,f,p,v,P,y,x,b,w,S,E,j,k,T]),q=h.useCallback(_e=>{const{focused:he,path:be,selected:Le,schemaType:$e,value:ct}=_e;return c.jsx(jmn,{floatingBoundary:P,focused:he,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:y.concat(be),readOnly:x,referenceBoundary:O,relativePath:be,renderAnnotation:b,renderBlock:w,renderBlockActions:z,renderCustomMarkers:G,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:$e,selected:Le,value:ct})},[P,O,a,d,f,p,v,y,x,b,w,z,G,S,E,j,k,T]),Z=h.useCallback(_e=>{const{value:he}=_e;return he._type===D.schemaTypes.block.name?Y(_e):q(_e)},[D.schemaTypes.block.name,q,Y]),ie=h.useCallback(_e=>{const{children:he,focused:be,path:Le,selected:$e,schemaType:ct,value:ot}=_e;return ot._type===D.schemaTypes.span.name?he:c.jsx(egn,{floatingBoundary:P,focused:be,onItemClose:d,onItemOpen:f,onPathFocus:v,path:y.concat(Le),readOnly:x,referenceBoundary:O,relativePath:Le,renderAnnotation:b,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:ct,selected:$e,value:ot})},[P,O,D.schemaTypes.span.name,d,f,v,y,x,b,w,_,S,E,j,k,T]),re=h.useCallback(_e=>{const{children:he,focused:be,path:Le,selected:$e,schemaType:ct,value:ot}=_e;return c.jsx(cgn,{editorNodeFocused:be,floatingBoundary:P,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:v,path:y.concat(Le),readOnly:x,referenceBoundary:O,renderAnnotation:b,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:ct,selected:$e,value:ot,children:he})},[P,O,n,d,f,v,y,x,b,w,_,S,E,j,k,T]),K=e.elementProps["aria-describedby"],X=h.useMemo(()=>{if(o)return{anchor:{path:r,offset:0},focus:{path:r,offset:0}}},[]),ce=h.useMemo(()=>c.jsx(Qyn,{ariaDescribedBy:K,initialSelection:X,hotkeys:W,isActive:s,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:m,onToggleFullscreen:B,path:y,readOnly:x,renderAnnotation:re,renderBlock:Z,renderChild:ie,setPortalElement:N,scrollElement:O,setScrollElement:V}),[K,W,re,Z,ie,B,X,s,a,u,f,m,y,x,O]),me=og(),ae=h.useMemo(()=>({collapsed:I,default:me.element,editor:ee,expanded:me.element}),[me.element,ee,I]);rbn({focusPath:r,boundaryElement:O,onItemClose:d});const Ce=n||o;return c.jsx(sg,{__unstable_elements:ae,element:me.element,children:c.jsx(P1n,{onActivate:l,isOverlayActive:!s,children:c.jsx(yi,{disabled:a,hasFocus:!!n,isChanged:t,path:y,children:c.jsxs(ebn,{"data-focused":Ce?"":void 0,"data-read-only":x?"":void 0,children:[c.jsx(M,{"data-wrapper":"",ref:R,children:c.jsx(ig,{__unstable_name:a?"expanded":"collapsed",children:a?c.jsx(tbn,{children:ce}):ce})}),c.jsx("div",{"data-border":""})]})})})})}function ibn(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:o}=e,i=h.useCallback(()=>{r&&t({type:"mutation",patches:r.patches})},[t,r]);return r?c.jsx(lu,{suffix:c.jsxs(te,{padding:2,children:[r.action&&c.jsxs(tn,{columns:[1,2],gap:1,children:[c.jsx(oe,{mode:"ghost",onClick:n,text:"Ignore"}),!o&&c.jsx(oe,{onClick:i,text:r.action,tone:"caution"})]}),c.jsx(M,{padding:3,children:r.action&&c.jsx(L,{as:"p",muted:!0,size:1,children:"NOTE: It’s generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:c.jsx(c.Fragment,{children:"Invalid Portable Text Editor value"}),children:c.jsxs(te,{space:3,children:[c.jsx(L,{as:"p",muted:!0,size:1,children:r.description}),c.jsx(Q,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:c.jsx(dr,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function sbn(e){const{path:t}=e,{patchChannel:n}=Nd().__internal;return{subscribe:h.useCallback(o=>n.subscribe(i=>{let{snapshot:s,patches:a}=i;const l=a.filter(u=>zL(u.path,t)).map(u=>({...u,path:u.path.slice(t.length)}));l.length&&o({shouldReset:cbn(t,a),snapshot:xt(s)?ubn(s,t):{},patches:l})}),[t,n])}}function abn(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?dd(e,t):e===t}function zL(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!abn(t[n],e[n]))return!1;return!0}function lbn(e,t){return e.length===0||zL(t,e)&&!zL(e,t)}function cbn(e,t){return t.some(n=>lbn(n.path,e)&&(n.type==="set"||n.type==="unset"))}function ubn(e,t){return t.reduce((n,r)=>typeof r=="object"?lIe(n,r):Gn(n,r),e)}function dbn(e){const{elementProps:t,hotkeys:n,markers:r=hn,onChange:o,onCopy:i,onInsert:s,onItemRemove:a,onPaste:l,onPathFocus:u,path:d,readOnly:f,renderBlockActions:p,renderCustomMarkers:m,schemaType:v,value:g}=e,{onBlur:y}=t;h.useImperativeHandle(t.ref,()=>({focus(){b.current&&we.focus(b.current)}}));const{subscribe:x}=sbn({path:d}),b=h.useRef(null),[w,C]=h.useState(!1),[_,S]=h.useState(null),[E,j]=h.useState(!1),[k,T]=h.useState(!1),[A,D]=h.useState(!1),[P,I]=h.useState(!1),R=Qo(),O=h.useMemo(()=>new kr,[]),V=h.useMemo(()=>O.asObservable(),[O]),B=h.useRef(null),H=h.useCallback(()=>{b.current&&j(Y=>!Y)},[]);h.useEffect(()=>{_&&g!==_.value&&S(null)},[_,g]),h.useEffect(()=>x(Y=>{let{patches:q,snapshot:Z}=Y;O.next({patches:q,snapshot:Z})}),[O,x]);const W=imn(e);h.useEffect(()=>{P&&T(!0)},[P]);const z=h.useCallback(Y=>{switch(Y.type){case"mutation":o(yfe(Y.patches));break;case"connection":Y.value==="offline"?D(!0):Y.value==="online"&&D(!1);break;case"selection":h.startTransition(()=>{Y.selection&&u(Y.selection.focus.path)});break;case"focus":T(!0),I(!0);break;case"blur":y(Y.event),I(!1);break;case"undo":case"redo":o(yfe(Y.patches));break;case"invalidValue":S(Y);break;case"error":R.push({status:Y.level,description:Y.description});break}},[y,o,u,R]);h.useEffect(()=>{C(!1)},[g]);const G=h.useCallback(()=>{C(!0)},[]),ee=h.useMemo(()=>_&&_.resolution?c.jsx(M,{marginBottom:2,children:c.jsx(ibn,{onChange:z,onIgnore:G,resolution:_.resolution,readOnly:A||f})}):null,[z,G,_,A,f]),N=h.useCallback(()=>{k||(T(!0),b.current&&we.focus(b.current))},[k]);return c.jsxs(M,{ref:B,children:[!w&&ee,(!_||w)&&c.jsx(nmn,{markers:r,children:c.jsx(rmn,{memberItems:W,children:c.jsx(we,{ref:b,patches$:V,onChange:z,maxBlocks:void 0,readOnly:A||f,schemaType:v,value:g,children:c.jsx(obn,{...e,hasFocusWithin:P,hotkeys:n,isActive:k,isFullscreen:E,onActivate:N,onItemRemove:a,onCopy:i,onInsert:s,onPaste:l,onToggleFullscreen:H,renderBlockActions:p,renderCustomMarkers:m})})})})]})}function yfe(e){return e.map(t=>({...t,patchType:Nm}))}function VL(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function fbn(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&VL(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var bfe=Object.freeze,hbn=Object.defineProperty,mFe=(e,t)=>bfe(hbn(e,"raw",{value:bfe(t||e.slice())})),xfe,wfe;const pbn=$(Q)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:o}=t.sanity,i=t.sanity.color.input,s=ge(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:i.default.enabled.fg,boxShadow:VL({color:i.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(s," 0 0 -").concat(s)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(s," 0 0 ").concat(s)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:i.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:fbn({border:{color:i.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:i.default.disabled.fg,backgroundColor:i.default.disabled.bg,boxShadow:VL({color:i.default.disabled.border,width:r.border.width})}}}),mbn=$.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,o=t.sanity.space[2],i=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:ge(i.fontSize),lineHeight:i.lineHeight/i.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:ge(o-i.ascenderHeight),paddingRight:ge(o),paddingBottom:ge(o-i.descenderHeight),paddingLeft:ge(o),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),gbn=$(M)(e=>{const{theme:t}=e,n=t.sanity.color.input;return de(xfe||(xfe=mFe([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),vbn=$(M)(wfe||(wfe=mFe([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),gFe=h.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:o,placeholder:i,readOnly:s,value:a=[],...l}=e,u=h.useMemo(()=>i||(typeof window<"u"&&"ontouchstart"in window?"Enter tag…":"Enter tag and press ENTER…"),[i]),[d,f]=h.useState(""),p=!n&&!s,[m,v]=h.useState(!1),g=mr(t),y=h.useRef(null),x=h.useCallback(E=>{if(tu(E.target)&&E.target.closest('[data-ui="Tag"]'))return;const k=g.current;k&&setTimeout(()=>k.focus(),0)},[g]),b=h.useCallback(()=>{v(!1)},[]),w=h.useCallback(E=>{f(E.currentTarget.value)},[]),C=h.useCallback(E=>{v(!0),o&&o(E)},[o]),_=h.useCallback(E=>{if(E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),r&&d)){const j=a.concat([{value:d}]);f(""),r&&r(j)}},[d,r,a]),S=h.useCallback(E=>{if(!r)return;const j=a.slice(0);j.splice(E,1),r(j)},[r,a]);return h.useEffect(()=>{const E=g.current;E&&(E.style.width="0",E.style.width="".concat(E.scrollWidth,"px"))},[g,d]),c.jsxs(pbn,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":s?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:y,children:[p&&c.jsx(gbn,{hidden:!!(d||a.length),padding:3,children:c.jsx(L,{textOverflow:"ellipsis",children:u})}),c.jsxs("div",{className:"content",children:[a.map((E,j)=>c.jsx(vbn,{children:c.jsx(ybn,{enabled:p,index:j,muted:!p,onRemove:S,tag:E})},"tag-".concat(j))),c.jsx("div",{children:c.jsx(mbn,{...l,disabled:!p,onBlur:b,onChange:w,onFocus:C,onKeyDown:_,ref:g,type:"text",value:d})},"tag-input")]})]})});gFe.displayName="TagInput";function ybn(e){const{enabled:t,index:n,muted:r,onRemove:o,tag:i}=e,s=h.useCallback(()=>{o(n)},[n,o]);return c.jsx(Q,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:c.jsxs(U,{align:"center",children:[c.jsx(M,{flex:1,padding:1,children:c.jsx(L,{muted:r,textOverflow:"ellipsis",children:i.value})}),t&&c.jsx(M,{marginLeft:1,children:c.jsx(oe,{icon:Bi,mode:"bleed",onClick:s,padding:1})})]})})}function bbn(e){const{onChange:t,readOnly:n,value:r=[],elementProps:o,path:i,changed:s}=e,a=h.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),l=h.useCallback(u=>{t(u.length===0?Je():bt(u.map(d=>d.value)))},[t]);return c.jsx(yi,{path:i,isChanged:s,hasFocus:!1,children:c.jsx(gFe,{onChange:l,readOnly:n,value:a,...o})})}const xbn={portal:!0,tone:"default"};function vFe(e){const{member:t,sortable:n,onRemove:r}=e,o=h.useId();return c.jsx(M,{paddingX:1,children:c.jsx(yP,{dragHandle:n,tone:"caution",menu:c.jsx(rn,{button:c.jsx(oe,{padding:2,mode:"bleed",icon:Fo}),id:"".concat(o,"-menuButton"),menu:c.jsx(zt,{children:c.jsx(Ne,{text:"Remove",tone:"critical",icon:Co,onClick:r})}),popover:xbn}),children:t.error.type==="INVALID_ITEM_TYPE"?c.jsx(iFe,{value:t.error.value}):c.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})})}function wbn(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,o=t.filter(a=>n.some(l=>r(l,a))),i=t.length-o.length,s=n.length>1;return c.jsx(c.Fragment,{children:o.length>0?c.jsxs(c.Fragment,{children:[c.jsxs(Zt,{space:2,children:[c.jsx(L,{children:c.jsx(IT,{})}),c.jsxs(L,{children:["Drop to upload"," ",s&&c.jsxs(c.Fragment,{children:[o.length," file",o.length>1?"s":""]})]})]}),i>0&&c.jsx(M,{marginTop:4,children:c.jsxs(Zt,{space:2,children:[c.jsx(L,{muted:!0,size:1,children:c.jsx(rh,{})}),c.jsxs(L,{muted:!0,size:1,children:[i," file",i>1?"s":""," can't be uploaded here"]})]})})]}):c.jsxs(Zt,{space:2,children:[c.jsx(L,{children:c.jsx(rh,{})}),c.jsxs(L,{children:["Can't upload ",t.length>1?"any of these files":"this file"," here"]})]})})}var Cfe=Object.freeze,Cbn=Object.defineProperty,_bn=(e,t)=>Cfe(Cbn(e,"raw",{value:Cfe(t||e.slice())})),_fe;const Sbn=$(hs)(_fe||(_fe=_bn([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var Sfe=Object.freeze,Ebn=Object.defineProperty,kbn=(e,t)=>Sfe(Ebn(e,"raw",{value:Sfe(t||e.slice())})),Efe;const jbn=$.div(Efe||(Efe=kbn([`
  position: relative;
`])));function Tbn(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function Abn(e){const t=RMe(e);return ne.forwardRef(function(r,o){const{children:i,resolveUploader:s,onUpload:a,types:l,...u}=r,{push:d}=Qo(),f=ne.useCallback((y,x)=>{const{type:b,uploader:w}=x;a==null||a({file:y,schemaType:b,uploader:w})},[a]),p=ne.useCallback(y=>{if(!s)return;const x=y.map(C=>({file:C,uploaderCandidates:Tbn(l,s,C)})),b=x.filter(C=>C.uploaderCandidates.length>0),w=x.filter(C=>C.uploaderCandidates.length===0);if(w.length>0){const C=w.length>1;d({closable:!0,status:"warning",title:"The following item".concat(C?"s":""," can't be uploaded because there's no known conversion from content type").concat(C?"s":""," to array item:"),description:w.map((_,S)=>c.jsxs(U,{padding:2,children:[c.jsx(M,{marginLeft:1,children:c.jsx(L,{weight:"semibold",children:_.file.name})}),c.jsx(M,{paddingLeft:2,children:c.jsxs(L,{size:1,children:["(",_.file.type,")"]})})]},S))})}b.forEach(C=>{f(C.file,ug(C.uploaderCandidates,_=>_.uploader.priority)[0])})},[d,s,l,f]),[m,v]=ne.useState([]),g=ne.useCallback(()=>v([]),[]);return c.jsx(jbn,{children:c.jsxs(t,{...u,ref:o,onFiles:p,onFilesOver:v,onFilesOut:g,children:[s&&m.length>0&&c.jsx(Sbn,{zOffset:10,children:c.jsx(wbn,{hoveringFiles:m,types:l,resolveUploader:s})}),i]})})})}const hH=MMe(Abn(Q));function Dbn(e,t,n){return Pbn(e,t,r=>r===n)}function Pbn(e,t,n){let r=t-1,o=t;const i=e.length;for(;r>-1||o<i;){const s=e[o];if(o<i&&n(s,o))return o;const a=e[r];if(r>-1&&n(a,r))return r;r--,o++}return-1}const Ibn={portal:!0,tone:"default"},Obn=ne.forwardRef(function(t,n){const{sortable:r,value:o,insertableTypes:i,onInsert:s,onRemove:a,readOnly:l,inputId:u,validation:d,children:f,presence:p,schemaType:m}=t,v=d.filter(C=>C.level==="error").length>0,g=d.filter(C=>C.level==="warning").length>0,y=h.useCallback((C,_)=>{s({position:C,items:[eH(_)]})},[s]),x=h.useCallback(()=>{o&&s({position:"after",items:[o]})},[s,o]),b=h.useMemo(()=>{if(v)return"critical";if(g)return"caution"},[v,g]),w=c.jsx(rn,{button:c.jsx(oe,{padding:2,mode:"bleed",icon:Fo}),id:"".concat(u,"-menuButton"),popover:Ibn,menu:c.jsxs(zt,{children:[c.jsx(Ne,{text:"Remove",tone:"critical",icon:Co,onClick:a}),c.jsx(Ne,{text:"Duplicate",icon:Ju,onClick:x}),c.jsx(xP,{types:i,onInsert:y})]})});return c.jsx(yP,{tone:b,menu:!l&&w,dragHandle:!l&&r,presence:p.length===0?null:c.jsx(x_,{presence:p,maxAvatars:1}),validation:d.length>0?c.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(Z1,{validation:d})}):null,children:c.jsx(U,{align:m?"flex-end":"center",ref:n,children:c.jsx(U,{align:"flex-end",flex:1,children:c.jsx(M,{flex:1,marginRight:2,children:f})})})})});function $bn(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=ne.useCallback(d=>{i(o(d))},[o,i]),l=ne.useCallback(()=>{a(t.of[0])},[t,a]),u=h.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?c.jsx(it,{portal:!0,content:c.jsx(M,{padding:2,sizing:"border",children:c.jsx(L,{size:1,children:"This field is read-only"})}),children:c.jsx(tn,{children:c.jsx(oe,{icon:Ro,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):c.jsxs(tn,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?c.jsx(oe,{icon:Ro,mode:"ghost",onClick:l,text:"Add item"}):c.jsx(rn,{button:c.jsx(oe,{icon:Ro,mode:"ghost",text:"Add item…"}),id:s||"",menu:c.jsx(zt,{children:t.of.map((d,f)=>{var p,m;const v=Qu(d)&&(d.to||[]).length===1&&d.to[0].icon,g=d.icon||((p=d.type)==null?void 0:p.icon)||v;return c.jsx(Ne,{text:d.title||((m=d.type)==null?void 0:m.name),onClick:()=>a(d),icon:g},f)})}),popover:u}),r]})}class yFe extends ne.PureComponent{constructor(t){super(t),this._element=null,this.handleAppend=n=>{const{value:r=[],onIndexFocus:o,onItemAppend:i}=this.props;i(n),o(r.length)},this.handlePrepend=n=>{const{onIndexFocus:r,value:o=[],onItemPrepend:i}=this.props;i(n),r(o.length)},this.handleSortEnd=n=>{const{onIndexFocus:r,onMoveItem:o,value:i}=this.props;i&&o(n),r(n.toIndex)},this.handleItemMoveStart=()=>{this.setState({disableTransition:!1})},this.handleItemMoveEnd=()=>{this.setState({disableTransition:!0})},this.renderArrayItem=n=>{var r;const{schemaType:o}=this.props,i=((r=o.options)==null?void 0:r.sortable)!==!1;return c.jsx(Obn,{...n,sortable:i,insertableTypes:o.of})},this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:o=[]}=t,{focusPath:i=[],value:s=[]}=this.props;if(r[0]===i[0]&&o.length!==s.length){const a=i[0],l=window.getSelection();if(!((l==null?void 0:l.focusNode)instanceof HTMLElement))return null;const u=(n=l.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:l.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(t,n,r){var o;const{onIndexFocus:i}=this.props;if(r!=null&&r.restoreSelection&&t.value){const s=t.value[r.prevFocusedIndex],a=Dbn(this.props.value||[],r.prevFocusedIndex,s);if(a===-1)return;const l=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(l instanceof HTMLInputElement){l.focus();try{l.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}i(a)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:o,onUpload:i,onItemRemove:s,resolveUploader:a,elementProps:l,arrayFunctions:u=$bn,path:d,changed:f}=this.props,p=!r&&Gn(t,"options.sortable")!==!1,m=n.map(v=>({id:"".concat(v.key,"-").concat(v.kind==="item"?v.item.value:"error"),member:v}));return c.jsxs(te,{space:3,"data-testid":"array-primitives-input",children:[c.jsx(hH,{types:t.of,resolveUploader:a,onUpload:i,...l,tabIndex:0,children:c.jsx(te,{space:1,children:m.length===0?c.jsx(Q,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(L,{align:"center",muted:!0,size:1,children:t.placeholder||c.jsx(c.Fragment,{children:"No items"})})}):c.jsx(Q,{padding:1,border:!0,children:c.jsx(WV,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(v=>v.id),sortable:p,gap:1,children:m.map((v,g)=>{let{member:y,id:x}=v;return c.jsxs(YV,{id:x,sortable:p,disableTransition:this.state.disableTransition,children:[y.kind==="item"&&c.jsx(yi,{path:y.item.path,isChanged:f,hasFocus:!1,children:c.jsx(hpn,{member:y,renderItem:this.renderArrayItem,renderInput:o})}),y.kind==="error"&&c.jsx(vFe,{sortable:p,member:y,onRemove:()=>s(g)})]},y.key)})})})})}),c.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:eH,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var kfe=Object.freeze,Rbn=Object.defineProperty,PP=(e,t)=>kfe(Rbn(e,"raw",{value:kfe(t||e.slice())})),jfe,Tfe,Afe,Dfe;const Mbn=$(U)(jfe||(jfe=PP([`
  min-height: 35px;
`]))),Fbn=$(U)(Tfe||(Tfe=PP([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),HL=$(Q)(Afe||(Afe=PP([`
  position: absolute;
  top: 0;
  left: 0;
`]))),Lbn=$(Q)(Dfe||(Dfe=PP([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),HL,HL,UV);function bFe(e){const{validation:t,selected:n,tone:r,presence:o,children:i,dragHandle:s,menu:a,footer:l,...u}=e;return c.jsxs(Lbn,{forwardedAs:U,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[i,s&&c.jsx(HL,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:c.jsx(NRe,{grid:!0,padding:2,mode:"ghost"})}),o&&c.jsx(Fbn,{align:"center",marginX:1,children:o}),c.jsxs(Mbn,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[c.jsx(U,{children:t}),c.jsx(M,{children:l}),a]})]})}var Pfe=Object.freeze,Bbn=Object.defineProperty,Nbn=(e,t)=>Pfe(Bbn(e,"raw",{value:Pfe(t||e.slice())})),Ife;const zbn=$(Q)(Ife||(Ife=Nbn([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function Vbn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Hbn={portal:!0,tone:"default"},Ubn={position:"absolute",top:0,left:0,bottom:0,right:0};function Wbn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:l,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:y,onClose:x,changed:b,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=l.options)==null?void 0:t.sortable)!==!1,E=l.of,j=h.useRef(null);gP(j,m),Gi(w,(G,ee)=>{var N;!G&&ee&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Hw()}],position:"after"})},[v,p]),A=h.useCallback((G,ee)=>{v({items:[Q1(ee)],position:G})},[v]),D=G1(u,!0),P=h.useMemo(()=>D.length===0?null:c.jsx(x_,{presence:D,maxAvatars:1}),[D]),I=LV(u,!0),R=h.useMemo(()=>I.length===0?null:c.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(Z1,{validation:I,__unstable_showSummary:!0})}),[I]),O=I.some(G=>G.level==="error"),V=I.some(G=>G.level==="warning"),B=h.useMemo(()=>d?null:c.jsx(rn,{button:c.jsx(oe,{padding:2,mode:"bleed",icon:Fo}),id:"".concat(e.inputId,"-menuButton"),menu:c.jsxs(zt,{children:[c.jsx(Ne,{text:"Remove",tone:"critical",icon:Co,onClick:f}),c.jsx(Ne,{text:"Duplicate",icon:Ju,onClick:T}),c.jsx(xP,{types:E,onInsert:A})]}),popover:Hbn}),[T,A,f,E,e.inputId,d]),H=Vbn({readOnly:d,hasErrors:O,hasWarnings:V}),W=c.jsx(bFe,{menu:B,presence:P,validation:R,tone:H,radius:2,border:!0,focused:w,dragHandle:S,selected:m,children:c.jsxs(zbn,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:k,onClick:y,ref:j,onFocus:g,__unstable_focusRing:!0,children:[_({schemaType:a,value:p,layout:"media",withBorder:!1,withShadow:!1}),k&&c.jsx(Q,{as:U,style:Ubn,children:c.jsxs(U,{align:"center",justify:"center",gap:1,padding:1,children:[c.jsx(M,{padding:3,children:c.jsx(gr,{muted:!0})}),c.jsx(L,{muted:!0,size:1,children:"Resolving initial value…"})]})})]})}),z=fm(a);return c.jsxs(c.Fragment,{children:[c.jsx(yi,{path:u,isChanged:b,hasFocus:!!w,children:W}),m&&c.jsx(hMe,{header:d?"View ".concat(z):"Edit ".concat(z),type:((r=(n=l==null?void 0:l.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=l==null?void 0:l.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}var Ofe=Object.freeze,Ybn=Object.defineProperty,qbn=(e,t)=>Ofe(Ybn(e,"raw",{value:Ofe(t||e.slice())})),$fe;const Gbn=$(Q)($fe||($fe=qbn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function Kbn(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ne.useState(!1),[a,l]=ne.useState(null);pr(()=>s(!1),[a]);const u=ne.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Fs(t);return c.jsx(nn,{open:i,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(Gbn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(te,{space:4,children:[c.jsx(M,{children:c.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),c.jsxs(L,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(M,{children:c.jsxs(L,{size:1,children:[c.jsx(kT,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(te,{space:2,children:[c.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(Q,{padding:2,overflow:"auto",border:!0,children:c.jsx(dr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(Q,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:c.jsxs(te,{space:4,marginTop:2,children:[c.jsx(M,{margin:1,children:c.jsx(L,{align:"center",size:4,children:c.jsx(zl,{})})}),c.jsxs(L,{align:"center",size:1,children:["Items of type ",c.jsx("code",{children:f})," is not valid for this list"]})]})})})}const Zbn={portal:!0,tone:"default"};function Xbn(e){const{member:t,sortable:n}=e,r=h.useId(),{onChange:o}=yl(),i=h.useCallback(()=>{o(dt.from([Je([{_key:t.key}])]))},[o,t.key]);return c.jsx(bFe,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:c.jsx(rn,{button:c.jsx(oe,{padding:2,mode:"bleed",icon:Fo}),id:"".concat(r,"-menuButton"),menu:c.jsx(zt,{children:c.jsx(Ne,{text:"Remove",tone:"critical",icon:Co,onClick:i})}),popover:Zbn}),children:t.error.type==="INVALID_ITEM_TYPE"?c.jsx(Kbn,{value:t.error.value,vertical:!0}):c.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})}const Qbn=[];function Jbn(e){var t;const{arrayFunctions:n=RV,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:l,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderPreview:g,resolveUploader:y,schemaType:x,value:b=Qbn}=e,w=h.useCallback(j=>{s({items:[j],position:"before",referenceItem:0})},[s]),C=h.useCallback(j=>{s({items:[j],position:"after",referenceItem:-1})},[s]),_=((t=x.options)==null?void 0:t.sortable)!==!1,S=h.useCallback(j=>c.jsx(Wbn,{...j}),[]),E=h.useMemo(()=>o.map(j=>j.key),[o]);return c.jsxs(te,{space:3,children:[c.jsx(hH,{types:x.of,resolveUploader:y,onUpload:l,...r,tabIndex:0,children:c.jsxs(te,{"data-ui":"ArrayInput__content",space:3,children:[(o==null?void 0:o.length)===0&&c.jsx(Q,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(L,{align:"center",muted:!0,size:1,children:x.placeholder||c.jsx(c.Fragment,{children:"No items"})})}),(o==null?void 0:o.length)>0&&c.jsx(Q,{border:!0,radius:1,children:c.jsx(WV,{columns:[2,3,4],gap:3,padding:1,margin:1,items:E,onItemMove:a,sortable:_,children:o.map(j=>c.jsxs(YV,{sortable:_,id:j.key,flex:1,children:[j.kind==="item"&&c.jsx(JV,{member:j,renderAnnotation:d,renderBlock:f,renderInlineBlock:m,renderItem:S,renderField:p,renderInput:v,renderPreview:g}),j.kind==="error"&&c.jsx(Xbn,{sortable:_,member:j})]},j.key))})})]})}),c.jsx(n,{onChange:i,onItemAppend:C,onItemPrepend:w,onValueCreate:Q1,readOnly:u,schemaType:x,value:b})]})}function exn(e,t){const n=h.useRef(e),r=n.current,o=t(r,e);return h.useEffect(()=>{o||(n.current=e)}),o?r:e}const txn=[];function nxn(e){var t;const{arrayFunctions:n=RV,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:l,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:y,renderPreview:x,resolveUploader:b,schemaType:w,value:C=txn}=e,[_,S]=h.useState(null),{space:E}=zs().sanity,j=h.useCallback(Y=>{s({items:[Y],position:"before",referenceItem:0})},[s]),k=h.useCallback(Y=>{s({items:[Y],position:"after",referenceItem:-1})},[s]),T=exn(h.useMemo(()=>o.map(Y=>Y.key),[o]),dd),{scrollElement:A,containerElement:D}=_pn(),P=h.useRef(null),I=h.useMemo(()=>Lr(u[0])?u[0]._key:u[0],[u]),R=h.useCallback(Y=>{const q={...Y};if(_!==null&&(q.startIndex=Math.min(Y.startIndex,_),q.endIndex=Math.max(Y.endIndex,_)),I){const Z=T.findIndex(ie=>ie===I);Z!==-1&&(q.startIndex=Math.min(q.startIndex,Z),q.endIndex=Math.max(q.endIndex,Z))}return Ike(q)},[_,I,T]),O=h.useCallback((Y,q)=>{if(!Y.scrollElement)return;const Z=Y.scrollElement,ie=()=>{var re,K,X,ce;const me=(K=(re=D.current)==null?void 0:re.getBoundingClientRect().top)!=null?K:0,ae=(ce=(X=P.current)==null?void 0:X.getBoundingClientRect().top)!=null?ce:0,Ce=Math.floor(ae-me);q(Z.scrollTop-Ce)};return ie(),Y.scrollElement.addEventListener("scroll",ie,{capture:!1,passive:!0}),()=>{Z.removeEventListener("scroll",ie)}},[D]),V=h.useCallback(()=>53,[]),B=Rke({count:o.length,estimateSize:V,getScrollElement:h.useCallback(()=>A,[A]),observeElementOffset:O,rangeExtractor:R,getItemKey:h.useCallback(Y=>T[Y],[T]),scrollToFn:(Y,q,Z)=>{Y!==Z.scrollOffset&&Oke(Y,q,Z)}}),H=B.getVirtualItems(),W=h.useCallback(Y=>{var q,Z;const{active:ie}=Y;S((Z=(q=ie.data.current)==null?void 0:q.sortable)==null?void 0:Z.index)},[]),z=h.useCallback(()=>{S(null)},[]),G=((t=w.options)==null?void 0:t.sortable)!==!1,ee=1,N=1;return c.jsxs(te,{space:3,ref:P,children:[c.jsx(hH,{types:w.of,resolveUploader:b,onUpload:l,...r,tabIndex:0,children:c.jsx(te,{"data-ui":"ArrayInput__content",space:3,children:o.length===0?c.jsx(Q,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(L,{align:"center",muted:!0,size:1,children:w.placeholder||c.jsx(c.Fragment,{children:"No items"})})}):c.jsx(Q,{border:!0,radius:1,style:{height:"".concat(B.getTotalSize()+H.length*E[ee]+E[N],"px"),width:"100%",position:"relative"},children:c.jsx(WV,{axis:"y",gap:ee,paddingY:N,items:T,onItemMove:a,onItemMoveStart:W,onItemMoveEnd:z,sortable:G,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(H[0].start,"px)")},children:H.map(Y=>{const q=o[Y.index];return c.jsxs(YV,{ref:B.measureElement,sortable:G,"data-index":Y.index,id:q.key,children:[q.kind==="item"&&c.jsx(JV,{member:q,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:y,renderPreview:x}),q.kind==="error"&&c.jsx(vFe,{sortable:G,member:q,onRemove:()=>e.onItemRemove(q.key)})]},Y.key)})})})})}),c.jsx(n,{onChange:i,onItemAppend:k,onItemPrepend:j,onValueCreate:Q1,readOnly:d,schemaType:w,value:C})]})}function xFe(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?c.jsx(Jbn,{...e}):c.jsx(nxn,{...e})}const rxn=["string","number","boolean"];function oxn(e){return e.of.every(t=>rxn.includes(t.jsonType))}function ixn(e){return e.of.length===1&&Fc("string",e.of[0])}function sxn(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function axn(e){return e.of.some(t=>Fc("block",t))}function lxn(e){var t;return!!((t=e.options)!=null&&t.list)}function cxn(e){return ixn(e)&&sxn(e)?bbn:lxn(e)?sFe:oxn(e)?yFe:axn(e)?dbn:xFe}function uxn(e){return M6(e)?e:{title:hg("".concat(e)),value:e}}const Rfe={title:"",value:void 0};function wFe(e){var t,n;const{value:r,readOnly:o,validationError:i,schemaType:s,onChange:a,path:l,changed:u,focused:d,elementProps:f}=e,p=h.useMemo(()=>{var _;return(((_=s.options)==null?void 0:_.list)||[]).map(uxn)},[(t=s.options)==null?void 0:t.list]),m=p.find(_=>_.value===r),v=s.options&&s.options.layout==="radio",g=h.useCallback(_=>{const S=Number(_);return p[S]},[p]),y=h.useCallback(_=>String(p.indexOf(_)),[p]),x=h.useId(),b=ne.useCallback(_=>{a(dt.from(typeof(_==null?void 0:_.value)>"u"?Je():bt(_.value)))},[a]),w=h.useCallback(_=>{const S=g(_.currentTarget.value);if(!S){b(Rfe);return}b(S)},[b,g]),C=v?c.jsx(dxn,{...f,value:m,inputId:x,items:p,direction:((n=s.options)==null?void 0:n.direction)||"vertical",customValidity:i,onChange:b,readOnly:o}):c.jsx(hh,{...f,customValidity:i,value:y(m),readOnly:o,onChange:w,children:[Rfe,...p].map((_,S)=>c.jsx("option",{value:S-1,children:_.title},"".concat(S-1)))});return c.jsx(yi,{path:l,isChanged:u,hasFocus:!!d,children:C})}const dxn=h.forwardRef(function(t,n){const{items:r,value:o,onChange:i,onFocus:s,readOnly:a,customValidity:l,direction:u,inputId:d}=t,f=u==="horizontal"?Zt:te;return c.jsx(Q,{border:!0,padding:3,radius:1,children:c.jsx(f,{space:3,role:"group",children:r.map((p,m)=>c.jsx(fxn,{customValidity:l,inputId:d,item:p,onChange:i,onFocus:s,readOnly:a,ref:m===0?n:null,value:o},m))})})}),fxn=h.forwardRef(function(t,n){const{customValidity:r,inputId:o,item:i,onChange:s,onFocus:a,readOnly:l,value:u}=t,d=h.useCallback(()=>{s(i)},[i,s]);return c.jsxs(U,{as:"label",align:"center",children:[c.jsx(Mot,{ref:n,checked:u===i,onChange:d,onFocus:a,readOnly:l,customValidity:r,name:o}),c.jsx(M,{marginLeft:2,children:c.jsx(L,{size:1,weight:"semibold",children:i.title})})]})});function CFe(e){const{validationError:t,elementProps:n}=e;return c.jsx(Nr,{...n,customValidity:t,"data-testid":"string-input"})}function hxn(e){return pMe(e,"list")?wFe:CFe}const pxn=(e,t)=>{if(typeof e=="function")throw new Error('Schema type "'.concat((t==null?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]};function JE(e,t){for(const n of pxn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function _Fe(e){const{schemaType:t,validationError:n,elementProps:r}=e,o=JE(t,"min"),i=JE(t,"integer"),s=JE(t,"precision"),a=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,l=i||(s==null?void 0:s.constraint)===0,u=a?l?"numeric":"decimal":"text";return c.jsx(Nr,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:t.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function mxn(e){return pMe(e,"list")?wFe:_Fe}var Mfe=Object.freeze,gxn=Object.defineProperty,SFe=(e,t)=>Mfe(gxn(e,"raw",{value:Mfe(t||e.slice())})),Ffe,Lfe;const vxn=$(M)(Ffe||(Ffe=SFe([`
  align-self: center;
`]))),yxn=$(M)(Lfe||(Lfe=SFe([`
  line-height: 0;
`])));function bxn(e){var t;const{id:n,value:r,schemaType:o,readOnly:i,elementProps:s,validation:a}=e,l=((t=o.options)==null?void 0:t.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=l==="checkbox"?uA:NSe,p=i?"transparent":void 0;return c.jsx(Q,{border:!0,"data-testid":"boolean-input",radius:1,tone:p,children:c.jsxs(U,{children:[c.jsx(yxn,{padding:3,children:c.jsx(f,{label:o.title,...s,checked:d,disabled:i,indeterminate:u,style:{margin:-4}})}),c.jsx(M,{flex:1,paddingY:3,children:c.jsx(FRe,{description:o.description,inputId:n,validation:a,title:o.title})}),c.jsx(vxn,{paddingX:3,paddingY:1,children:c.jsx(yfn,{maxAvatars:1,position:"top"})})]})})}function xxn(e){const{validationError:t,elementProps:n}=e;return c.jsx(Nr,{...n,type:"email",inputMode:"email",customValidity:t})}function wxn(e){const{fieldNames:t,onChange:n,readOnly:r,value:o}=e,i=t.length,s=h.useCallback(a=>{n(Je([a]))},[n]);return c.jsxs(lu,{status:"warning",title:c.jsxs(c.Fragment,{children:[i===1&&c.jsx(c.Fragment,{children:"Unknown field found"}),i>1&&c.jsx(c.Fragment,{children:"Unknown fields found"})]}),children:[c.jsx(L,{as:"p",muted:!0,size:1,children:i===1?c.jsx(c.Fragment,{children:"Encountered a field that is not defined in the schema."}):c.jsxs(c.Fragment,{children:["Encountered ",i," fields that are not defined in the schema."]})}),c.jsxs(Sg,{marginTop:4,open:cu,title:c.jsx(c.Fragment,{children:"Developer info"}),children:[c.jsx(M,{marginBottom:3,children:c.jsx(L,{as:"p",muted:!0,size:1,children:i===1?c.jsx(c.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):c.jsx(c.Fragment,{children:"These fields are not defined in the document’s schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),c.jsx(te,{as:"ul",space:3,children:t.map(a=>c.jsx(Cxn,{fieldName:a,onUnsetClick:s,readOnly:r,value:o==null?void 0:o[a]},a))})]})]})}function Cxn(e){let{fieldName:t,onUnsetClick:n,readOnly:r,value:o}=e;const i=h.useCallback(()=>{n(t)},[t,n]);return c.jsx(Q,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:c.jsxs(te,{space:2,children:[c.jsxs(Q,{border:!0,radius:1,children:[c.jsx(Q,{borderBottom:!0,padding:3,children:c.jsx(dr,{weight:"medium",children:t})}),c.jsx(M,{overflow:"auto",padding:3,children:c.jsx(dr,{language:"json",children:JSON.stringify(o,null,2)})})]}),r&&c.jsxs(L,{as:"p",muted:!0,size:1,children:["This field is ",c.jsx("strong",{children:"read only"})," according to the document’s schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",c.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&c.jsx(oe,{icon:Co,onClick:i,tone:"critical",text:c.jsx(c.Fragment,{children:"Remove field"})})]})})}var Bfe=Object.freeze,_xn=Object.defineProperty,Sxn=(e,t)=>Bfe(_xn(e,"raw",{value:Bfe(t||e.slice())})),Nfe;const Exn=$(Q)(Nfe||(Nfe=Sxn([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),e=>{let{$level:t,theme:n}=e;return t===0?0:n.sanity.space[5]*-1},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),kxn=h.forwardRef(function(t,n){const{onClick:r}=t,o=ne.useCallback(()=>{r==null||r(t.name)},[t.name,r]);return c.jsx(iw,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(t.name,"-tab"),label:t.title,ref:n,...t,onClick:o})}),jxn=e=>{const{name:t,title:n,...r}=e,{selected:o}=e;return c.jsx("option",{title:n,value:t,id:"".concat(t,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(t),"aria-selected":o?"true":"false",children:n||t})};var zfe=Object.freeze,Txn=Object.defineProperty,Axn=(e,t)=>zfe(Txn(e,"raw",{value:zfe(t||e.slice())})),Vfe;const Dxn=$(Zrt)(Vfe||(Vfe=Axn([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),Pxn=e=>{let{inputId:t,groups:n,onClick:r,shouldAutoFocus:o=!0,disabled:i}=e;return c.jsx(pA,{space:2,"data-testid":"field-group-tabs",children:n.map(s=>c.jsx(kxn,{"aria-controls":"".concat(t,"-field-group-fields"),autoFocus:o&&s.selected,disabled:i||s.disabled,icon:s==null?void 0:s.icon,name:s.name,onClick:r,selected:!!s.selected,title:s.title||s.name},"".concat(t,"-").concat(s.name,"-tab")))})},Ixn=e=>{let{disabled:t,groups:n,inputId:r,onSelect:o,shouldAutoFocus:i=!0}=e;var s;const a=h.useCallback(l=>{o(l.currentTarget.value)},[o]);return c.jsx(hh,{"aria-label":"Field groups",autoFocus:i,"data-testid":"field-group-select",disabled:t,fontSize:2,muted:!0,onChange:a,value:(s=n.find(l=>l.selected))==null?void 0:s.name,children:n.map(l=>c.jsx(jxn,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:l.disabled,name:l.name,selected:!!l.selected,title:l.title||l.name},"".concat(r,"-").concat(l.name,"-tab")))})},Oxn=ne.memo(function(t){let{disabled:n=!1,onClick:r,...o}=t;const i=h.useCallback(s=>{r==null||r(s)},[r]);return c.jsxs(Dxn,{"data-testid":"field-group-root",children:[c.jsx(Pxn,{...o,disabled:n,onClick:i}),c.jsx(Ixn,{...o,disabled:n,onSelect:i})]})}),Hfe=h.memo(function(t){const{schemaType:n,groups:r,members:o,onChange:i,renderAnnotation:s,renderBlock:a,renderInlineBlock:l,renderInput:u,renderField:d,renderItem:f,renderPreview:p,level:m,value:v,id:g,onFieldGroupSelect:y}=t,{columns:x}=n.options||{},b=h.useMemo(()=>{if(!n.fields)return null;const C=n.fields.map(S=>S.name),_=Object.keys(v||{}).filter(S=>!S.startsWith("_")&&!C.includes(S));return _.length===0?null:c.jsx(wxn,{fieldNames:_,value:v,onChange:i})},[i,n.fields,v]),w=h.useCallback(()=>c.jsx(xpn,{members:o,renderAnnotation:s,renderBlock:a,renderField:d,renderInlineBlock:l,renderInput:u,renderItem:f,renderPreview:p}),[o,s,a,d,l,u,f,p]);return o.length===0?null:c.jsxs(te,{space:5,children:[r.length>0?c.jsx(Exn,{$level:m,"data-testid":"field-groups",children:c.jsx(Oxn,{groups:r,inputId:g,onClick:y,shouldAutoFocus:!1})}):null,x?c.jsx(tn,{columns:x,gap:4,marginTop:1,children:w()}):w(),b]})});function $xn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:o,onSelect:i,selected:s}=e,a=h.useCallback(()=>{i(t)},[t,i]);return c.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:c.jsx(Q,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:s,tone:o||s?"primary":"default",children:c.jsx(L,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const Rxn=["January","February","March","April","May","June","July","August","September","October","November","December"],Mxn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Fxn=KN(0,24),Lxn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Bxn=[1,2,3,4,5,6],Nxn=e=>{const t=NTe(e);return BTe({start:t,end:VTe(t)})},zxn=e=>e.map(t=>[t,...Bxn.map(n=>rs(t,n))]),Vxn=e=>zxn(Nxn(e)).map(t=>({number:zTe(t[0]),days:t}));function Hxn(e){return c.jsx(M,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:c.jsxs(tn,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[Mxn.map(t=>c.jsx(M,{paddingY:2,children:c.jsx(L,{size:1,weight:"medium",style:{textAlign:"center"},children:t})},t)),Vxn(e.date).map((t,n)=>t.days.map((r,o)=>{const i=e.focused&&hf(r,e.focused),s=e.selected&&hf(r,e.selected),a=hf(r,new Date),l=e.focused&&GTe(r,e.focused);return c.jsx($xn,{date:r,focused:i,isCurrentMonth:l,isToday:a,onSelect:e.onSelect,selected:s},"".concat(n,"-").concat(o))}))]})})}const Ufe={dayPresets:!1,timePresets:!1},EFe=ne.forwardRef(function(t,n){let{onChange:r,onBlur:o,onKeyPress:i,value:s,...a}=t;const[l,u]=ne.useState(),d=ne.useCallback(v=>{u(v.currentTarget.value)},[]),f=ne.useCallback(v=>{v.currentTarget.value!=="".concat(s)&&r&&r(v),u(void 0)},[r,s]),p=ne.useCallback(v=>{f(v),o&&o(v)},[f,o]),m=ne.useCallback(v=>{v.key==="Enter"&&f(v),i&&i(v)},[f,i]);return c.jsx(Nr,{...a,"data-testid":"date-input",ref:n,value:l===void 0?s:l,onChange:d,onBlur:p,onKeyPress:m})}),Uxn=e=>{let{onChange:t,...n}=e;const r=ne.useCallback(o=>{const i=parseInt(o.currentTarget.value,10);isNaN(i)||t(i)},[t]);return c.jsx(EFe,{...n,onChange:r,inputMode:"numeric"})},Wxn=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),Yxn=h.forwardRef(function(t,n){const{selectTime:r,onFocusedDateChange:o,selectedDate:i=new Date,focusedDate:s=i,timeStep:a=1,onSelect:l,...u}=t,d=h.useCallback(S=>o(S),[o]),f=h.useCallback(S=>d(_Ot(ZTe(s,S),1)),[s,d]),p=h.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=h.useCallback(S=>d(PB(s,S)),[s,d]),v=h.useCallback(S=>d(SOt(s,S)),[s,d]),g=h.useCallback(S=>{l(CE(f3(S,i.getHours()),i.getMinutes()))},[l,i]),y=h.useCallback(S=>{const E=Number(S.currentTarget.value);l(CE(i,E))},[l,i]),x=h.useCallback(S=>{const E=Number(S.currentTarget.value);l(f3(i,E))},[l,i]);h.useCallback((S,E)=>{l(f3(CE(i,E),S))},[l,i]);const b=mr(n),w=h.useCallback(()=>{var S,E;(E=(S=b.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||E.focus()},[b]),C=h.useCallback(S=>{var E,j;if(Lxn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&o(rs(s,-7)),S.key==="ArrowDown"&&o(rs(s,7)),S.key==="ArrowLeft"&&o(rs(s,-1)),S.key==="ArrowRight"&&o(rs(s,1)),(j=(E=b.current)==null?void 0:E.querySelector("[data-preserve-focus]"))==null||j.focus()}},[b,w,o,s]);h.useEffect(()=>{w()},[w]),h.useEffect(()=>{var S;((S=document.activeElement)==null?void 0:S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&w()},[b,w,s]),h.useCallback(()=>g(rs(new Date,-1)),[g]),h.useCallback(()=>g(new Date),[g]),h.useCallback(()=>g(rs(new Date,1)),[g]);const _=h.useCallback(()=>l(new Date),[l]);return c.jsxs(M,{"data-ui":"Calendar",...u,ref:b,children:[c.jsxs(M,{padding:2,children:[Ufe.dayPresets,c.jsxs(U,{children:[c.jsx(M,{flex:1,children:c.jsx(qxn,{moveFocusedDate:m,onChange:p,value:s==null?void 0:s.getMonth()})}),c.jsx(M,{marginLeft:2,children:c.jsx(Gxn,{moveFocusedDate:m,onChange:v,value:s.getFullYear()})})]}),c.jsxs(M,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(Hxn,{date:s,focused:s,onSelect:g,selected:i}),Wxn]})]}),r&&c.jsxs(M,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[c.jsxs(U,{align:"center",children:[c.jsxs(U,{align:"center",flex:1,children:[c.jsx(M,{children:c.jsx(hh,{"aria-label":"Select hour",value:i==null?void 0:i.getHours(),onChange:x,children:Fxn.map(S=>c.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})}),c.jsx(M,{paddingX:1,children:c.jsx(L,{children:":"})}),c.jsx(M,{children:c.jsx(hh,{"aria-label":"Select minutes",value:i==null?void 0:i.getMinutes(),onChange:y,children:KN(0,60,a).map(S=>c.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})})]}),c.jsx(M,{marginLeft:2,children:c.jsx(oe,{text:"Set to current time",mode:"bleed",onClick:_})})]}),Ufe.timePresets]})]})});function qxn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-1),[t]),i=h.useCallback(()=>t(1),[t]);return c.jsxs(U,{flex:1,children:[c.jsx(oe,{"aria-label":"Go to previous month",onClick:o,mode:"bleed",icon:TT,paddingX:2,radius:0}),c.jsx(M,{flex:1,children:c.jsx(hh,{radius:0,value:r,onChange:n,children:Rxn.map((s,a)=>c.jsx("option",{value:a,children:s},a))})}),c.jsx(oe,{"aria-label":"Go to next month",mode:"bleed",icon:Jc,onClick:i,paddingX:2,radius:0})]})}function Gxn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-12),[t]),i=h.useCallback(()=>t(12),[t]);return c.jsxs(U,{children:[c.jsx(oe,{"aria-label":"Previous year",onClick:o,mode:"bleed",icon:TT,paddingX:2,radius:0}),c.jsx(Uxn,{value:r,onChange:n,radius:0,style:{width:65}}),c.jsx(oe,{"aria-label":"Next year",onClick:i,mode:"bleed",icon:Jc,paddingX:2,radius:0})]})}const Kxn=ne.forwardRef(function(t,n){const{value:r=new Date,onChange:o,...i}=t,[s,a]=ne.useState(),l=ne.useCallback(u=>{o(u),a(void 0)},[o]);return c.jsx(Yxn,{...i,ref:n,selectedDate:r,onSelect:l,focusedDate:s||r,onFocusedDateChange:a})}),Zxn=h.forwardRef(function(t,n){const{value:r,inputValue:o,onInputChange:i,onChange:s,selectTime:a,timeStep:l,...u}=t,[d,f]=h.useState(null),p=mr(n),m=h.useRef(null),[v,g]=h.useState(!1);pr(()=>g(!1),[d]);const y=h.useCallback(()=>{var C,_;(C=p.current)==null||C.focus(),(_=p.current)==null||_.select()},[p]),x=h.useCallback(C=>{C.key==="Escape"&&g(!1)},[]),b=h.useCallback(()=>g(!0),[]),w=c.jsx(M,{padding:1,children:c.jsx(oe,{ref:m,icon:dv,mode:"bleed",padding:2,onClick:b,style:{display:"block"},"data-testid":"select-date-button"})});return c.jsx(EFe,{ref:p,...u,value:o,onChange:i,suffix:v?c.jsx(cd,{zOffset:1e3,children:c.jsx(nn,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:c.jsx(M,{overflow:"auto",children:c.jsx($h,{onDeactivation:y,children:c.jsx(Kxn,{selectTime:a,timeStep:l,onKeyUp:x,value:r,onChange:s})})}),open:!0,placement:"bottom",ref:f,radius:2,children:w})}):w})}),Xxn=new Date,kFe=ne.forwardRef(function(t,n){const{id:r,deserialize:o,formatInputValue:i,onChange:s,parseInputValue:a,placeholder:l,readOnly:u,selectTime:d,serialize:f,timeStep:p,value:m,...v}=t,[g,y]=ne.useState(null);h.useEffect(()=>{y(null)},[m]);const x=ne.useCallback(S=>{const E=S.currentTarget.value,j=E===""?null:a(E);j===null?(s(null),typeof m>"u"&&g&&y(null)):j.isValid?s(f(j.date)):y(E)},[a,s,m,g,f]),b=ne.useCallback(S=>{s(S?f(S):null)},[f,s]),w=mr(n),C=g?a(g):m?o(m):null,_=g||(C!=null&&C.isValid?i(C.date):m);return u?c.jsx(Nr,{value:_,readOnly:!0}):c.jsx(Zxn,{...v,id:r,selectTime:d,timeStep:p,placeholder:l||"e.g. ".concat(i(Xxn)),ref:w,value:C==null?void 0:C.date,inputValue:_||"",readOnly:!!u,onInputChange:x,onChange:b,customValidity:C==null?void 0:C.error})});function Qxn(e){return e instanceof Date&&!isNaN(e.valueOf())}const Jxn="YYYY-MM-DD",ewn="HH:mm";function twn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||Jxn,timeFormat:e.timeFormat||ewn,timeStep:"timeStep"in e&&Number(e.timeStep)||1,calendarTodayLabel:e.calendarTodayLabel||"Today"}}function UL(e){return e.toISOString()}function nwn(e){const t=new Date(e);return Qxn(t)?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}function rwn(e,t){if(!t||t===1)return e;const n=sOt(e),r=oIt(n),o=r%t;return UL(o!==0?CE(n,r-o):n)}function own(e){const{onChange:t,schemaType:n,value:r,elementProps:o}=e,{dateFormat:i,timeFormat:s,timeStep:a}=twn(n.options),l=h.useCallback(f=>{let p=f;p!==null&&a>1&&(p=rwn(p,a)),t(p===null?Je():bt(p))},[t,a]),u=ne.useCallback(f=>OD(f,"".concat(i," ").concat(s)),[i,s]),d=ne.useCallback(f=>LN(f,"".concat(i," ").concat(s)),[i,s]);return c.jsx(kFe,{...o,onChange:l,deserialize:nwn,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:UL,timeStep:a,value:r})}const pH="YYYY-MM-DD",iwn=pH;function swn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||iwn,calendarTodayLabel:e.calendarTodayLabel||"Today"}}const awn=e=>LN(e,pH),lwn=e=>OD(e,pH);function cwn(e){const{readOnly:t,onChange:n,schemaType:r,elementProps:o,value:i}=e,{dateFormat:s}=swn(r.options),a=h.useCallback(d=>{n(d===null?Je():bt(d))},[n]),l=h.useCallback(d=>OD(d,s),[s]),u=h.useCallback(d=>LN(d,s),[s]);return c.jsx(kFe,{...o,deserialize:awn,formatInputValue:l,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:t,selectTime:!1,serialize:lwn,value:i})}var Wfe=Object.freeze,uwn=Object.defineProperty,dwn=(e,t)=>Wfe(uwn(e,"raw",{value:Wfe(t||e.slice())})),Yfe;const fwn=$(zSe)(Yfe||(Yfe=dwn([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function hwn(e){const{schemaType:t,validationError:n,value:r,elementProps:o}=e;return c.jsx(fwn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...o})}function pwn(e){var t,n;const{schemaType:r,validationError:o,elementProps:i}=e,s=JE(r,"uri"),a=(n=(t=s==null?void 0:s.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return c.jsx(Nr,{type:a,inputMode:"url",customValidity:o,...i})}const mwn=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?uIe(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function gwn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||mwn)(e,t,n)}function vwn(e,t){const[n,r]=ne.useState(null),o=ne.useRef(0),i=ne.useCallback(s=>{const a=++o.current;r({status:"pending"}),Promise.resolve().then(()=>e(s)).then(l=>{a===o.current&&r({status:"complete",result:l})},l=>{a===o.current&&r({status:"error",error:l})})},[e,...t]);return[n,i]}function ywn(){const{getClient:e}=Nn(),t=An(),n=Jo(),r=U4e(),o=V4e();return h.useMemo(()=>({projectId:r,dataset:o,getClient:e,schema:t,currentUser:n}),[e,t,n,r,o])}function bwn(e,t,n){const r=e.slice(0,-1),o=qm(t,r);return{parentPath:r,parent:o,...n}}async function xwn(e,t,n){return typeof e=="function"?e(t,n):qm(t,e)}function wwn(e){var t;const n=Tun(),{path:r,value:o,schemaType:i,validation:s,onChange:a,readOnly:l,elementProps:u}=e,d=(t=i.options)==null?void 0:t.source,f=h.useMemo(()=>s.filter(b=>b.level==="error"),[s]),p=ywn(),m=h.useCallback(b=>{if(!b){a(dt.from(Je([])));return}a(dt.from([ls({_type:i.name}),bt(b,["current"])]))},[a,i.name]),[v,g]=vwn(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(i.name,'" in schema')));const b=n([])||{_type:i.name},w=bwn(r,b,p);return xwn(d,b,w).then(C=>gwn(C||"",i,w)).then(C=>m(C))},[d,n,i,r,p,m]),y=(v==null?void 0:v.status)==="pending",x=ne.useCallback(b=>m(b.currentTarget.value),[m]);return c.jsx(te,{space:3,children:c.jsxs(U,{children:[c.jsxs(M,{flex:1,children:[c.jsx(Nr,{customValidity:f.length>0?f[0].message:"",disabled:y,onChange:x,value:(o==null?void 0:o.current)||"",readOnly:l,...u}),(v==null?void 0:v.status)==="error"&&c.jsx(Q,{padding:2,tone:"critical",children:v.error.message})]}),d&&c.jsx(M,{marginLeft:1,children:c.jsx(oe,{mode:"ghost",type:"button",disabled:l||y,onClick:g,text:(v==null?void 0:v.status)==="pending"?"Generating…":"Generate"})})]})})}function Cwn(e){return h.useMemo(()=>{var n;return Array.isArray((n=e.schemaType.options)==null?void 0:n.list)},[e.schemaType])?c.jsx(sFe,{...e}):g1n(e)?c.jsx(yFe,{...e}):c.jsx(xFe,{...e})}const qfe={document:Hfe,object:Hfe,array:Cwn,boolean:bxn,number:_Fe,text:hwn,email:xxn,datetime:own,date:cwn,url:pwn,image:g0n,file:avn,string:CFe,slug:wwn,crossDatasetReference:z0n};function _wn(e){if(Fc("array",e))return cxn(e);if(Fc("reference",e))return p1n;if(Fc("string",e))return hxn(e);if(Fc("number",e))return mxn(e)}function Swn(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=_wn(e);if(n)return n;const o=tH(e,new Set).reduce((s,a)=>(s[a.name]=a,s),{}),i=Object.values(o).find(s=>qfe[s.name]);if(i)return qfe[i.name];throw new Error("Could not find input component for schema type `".concat(e.name,"`"))}function Ewn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:Wh}function Eg(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),o=h.useCallback(i=>{var s;if(!((s=i.schemaType)!=null&&s.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...l}=i.schemaType,u=t(l);return h.createElement(u,i)},[t]);return h.createElement(r,{...n,renderDefault:o})}function kwn(e){return Eg({componentProps:e,componentResolver:Swn})}function jwn(e){return Eg({componentProps:e,componentResolver:Hpn})}function Twn(e){return Eg({componentProps:e,componentResolver:Dpn})}function Awn(e){return Eg({componentProps:e,componentResolver:Ewn})}function Dwn(e){return Eg({componentProps:e,componentResolver:ugn})}function Pwn(e){return Eg({componentProps:e,componentResolver:dgn})}function Iwn(e){return Eg({componentProps:e,componentResolver:fgn})}function Own(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function $wn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function Rwn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function Mwn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function Fwn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function Lwn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function Bwn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function jFe(){return lc({defaultComponent:kwn,pick:Own})}function TFe(){return lc({defaultComponent:jwn,pick:$wn})}function mH(){return lc({defaultComponent:Awn,pick:Rwn})}function AFe(){return lc({defaultComponent:Twn,pick:Mwn})}function DFe(){return lc({defaultComponent:Dwn,pick:Fwn})}function PFe(){return lc({defaultComponent:Pwn,pick:Lwn})}function IFe(){return lc({defaultComponent:Iwn,pick:Bwn})}function S_(e){const t=mH();return c.jsx(pV,{...e,component:t})}const Nwn=e=>{let{asset:t,assetType:n,referringDocuments:r}=e;const o=r.length,i=o>0,s=t.originalFilename?c.jsx("strong",{children:t.originalFilename}):"this ".concat(n);return i?c.jsxs(c.Fragment,{children:[c.jsx(Q,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:c.jsxs(L,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[o," ",o===1?"document is":"documents are"," using ",s]})}),r.map(a=>c.jsx(zwn,{document:a},a._id))]}):c.jsxs(L,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",s]})},zwn=e=>{let{document:t}=e;const n=An(),r=h.useCallback(o=>c.jsx(dg,{...o,params:{id:t._id,type:t._type},intent:"edit"}),[t]);return c.jsx(Q,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:c.jsx(U,{align:"center",gap:2,children:c.jsx(S_,{layout:"default",value:{_type:"reference",_ref:t._id},schemaType:n.get(t._type)})})},t._id)},Gfe={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},Kfe={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},Zfe={height:"100%"},Vwn=e=>{let{asset:t,assetType:n,hasResults:r=!1}=e;const o=n==="image",i=t.originalFilename?c.jsxs(c.Fragment,{children:["The ",n," ",c.jsx("strong",{children:t.originalFilename})]}):"this ".concat(n);return r?c.jsx(Q,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:c.jsxs(tn,{columns:3,gap:[2,3,4],children:[c.jsxs(U,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[c.jsx(L,{children:c.jsx(zr,{})}),c.jsxs(L,{size:1,children:[i," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),o&&c.jsx(Q,{__unstable_checkered:!0,border:!0,radius:1,style:Kfe,children:c.jsx(U,{align:"center",justify:"center",style:Zfe,children:c.jsx("img",{src:"".concat(t.url,"?w=200"),style:Gfe,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):c.jsx(Q,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:c.jsxs(tn,{columns:3,gap:3,children:[c.jsx(U,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:c.jsxs(L,{children:["You are about to delete the ",n,t.originalFilename&&c.jsxs(c.Fragment,{children:[" ",c.jsx("strong",{children:t.originalFilename})]})," ","and its metadata.",c.jsx("br",{}),c.jsx("br",{}),"Are you sure?"]})}),o&&c.jsx(Q,{__unstable_checkered:!0,border:!0,radius:1,style:Kfe,children:c.jsx(U,{align:"center",justify:"center",style:Zfe,children:c.jsx("img",{src:"".concat(t.url,"?w=200"),style:Gfe,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},V$="confirmDelete",H$="listUsage";function WL(e){let{asset:t,assetType:n="image",mode:r=H$,isDeleting:o=!1,onClose:i,onDelete:s}=e;const{isLoading:a,referringDocuments:l}=Tin(t._id),d=r===H$?"Documents using ".concat(n):"Delete ".concat(n),[f,p]=h.useState(!1),[m,v]=h.useState(!0),[g,y]=h.useState([]),x=r===V$,b=g.length>0,w=r===H$||b,C=r===V$&&!b,_=x?c.jsxs(tn,{padding:2,gap:2,columns:2,children:[c.jsx(oe,{mode:"bleed",text:"Cancel",onClick:i}),c.jsx(oe,{text:"Delete",tone:"critical",icon:Co,onClick:s,loading:o,disabled:!f})]}):void 0;return h.useEffect(()=>{const S=l.reduce((j,k)=>k._id.startsWith("drafts.")?j.concat(k._id.slice(7)):j,[]),E=l.filter(j=>!S.includes(j._id));y(E),p(E.length===0&&!a),v(a)},[a,l]),c.jsxs(Wi,{__unstable_autoFocus:!m,footer:_,header:d,id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:[m&&c.jsx(M,{padding:4,children:c.jsx(jin,{text:"Loading..."})}),!m&&c.jsxs(te,{paddingX:C?0:[2,3,4],paddingY:C?0:[3,3,3,4],space:1,children:[r===V$&&c.jsx(Vwn,{asset:t,assetType:n,hasResults:b}),w&&c.jsx(Nwn,{asset:t,referringDocuments:g,assetType:n})]})]})}function OFe(e){let{isSelected:t,border:n=!0,onAction:r}=e;const o=t?"default":"bleed",i=t?"primary":"default";return c.jsx(rn,{button:c.jsx(oe,{padding:2,mode:n?"ghost":o,icon:Fo,tone:n?"default":i}),id:"asset-menu",portal:!0,menu:c.jsxs(zt,{children:[c.jsx(Ne,{text:"Show uses",icon:ih,onClick:()=>{r({type:"showUsage"})}}),c.jsx(Ne,{text:"Delete",icon:Co,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var Xfe=Object.freeze,Hwn=Object.defineProperty,IP=(e,t)=>Xfe(Hwn(e,"raw",{value:Xfe(t||e.slice())})),Qfe,Jfe,ehe,the;const Uwn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),Wwn=$.img(Qfe||(Qfe=IP([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),Ywn=$(Q)(Jfe||(Jfe=IP([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),YL=$.div(ehe||(ehe=IP([`
  position: relative;
  display: inherit;
`]))),qwn=$.div(the||(the=IP([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),YL,YL),Gwn=ne.memo(function(t){const n=yr(un),r=Qo(),o=h.useRef(),{asset:i,onClick:s,onKeyPress:a,onDeleteFinished:l,isSelected:u}=t,[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!1);h.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const y=h.useCallback(()=>{m(!0)},[m]),x=h.useCallback(()=>{f(!1),m(!1)},[f,m]),b=h.useCallback(()=>{f(!0)},[f]),w=h.useCallback(D=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:D.message})},[r]),C=h.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),_=h.useCallback(()=>{g(!0),o.current=n.observable.delete(i._id).subscribe({next:()=>{g(!1),l(i._id),m(!1),C()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,l,n.observable]),S=h.useCallback(D=>{D.type==="delete"&&y(),D.type==="showUsage"&&b()},[y,b]),{originalFilename:E,_id:j,url:k}=i,T=200*Math.max(1,Uwn),A=k.includes(".gif")?"".concat(k,"?h=").concat(T,"&fit=max&fm=jpg"):"".concat(k,"?h=").concat(T,"&fit=max");return c.jsxs(YL,{children:[c.jsx(oe,{tone:"primary",selected:u,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:c.jsxs(Ywn,{__unstable_checkered:!0,children:[c.jsx(Wwn,{alt:E,src:A,onClick:s,"data-id":j}),v&&c.jsx(kin,{})]})}),c.jsx(qwn,{children:c.jsx(OFe,{isSelected:u,onAction:S})}),(d||p)&&c.jsx(WL,{asset:i,mode:p?"confirmDelete":"listUsage",onClose:x,onDelete:_,isDeleting:v})]})}),Kwn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Zwn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Xwn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Qwn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],nhe=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function Jwn(e){let{bits:t=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:o,maximumFractionDigits:i,locale:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const l=t?n?Qwn:Xwn:n?Zwn:Kwn;if(r&&a===0)return" 0 ".concat(l[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(o!==void 0&&(f={minimumFractionDigits:o}),i!==void 0&&(f={maximumFractionDigits:i,...f}),a<1){const g=nhe(a,s,f);return"".concat(d+g," ").concat(l[0])}const p=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),l.length-1);a/=(n?1024:1e3)**p,f||(a=a.toPrecision(3));const m=nhe(Number(a),s,f),v=l[p];return"".concat(d+m," ").concat(v)}const U$={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function eCn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function tCn(e){return U$!=null&&U$[e]?U$[e].title:eCn(e)}var rhe=Object.freeze,nCn=Object.defineProperty,Zu=(e,t)=>rhe(nCn(e,"raw",{value:rhe(t||e.slice())})),ohe,ihe,she,ahe,lhe,che,uhe,dhe,fhe;const qL=$.span(ohe||(ohe=Zu([`
  background-color: transparent;
  flex-shrink: 0;
`]))),av=$(U)(ihe||(ihe=Zu([""]))),rCn=$(L)(she||(she=Zu([""]))),oCn=$(Q)(lhe||(lhe=Zu([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),rCn,e=>e.isSelected&&de(ahe||(ahe=Zu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),hhe=$(oe)(dhe||(dhe=Zu([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),e=>e.isSelected&&de(che||(che=Zu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),qL,av),e=>!e.isSelected&&de(uhe||(uhe=Zu([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),iCn=$(L)(fhe||(fhe=Zu([`
  overflow-wrap: anywhere;
`]))),phe={position:"relative"},mhe={flexShrink:0},W$={minWidth:0},ghe={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},sCn="Cannot delete current file",aCn=e=>{const t=yr(un),n=Qo(),r=h.useRef(),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[l,u]=h.useState(!1),[d,f]=h.useState(!1),{asset:p,onClick:m,onKeyPress:v,onDeleteFinished:g,isSelected:y,isMobile:x}=e,{originalFilename:b,_id:w,mimeType:C,size:_,_createdAt:S}=p,E=ai(S,{agoSuffix:!0}),j=tCn(C),k=Jwn(_),T=(b||"").length>37,A=()=>{a(!0)},D=H=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:H.message})},P=()=>{n.push({status:"success",title:"File was deleted"})},I=()=>{u(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{u(!1),g==null||g(p._id),a(!1),P()},error:H=>{u(!1),D(H),console.error("Could not delete asset",H)}})},R=()=>{i(!1),a(!1)},O=()=>{i(!0)},V=()=>{f(!d)},B=H=>{H.type==="delete"&&A(),H.type==="showUsage"&&O()};return x?c.jsxs(Q,{paddingBottom:2,style:phe,children:[c.jsxs(tn,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:l?.5:1},children:[c.jsx(hhe,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,children:c.jsxs(U,{gap:2,flex:2,align:"center",children:[c.jsx(Q,{as:qL,padding:2,tone:"transparent",radius:2,children:c.jsx(L,{muted:!0,size:2,style:mhe,children:c.jsx(oh,{})})}),c.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:W$,children:b})]})}),c.jsx(U,{justify:"flex-end",align:"center",paddingRight:1,style:ghe,children:c.jsx(oe,{mode:"bleed",fontSize:1,padding:2,onClick:V,icon:d?yxe:hl})})]}),d&&c.jsxs(c.Fragment,{children:[c.jsxs(tn,{marginTop:3,columns:3,gap:1,children:[c.jsxs(te,{space:2,children:[c.jsx(Ut,{size:1,muted:!0,children:"Size"}),c.jsx(L,{size:1,muted:!0,children:k})]}),c.jsxs(te,{space:2,children:[c.jsx(Ut,{size:1,muted:!0,children:"Type"}),c.jsx(L,{size:1,muted:!0,children:j})]}),c.jsxs(te,{space:2,children:[c.jsx(Ut,{size:1,muted:!0,children:"Date added"}),c.jsx(L,{size:1,muted:!0,children:E})]})]}),c.jsxs(te,{space:2,marginTop:3,children:[c.jsx(oe,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:O,icon:ih}),c.jsx(oe,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:Co,disabled:y,title:y?sCn:"Delete file",onClick:A})]})]}),(o||s)&&c.jsx(WL,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:R,onDelete:I,isDeleting:l})]}):c.jsxs(oCn,{asset:p,paddingBottom:1,style:phe,radius:0,overflow:"hidden",isSelected:y,"aria-selected":"true",children:[c.jsxs(tn,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:l?.5:1},children:[c.jsx(hhe,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:v,title:"Select the file ".concat(b),isSelected:y,children:c.jsxs(av,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:v,"data-id":w,title:"Select the file ".concat(b),children:[c.jsx(Q,{as:qL,padding:2,tone:"transparent",radius:2,style:mhe,children:c.jsx(L,{muted:!0,size:2,children:c.jsx(oh,{})})}),T&&c.jsx(it,{content:c.jsx(M,{padding:2,children:c.jsx(L,{size:1,children:b})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:c.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:W$,children:b})}),!T&&c.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:W$,children:b})]})}),c.jsx(av,{align:"center",children:c.jsx(L,{size:1,muted:!0,children:k})}),c.jsx(av,{align:"center",children:c.jsx(M,{children:c.jsx(iCn,{size:1,muted:!0,textOverflow:"ellipsis",children:j})})}),c.jsx(av,{align:"center",children:c.jsx(L,{as:"time",size:1,muted:!0,dateTime:S,children:E})}),c.jsx(av,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:ghe,children:c.jsx(OFe,{border:!1,isSelected:!1,onAction:B})})]}),(o||s)&&c.jsx(WL,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:R,onDelete:I,isDeleting:l})]})},lCn={paddingLeft:"2.2rem"},vhe={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function cCn(e){const n=ng()<2,{assets:r,onClick:o,onKeyPress:i,onDeleteFinished:s,selectedAssets:a,isLoading:l}=e;return c.jsxs(M,{padding:4,children:[c.jsx(Q,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?c.jsx(tn,{style:vhe,children:c.jsx(M,{flex:2,paddingLeft:5,children:c.jsx(Ut,{muted:!0,size:1,children:"Filename"})})}):c.jsxs(tn,{gap:1,style:vhe,children:[c.jsx(M,{flex:2,style:lCn,children:c.jsx(Ut,{muted:!0,size:1,children:"Filename"})}),c.jsx(M,{flex:1,children:c.jsx(Ut,{muted:!0,size:1,children:"Size"})}),c.jsx(M,{flex:1,children:c.jsx(Ut,{muted:!0,size:1,children:"Type"})}),c.jsx(M,{flex:1,children:c.jsx(Ut,{muted:!0,size:1,children:"Date added"})})]})}),c.jsxs(te,{children:[l&&r.length===0&&c.jsx(M,{paddingTop:4,paddingBottom:2,children:c.jsx(U,{justify:"center",children:c.jsx(gr,{muted:!0})})}),r.map(u=>c.jsx(aCn,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:o,onKeyPress:i,onDeleteFinished:s},u._id))]})]})}var yhe=Object.freeze,uCn=Object.defineProperty,$Fe=(e,t)=>yhe(uCn(e,"raw",{value:yhe(t||e.slice())})),bhe,xhe;const ek=200,RFe="sanity.imageAsset",dCn="sanity.fileAsset",fCn=e=>{const t=["image/*","audio/*","video/*"],r=e.split(",").map(o=>o.trim()).reduce((o,i)=>t.includes(i)?{...o,wildcards:"mimeType match '".concat(i,"' || ").concat(o.wildcards)}:i.indexOf(".")===0?{...o,extensions:"'".concat(i.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(i,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},hCn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ek,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:RFe,r=arguments.length>3?arguments[3]:void 0;const i=r.length>0?fCn(r):"";return`
  *[_type == "`.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},pCn=$(tn)(bhe||(bhe=$Fe([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),mCn=$(Q)(xhe||(xhe=$Fe([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),gCn=function(t,n){const r=yr(un),o=h.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),i=h.useRef("default-asset-source-".concat(FTe())),s=h.useRef(0),a=h.useRef(),[l,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!0),{selectedAssets:y,assetType:x="image",dialogHeaderTitle:b="Select image",onClose:w,onSelect:C,accept:_}=t,S=_?_.split(",").map(B=>B.trim()).join(", "):"",E=!v&&_&&_.length>0,j=_&&_==="image/*"&&x==="image",k=h.useCallback(B=>{const H=B*ek,W=H+ek,z=x==="image",G=z?"asset.image-list":"asset.file-list",ee=z?RFe:dCn;g(!0),typeof _<"u"&&(a.current=o.observable.fetch(hCn(H,W,ee,_),{},{tag:G}).subscribe(N=>{f(N.length<ek),u(Y=>Y.concat(N)),g(!1)}))},[x,_,o]),T=h.useCallback(B=>{u(H=>H.filter(W=>W._id!==B))},[u]),A=h.useCallback(B=>{l.find(W=>W._id===B)&&C([{kind:"assetDocumentId",value:B}])},[l,C]),D=h.useCallback(B=>{B.preventDefault(),A(B.currentTarget.getAttribute("data-id"))},[A]),P=h.useCallback(B=>{B.key==="Enter"&&(B.preventDefault(),A(B.currentTarget.getAttribute("data-id")))},[A]),I=h.useCallback(()=>{w&&w()},[w]),R=h.useCallback(B=>{B.preventDefault(),k(++s.current)},[k]);h.useEffect(()=>(k(s.current),()=>{a.current&&a.current.unsubscribe()}),[k]),h.useEffect(()=>{!v&&(!s.current||s.current===0)&&m(!0)},[v]);const O=h.useMemo(()=>c.jsxs(M,{padding:4,children:[c.jsx(pCn,{gap:2,children:l.map(B=>c.jsx(Gwn,{asset:B,isSelected:y.some(H=>H._id===B._id),onClick:D,onKeyPress:P,onDeleteFinished:T},B._id))}),v&&l.length===0&&c.jsx(U,{justify:"center",children:c.jsx(gr,{muted:!0})}),!v&&l.length===0&&c.jsx(L,{align:"center",muted:!0,children:"No images"})]}),[l,T,D,P,v,y]),V=h.useMemo(()=>c.jsx(cCn,{isLoading:v,assets:l,selectedAssets:y,onClick:D,onKeyPress:P,onDeleteFinished:T}),[v,l,y,D,P,T]);return c.jsxs(Wi,{__unstable_autoFocus:p,header:b,id:i.current,onClickOutside:I,onClose:I,ref:n,width:2,children:[E&&!j&&c.jsx(Q,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:c.jsxs(U,{gap:[3,4],align:"center",children:[c.jsx(L,{children:c.jsx(Zm,{})}),c.jsxs(L,{size:1,children:["Only showing assets of accepted types: ",c.jsx("b",{children:S})]})]})}),x==="image"&&O,x==="file"&&V,l.length>0&&!d&&c.jsx(mCn,{tone:"default",padding:4,children:c.jsx(U,{direction:"column",children:c.jsx(oe,{type:"button",icon:t8,loading:v,onClick:R,text:"Load more",tone:"primary"})})})]})},MFe=ne.memo(ne.forwardRef(gCn)),FFe={name:"sanity-default",title:"Uploaded files",component:MFe,icon:J6},LFe={name:"sanity-default",title:"Uploaded images",component:MFe,icon:Yl};function vCn(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function qh(e,t){return e[t]}function yCn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const bCn=[{fieldPath:"_updatedAt",icon:dv,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:dv,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:ih,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:zb,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:zb,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:zb,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:jT,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:dv,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:dv,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:Zg,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:oh,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:Yl,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:$xe,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:mxe,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:ih,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:Zg,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Zg,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:rc,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:Zg,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:Zg,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function xCn(e){let{documentId:t,schemaType:n}=e;const r=Ki(),{draft:o,published:i,isLoading:s}=So(()=>lP(r,n,t,""),[t,r,n]),a=h.useMemo(()=>({_id:t,_type:n.name}),[t,n.name]),l=gV({draft:o,published:i,value:a});return s?c.jsx(C1,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):c.jsx(c.Fragment,{children:l.title||t.slice(0,8)})}const Hj="yyyy-MM-dd";function wCn(e){let{value:t}=e;return c.jsx(c.Fragment,{children:t?"True":"False"})}function whe(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!hd(n)?null:c.jsx(c.Fragment,{children:ci(n,Hj)})}function Che(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!hd(n)?null:c.jsx(c.Fragment,{children:ci(n,Hj)})}function CCn(e){let{value:t}=e;var n;return c.jsxs(c.Fragment,{children:[Math.floor((n=t==null?void 0:t.unitValue)!=null?n:0)," ",t.unit]})}function _he(e){let{value:t}=e;const n=t!=null&&t.dateMin?new Date(t.dateMin):null,r=t!=null&&t.dateMax?new Date(t.dateMax):null;return!r||!n||!hd(r)||!hd(n)?null:c.jsxs(c.Fragment,{children:[ci(n,Hj)," → ",ci(r,Hj)]})}function Yg(e){let{value:t}=e;return c.jsx(c.Fragment,{children:t})}function qg(e){let{value:t}=e;return c.jsxs(c.Fragment,{children:[t," ",qr("item",t)]})}function _Cn(e){let{value:t}=e;return c.jsxs(c.Fragment,{children:[t.min," → ",t.max]})}function SCn(e){let{value:t}=e;return c.jsxs(c.Fragment,{children:[t.min," → ",t.max," items"]})}function $l(e){let{value:t}=e;const n=An(),r=t._ref,o=n.get(t._type);return o?c.jsx(xCn,{documentId:r,schemaType:o}):null}function Ri(e){let{value:t}=e;return c.jsx(c.Fragment,{children:t})}const BFe=h.createContext(void 0);function $t(){const e=h.useContext(BFe);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Wa(e){let{value:t,onChange:n}=e;const[r,o]=h.useState(t??""),{state:{fullscreen:i}}=$t(),s=h.useCallback(a=>{o(a.currentTarget.value);const l=parseFloat(a.currentTarget.value);n(Number.isFinite(l)?l:null)},[n]);return c.jsx(Nr,{fontSize:i?2:1,onChange:s,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function NFe(e){let{onChange:t,value:n}=e;var r,o;const[i,s]=h.useState((r=n==null?void 0:n.max)!=null?r:""),[a,l]=h.useState((o=n==null?void 0:n.min)!=null?o:""),{state:{fullscreen:u}}=$t(),d=h.useCallback(p=>{var m;s(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:Number.isFinite(v)?v:null,min:(m=n==null?void 0:n.min)!=null?m:null})},[n==null?void 0:n.min,t]),f=h.useCallback(p=>{var m;l(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:(m=n==null?void 0:n.max)!=null?m:null,min:Number.isFinite(v)?v:null})},[n==null?void 0:n.max,t]);return c.jsxs(U,{gap:2,children:[c.jsx(M,{flex:1,children:c.jsx(Nr,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),c.jsx(M,{flex:1,children:c.jsx(Nr,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:i})})]})}function OP(e,t){const n=t.split("."),r=n[0];if(r&&ul(e)){const o=e.fields.find(i=>i.name===r);if(o){const i=n.slice(1).join(".");return i?OP(o.type,i):o}}}var She=Object.freeze,ECn=Object.defineProperty,zFe=(e,t)=>She(ECn(e,"raw",{value:She(t||e.slice())})),Ehe,khe;const kCn=$(M)(Ehe||(Ehe=zFe([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),jCn=$(Ut)(khe||(khe=zFe([`
  max-width: 150px;
`])));function TCn(e){let{documentId:t,presence:n,schemaType:r}=e;const o=Ki(),{draft:i,published:s,isLoading:a}=So(()=>lP(o,r,t,""),[t,o,r]),l=h.useMemo(()=>({_id:t,_type:r.name}),[t,r.name]),u=h.useMemo(()=>a?null:c.jsxs(Zt,{space:3,children:[n&&n.length>0&&c.jsx(NV,{presence:n}),c.jsx(jCn,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return c.jsx(kCn,{children:c.jsx(Wh,{...gV({draft:i,published:s,value:l}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function gH(e){let{compact:t,disableIntentLink:n,documentId:r,documentType:o,onClick:i,...s}=e;const l=An().get(o),u=A_(r),d=h.useMemo(()=>({id:r,type:l==null?void 0:l.name}),[r,l==null?void 0:l.name]),{onClick:f,href:p}=MC({intent:"edit",params:d}),m=h.useCallback(v=>{n||f(v),i==null||i()},[n,i,f]);return l?c.jsx(M,{...s,children:c.jsx(dm,{as:"a","data-as":"a",flex:1,href:n?void 0:p,onClick:m,padding:t?1:2,radius:2,tabIndex:-1,children:c.jsx(TCn,{documentId:r,presence:u,schemaType:l})})}):null}const ACn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),DCn="_debug_search_score",VFe=!1,jhe=1e3,HFe="k",PCn=ACn?"Cmd":"Ctrl",qw=fh.space[1],ICn=735,UFe=800,E_=5,J1=2;function $P(e){let{allowEmptyQueries:t,terms:n}=e;const r=t?!0:n.query.length>0,o=!!n.filter,i=n.types.length>0;return r||o||i}function OCn(e,t){return RP(e).filter(n=>$Cn(n,t)).sort(GL)}function RP(e){return Msn(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function GL(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function $Cn(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const RCn=300,Y$={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function MCn(e){return e!==null}function FCn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function WFe(e){let{allowEmptyQueries:t,initialState:n,onComplete:r,onError:o,onStart:i,schema:s}=e;const[a,l]=h.useState(n),u=yr(un),d=h.useMemo(()=>bV(RP(s),u,{tag:"search.global",unique:!0}),[u,s]),f=bA(m=>m.pipe(pt(MCn),le(FCn),nr(Wt),g7(v=>Ko((v==null?void 0:v.debounceTime)||RCn)),_n(i),rt(v=>Kr(ve({...Y$,loading:!0,options:v.options,terms:v.terms}),elt(()=>$P({allowEmptyQueries:t,terms:v.terms}),d(v.terms,v.options).pipe(le(g=>({hits:g})),_n(g=>{let{hits:y}=g;return r==null?void 0:r(y)}),Mn(g=>(o==null||o(g),ve({...Y$,error:g,loading:!1,options:v.options,terms:v.terms})))),ve(tr).pipe(_n(()=>r==null?void 0:r([])))),ve({loading:!1}))),ma((v,g)=>({...v,...g}),Y$),_n(l)),[t,d]);return{handleSearch:h.useCallback(m=>f(m),[f]),searchState:a}}const LCn=40;function vH(e){let{availableCharacters:t=LCn,types:n}=e;const r=n.reduce(function(){let i=t;return function(s,a,l){const u=The(a);return i-=u.length,(l===0||t>u.length&&i>u.length)&&s.push(a),s}}(),[]),o=n.length-r.length;return n.length?["".concat(r.map(The).join(", ")),...o?["+".concat(o," more")]:[]].join(" "):"All types"}function The(e){var t;return(t=e.title)!=null?t:e.name}var Ahe=Object.freeze,BCn=Object.defineProperty,NCn=(e,t)=>Ahe(BCn(e,"raw",{value:Ahe(t||e.slice())})),Dhe;const zCn=()=>!0,VCn=$(L)(Dhe||(Dhe=NCn([`
  word-break: break-word;
`]))),HCn=h.forwardRef(function(t,n){let{onSelect:r,types:o=[],value:i}=t;const s=h.useRef(null),a=An(),{state:{fullscreen:l}}=$t(),u=h.useId(),[d,f]=h.useState([]),{handleSearch:p,searchState:m}=WFe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:C=>{f(C.map(_=>({hit:_,value:_.hit._id})))},schema:a}),v=h.useCallback(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[p,o]),g=h.useCallback(C=>{p(C?{options:{limit:100},terms:{query:C||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[p,o]),y=h.useCallback(C=>{var _;const S=(_=d.find(E=>E.value===C))==null?void 0:_.hit.hit;S&&(r==null||r({_ref:Fn(S._id),_type:S._type}))},[d,r]),x=h.useMemo(()=>{const C=vH({types:o});return o.length>0?"Search for ".concat(C):"Search all documents"},[o]),b=h.useCallback(C=>{const _=C.hit.hit._type;return c.jsx(gH,{compact:!0,disableIntentLink:!0,documentId:C.value,documentType:_})},[]),w=h.useCallback((C,_)=>{const{content:S,hidden:E,onMouseEnter:j,onMouseLeave:k}=C,T=d&&d.length>0;return c.jsx(nn,{arrow:!1,constrainSize:!0,content:c.jsx("div",{ref:_,children:T?S:m.terms.query&&c.jsx(M,{padding:4,children:c.jsx(U,{align:"center",height:"fill",justify:"center",children:c.jsxs(VCn,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["“",m.terms.query,"”"]})]})})})}),matchReferenceWidth:!0,onMouseEnter:j,onMouseLeave:k,open:!m.loading&&!E,overflow:"auto",placement:"bottom-start",radius:J1,referenceElement:s.current})},[d,m.loading,m.terms.query]);return c.jsx("div",{ref:s,children:c.jsx(e7,{"aria-label":x,filterOption:zCn,fontSize:l?2:1,id:u,loading:m.loading,openButton:{onClick:v},options:d,onQueryChange:g,onSelect:y,placeholder:x,radius:2,ref:n,renderOption:b,renderPopover:w,value:i==null?void 0:i._ref})})});function jx(e){let{fieldDefinition:t,onChange:n,value:r}=e;const{onClose:o,state:{documentTypesNarrowed:i,fullscreen:s}}=$t(),a=An(),l=h.useCallback(p=>n(p),[n]),u=h.useMemo(()=>t?t.documentTypes.filter(p=>i.includes(p)).flatMap(p=>{const m=a.get(p);if(m){const v=OP(m,t.fieldPath);if(tc(v==null?void 0:v.type))return v==null?void 0:v.type.of.filter(Qu).flatMap(g=>g.to);if(Qu(v==null?void 0:v.type))return v==null?void 0:v.type.to}return[]}).reduce((p,m)=>(p.findIndex(v=>v.name===(m==null?void 0:m.name))<0&&p.push(m),p),[]):[],[i,t,a]),d=h.useCallback(()=>l(null),[l]),f=h.useCallback(()=>{o==null||o()},[o]);return c.jsx(M,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?c.jsxs(te,{space:3,children:[c.jsx(Q,{padding:1,radius:1,shadow:1,children:c.jsx(gH,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),c.jsx(oe,{fontSize:s?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):c.jsx(HCn,{onSelect:l,types:u,value:r})})}function UCn(e){let{onClick:t,selected:n,title:r,value:o}=e;const i=h.useCallback(()=>t(o),[t,o]);return c.jsx(Ne,{onClick:i,padding:3,pressed:n,tone:"default",children:c.jsx(U,{align:"center",justify:"space-between",gap:3,children:c.jsxs(te,{paddingRight:2,space:2,children:[c.jsx(L,{size:1,weight:"regular",children:r}),o&&c.jsx(dr,{muted:!0,size:0,children:o})]})})})}function Uj(e){let{fieldDefinition:t,onChange:n,value:r}=e;const o=h.useId(),{state:{documentTypesNarrowed:i}}=$t(),s=An(),a=h.useMemo(()=>t?t.documentTypes.filter(f=>i.includes(f)).map(f=>{const p=s.get(f);if(p){const m=OP(p,t.fieldPath);return m==null?void 0:m.type.options}return null}).filter(_o).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(p=>WCn(p))).filter(_o).reduce((f,p)=>{const m=f.findIndex(v=>v.value===(p==null?void 0:p.value));if(m>-1){const v=f[m];f[m]={...f[m],title:wo([...v.title,p.title]).sort()}}else f.push({...p,title:[p.title]});return f},[]):[],[i,t,s]),l=h.useCallback(u=>{n(u)},[n]);return c.jsx(rn,{button:c.jsx(oe,{mode:"ghost",padding:3,children:c.jsxs(U,{align:"center",gap:2,justify:"space-between",children:[c.jsx(L,{size:1,weight:"regular",children:r||"Select..."}),c.jsx(M,{marginLeft:1,children:c.jsx(L,{size:1,children:c.jsx(rc,{})})})]})}),id:o||"",menu:c.jsx(zt,{children:a.map((u,d)=>c.jsx(UCn,{onClick:l,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function WCn(e){return M6(e)?e:{title:hg("".concat(e)),value:e}}const YFe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),qFe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),GFe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),KFe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function Xe(e){return JSON.stringify(e)}const YCn={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:qg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(Xe(n)):null},initialValue:null,inputComponent:Wa,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:qg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(Xe(n)):null},icon:qFe,initialValue:null,inputComponent:Wa,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ≥",buttonValueComponent:qg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(Xe(n)):null},icon:YFe,initialValue:null,inputComponent:Wa,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:qg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(Xe(n)):null},icon:KFe,initialValue:null,inputComponent:Wa,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ≤",buttonValueComponent:qg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(Xe(n)):null},icon:GFe,initialValue:null,inputComponent:Wa,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:qg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(Xe(n)):null},initialValue:null,inputComponent:Wa,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:SCn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"count(".concat(t,") > ").concat(Xe(n==null?void 0:n.min)," && count(").concat(t,") < ").concat(Xe(n==null?void 0:n.max)):""},initialValue:null,inputComponent:NFe,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(Xe(n)," in ").concat(t):null},initialValue:null,inputComponent:Uj,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(Xe(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:Uj,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:$l,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(Xe(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:jx,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:$l,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"!(".concat(Xe(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:jx,label:"does not include",type:"arrayReferenceNotIncludes"}},ZFe=h.createContext(null);function qCn(e){let{children:t,workspace:n}=e;return c.jsx(ZFe.Provider,{value:n,children:t})}function cc(){const e=h.useContext(ZFe);if(!e)throw new Error("Workspace: missing context value");return e}const tk=h.createContext(null);function yH(e){let{children:t,...n}=e;const r=h.useContext(tk),{unstable_sources:o}=cc();if("source"in n){const{source:i}=n;return c.jsx(tk.Provider,{value:i,children:t})}if("name"in n){const{name:i}=n,s=o.find(a=>a.name===i);if(!s)throw new Error("Could not find source with name `".concat(i,"` in current workspace"));return r===s?c.jsx(c.Fragment,{children:t}):c.jsx(tk.Provider,{value:s,children:t})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function Nn(){const e=h.useContext(tk);if(!e)throw new Error("Could not find `source` context");return e}function GCn(e){return c.jsx(M,{...e,children:c.jsxs(U,{align:"flex-start",gap:3,children:[c.jsx(fr,{tone:"caution",children:c.jsx(zr,{})}),c.jsxs(te,{space:4,children:[c.jsx(fr,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),c.jsx(fr,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),c.jsx(fr,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function KCn(e){let{reference:t}=e;const n=Ki(),r=h.useCallback(o=>XRe(n,o),[n]);return c.jsx(t1,{observeAsset:r,reference:t,waitPlaceholder:c.jsx(XCn,{}),children:o=>c.jsx(ZCn,{asset:o})})}function ZCn(e){let{asset:t}=e;return c.jsx(Q,{padding:2,shadow:1,children:c.jsxs(U,{align:"center",justify:"space-between",wrap:"nowrap",children:[c.jsx(Q,{padding:3,radius:1,shadow:1,tone:"transparent",children:c.jsx(L,{children:c.jsx(u1,{})})}),c.jsxs(te,{flex:1,space:2,marginLeft:3,children:[c.jsx(L,{size:2,textOverflow:"ellipsis",muted:!0,children:(t==null?void 0:t.originalFilename)||t._id}),c.jsx(L,{size:1,muted:!0,children:YMe(t.size)})]})]})})}function XCn(){return c.jsx(Q,{padding:2,shadow:1,children:c.jsxs(U,{align:"center",justify:"flex-start",children:[c.jsx(Q,{padding:3,radius:1,shadow:1,tone:"transparent",children:c.jsx(L,{children:c.jsx(u1,{})})}),c.jsxs(te,{flex:1,space:2,marginLeft:3,children:[c.jsx(Jk,{animated:!0,style:{width:"100%"},radius:1}),c.jsx(Jk,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var Phe=Object.freeze,QCn=Object.defineProperty,bH=(e,t)=>Phe(QCn(e,"raw",{value:Phe(t||e.slice())})),Ihe,Ohe,$he;const JCn=$(Q)(Ihe||(Ihe=bH([`
  position: relative;
  padding-bottom: 100%;
`]))),e_n=$.img(Ohe||(Ohe=bH([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),t_n=$(U)($he||($he=bH([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function n_n(e){let{reference:t}=e;const n=Ki(),r=h.useCallback(o=>ZRe(n,o),[n]);return c.jsx(t1,{observeAsset:r,reference:t,children:o=>c.jsx(r_n,{asset:o})})}function r_n(e){let{asset:t}=e;const[n,r]=h.useState(!1),o="".concat(t.url,"?h=800&fit=max"),i=h.useCallback(()=>r(!0),[]);return c.jsxs(JCn,{__unstable_checkered:!0,border:!0,children:[!n&&c.jsx(t_n,{align:"center",justify:"center",children:c.jsx(gr,{})}),c.jsx(e_n,{onLoad:i,src:o})]})}function o_n(e){let{reference:t}=e;return t?t._type.startsWith("sanity.fileAsset")?c.jsx(KCn,{reference:t}):t._type.startsWith("sanity.imageAsset")?c.jsx(n_n,{reference:t}):null:null}var Rhe=Object.freeze,i_n=Object.defineProperty,s_n=(e,t)=>Rhe(i_n(e,"raw",{value:Rhe(t||e.slice())})),Mhe;const a_n={file:"sanity.fileAsset",image:"sanity.imageAsset"},l_n=$(M)(Mhe||(Mhe=s_n([`
  width: min(calc(100vw - 40px), 320px);
`])));function Nv(e){return function(n){let{onChange:r,value:o}=n;const[i,s]=h.useState(null),[a,l]=h.useState(null),{state:{fullscreen:u}}=$t(),{file:d,image:f}=Nn().form,p=h.useMemo(()=>{switch(e){case"file":return d.assetSources.filter(E=>E.name===FFe.name);case"image":return f.assetSources.filter(E=>E.name===LFe.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),m=h.useId(),v=yr(un),g=h.useCallback(()=>{l(null),r(null)},[r]),y=h.useCallback(()=>{s(null)},[]),x=h.useCallback(E=>{const j=E[0];l(j),y()},[y]),b=h.useCallback(E=>s(E),[]);h.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&r({_ref:a.value,_type:a_n[e]})},[v,r,a]);const w=i==null?void 0:i.component,C=u?2:1,_=o?"Change ".concat(e):"Select ".concat(e),S=Gn(e,"options.accept",e==="image"?"image/*":"");return c.jsx(l_n,{children:c.jsxs(te,{space:3,children:[i&&w&&c.jsx(ig,{children:c.jsx(w,{assetType:e,dialogHeaderTitle:"Select ".concat(e),onClose:y,onSelect:x,selectedAssets:[],selectionType:"single",accept:S})}),o&&c.jsx(o_n,{reference:o}),c.jsxs(U,{gap:2,children:[p.length===0&&c.jsx(GCn,{padding:2}),p.length>0&&c.jsx(c.Fragment,{children:p.length>1?c.jsx(rn,{button:c.jsx(oe,{fontSize:C,icon:o?hk:ui,iconRight:hl,mode:"ghost",style:{flex:o?1:0},text:_}),id:m,menu:c.jsx(zt,{children:p.map(E=>c.jsx(Ne,{fontSize:C,icon:E.icon||Yl,onClick:()=>b(E),text:E.title},E.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):c.jsx(oe,{fontSize:C,icon:o?hk:ui,mode:"ghost",onClick:()=>b(p[0]),style:{flex:o?1:0},text:_})}),o&&c.jsx(oe,{fontSize:u?2:1,mode:"ghost",onClick:g,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const c_n={assetFileEqual:{buttonLabel:"is",buttonValueComponent:$l,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Nv("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:$l,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Nv("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:$l,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Nv("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:$l,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Nv("image"),label:"is not",type:"assetImageNotEqual"}};function u_n(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=$t(),o=h.useCallback(i=>{t(i.currentTarget.value==="true")},[t]);return c.jsxs(hh,{fontSize:r?2:1,onChange:o,radius:2,value:String(n??!0),children:[c.jsx("option",{value:"true",children:"True"}),c.jsx("option",{value:"false",children:"False"})]})}const d_n={booleanEqual:{buttonLabel:"is",buttonValueComponent:wCn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return typeof n<"u"&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:!0,inputComponent:u_n,label:"is",type:"booleanEqual"}},f_n={defined:{buttonLabel:"not empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},label:"empty",type:"notDefined"}};var Fhe=Object.freeze,h_n=Object.defineProperty,p_n=(e,t)=>Fhe(h_n(e,"raw",{value:Fhe(t||e.slice())})),Lhe;const Bhe="Include time",m_n=$(L)(Lhe||(Lhe=p_n([`
  cursor: default;
`])));function xH(e){let{onChange:t,value:n}=e;return c.jsxs(U,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[c.jsx(te,{children:c.jsx(m_n,{muted:!0,onClick:t,size:1,weight:"medium",children:Bhe})}),c.jsx(NSe,{checked:n,label:Bhe,onChange:t})]})}const XFe=h.createContext(void 0);function wH(){const e=h.useContext(XFe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}const g_n=["January","February","March","April","May","June","July","August","September","October","November","December"],v_n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];KN(0,24);const y_n=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],b_n=[1,2,3,4,5,6];function x_n(e){const{focusedDate:t}=wH(),{fontSize:n,moveFocusedDate:r,onNowClick:o}=e,i=h.useCallback(()=>r(-1),[r]),s=h.useCallback(()=>r(1),[r]);return c.jsxs(U,{align:"center",flex:1,justify:"space-between",children:[c.jsxs(Zt,{paddingLeft:2,space:1,children:[c.jsx(L,{weight:"medium",children:g_n[t.getMonth()]}),c.jsx(L,{weight:"medium",children:t.getFullYear()})]}),c.jsxs(M,{children:[c.jsx(oe,{fontSize:n,text:"Today",mode:"bleed",onClick:o}),c.jsx(oe,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:TT}),c.jsx(oe,{"aria-label":"Go to next month",mode:"bleed",icon:Jc,onClick:s})]})]})}var Nhe=Object.freeze,w_n=Object.defineProperty,QFe=(e,t)=>Nhe(w_n(e,"raw",{value:Nhe(t||e.slice())})),zhe,Vhe;const C_n=$.svg(e=>{let{theme:t}=e;return de(zhe||(zhe=QFe([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),t.sanity.color.card.enabled.border)}),__n=$(Q)(Vhe||(Vhe=QFe([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function S_n(e){let{date:t,onSelect:n}=e;const r=h.useCallback(()=>{n(t)},[t,n]),{date:o,endDate:i,focusedDate:s,fontSize:a,selectRange:l}=wH(),u=o&&hf(t,o),d=l&&o&&hf(t,o),f=l&&i&&hf(t,i),p=GTe(t,s),m=s&&hf(t,s),v=hf(t,new Date),g=o&&i&&!d&&!f&&qF(t,o)&&HTe(t,i);return c.jsxs(__n,{__unstable_focusRing:!0,"aria-label":t.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":g?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:g?"primary":"default",children:[v&&c.jsx(C_n,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:c.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),c.jsx(L,{align:"center",muted:!u&&!p,size:a,weight:v?"medium":"regular",children:t.getDate()})]})}const E_n=e=>{const t=NTe(e);return BTe({start:t,end:VTe(t)})},k_n=e=>e.map(t=>[t,...b_n.map(n=>rs(t,n))]),j_n=e=>k_n(E_n(e)).map(t=>({number:zTe(t[0]),days:t}));var Hhe=Object.freeze,T_n=Object.defineProperty,A_n=(e,t)=>Hhe(T_n(e,"raw",{value:Hhe(t||e.slice())})),Uhe;const D_n=$(tn)(Uhe||(Uhe=A_n([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function P_n(e){let{hidden:t,onSelect:n}=e;const{focusedDate:r,fontSize:o}=wH();return c.jsx(M,{"aria-hidden":t||!1,"data-ui":"CalendarMonth",children:c.jsxs(D_n,{children:[v_n.map(i=>c.jsx(M,{paddingBottom:3,paddingTop:2,children:c.jsx(L,{align:"center",size:o,weight:"medium",children:i})},i)),j_n(r).map((i,s)=>i.days.map((a,l)=>c.jsx(S_n,{date:a,onSelect:n},"".concat(s,"-").concat(l))))]})})}const I_n=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function O_n(e){const{date:t,endDate:n,fontSize:r,onSelect:o,selectRange:i,selectTime:s}=e,[a,l]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(t||new Date),m=h.useRef(t||null),v=h.useRef(n||null),g=h.useCallback(()=>{var C;(C=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||C.focus()},[a]),y=h.useCallback(C=>{const _=COt(C,{hours:C.getHours(),minutes:C.getMinutes(),seconds:0,milliseconds:0}),S=t&&HTe(_,t),E=n&&qF(_,n);if(i){if(S||E){o({date:_,endDate:null});return}o(u?{date:t||null,endDate:_}:{date:_,endDate:t?null:n||null})}else o({date:_})},[t,n,o,u,i]),x=h.useCallback(()=>{const C=new Date;i?p(C):o({date:C})},[o,i,p]),b=h.useCallback(C=>{var _;if(y_n.includes(C.key)){if(C.preventDefault(),C.target.hasAttribute("data-calendar-grid")){g();return}C.key==="ArrowUp"&&p(rs(f,-7)),C.key==="ArrowDown"&&p(rs(f,7)),C.key==="ArrowLeft"&&p(rs(f,-1)),C.key==="ArrowRight"&&p(rs(f,1)),(_=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||_.focus()}},[a,g,f,p]),w=h.useCallback(C=>p(PB(f,C)),[f,p]);return h.useEffect(()=>{g()},[g]),h.useEffect(()=>{var C;((C=document.activeElement)==null?void 0:C.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&g()},[g,f]),h.useEffect(()=>{var C,_;const S=(t==null?void 0:t.getTime())!==((C=m.current)==null?void 0:C.getTime()),E=(n==null?void 0:n.getTime())!==((_=v.current)==null?void 0:_.getTime()),j=S&&!E,k=!S&&E,T=t&&n&&qF(t,n);j&&(T&&(d(!0),o({date:t,endDate:null})),d(!!t),t&&p(t)),k&&(T&&(d(!0),o({date:n,endDate:null})),d(!!t&&!n),n&&p(n)),S&&E&&(d(!0),t&&p(t)),m.current=t||null,v.current=n||null},[t,n,o]),c.jsx(XFe.Provider,{value:{date:t,endDate:n,focusedDate:f,fontSize:r,selectRange:i,selectTime:s},children:c.jsxs(M,{"data-ui":"Calendar",ref:l,children:[c.jsx(U,{children:c.jsx(M,{flex:1,children:c.jsx(x_n,{fontSize:r,moveFocusedDate:w,onNowClick:x})})}),c.jsxs(M,{"data-calendar-grid":!0,onKeyDown:b,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(P_n,{onSelect:y}),I_n]})]})})}function CH(e){let{date:t,endDate:n,onChange:r,selectRange:o,selectTime:i}=e;const{state:{fullscreen:s}}=$t(),a=h.useCallback(l=>{r(l)},[r]);return c.jsx(O_n,{date:t,endDate:n,fontSize:s?2:1,onSelect:a,selectRange:o,selectTime:i})}var Whe=Object.freeze,$_n=Object.defineProperty,R_n=(e,t)=>Whe($_n(e,"raw",{value:Whe(t||e.slice())})),Yhe;const M_n=$(M)(e=>{let{background:t,smallClearButton:n}=e;return de(Yhe||(Yhe=R_n([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),r=>{let{theme:o}=r;return t?o.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),_H=h.forwardRef(function(t,n){const{background:r,smallClearButton:o,...i}=t;return c.jsx(M_n,{background:r,smallClearButton:o,children:c.jsx(Nr,{...i,ref:n})})});function zu(e){let{date:t,dateOnly:n,roundDay:r}=e,o;switch(r){case"end":o=M5(t);break;case"start":o=gh(t);break;default:o=t;break}return n?o.toISOString().split("T")[0]:o.toISOString()}var qhe=Object.freeze,F_n=Object.defineProperty,JFe=(e,t)=>qhe(F_n(e,"raw",{value:qhe(t||e.slice())})),Ghe,Khe;const wS={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},L_n=$.span(e=>{let{theme:t}=e;return de(Ghe||(Ghe=JFe([`
    font-weight: `,`;
  `])),t.sanity.fonts.text.weights.medium)}),B_n=$(L)(Khe||(Khe=JFe([`
  color: `,`;
`])),fe.red[500].hex);function Wj(e){let{isDateTime:t,onChange:n,placeholderDate:r,isDateTimeFormat:o,value:i,...s}=e;const a=h.useMemo(()=>o?wS.datetime.pattern:wS.date.pattern,[o]),[l,u]=h.useState(void 0),[d,f]=h.useState(()=>{if(!i)return"";const b=new Date(i);return ci(b,a)}),p=h.useMemo(()=>ci(r||new Date,a),[a,r]),m=h.useCallback(b=>{let{dateString:w,triggerOnChange:C}=b;if(!w)return;const _=rOt(w,a,new Date),S=hd(_);S&&(C&&n(zu({date:_,dateOnly:!t})),f(ci(_,a))),u(S?void 0:"Invalid ".concat(t?"datetime":"date"))},[a,t,n]),v=h.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),g=h.useCallback(b=>{f(b.currentTarget.value)},[]),y=h.useCallback(()=>{n(null),u(void 0),f("")},[n]),x=h.useCallback(b=>{b.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return h.useEffect(()=>{const b=i&&new Date(i);b&&m({dateString:ci(b,a),triggerOnChange:!1})},[a,m,o,i]),c.jsx(it,{content:c.jsxs(U,{gap:2,children:[c.jsx(B_n,{size:1,children:c.jsx(Ca,{})}),c.jsxs(L,{muted:!0,size:1,children:["Must be in the format"," ",c.jsx(L_n,{children:o?wS.datetime.exampleDate:wS.date.exampleDate})]})]}),disabled:!l,padding:3,placement:"top",portal:!0,children:c.jsx("div",{children:c.jsx(_H,{...s,clearButton:!!d,customValidity:l,onBlur:v,onChange:g,onClear:y,onKeyDown:x,placeholder:p,value:d})})})}function e4e(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=$t(),i=h.useCallback(l=>{let{date:u}=l;if(u){const d=zu({date:u,dateOnly:!t});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[t,n,r==null?void 0:r.includeTime]),s=h.useCallback(()=>{const l=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=zu({date:u,dateOnly:!t})),n({includeTime:l,date:d})},[t,n,r]),a=h.useCallback(l=>{n({includeTime:r==null?void 0:r.includeTime,date:l||null})},[n,r==null?void 0:r.includeTime]);return c.jsxs(te,{space:3,children:[c.jsx(Wj,{"aria-label":"Date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),c.jsx(CH,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:i,selectTime:t}),t&&c.jsx(xH,{onChange:s,value:!!(r!=null&&r.includeTime)})]})}function Zhe(e){return c.jsx(e4e,{...e,isDateTime:!1})}function MP(e){let{direction:t,isDateTime:n,onChange:r,value:o}=e;const{state:{fullscreen:i}}=$t(),s=h.useMemo(()=>{switch(t){case"after":return"end";case"before":return"start";default:return}},[t]),a=h.useCallback(d=>{let{date:f}=d,p=null;f&&(p=zu({date:f,dateOnly:!n,roundDay:o!=null&&o.includeTime?void 0:s})),r({includeTime:o==null?void 0:o.includeTime,date:p})},[n,r,s,o==null?void 0:o.includeTime]),l=h.useCallback(()=>{const d=!(o!=null&&o.includeTime),f=o!=null&&o.date?new Date(o.date):null;let p=null;f&&(p=zu({date:f,dateOnly:!n,roundDay:d?"start":s})),r({includeTime:d,date:p})},[n,r,s,o]),u=h.useCallback(d=>{r({includeTime:o==null?void 0:o.includeTime,date:d||null})},[r,o==null?void 0:o.includeTime]);return c.jsxs(te,{space:3,children:[c.jsx(Wj,{"aria-label":"Date",fontSize:i?2:1,isDateTime:n,isDateTimeFormat:n&&(o==null?void 0:o.includeTime),onChange:u,radius:2,value:o==null?void 0:o.date}),c.jsx(CH,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:a,selectTime:n}),n&&c.jsx(xH,{onChange:l,value:!!(o!=null&&o.includeTime)})]})}function N_n(e){return c.jsx(MP,{...e,direction:"after",isDateTime:!1})}function z_n(e){return c.jsx(MP,{...e,direction:"before",isDateTime:!1})}function Xhe(e){let{onChange:t,value:n}=e;const[r,o]=h.useState((n==null?void 0:n.unitValue)||""),i=h.useRef("days"),s=h.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=$t(),l=h.useCallback(()=>{t({unit:i==null?void 0:i.current,unitValue:s==null?void 0:s.current})},[t]),u=h.useCallback(f=>{i.current=f.currentTarget.value,l()},[l]),d=h.useCallback(f=>{o(f.currentTarget.value);const p=parseFloat(f.currentTarget.value);s.current=Number.isFinite(p)?p:null,l()},[l]);return c.jsxs(U,{gap:2,children:[c.jsx(M,{flex:1,children:c.jsx(Nr,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),c.jsx(M,{flex:1,children:c.jsxs(hh,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[c.jsx("option",{value:"days",children:"Days"}),c.jsx("option",{value:"months",children:"Months"}),c.jsx("option",{value:"years",children:"Years"})]})})]})}const V_n=-7;function t4e(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=$t(),i=h.useMemo(()=>rs(new Date,V_n),[]),s=h.useMemo(()=>new Date,[]),a=h.useCallback(f=>{let{date:p,endDate:m}=f;n(Qhe({date:p,endDate:m,includeTime:r==null?void 0:r.includeTime,isDateTime:t}))},[t,n,r==null?void 0:r.includeTime]),l=h.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(Qhe({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:t}))},[t,n,r]),u=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return c.jsx("div",{children:c.jsxs(te,{space:3,children:[c.jsxs(U,{direction:"column",gap:3,children:[c.jsx(Wj,{"aria-label":"Start date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:i,radius:2,value:r==null?void 0:r.dateMin}),c.jsx(Wj,{"aria-label":"End date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMax})]}),c.jsx(CH,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:t}),t&&c.jsx(xH,{onChange:l,value:!!(r!=null&&r.includeTime)})]})})}function Qhe(e){let{date:t,endDate:n,includeTime:r,isDateTime:o}=e;return r?{includeTime:r,dateMax:n?zu({date:n,dateOnly:!o,roundDay:"start"}):null,dateMin:t?zu({date:t,dateOnly:!o,roundDay:"start"}):null}:{includeTime:r,dateMax:n?zu({date:n,dateOnly:!o,roundDay:"end"}):null,dateMin:t?zu({date:t,dateOnly:!o,roundDay:"start"}):null}}function H_n(e){return c.jsx(t4e,{...e,isDateTime:!1})}function Jhe(e){return c.jsx(e4e,{...e,isDateTime:!0})}function U_n(e){return c.jsx(MP,{...e,direction:"after",isDateTime:!0})}function W_n(e){return c.jsx(MP,{...e,direction:"before",isDateTime:!0})}function Y_n(e){return c.jsx(t4e,{...e,isDateTime:!0})}const Oa={dateAfter:{buttonLabel:"after",buttonValueComponent:Che,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:Che,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:whe,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:CCn,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:whe,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},q_n={dateAfter:{...Oa.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," > ").concat(Xe(n==null?void 0:n.date)):null},inputComponent:N_n,type:"dateAfter"},dateBefore:{...Oa.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," < ").concat(Xe(n==null?void 0:n.date)):null},inputComponent:z_n,type:"dateBefore"},dateEqual:{...Oa.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," == ").concat(Xe(n.date)):null},inputComponent:Zhe,type:"dateEqual"},dateLast:{...Oa.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?dJ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return o&&t?"".concat(t," > ").concat(Xe(o)):null},inputComponent:Xhe,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...Oa.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," != ").concat(Xe(n.date)):null},inputComponent:Zhe,type:"dateNotEqual"},dateRange:{...Oa.dateRange,buttonValueComponent:_he,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"".concat(t," >= ").concat(Xe(n.dateMin)," && ").concat(t," <= ").concat(Xe(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:uJ().toISOString(),dateMin:null},inputComponent:H_n,type:"dateRange"},dateTimeAfter:{...Oa.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") > dateTime(").concat(Xe(n.date),")"):null},inputComponent:U_n,type:"dateTimeAfter"},dateTimeBefore:{...Oa.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") < dateTime(").concat(Xe(n.date),")"):null},inputComponent:W_n,type:"dateTimeBefore"},dateTimeEqual:{...Oa.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!hd(r)||!t)return null;const o=(n!=null&&n.includeTime?iJ(r):gh(r)).toISOString(),i=(n!=null&&n.includeTime?sJ(r):M5(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(Xe(o),") && dateTime(").concat(t,") < dateTime(").concat(Xe(i),")")},inputComponent:Jhe,type:"dateTimeEqual"},dateTimeLast:{...Oa.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?dJ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return o&&t?"dateTime(".concat(t,") > dateTime(").concat(Xe(o),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:Xhe,type:"dateTimeLast"},dateTimeNotEqual:{...Oa.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!hd(r)||!t)return null;const o=(n!=null&&n.includeTime?iJ(r):gh(r)).toISOString(),i=(n!=null&&n.includeTime?sJ(r):M5(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(Xe(o),") || dateTime(").concat(t,") > dateTime(").concat(Xe(i),")")},inputComponent:Jhe,type:"dateTimeNotEqual"},dateTimeRange:{...Oa.dateRange,buttonValueComponent:_he,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"dateTime(".concat(t,") >= dateTime(").concat(Xe(n.dateMin),") && dateTime(").concat(t,") <= dateTime(").concat(Xe(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:uJ().toISOString(),dateMin:null},inputComponent:Y_n,type:"dateTimeRange"}},G_n={numberEqual:{buttonLabel:"is",buttonValueComponent:Yg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:null,inputComponent:Wa,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:Yg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(Xe(n)):null},icon:qFe,initialValue:null,inputComponent:Wa,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"≥",buttonValueComponent:Yg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(Xe(n)):null},icon:YFe,initialValue:null,inputComponent:Wa,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:Yg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(Xe(n)):null},icon:KFe,initialValue:null,inputComponent:Wa,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"≤",buttonValueComponent:Yg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(Xe(n)):null},icon:GFe,initialValue:null,inputComponent:Wa,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:Yg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(Xe(n)):null},initialValue:null,inputComponent:Wa,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:_Cn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"".concat(t," > ").concat(Xe(n==null?void 0:n.min)," && ").concat(t," < ").concat(Xe(n==null?void 0:n.max)):""},initialValue:null,inputComponent:NFe,label:"is between",type:"numberRange"}};function Za(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=$t(),o=h.useCallback(i=>t(i.currentTarget.value||null),[t]);return c.jsx(Nr,{fontSize:r?2:1,onChange:o,placeholder:"Value",radius:2,value:n||""})}const K_n={portableTextEqual:{buttonLabel:"is",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(Xe(n)):null},initialValue:null,inputComponent:Za,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(Xe(n)):null},initialValue:null,inputComponent:Za,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(Xe(n)):null},initialValue:null,inputComponent:Za,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(Xe(n),")"):null},initialValue:null,inputComponent:Za,label:"does not contain",type:"portableTextNotMatches"}},Z_n={referenceEqual:{buttonLabel:"is",buttonValueComponent:$l,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref == ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:jx,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:$l,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref != ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:jx,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"→",buttonValueComponent:$l,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Xe(t._ref),")"):null},initialValue:null,inputComponent:Nv("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"→",buttonValueComponent:$l,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Xe(t._ref),")"):null},initialValue:null,inputComponent:Nv("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"→",buttonValueComponent:$l,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Xe(t._ref),")"):null},initialValue:null,inputComponent:jx,label:"document",type:"referencesDocument"}},X_n={slugEqual:{buttonLabel:"is",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(Xe(n)):null},initialValue:null,inputComponent:Za,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(Xe(n)):null},initialValue:null,inputComponent:Za,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(Xe(n)):null},initialValue:null,inputComponent:Za,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(Xe(n),")"):null},initialValue:null,inputComponent:Za,label:"does not contain",type:"slugNotMatches"}},Q_n={stringEqual:{buttonLabel:"is",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:null,inputComponent:Za,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:null,inputComponent:Uj,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Xe(n)):null},initialValue:null,inputComponent:Uj,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," match ").concat(Xe(n)):null},initialValue:null,inputComponent:Za,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Xe(n)):null},initialValue:null,inputComponent:Za,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:Ri,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t," match ").concat(Xe(n),")"):null},initialValue:null,inputComponent:Za,label:"does not contain",type:"stringNotMatches"}},J_n={...YCn,...c_n,...d_n,...q_n,...f_n,...G_n,...K_n,...Z_n,...X_n,...Q_n},e2n=Object.values(J_n);function uc(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}const FP=(e,t)=>{let{plugins:n=[],...r}=e;const o={config:r,path:[...t,r.name]};return[...n.flatMap(a=>FP(a,[...t,r.name])),o]},t2n=[],n2n=[],r2n=[],o2n=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.types;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(uc(o)))},i2n=async(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.productionUrl;return o?await o(e,n):e},s2n=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(uc(r)))},a2n=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.templates;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(uc(o)))},l2n=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.badges;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(uc(o)))},c2n=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.actions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(uc(o)))},u2n=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.newDocumentOptions;if(!o)return e;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(uc(o)));return o(e,n)},d2n=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.file)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(uc(i)))},f2n=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.image)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(uc(i)))},h2n=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_languageFilter;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(uc(o)))},p2n=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.inspectors;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(uc(o)))},m2n=e=>{const{config:t,context:n,initialValue:r}=e;return FP(t,[]).reduce((s,a)=>{let{config:l}=a;var u,d;const f=(d=(u=l.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="function")return f(n);if(typeof f=="boolean")return f;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(uc(f)))},r)};class epe extends Error{constructor(t){let{propertyName:n,path:r,cause:o}=t;const i=xt(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(i)),this.propertyName=n,this.cause=o,this.path=r}}function Ra(e){let{config:t,context:n,initialValue:r,propertyName:o,...i}=e;const s=FP(t,[]);if("reducer"in i)return s.reduce((l,u)=>{let{config:d,path:f}=u;try{return i.reducer(l,d,n)}catch(p){throw new epe({propertyName:o,path:f,cause:p})}},r);const a=i.asyncReducer;return(async()=>{let l=r;for(const{config:u,path:d}of s)try{l=await a(l,u,n)}catch(f){throw new epe({propertyName:o,path:d,cause:f})}return l})()}class Xa extends Error{constructor(t){let{causes:n,name:r,type:o}=t;const i=n.filter(Boolean).map(s=>xt(s)&&typeof(s==null?void 0:s.message)=="string"?s.message:String(s));super("Could not resolve ".concat(o).concat(r?" `".concat(r,"`"):"",`:
`).concat(i.map(s=>"	- ".concat(s)).join(`
`),`

`)),this.name=r,this.causes=n,this.type=o}}class SH extends Error{constructor(t){super("SchemaError"),this.schema=t}}var tpe=Object.freeze,g2n=Object.defineProperty,v2n=(e,t)=>tpe(g2n(e,"raw",{value:tpe(t||e.slice())})),npe;function rpe(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const y2n=$.text(npe||(npe=v2n([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),e=>{let{theme:t}=e;return t.sanity.fonts.heading.family},e=>{let{theme:t}=e;return t.sanity.fonts.heading.weights.bold});function b2n(e,t){const n=rpe("".concat(e," ").concat(t)),r=fxe.filter(m=>m!=="gray"),o=r[Math.floor(n*r.length)],i=["300","400","500","600","700"],s=rpe(n.toString()),a=i[Math.floor(s*i.length)],l=fe[o][a].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=DIe(l,.4),f=hGt(l,.4),p=dne(l,"readable",d)?dne(l,"readable",f)?mGt(l):f:d;return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[c.jsx("rect",{width:32,height:32,rx:2,fill:l}),c.jsx(y2n,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:u})]})}const x2n=e=>e.severity==="error";function w2n(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return ic.isValidElementType(e)?h.createElement(e):h.isValidElement(e)?e:b2n(t,n)}const q$=new WeakMap;function C2n(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new Xa({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=k2n(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{V2n({workspaces:r})}catch(i){throw new Xa({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(q$.has(i))return q$.get(i);const{unstable_sources:s=[],...a}=i,u=[a,...s].map(p=>{const{projectId:m,dataset:v}=p;let g;try{g=Ra({propertyName:"schema.types",config:p,context:{projectId:m,dataset:v},initialValue:[],reducer:o2n})}catch(_){throw new Xa({name:p.name,type:"source",causes:[_]})}const y=Cin({name:p.name,types:g}),x=y._validation,b=x==null?void 0:x.filter(_=>_.problems.some(x2n));if(x&&(b!=null&&b.length))throw new SH(y);const w=_2n(p),C=w.state.pipe(le(_=>{let{client:S,authenticated:E,currentUser:j}=_;return E2n({config:p,client:S,currentUser:j,schema:y,authenticated:E,auth:w})}),Mo(1));return{name:p.name,projectId:p.projectId,dataset:p.dataset,title:p.title||pn(p.name),auth:w,schema:y,source:C}}),d=a.title||pn(a.name),f={type:"workspace-summary",auth:u[0].auth,basePath:j2n(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:w2n(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||fh,title:d,subtitle:a.subtitle,__internal:{sources:u}};return q$.set(i,f),f})}}function _2n(e){if(son(e.auth))return e.auth;const t=e.unstable_clientFactory||gje,{projectId:n,dataset:r,apiHost:o}=e;return ion({apiHost:o,...e.auth,clientFactory:t,dataset:r,projectId:n})}function S2n(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:o,requestTagPrefix:i="sanity.studio"}=n.config(),s="".concat(o.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(s,"?tag=").concat(i),l=t.token?{token$:t.token}:{};return P_t(a,l)}function E2n(e){let{config:t,client:n,currentUser:r,schema:o,authenticated:i,auth:s}=e;var a,l,u,d;const{dataset:f,projectId:p}=t,m=S2n(n,s),v=[],g={},y=T=>{if(!T||!T.apiVersion)throw new Error("Missing required `apiVersion` option");return g[T.apiVersion]||(g[T.apiVersion]=n.withConfig(T)),g[T.apiVersion]},x={client:n,getClient:y,currentUser:r,dataset:f,projectId:p,schema:o},b=n;x.client=[...Object.keys(n),...Object.keys(b.__proto__)].reduce((T,A)=>{const D=Object.hasOwnProperty.call(n,A)?b[A]:b.__proto__[A];return Object.defineProperty(T,A,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),D}})},{});let w;try{w=Ra({config:t,context:x,propertyName:"schema.templates",reducer:a2n,initialValue:o.getTypeNames().filter(T=>!/^sanity\./.test(T)).map(T=>o.get(T)).filter(_o).filter(T=>{var A;return((A=T.type)==null?void 0:A.name)==="document"}).map(T=>({id:T.name,schemaType:T.name,title:T.title||T.name,icon:T.icon,value:T.initialValue||{_type:T.name}}))})}catch(T){throw new Xa({name:t.name,type:"source",causes:[T]})}let C;try{C=Ra({config:t,context:x,initialValue:[],propertyName:"tools",reducer:s2n})}catch(T){throw new Xa({name:t.name,type:"source",causes:[T]})}if(C.some(T=>{let{name:A}=T;return A==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const _=w.filter(T=>{var A;return!((A=T.parameters)!=null&&A.length)}).map(T=>({templateId:T.id,description:T.description,icon:T.icon,title:T.title})),S=w.reduce((T,A)=>(T.set(A.id,A),T),new Map),E=T=>{const{schemaType:A}=T,D=Ra({config:t,context:{...x,creationContext:T},initialValue:_,propertyName:"document.resolveNewDocumentOptions",reducer:u2n}),P=[];if(P.length)throw new Xa({name:t.name,type:"source",causes:P});return D.map((I,R)=>{const O=S.get(I.templateId);if(!O)throw new Error("Could not find template with ID `".concat(I.templateId,"`"));const V=o.get(O.schemaType);if(!V)throw new Error("Could not find matching schema type `".concat(O.schemaType,"` for template `").concat(O.id,"`"));const B=I.title||O.title,H=(V==null?void 0:V.title)===B||V==null?void 0:V.title;return{id:"".concat(I.templateId,"-").concat(R),templateId:I.templateId,type:"initialValueTemplateItem",title:B,subtitle:I.subtitle||H,description:I.description||O.description,icon:I.icon||O.icon||(V==null?void 0:V.icon),initialDocumentId:I.initialDocumentId,parameters:I.parameters,schemaType:O.schemaType}}).filter(I=>{var R;return!A||T.type==="document"?!0:A===((R=S.get(I.templateId))==null?void 0:R.schemaType)})};let j;try{j=E({type:"global"})}catch(T){v.push(T)}if(v.length)throw new Xa({name:t.name,type:"source",causes:v});return{type:"source",name:t.name,title:t.title||pn(t.name),schema:o,getClient:y,dataset:f,projectId:p,tools:C,currentUser:r,authenticated:i,templates:w,auth:s,document:{actions:T=>Ra({config:t,context:{...x,...T},initialValue:n2n,propertyName:"document.actions",reducer:c2n}),badges:T=>Ra({config:t,context:{...x,...T},initialValue:t2n,propertyName:"document.badges",reducer:l2n}),unstable_fieldActions:T=>Ra({config:t,context:{...x,...T},initialValue:Son,propertyName:"document.unstable_fieldActions",reducer:_on}),inspectors:T=>Ra({config:t,context:{...x,...T},initialValue:hn,propertyName:"document.inspectors",reducer:p2n}),resolveProductionUrl:T=>Ra({config:t,context:{...x,...T},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:i2n}),resolveNewDocumentOptions:E,unstable_languageFilter:T=>Ra({config:t,context:{...x,...T},initialValue:r2n,propertyName:"document.unstable_languageFilter",reducer:h2n}),unstable_comments:{enabled:T=>m2n({context:T,config:t,initialValue:!1})}},form:{file:{assetSources:Ra({config:t,context:x,initialValue:[FFe],propertyName:"formBuilder.file.assetSources",reducer:d2n}),directUploads:((l=(a=t.form)==null?void 0:a.file)==null?void 0:l.directUploads)===void 0?!0:t.form.file.directUploads},image:{assetSources:Ra({config:t,context:x,initialValue:[LFe],propertyName:"formBuilder.image.assetSources",reducer:f2n}),directUploads:((d=(u=t.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:t.form.image.directUploads}},search:{filters:bCn,operators:e2n},__internal:{bifur:m,staticInitialValueTemplateItems:j,options:t}}}function k2n(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new Xa({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function j2n(e,t){const n=[e,t||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function T2n(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return h.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}),[t,n,r,o,i])}function A2n(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}}const ope=mtn.__sanityErrorChannel;function D2n(){const{push:e}=Qo();return h.useEffect(()=>{if(ope)return ope.subscribe(t=>{t.error&&(P2n(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function P2n(e){return e instanceof SH||e instanceof sV||e instanceof Xa}function Tx(){return c.jsxs(U,{as:Q,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[c.jsx(L,{muted:!0,children:"Loading…"}),c.jsx(gr,{muted:!0})]})}var ipe=Object.freeze,I2n=Object.defineProperty,n4e=(e,t)=>ipe(I2n(e,"raw",{value:ipe(t||e.slice())})),spe,ape;const O2n={error:"critical",warning:"caution"},lpe=$.code(spe||(spe=n4e([`
  && {
    background: none;
    color: inherit;
  }
`]))),$2n=$(L)(ape||(ape=n4e([`
  white-space: pre-line;
`])));function r4e(e){const{problemGroups:t}=e,n=h.useMemo(()=>{const r=[];for(const o of t)for(const i of o.problems)r.push({group:o,problem:i});return r},[t]);return c.jsx(te,{as:"ul",space:4,children:n.map((r,o)=>{let{group:i,problem:s}=r;const a=s.severity==="error",l=s.severity==="warning",u=R2n(i);return c.jsxs(Q,{border:!0,padding:4,radius:2,tone:O2n[s.severity],children:[c.jsxs(U,{children:[c.jsx(M,{marginRight:3,children:c.jsxs(L,{muted:!0,size:1,children:[a&&c.jsx(Ca,{}),l&&c.jsx(zr,{})]})}),c.jsx(M,{flex:1,children:c.jsx(L,{size:1,weight:"semibold",children:u?c.jsxs(c.Fragment,{children:[hg(u.type),' type "',u.name,'"']}):null})})]}),c.jsx(M,{marginTop:4,children:c.jsx(Q,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:c.jsx(t7,{separator:c.jsx(L,{muted:!0,size:1,children:"→"}),children:i.path.map((d,f)=>{if(d.kind==="type"){const p="".concat(M2n(d.name),":").concat(d.type);return c.jsx(L,{title:p,size:1,textOverflow:"ellipsis",children:c.jsx(lpe,{children:p})},f)}return d.kind==="property"?c.jsx(L,{title:d.name,size:1,textOverflow:"ellipsis",children:c.jsx(lpe,{children:d.name})},f):null})})})}),c.jsx(M,{as:"ul",marginTop:4,children:c.jsx(M,{as:"li",children:c.jsxs(te,{space:3,children:[c.jsx($2n,{muted:!0,size:1,children:s.message}),s.helpId&&c.jsx(L,{muted:!0,size:1,children:c.jsx("a",{href:SB(s.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation →"})})]})})})]},o)})})}function R2n(e){const t=e.path[0];return t.kind==="type"?{name:t.name,type:t.type}:null}function M2n(e){if(e!=null&&e.startsWith("<unnamed_type_@_index")){const t=e.slice(1,-1).split("_");return"[".concat(t[4],"]")}return e}function F2n(e){return e.map(t=>t.kind==="type"?"".concat(t.name||"<unnamed>","(").concat(t.type,")"):t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function L2n(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(o=>o.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed("⚠️ Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const o=F2n(r.path);console.group("%cAt ".concat(o),"color: #FF7636"),r.problems.forEach(i=>{console.log(i.message)}),console.groupEnd()}),console.groupEnd())}function B2n(e){let{schema:t}=e;var n;const r=((n=t._validation)==null?void 0:n.filter(o=>o.problems.some(i=>i.severity==="error")))||[];return h.useEffect(()=>L2n(t),[t]),c.jsx(Q,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:c.jsx(oo,{width:1,children:c.jsxs(te,{space:5,children:[c.jsx(Xo,{as:"h1",children:"Schema errors"}),c.jsx(r4e,{problemGroups:r})]})})})}function N2n(e){return c.jsx(Q,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:c.jsx(U,{direction:"row",justify:"center",flex:1,align:"center",children:c.jsxs(te,{space:4,children:[c.jsx(Xo,{as:"h1",children:"Workspace not found"}),c.jsx(Zt,{children:c.jsx(oe,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const o4e=h.createContext(null),i4e=h.createContext(null);function z2n(e){let{config:t,children:n,basePath:r}=e;const{workspaces:o}=h.useMemo(()=>C2n(t,{basePath:r}),[t,r]);return c.jsx(i4e.Provider,{value:o,children:n})}function Rb(e,t){let{name:n,title:r}=e;return typeof n=="string"&&n.trim().length>0?n:KL(r,t)}function KL(e,t){const n=typeof e=="string"&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function k_(){const e=h.useContext(i4e);if(!e)throw new Error("Could not find `workspaces` context");return e}class Lc extends Error{constructor(t,n){super(t),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&Rb(n.workspace,n.index)}}function V2n(e){let{workspaces:t}=e;if(t.length===0)throw new Lc("At least one workspace is required.");H2n(t),U2n(t)}function H2n(e){const t=e.length===1,n=new Map;e.forEach((r,o)=>{const{name:i,title:s}=r,a=KL(s,o);if(!i&&!t)throw new Lc("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:o});const l=t&&typeof i>"u"?"default":i;if(typeof l!="string")throw new Lc("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:r,index:o});const u=l.toLowerCase(),d=n.get(u);if(d){const f=KL(d.workspace.title,d.index);throw new Lc("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(l,"`"),{workspace:r,index:o})}if(n.set(u,{index:o,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(l))throw new Lc("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(l,"`"),{workspace:r,index:o})})}function U2n(e){e.length>1&&e.every(W2n),e.every(Y2n);const[t,...n]=e,r=(t.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((i,s)=>{const a=(i.basePath||"/").substring(1).split("/").length;if(r!==a)throw new Lc("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(Rb(t,s),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(t.basePath,"` but workspace `").concat(Rb(i,s),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(i.basePath,"`"),{workspace:i,index:s})});const o=new Map;e.forEach((i,s)=>{const a=(i.basePath||"").toLowerCase(),l=o.get(a);if(l)throw new Lc("`basePath`s must be unique. Workspaces `".concat(l,"` and ")+"`".concat(Rb(i,s),"` both have the `basePath` `").concat(a,"`"),{workspace:i,index:s});o.set(a,Rb(i,s))})}function W2n(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new Lc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new Lc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function Y2n(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new Lc("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}function q2n(e){let{pathname:t,workspaces:n,basePathRegex:r}=e;const[o]=n;for(const{workspace:i,basePath:s,basePathRegex:a}of n)if(a.test(t)||s==="/")return{type:"match",workspace:i};return t==="/"?{type:"redirect",pathname:o.basePath}:r.test(t)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function G2n(e){const n=e.map(o=>o.basePath.substring(1).split("/")).reduce((o,i)=>{for(let s=0;s<o.length;s++){const a=o[s],l=i[s].toLowerCase();if(a!==l)return o.slice(0,s)}return o});function r(o){let[i,...s]=o;return i?"(\\/".concat(AB(i)).concat(r(s),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function K2n(e){return h.useMemo(()=>Z2n(e),[e])}function Z2n(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp("^".concat(AB(n),"(\\/|$)"),"i")}})}function X2n(e,t){const n=K2n(t),r=h.useMemo(()=>G2n(n),[n]),[o]=h.useState(()=>e.location.pathname),i=h.useMemo(()=>({subscribe:s=>e.listen(s),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>o,selector:s=>q2n({basePathRegex:r,pathname:s,workspaces:n}),isEqual:(s,a)=>{if(s.type!==a.type)return!1;switch(s.type){case"match":return s.workspace===a.workspace;case"redirect":return s.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(s.type))}}}),[r,e,o,n]);return TB.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,i.isEqual)}const s4e=h.createContext(null);function Q2n(e){let{children:t,history:n}=e;return c.jsx(s4e.Provider,{value:n,children:t})}function J2n(){const e=h.useContext(s4e);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const eSn=h.memo(function(t){let{children:n,history:r,activeWorkspace:o,setActiveWorkspace:i}=t;const s=h.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:i}),[o,i]);return c.jsx(o4e.Provider,{value:s,children:c.jsx(Q2n,{history:r,children:n})})}),tSn=()=>typeof document>"u"?sPt():iPt();function nSn(e){let{children:t,LoadingComponent:n,NotFoundComponent:r,unstable_history:o}=e;const i=k_(),s=h.useMemo(()=>o||tSn(),[o]),a=h.useCallback(d=>{const f=i.find(p=>p.name===d);f&&s.push(f.basePath)},[s,i]),l=h.useCallback(()=>{a(i[0].name)},[a,i]),u=X2n(s,i);switch(h.useEffect(()=>{u.type==="redirect"&&s.replace(u.pathname)},[s,u]),u.type){case"match":return c.jsx(eSn,{activeWorkspace:u.workspace,history:s,setActiveWorkspace:a,children:t});case"redirect":return c.jsx(n,{});case"not-found":return c.jsx(r,{onNavigateToDefaultWorkspace:l});default:throw new Error("Unknown type: ".concat(u.type))}}function ey(){const e=h.useContext(o4e);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}var cpe=Object.freeze,rSn=Object.defineProperty,oSn=(e,t)=>cpe(rSn(e,"raw",{value:cpe(t||e.slice())})),upe;const dpe={"logged-in":"","logged-out":"Signed out","no-access":""},iSn=$(Q)(upe||(upe=oSn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),fpe=e=>{if(ic.isValidElementType(e))return h.createElement(e);if(h.isValidElement(e))return e};function ZL(e){const{state:t,subtitle:n,selected:r,title:o,icon:i,iconRight:s}=e,a=h.useMemo(()=>fpe(i),[i]),l=h.useMemo(()=>fpe(s),[s]);return c.jsxs(U,{align:"center",flex:"none",gap:3,children:[c.jsx(iSn,{radius:2,tone:"transparent",children:a}),c.jsxs(te,{flex:1,space:2,children:[c.jsx(L,{textOverflow:"ellipsis",weight:"medium",children:o}),n&&c.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&dpe[t]&&c.jsx(M,{paddingLeft:1,children:c.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:dpe[t]})}),(r||l)&&c.jsxs(U,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&c.jsx(L,{children:c.jsx(fa,{})}),l&&c.jsx(L,{muted:!0,children:l})]})]})}const a4e=Vh(e=>Go(e.map(t=>t.auth.state.pipe(le(n=>[t.name,n])))).pipe(le(t=>Object.fromEntries(t)))),sSn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var hpe=Object.freeze,aSn=Object.defineProperty,lSn=(e,t)=>hpe(aSn(e,"raw",{value:hpe(t||e.slice())})),ppe;const mpe=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],cSn=$(L)(ppe||(ppe=lSn([`
  a {
    color: inherit;
  }
`])));function gpe(e){const{children:t,footer:n,header:r}=e;return c.jsxs(te,{space:6,children:[c.jsx(Q,{border:!0,radius:3,overflow:"auto",children:c.jsxs(te,{children:[typeof r=="object"&&c.jsx(M,{children:r}),typeof r=="string"&&c.jsx(M,{paddingY:4,children:c.jsx(Xo,{align:"center",size:1,children:r})}),c.jsx(M,{paddingX:1,children:c.jsx(Q,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&c.jsx(M,{children:n})]})}),c.jsxs(U,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[c.jsx(L,{size:3,children:c.jsx(kZt,{})}),c.jsx(U,{align:"center",gap:2,children:mpe.map((o,i)=>c.jsxs(ne.Fragment,{children:[c.jsx(cSn,{muted:!0,size:1,children:c.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),i<mpe.length-1&&c.jsx(L,{size:1,muted:!0,children:"•"})]},o.title))})]})]})}function uSn(){var e;const t=k_(),{activeWorkspace:n,setActiveWorkspace:r}=ey(),[o]=a4e(t),[i,s]=h.useState((n==null?void 0:n.name)||null),a=t.length===1?t[0]:t.find(d=>d.name===i),l=(e=a==null?void 0:a.auth)==null?void 0:e.LoginComponent,u=h.useCallback(()=>s(null),[]);return o?l&&a?c.jsxs(te,{space:2,children:[t.length>1&&c.jsx(U,{children:c.jsx(oe,{fontSize:1,icon:dC,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),c.jsx(gpe,{header:c.jsx(M,{padding:3,children:c.jsx(ZL,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:c.jsx(te,{padding:2,paddingBottom:3,paddingTop:4,children:h.createElement(l,{...Hi(a,["type","__internal"]),key:i})})})]}):c.jsx(gpe,{header:"Choose your workspace",footer:c.jsx(te,{padding:1,children:c.jsx(oe,{as:"a",href:sSn,icon:Ro,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:c.jsx(te,{space:1,paddingX:1,paddingY:2,children:t.map(d=>{const p=o[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",m=()=>{p==="logged-in"&&d.name!==n.name&&r(d.name),p==="logged-out"&&s(d.name)};return c.jsx(Q,{as:"button",radius:2,padding:2,onClick:m,children:c.jsx(ZL,{icon:d==null?void 0:d.icon,iconRight:Jc,state:p,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):c.jsx(Tx,{})}const LP=h.createContext(null),BP=h.createContext(null);function l4e(){return btt()?"dark":"light"}function c4e(e){let{children:t,scheme:n}=e;const r=l4e(),o=n==="system"?r:n;return c.jsx(Xk,{scheme:o,theme:fh,children:t})}const vpe="sanityStudio:ui:colorScheme";function dSn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return r?c.jsx(hSn,{scheme:r,onSchemeChange:n,children:t}):c.jsx(fSn,{onSchemeChange:n,children:t})}function fSn(e){let{children:t,onSchemeChange:n}=e;const r=h.useMemo(()=>{let i;const s=new Set;return{subscribe:a=>(i||(i=ype(localStorage.getItem(vpe))||"system"),s.add(a),()=>{s.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=ype(a);for(const l of s)l()},getServerSnapshot:()=>"system"}},[]),o=h.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return h.useEffect(()=>{typeof n=="function"&&n(o),localStorage.setItem(vpe,o)},[n,o]),c.jsx(BP.Provider,{value:r.setSnapshot,children:c.jsx(LP.Provider,{value:o,children:c.jsx(c4e,{scheme:o,children:t})})})}function ype(e){switch(e){case"dark":case"light":return e;default:return"system"}}function hSn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return c.jsx(BP.Provider,{value:typeof n=="function"?n:!1,children:c.jsx(LP.Provider,{value:r,children:c.jsx(c4e,{scheme:r,children:t})})})}function EH(){const e=h.useContext(BP);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function u4e(){const e=h.useContext(LP);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function d4e(){const e=u4e(),t=l4e();return e==="system"?t:e}function uu(){const e=d4e(),t=EH();return h.useMemo(()=>({scheme:e,setScheme:t}),[e,t])}function f4e(e){const t=u4e();return h.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:t==="system",onSelect:()=>e("system"),icon:Sxe},{title:"Dark",name:"dark",label:"Use dark appearance",selected:t==="dark",onSelect:()=>e("dark"),icon:i8},{title:"Light",name:"light",label:"Use light appearance",selected:t==="light",onSelect:()=>e("light"),icon:c8}],[t,e])}var bpe=Object.freeze,pSn=Object.defineProperty,mSn=(e,t)=>bpe(pSn(e,"raw",{value:bpe(t||e.slice())})),xpe;const gSn=$(zt)(xpe||(xpe=mSn([`
  max-width: 350px;
  min-width: 250px;
`]))),wpe="Select workspace";function h4e(e){const{collapsed:t=!1}=e,[n,r]=h.useState(!1),{scheme:o}=uu(),i=k_(),{activeWorkspace:s,setActiveWorkspace:a}=ey(),[l]=a4e(i),{navigateUrl:u}=oc(),d=h.useCallback(()=>r(!0),[]),f=h.useCallback(()=>r(!1),[]),p=h.useMemo(()=>({constrainSize:!0,scheme:o,portal:!0}),[o]),m=n||!t,v=t?wpe:void 0,g=t?void 0:wpe;return c.jsx(it,{content:c.jsx(M,{padding:2,children:c.jsx(L,{size:1,children:"Select workspace"})}),disabled:m,placement:"bottom",portal:!0,scheme:o,children:c.jsx(te,{children:c.jsx(rn,{button:c.jsx(oe,{icon:rc,mode:"bleed",text:g,disabled:!l,"aria-label":v,justify:t?void 0:"flex-start"}),id:"workspace-menu",menu:c.jsxs(gSn,{children:[c.jsx(M,{paddingX:3,paddingY:3,children:c.jsx(Ut,{size:1,muted:!0,children:"Workspaces"})}),l&&i.map(y=>{const b=l[y.name].authenticated?"logged-in":y.auth.LoginComponent?"logged-out":"no-access",w=()=>{b==="logged-in"&&y.name!==s.name&&a(y.name),b==="logged-out"&&u({path:y.basePath})};return c.jsx(Ne,{onClick:w,padding:2,pressed:y.name===s.name,children:c.jsx(ZL,{icon:y==null?void 0:y.icon,selected:y.name===s.name,state:b,subtitle:y==null?void 0:y.subtitle,title:(y==null?void 0:y.title)||y.name})},y.name)})]}),onClose:f,onOpen:d,popover:p})})})}function p4e(){return c.jsx(Q,{height:"fill",overflow:"auto",children:c.jsx(U,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:c.jsx(oo,{width:0,children:c.jsx(uSn,{})})})})}function vSn(){return c.jsx(c.Fragment,{children:"TODO: implement config errors screen"})}function m4e(){const[e,t]=h.useState(null),[n,r]=h.useState(null);if(n)throw n;const{activeWorkspace:o}=ey(),i=h.useCallback(()=>{var l,u;(u=(l=o.auth).logout)==null||u.call(l)},[o]);h.useEffect(()=>{const l=o.auth.state.subscribe({next:u=>{let{currentUser:d}=u;t(d)},error:r});return()=>{l.unsubscribe()}},[o]);const s=x$e(e==null?void 0:e.provider),a=s?" through ".concat(s):"";return c.jsx(Q,{height:"fill",children:c.jsx(Wi,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:c.jsx(te,{paddingX:3,paddingY:2,children:c.jsx(oe,{text:"Sign out",onClick:i})}),children:c.jsxs(te,{paddingX:4,paddingY:5,space:4,children:[c.jsx(L,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),c.jsxs(L,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",c.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),a,"."]})]})})})}var Cpe=Object.freeze,ySn=Object.defineProperty,bSn=(e,t)=>Cpe(ySn(e,"raw",{value:Cpe(t||e.slice())})),_pe;const xSn=$.label(_pe||(_pe=bSn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function wSn(e){const{projectId:t}=e,n=window.location.origin,r=h.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(t,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",n),o.searchParams.set("credentials",""),o.toString()},[n,t]);return h.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),c.jsx(Q,{height:"fill",children:c.jsx(Wi,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:c.jsxs(te,{paddingX:4,paddingY:5,space:4,children:[c.jsxs(L,{children:["To access your content, you need to ",c.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),c.jsx(xSn,{"aria-hidden":"true",children:"CORS URL to be added"}),c.jsx(Nr,{value:n,readOnly:!0}),c.jsx(oe,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:c.jsxs(U,{align:"center",justify:"center",gap:3,children:[c.jsx(L,{weight:"medium",children:"Continue"}),c.jsx(L,{weight:"medium",children:c.jsx(Sh,{})})]})})]})})})}function CSn(e){let{children:t,AuthenticateComponent:n=p4e,LoadingComponent:r=Tx,NotAuthenticatedComponent:o=m4e}=e;const[i,s]=h.useState(null);if(i)throw i;const[a,l]=h.useState("loading"),{activeWorkspace:u}=ey();return h.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(s)},[u.auth]),h.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:p,currentUser:m}=f;var v;if(((v=m==null?void 0:m.roles)==null?void 0:v.length)===0){l("unauthorized");return}l(p?"logged-in":"logged-out")},error:s});return()=>{d.unsubscribe()}},[u]),a==="loading"?c.jsx(r,{}):a==="unauthorized"?c.jsx(o,{}):a==="logged-out"?c.jsx(n,{}):c.jsx(c.Fragment,{children:t})}function _Sn(e){let{children:t}=e;const n=ey().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return c.jsx(BP.Provider,{value:!1,children:c.jsx(LP.Provider,{value:r,children:c.jsx(Xk,{scheme:r,theme:n,tone:"transparent",children:c.jsx(cd,{children:t})})})})}return c.jsx(Xk,{theme:n,tone:"transparent",children:c.jsx(cd,{children:t})})}function g4e(e){let{children:t,heading:n="An error occured"}=e;const[{error:r},o]=h.useState({error:null}),i=xt(r)&&typeof r.message=="string"&&r.message,s=xt(r)&&typeof r.stack=="string"&&r.stack,a=h.useCallback(()=>o({error:null}),[o]);return qen(a),r instanceof sV?c.jsx(wSn,{projectId:r==null?void 0:r.projectId}):r instanceof SH?c.jsx(B2n,{schema:r.schema}):r?c.jsx(Q,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:c.jsx(oo,{width:3,children:c.jsxs(te,{space:4,children:[c.jsx(Xo,{children:n}),c.jsx("div",{children:c.jsx(oe,{onClick:a,text:"Retry",tone:"default"})}),c.jsx(Q,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:c.jsxs(te,{space:4,children:[i&&c.jsx(dr,{size:1,children:c.jsxs("strong",{children:["Error: ",i]})}),s&&c.jsx(dr,{size:1,children:s})]})})]})})}):c.jsx(b1,{onCatch:o,children:t})}const SSn={toast:[100,11e3]};var Spe=Object.freeze,ESn=Object.defineProperty,v4e=(e,t)=>Spe(ESn(e,"raw",{value:Spe(t||e.slice())})),Epe,kpe;$(U)(Epe||(Epe=v4e([""])));$(M).attrs({padding:4})(kpe||(kpe=v4e([""])));function kSn(e){const{basePath:t="/",tools:n}=e,r=Pi.create("/:tool",o=>{let i=n.find(s=>s.name===o.tool);return!i&&o.tool==="desk"&&(i=n.find(s=>s.name==="structure")),i?Pi.scope(i.name,"/",i.router):Pi.create("/")});return Pi.create(t,[Pi.intents("/intent"),r])}function kH(e){const n={}.toolSwitcher||{},r=n.order||[],o=n.hidden||[];if(!r.length&&!o.length)return e;const i=e.reduce((l,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),l;if(l[u.name]){const p=l[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(p,'")')),l}const f=r.indexOf(u.name);return l[u.name]={tool:u,index:f===-1?1/0:f},l},{}),s=l=>o.indexOf(l.name)===-1,a=e.filter(s);return a.sort((l,u)=>{const d=i[l.name],f=i[u.name],p=d?d.index:1/0,m=f?f.index:1/0;return p===m?0:p-m}),a}const jSn=["template"],TSn=["mode"];function ASn(e,t){const r=kH(e)[0];return!t||t.tool||!r?t:Object.assign({},t,{tool:r.name})}function DSn(e,t){return t&&(kH(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function PSn(e,t){return ASn(e,DSn(e,t))}function ISn(e,t,n){var r;const{intent:o,params:i,payload:s}=n;if(typeof o!="string")throw new Error("intent must be a string");if(!xt(i))throw new Error("intent params must be a string");const a=kH(e),l=t!=null&&t.tool?a.find(m=>m.name===t.tool):null,u=l?a.filter(m=>m!==l):a;let d=[];o==="create"?d=jSn:o==="edit"&&(d=TSn);const f={score:-1,tool:null},{tool:p}=(l?[l,...u]:a).reduce((m,v)=>{if(!v||typeof v.canHandleIntent!="function")return m;const g=v.canHandleIntent(o,i,t&&t[v.name]);if(typeof g=="boolean")return g&&m.score<0?{score:0,tool:v}:m;if(!xt(g))return m;const y=d.reduce((x,b)=>b in i&&g[b]===!0?x+1:x,0);return y>m.score?{score:y,tool:v}:m},f);if(p!=null&&p.getIntentState){const m=p.getIntentState(o,i,t&&t[p.name],s),{_searchParams:v,...g}=m,y={...t,tool:p.name,[p.name]:g};return(r=p.router)!=null&&r.__unsafe_disableScopedSearchParams?y._searchParams=v:g._searchParams=v,{type:"state",isNotFound:!1,state:y}}return{type:"intent",isNotFound:!0,intent:{name:o,params:i}}}function OSn(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function $Sn(e){let{children:t,LoadingComponent:n,workspace:r}=e;const{basePath:o,tools:i}=r,s=J2n(),a=h.useMemo(()=>kSn({basePath:o,tools:i}),[o,i]),[l,u]=RSn(s,a,i);return l?c.jsx(q1t,{onNavigate:u,router:a,state:l,children:t}):c.jsx(n,{})}function RSn(e,t,n){var r;const o=h.useMemo(()=>{const l=t.getBasePath(),u=new RegExp("^".concat(AB(l),"(\\/|$)"),"i"),d=f=>l==="/"?!0:u.test(f);return{subscribe:f=>e.listen(f),getSnapshot:()=>e.location.pathname+e.location.search,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?OSn(t,f):null}},[e,t]),i=TB.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,Wt),s=h.useRef(i);h.useEffect(()=>{var l;if((i==null?void 0:i.type)==="state"&&!((l=i.state)!=null&&l.intent)){const u=PSn(n,i.state);u&&u!==i.state&&e.replace(t.encode(u))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),h.useEffect(()=>{const l=jpe(i,t,n,s);l?e.replace(l):s.current=i},[i,e,t,n]);const a=h.useMemo(()=>l=>{let{path:u,replace:d}=l;const f=o.selector(u),p=jpe(f,t,n,s),m=typeof p=="string"?p:u;d?e.replace(m):e.push(m)},[e,t,o,n]);return[(r=i==null?void 0:i.state)!=null?r:null,a]}function jpe(e,t,n,r){var o,i;if((e==null?void 0:e.type)==="state"&&((o=e.state)!=null&&o.intent)){const s=ISn(n,((i=r.current)==null?void 0:i.type)==="state"?r.current.state:{},e.state);if((s==null?void 0:s.type)==="state")return t.encode(s.state)}return null}function MSn(e){let{children:t,LoadingComponent:n}=e;const[r,o]=h.useState(null);if(r)throw r;const{activeWorkspace:i}=ey(),[s,a]=h.useState(null);return h.useEffect(()=>{const l=Go(i.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(Mn(f=>{if(f instanceof Xa)return ve(f);throw f}))})).pipe(le(u=>{const d=u.filter(f=>f instanceof Xa);if(d.length)throw new Xa({name:i.name,causes:d,type:"workspace"});return u}),le(u=>{let[d,...f]=u;return{...i,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:o});return()=>l.unsubscribe()},[i]),s?c.jsx(qCn,{workspace:s,children:c.jsx(yH,{source:s.unstable_sources[0],children:c.jsx($Sn,{LoadingComponent:n,workspace:s,children:t})})}):c.jsx(n,{})}function FSn(e){let{ConfigErrorsComponent:t,...n}=e;const[{error:r},o]=h.useState({error:null});if(r)throw r;return c.jsx(b1,{onCatch:o,children:c.jsx(MSn,{...n})})}bm.registerLanguage(lwt);bm.registerLanguage(_Ye);bm.registerLanguage(uwt);bm.registerLanguage(fwt);bm.registerLanguage(pwt);function LSn(e){let{children:t,config:n,basePath:r,onSchemeChange:o,scheme:i,unstable_history:s,unstable_noAuthBoundary:a}=e;const l=c.jsx(FSn,{LoadingComponent:Tx,ConfigErrorsComponent:vSn,children:c.jsx(Hrn,{children:t})});return c.jsx(dSn,{onSchemeChange:o,scheme:i,children:c.jsxs(o7,{paddingY:7,zOffset:SSn.toast,children:[c.jsx(D2n,{}),c.jsx(g4e,{children:c.jsx(z2n,{config:n,basePath:r,children:c.jsx(nSn,{unstable_history:s,NotFoundComponent:N2n,LoadingComponent:Tx,children:c.jsx(_Sn,{children:c.jsx(Con,{children:a?l:c.jsx(CSn,{LoadingComponent:Tx,AuthenticateComponent:p4e,NotAuthenticatedComponent:m4e,children:l})})})})})})]})})}function BSn(){return c.jsx(Q,{height:"fill",children:c.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(oo,{width:0,children:c.jsx(Q,{padding:4,radius:2,shadow:1,tone:"caution",children:c.jsxs(U,{children:[c.jsx(M,{children:c.jsx(L,{size:1,children:c.jsx(zr,{})})}),c.jsxs(te,{flex:1,marginLeft:3,space:3,children:[c.jsx(L,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),c.jsx(L,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),c.jsx(L,{as:"p",muted:!0,size:1,children:c.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool →"})})]})]})})})})})}function NSn(e){const{reason:t="Redirecting…"}=e;return c.jsx(Q,{height:"fill",children:c.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(oo,{width:0,children:c.jsx(Q,{padding:4,radius:2,shadow:1,tone:"primary",children:c.jsxs(U,{children:[c.jsx(M,{children:c.jsx(L,{size:1,children:c.jsx(e8,{})})}),c.jsx(te,{flex:1,marginLeft:3,space:3,children:c.jsx(L,{as:"h1",size:1,weight:"bold",children:t})})]})})})})})}function zSn(e){const{toolName:t}=e;return c.jsx(Q,{height:"fill",children:c.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(oo,{width:0,children:c.jsx(Q,{padding:4,radius:2,shadow:1,tone:"caution",children:c.jsxs(U,{children:[c.jsx(M,{children:c.jsx(L,{size:1,children:c.jsx(zr,{})})}),c.jsx(te,{flex:1,marginLeft:3,space:3,children:c.jsxs(L,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",c.jsx("code",{children:t})]})})]})})})})})}function VSn(e){const{title:t}=e;return c.jsx(M,{padding:3,children:c.jsx(L,{weight:"bold",children:t})})}var Tpe=Object.freeze,HSn=Object.defineProperty,USn=(e,t)=>Tpe(HSn(e,"raw",{value:Tpe(t||e.slice())})),Ape;const WSn=$.div(Ape||(Ape=USn([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),YSn=c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsxs("g",{clipPath:"url(#clip0)",children:[c.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),c.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),c.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),c.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),qSn=c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("g",{clipPath:"url(#clip0)",children:c.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),GSn=c.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),c.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),c.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),KSn=e=>{let{provider:t}=e;const n=t==null?void 0:t.startsWith("saml-"),r=n?"saml":t;return c.jsxs(WSn,{"data-logo":r,children:[t==="google"&&YSn,t==="github"&&qSn,t==="sanity"&&c.jsx(TZt,{}),n&&GSn]})};var Dpe=Object.freeze,ZSn=Object.defineProperty,y4e=(e,t)=>Dpe(ZSn(e,"raw",{value:Dpe(t||e.slice())})),Ppe,Ipe;const Yj=1,XSn=$(zt)(Ppe||(Ppe=y4e([`
  min-width: 200px;
  max-width: 300px;
`]))),QSn=$(M)(Ipe||(Ipe=y4e([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[Yj].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[Yj].size});function JSn(e){let{setScheme:t}=e;const n=f4e(t);return c.jsxs(c.Fragment,{children:[c.jsx(Mr,{}),c.jsx(M,{padding:2,children:c.jsx(Ut,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:l,title:u}=r;return c.jsx(Ne,{"aria-label":i,icon:o,onClick:a,pressed:l,text:u,iconRight:l&&c.jsx(fa,{})},s)})]})}function eEn(){const{currentUser:e,projectId:t,auth:n}=cc(),r=d4e(),o=EH(),i=!!(e&&n$e(e,"administrator")),s=x$e(e==null?void 0:e.provider),a=h.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return c.jsx(rn,{button:c.jsx(oe,{mode:"bleed",padding:0,paddingX:1,children:c.jsxs(U,{align:"center",gap:1,children:[c.jsx(ll,{user:"me",size:1}),c.jsx(L,{size:Yj,muted:!0,children:c.jsx(hl,{})})]})}),id:"user-menu",menu:c.jsxs(XSn,{children:[c.jsx(Q,{padding:2,children:c.jsxs(U,{align:"center",children:[c.jsx(it,{disabled:!s,portal:!0,content:s&&c.jsx(M,{padding:2,children:c.jsxs(L,{size:1,children:["Signed in with ",s]})}),children:c.jsxs(QSn,{marginRight:3,children:[c.jsx(ll,{size:Yj,user:"me"}),(e==null?void 0:e.provider)&&c.jsx(KSn,{provider:e.provider})]})}),c.jsxs(te,{space:2,flex:1,children:[c.jsx(L,{size:2,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),c.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),o&&c.jsx(JSn,{setScheme:o}),c.jsx(Mr,{}),c.jsx(Ne,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(t),target:"_blank",text:"Manage project",icon:AT}),i&&c.jsx(Ne,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(t,"/members"),target:"_blank",text:"Invite members",icon:OT}),n.logout&&c.jsxs(c.Fragment,{children:[c.jsx(Mr,{}),c.jsx(Ne,{iconRight:r8,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var Ope=Object.freeze,tEn=Object.defineProperty,nEn=(e,t)=>Ope(tEn(e,"raw",{value:Ope(t||e.slice())})),$pe;const rEn=$(M)($pe||($pe=nEn([`
  max-width: 300px;
`]))),b4e=33;function oEn(e){const{option:t,currentUser:n,onClick:r,preview:o}=e,i=h.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:s,href:a}=MC({intent:"create",params:i}),l=h.useCallback(u=>{s(u),r(t)},[s,r,t]);return c.jsx(it,{disabled:t.hasPermission,portal:!0,content:c.jsx(rEn,{padding:2,children:c.jsx(Xc,{currentUser:n,operationLabel:"create this document"})}),children:c.jsx("div",{children:c.jsx(Q,{as:t.hasPermission?"a":"button",disabled:!t.hasPermission,href:a,marginBottom:1,onClick:l,padding:o==="inline"?3:4,radius:2,children:c.jsx(L,{size:o==="inline"?1:void 0,children:t.title})})})},t.id)}var Rpe=Object.freeze,iEn=Object.defineProperty,x4e=(e,t)=>Rpe(iEn(e,"raw",{value:Rpe(t||e.slice())})),Mpe,Fpe;const G$=$(U)(Mpe||(Mpe=x4e([`
  min-height: 100px;
`]))),sEn=$.strong(Fpe||(Fpe=x4e([`
  word-break: break-all;
`])));function Lpe(e){const{currentUser:t,loading:n,onDocumentClick:r,options:o,preview:i,searchQuery:s,textInputElement:a}=e,l=o.length>0&&!n,u=h.useCallback(()=>{r()},[r]),d=h.useCallback(p=>{var m;return((m=o[p])==null?void 0:m.hasPermission)===!1},[o]),f=h.useCallback(p=>c.jsx(oEn,{currentUser:t,onClick:u,option:p,preview:i},p.id),[t,u,i]);return n?c.jsx(G$,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsxs(Zt,{space:2,children:[c.jsx(gr,{muted:!0,size:1}),c.jsx(L,{muted:!0,size:1,children:"Loading…"})]})}):!l&&s?c.jsx(G$,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsxs(L,{align:"center",muted:!0,size:1,children:["No results found for ",c.jsxs(sEn,{children:["“",s,"”"]})]})}):l?c.jsx(Hh,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:Bm?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:b4e,items:o,overscan:5,padding:i==="inline"?1:2,paddingBottom:0,renderItem:f}):c.jsx(G$,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(L,{align:"center",muted:!0,size:1,children:"No documents found"})})}function aEn(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(i=>n.includes(i))}function lEn(e,t,n){const r=t.title.toLowerCase(),o=n.title.toLowerCase(),i=e.trim().toLowerCase();return r.startsWith(i)&&!o.startsWith(i)?-1:o.startsWith(i)&&!r.startsWith(i)?1:r.includes(i)&&!o.includes(i)?-1:o.includes(i)&&!r.includes(i)?1:0}function cEn(e,t){return e.map(o=>({...o,title:(o==null?void 0:o.title)||o.id})).sort((o,i)=>o.title.localeCompare(i.title)).filter(o=>aEn(t,o)).sort((o,i)=>lEn(t,o,i))}var Bpe=Object.freeze,uEn=Object.defineProperty,kg=(e,t)=>Bpe(uEn(e,"raw",{value:Bpe(t||e.slice())})),Npe,zpe,Vpe,Hpe,Upe,Wpe,Ype;const dEn=$(nn)(()=>de(Npe||(Npe=kg([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),e=>{let{theme:t}=e;return t.sanity.radius[3]})),fEn=$(Wi)(()=>de(zpe||(zpe=kg([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),hEn=$(M)(Vpe||(Vpe=kg([`
  max-width: 300px;
`]))),qpe=$(U)(Hpe||(Hpe=kg([""]))),pEn=$(Q)(Upe||(Upe=kg([`
  min-height: max-content;
`]))),mEn=$(Q)(Wpe||(Wpe=kg([`
  min-height: max-content;
`]))),gEn=$(U)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return de(Ype||(Ype=kg([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),n,t)}),vEn=10;function yEn(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:o}=e,[i,s]=h.useState(!1),[a,l]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,v]=h.useState(null),[g,y]=h.useState(null),{scheme:x}=uu(),b=Jo(),w=o.length>0,C=!t||!w,_="Search",S="Create new document",E=h.useMemo(()=>cEn(o,a),[o,a]),j=h.useCallback(B=>{l(B.currentTarget.value)},[]),k=h.useCallback(()=>s(B=>!B),[]),T=h.useCallback(()=>{s(!1),l(""),m==null||m.focus()},[m]),A=h.useCallback(B=>{B.key==="ArrowDown"&&!i&&s(!0)},[i]),D=h.useCallback(B=>{(B.key==="Escape"||B.key==="Tab")&&i&&T()},[T,i]);pr(()=>{i&&T()},[m,f,u]);const P=h.useMemo(()=>({currentUser:b,loading:r,onDocumentClick:k,options:E,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:g}),[b,E,k,r,n,g,a]),I=h.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:ui,onChange:j,placeholder:_,ref:y}),[j,r,_,a]),R=h.useMemo(()=>({"aria-label":S,disabled:C||r,icon:Ro,mode:"bleed",onClick:k,ref:v,selected:i}),[C,k,r,i,S]),O=h.useMemo(()=>w?t?c.jsx(L,{size:1,children:"New document..."}):c.jsx(Xc,{currentUser:b,operationLabel:"create any document"}):c.jsx(L,{size:1,children:"No document types"}),[t,b,w]),V=h.useMemo(()=>({content:c.jsx(hEn,{padding:2,children:O}),disabled:r||i,placement:"bottom",portal:!0,scheme:x}),[r,i,x,O]);return n==="dialog"?c.jsxs(c.Fragment,{children:[c.jsx(it,{...V,children:c.jsx("div",{children:c.jsx(oe,{...R})})}),i&&c.jsx(fEn,{header:S,id:"create-new-document-dialog",onClickOutside:T,onClose:T,ref:p,scheme:x,width:1,children:c.jsxs(qpe,{direction:"column",flex:1,height:"fill",children:[c.jsx(mEn,{padding:2,borderBottom:!0,children:c.jsx(Nr,{...I})}),c.jsx(U,{direction:"column",overflow:"hidden",children:c.jsx(Lpe,{...P})})]})})]}):c.jsx(dEn,{constrainSize:!0,onKeyDown:D,open:i,portal:!0,radius:3,ref:d,scheme:x,content:c.jsxs(qpe,{direction:"column",flex:1,forwardedAs:$h,height:"fill",returnFocus:!0,children:[c.jsx(pEn,{sizing:"border",children:c.jsxs(te,{children:[c.jsx(M,{paddingX:3,paddingY:3,children:c.jsx(M,{paddingY:1,children:c.jsx(Ut,{size:1,muted:!0,children:S})})}),c.jsx(Q,{borderTop:!0,borderBottom:!0,padding:1,children:c.jsx(Nr,{...I,fontSize:1,radius:1})})]})}),c.jsx(gEn,{$itemHeight:b4e,$maxDisplayedItems:vEn,direction:"column",overflow:"hidden",children:c.jsx(Lpe,{...P})})]}),children:c.jsx("div",{children:c.jsx(it,{...V,children:c.jsx("div",{children:c.jsx(oe,{...R,"aria-expanded":i,"aria-haspopup":"true",onKeyDown:A})})})})})}function bEn(){const{__internal:{staticInitialValueTemplateItems:e}}=Nn(),[t,n]=NH({templateItems:e}),r=(t==null?void 0:t.some(i=>e.some(s=>s.id===i.id)))||!1,o=h.useMemo(()=>e.map(i=>{var s;return{...i,title:(i==null?void 0:i.title)||i.id,hasPermission:((s=t==null?void 0:t.find(a=>a.id===i.id))==null?void 0:s.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:o}}var Gpe=Object.freeze,xEn=Object.defineProperty,wEn=(e,t)=>Gpe(xEn(e,"raw",{value:Gpe(t||e.slice())})),Kpe;const CEn=$(Q)(Kpe||(Kpe=wEn([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),_En=h.memo(function(t){const{presence:n,focused:r,onFocus:o}=t,[i,s]=h.useState(null),a=F1(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),l=!!(a!=null&&a.documentId);h.useEffect(()=>{r&&i&&(i.focus(),i.setAttribute("data-selected","")),r||i==null||i.removeAttribute("data-selected")},[i,r]);const u=h.useCallback(()=>{o(n.user.id)},[o,n.user.id]),d=h.useMemo(()=>h.forwardRef(function(p,m){return a!=null&&a.path?c.jsx(dg,{...p,intent:"edit",params:{id:a==null?void 0:a.documentId,path:Ur(a==null?void 0:a.path)},ref:m}):null}),[a]);return c.jsx(Ne,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:l?4:3,paddingLeft:4,paddingRight:3,ref:s,children:c.jsxs(U,{align:"center",children:[c.jsx(CEn,{children:c.jsx(ll,{size:1,user:n.user,status:l?"editing":"inactive"},n.user.id)}),c.jsxs(te,{space:2,marginLeft:4,children:[c.jsx(L,{textOverflow:"ellipsis",children:n.user.displayName}),!l&&c.jsx(L,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var Zpe=Object.freeze,SEn=Object.defineProperty,jH=(e,t)=>Zpe(SEn(e,"raw",{value:Zpe(t||e.slice())})),Xpe,Qpe,Jpe;const EEn=4,kEn=$(Q)(Xpe||(Xpe=jH([`
  background: transparent;
`]))),jEn=$(zt)(Qpe||(Qpe=jH([`
  max-width: 350px;
  min-width: 250px;
`]))),TEn=$(te)(Jpe||(Jpe=jH([`
  position: sticky;
  bottom: 0;
`])));function AEn(e){const{collapse:t}=e,n=VAn(),{projectId:r}=cc(),{scheme:o}=uu(),i=n.length>0,[s,a]=h.useState(),l=h.useCallback(p=>{a(p)},[]),u=h.useCallback(()=>{a("")},[]),d=h.useMemo(()=>t?c.jsx(Uh,{icon:OT,mode:"bleed",tone:i?"positive":void 0}):c.jsx(oe,{mode:"bleed",padding:1,children:c.jsx(kEn,{children:c.jsx(cA,{maxLength:EEn,"aria-label":"Who is here",children:n.map(p=>c.jsx(ll,{user:p.user},p.user.id))})})}),[t,i,n]),f=h.useMemo(()=>({constrainSize:!0,portal:!0,scheme:o}),[o]);return c.jsx(rn,{button:d,id:"global-presence-menu",onClose:u,menu:c.jsxs(jEn,{padding:1,children:[i&&c.jsx(te,{children:n.map(p=>c.jsx(_En,{focused:s===p.user.id,onFocus:l,presence:p},p.user.id))}),!i&&c.jsx(M,{paddingX:3,paddingY:4,children:c.jsxs(te,{space:3,children:[c.jsx(L,{weight:"semibold",size:2,children:"No one else is here"}),c.jsx(L,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),c.jsxs(TEn,{space:1,children:[c.jsx(Mr,{}),c.jsx(Ne,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:AT,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var eme=Object.freeze,DEn=Object.defineProperty,TH=(e,t)=>eme(DEn(e,"raw",{value:eme(t||e.slice())})),tme,nme,rme;const ome={duration:.2},PEn={open:{opacity:1},closed:{opacity:0}},IEn={open:{x:"0%"},closed:{x:"-100%"}},OEn=$(hs)(tme||(tme=TH([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),$En=$(zh(Q))(nme||(nme=TH([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),REn=$(zh(Q))(rme||(rme=TH([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function MEn(e){let{setScheme:t}=e;const n=f4e(t);return c.jsx(c.Fragment,{children:c.jsxs(Q,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[c.jsx(M,{padding:2,children:c.jsx(Ut,{size:1,muted:!0,children:"Appearance"})}),c.jsx(te,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:l,title:u}=r;return c.jsx(te,{as:"li",children:c.jsx(oe,{"aria-label":i,icon:o,iconRight:l&&c.jsx(fa,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:l,text:u})},s)})})]})})}const FEn=h.memo(function(t){const{activeToolName:n,isOpen:r,onClose:o,tools:i}=t,s=EH(),{auth:a,currentUser:l,projectId:u}=cc(),d=k_(),f=N4e(),p=!!(l&&n$e(l,"administrator")),m=h.useCallback(v=>{v.key==="Escape"&&o()},[o]);return c.jsx(Z3e,{children:r&&c.jsx($h,{autoFocus:!0,returnFocus:!0,children:c.jsxs(OEn,{onKeyDown:m,children:[c.jsx($En,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:o,transition:ome,variants:PEn}),c.jsxs(REn,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:ome,variants:IEn,children:[c.jsx(Q,{borderBottom:!0,children:c.jsxs(te,{space:3,padding:3,children:[c.jsxs(U,{align:"center",children:[c.jsx(U,{flex:1,align:"center",paddingRight:2,children:c.jsxs(U,{flex:1,align:"center",children:[c.jsx(M,{children:c.jsx(ll,{size:1,user:"me"})}),c.jsx(M,{flex:1,marginLeft:2,title:(l==null?void 0:l.name)||(l==null?void 0:l.email),children:c.jsx(L,{textOverflow:"ellipsis",children:(l==null?void 0:l.name)||(l==null?void 0:l.email)})})]})}),c.jsx(M,{children:c.jsx(oe,{icon:Bi,mode:"bleed",onClick:o,title:"Close menu"})})]}),d.length>1&&c.jsx(h4e,{})]})}),c.jsxs(U,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[c.jsx(Q,{flex:"none",padding:3,children:c.jsx(f,{activeToolName:n,closeSidebar:o,context:"sidebar",isSidebarOpen:r,tools:i})}),c.jsxs(U,{direction:"column",children:[s&&c.jsx(MEn,{setScheme:s}),c.jsx(Q,{borderTop:!0,flex:"none",padding:3,children:c.jsxs(te,{as:"ul",space:1,children:[c.jsx(te,{as:"li",children:c.jsx(oe,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:AT,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),p&&c.jsx(te,{as:"li",children:c.jsx(oe,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:OT,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&c.jsx(Q,{flex:"none",padding:3,borderTop:!0,children:c.jsx(te,{children:c.jsx(oe,{iconRight:r8,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function LEn(){var e;const n=((e=An()._validation)==null?void 0:e.filter(f=>f.problems.some(p=>p.severity==="warning")))||[],{scheme:r}=uu(),o=h.useId(),[i,s]=h.useState(!1),[a,l]=h.useState(null),u=h.useCallback(()=>s(!0),[]),d=h.useCallback(()=>{s(!1),a&&a.focus()},[a]);return n.length===0?null:c.jsxs(c.Fragment,{children:[c.jsx(Uh,{icon:zr,label:"Found configuration issues",mode:"bleed",onClick:u,ref:l,selected:i,tone:"caution",tooltip:{scheme:r}}),i&&c.jsx(Wi,{header:c.jsxs(te,{space:3,children:[c.jsx(L,{weight:"semibold",children:"Configuration issues"}),c.jsx(L,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:o,children:c.jsxs(te,{space:4,padding:4,children:[c.jsxs(Xo,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),c.jsx(r4e,{problemGroups:n})]})})]})}function ime(e){const{title:t,children:n,href:r,onClick:o}=e;return c.jsx(oe,{"aria-label":t,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:o,padding:0,children:n})}const BEn=Ti("mod+".concat(HFe)),NEn=Ti("escape");function zEn(e){let{open:t,onClose:n,onOpen:r}=e;const{isTopLayer:o}=Ea(),i=h.useCallback(()=>{n==null||n()},[n]),s=h.useCallback(a=>{BEn(a)&&(a.preventDefault(),t?i():r==null||r()),NEn(a)&&t&&o&&i()},[i,o,t,r]);Ns(s)}function w4e(e){let{children:t,hasValidTerms:n,onClose:r,onOpen:o,open:i}=e;const s=h.useRef(!1),{dispatch:a,searchCommandList:l,setOnClose:u,state:{result:d}}=$t(),f=h.useCallback(()=>{var p;a({index:(p=l==null?void 0:l.getTopIndex())!=null?p:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,l]);return zEn({onClose:f,onOpen:o,open:i}),h.useEffect(()=>{u(f)},[f,u]),h.useEffect(()=>{(!n||d.loaded)&&s.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),h.useEffect(()=>{!n&&s.current&&!i&&a({type:"ORDERING_RESET"})},[a,n,i]),h.useEffect(()=>{s!=null&&s.current||(s.current=!0)},[]),i?c.jsx("div",{children:t}):null}function VEn(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function xh(e,t){return t?e[t]:void 0}function HEn(e,t){var n;return(n=xh(e,t))==null?void 0:n.initialValue}function XL(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function sp(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:o}=e;return r.filter(i=>j_({filter:i,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:o})).map(i=>{var s;return(s=xh(o,i.operatorType))==null?void 0:s.groqFilter({fieldPath:UEn({filter:i,fieldDefinitions:t,filterDefinitions:n}),value:i==null?void 0:i.value})}).filter(i=>!MPt(i)).filter(_o).join(" && ")}function Ed(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function is(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function ap(e){let{fieldDefinitions:t,filters:n,types:r}=e;const o=r.map(l=>l.name),i=Object.values(t).filter(l=>n.map(u=>u==null?void 0:u.fieldId).includes(l.id)).filter(l=>l.documentTypes.length>0).map(l=>l.documentTypes),s=c5(...i),a=[];return o.length>0&&a.push(o),s.length>0&&a.push(s),c5(...a).sort()}function UEn(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e;const o=Ed(n,t),i=qh(r,t.filterName);if(i)switch(i.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function j_(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:o}=e;const i=qh(n,t.filterName),s=xh(o,t.operatorType),a=Ed(r,t);return!(!i||!s||t.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!t.fieldId||!s.groqFilter({fieldPath:a.fieldPath,value:t.value}))||i.type==="pinned"&&!s.groqFilter({fieldPath:i.fieldPath,value:t.value}))}var sme=Object.freeze,WEn=Object.defineProperty,YEn=(e,t)=>sme(WEn(e,"raw",{value:sme(t||e.slice())})),ame;const qEn=Ti("escape"),GEn=500,KEn=$.div(ame||(ame=YEn([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function AH(e){let{anchorElement:t,children:n,onClose:r}=e;const{isTopLayer:o}=Ea(),i=h.useCallback(a=>{qEn(a)&&o&&r()},[o,r]);Ns(i);const s=ZEn(t||null);return c.jsxs(c.Fragment,{children:[c.jsx(KEn,{onClick:r}),c.jsx($h,{autoFocus:!1,returnFocus:!0,children:c.jsx(Q,{display:"flex",overflow:"hidden",radius:J1,style:{maxHeight:"min(calc(100vh - ".concat(s,"px - ").concat(E_,"px - ").concat(qw,"px), ").concat(GEn,"px"),zIndex:1},children:c.jsx(U,{children:n})})})]})}function K$(e){const t=e.getBoundingClientRect();return t.y+t.height+E_}function ZEn(e){const[t,n]=h.useState(e&&K$(e)),r=h.useCallback(()=>{e&&n(K$(e))},[e]);return h.useEffect(()=>{e&&n(K$(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}var lme=Object.freeze,XEn=Object.defineProperty,C4e=(e,t)=>lme(XEn(e,"raw",{value:lme(t||e.slice())})),cme,ume;const QEn=$(M)(cme||(cme=C4e([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border}),JEn=$(U)(ume||(ume=C4e([`
  box-sizing: border-box;
`]))),_4e=h.forwardRef(function(t,n){let{ariaInputLabel:r,onChange:o,onClear:i,typeFilter:s}=t;const{state:{fullscreen:a}}=$t();return c.jsx(QEn,{children:c.jsx(JEn,{align:"center",flex:1,padding:1,children:c.jsx(_H,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!s,fontSize:a?2:1,icon:ui,muted:!0,onChange:o,onClear:i,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:s})})})});function ekn(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:o,titleFilter:i,types:s}=e;const a=Object.values(n).filter(u=>okn(u,i)).map(u=>{const d=qh(r,u.filterName);return d?XL(d,u.id):null}).filter(_o),l=nkn({fieldDefinitions:n,filterDefinitions:r,titleFilter:i});return t.length===0?[...l,...Gw({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...l,...tkn({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:o,types:s})]}function Gw(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:o,headerTitle:i,tone:s}=e;const a={title:i||"",tone:s||"default",type:"header"},l=r.map(u=>({fieldDefinition:Ed(t,u),filterDefinition:qh(n,u.filterName),filter:u,group:o,tone:s||"default",type:"filter"}));return l.length>0?[...i?[a]:[],...l]:[]}function tkn(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:o,schema:i,types:s}=e;const a=o.filter(d=>{const f=Ed(n,d);return akn(t,f)}),l=t.length>1&&s.length>1?Gw({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=t.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||pn(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:p}=d;const m=o.filter(v=>{const g=Ed(n,v);return rkn([f],g)});return Gw({fieldDefinitions:n,filterDefinitions:r,filters:m,id:p,headerTitle:p})}).flat();return[...l,...u]}function nkn(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e;const o=Object.values(n).filter(skn).filter(s=>dme(s,r)).map(s=>XL(s)),i=Object.values(n).filter(ikn).filter(s=>dme(s,r)).reduce((s,a)=>(s[a.group]=s[a.group]||[],s[a.group].push(XL(a)),s),{});return[...Gw({fieldDefinitions:t,filterDefinitions:n,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(s=>{let[a,l]=s;return Gw({fieldDefinitions:t,filterDefinitions:n,filters:l,headerTitle:a,id:a,tone:"primary"})})]}function rkn(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function okn(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function dme(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function ikn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function skn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function akn(e,t){return Dm(e,(t==null?void 0:t.documentTypes)||[]).length===0}function S4e(e){let{filter:t,maxLength:n}=e;const{state:{definitions:r}}=$t(),o=h.useMemo(()=>{const i=qh(r.filters,t.filterName);switch(i==null?void 0:i.type){case"field":{const s=Ed(r.fields,t);return s!=null&&s.titlePath?s.titlePath[s.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[r,t]);return o?n&&o.length>n?c.jsxs("span",{children:[o.slice(0,n),"…"]}):c.jsx("span",{children:o}):null}function lkn(e){let{filter:t}=e;var n;const{state:{definitions:r}}=$t(),o=(n=qh(r.filters,t.filterName))==null?void 0:n.icon;return o?h.createElement(o):c.jsx(zl,{})}function E4e(e){let{filter:t,small:n=!0}=e;var r;const{state:{definitions:o}}=$t(),i=Ed(o.fields,t);return c.jsxs(te,{space:n?2:3,children:[(i==null?void 0:i.titlePath)&&((r=i.titlePath)==null?void 0:r.length)>1&&c.jsx(M,{marginLeft:4,children:c.jsx(L,{muted:!0,size:n?0:1,children:i.titlePath.slice(0,-1).map((s,a)=>c.jsxs(ne.Fragment,{children:[c.jsx("span",{children:s}),a!==i.titlePath.length-2&&c.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:c.jsx(Jc,{})})]},a))})}),c.jsxs(U,{align:"flex-start",gap:3,children:[c.jsx(M,{style:{flexShrink:0},children:c.jsx(L,{size:n?1:2,children:c.jsx(lkn,{filter:t})})}),c.jsx(L,{size:n?1:2,weight:"medium",children:c.jsx(S4e,{filter:t})})]})]})}function k4e(e){return h.isValidElement(e)?ckn(SZt(e)):typeof e=="string"?e:""}function ckn(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const Z$=10;function ukn(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:o}=e;const{state:{documentTypesNarrowed:i}}=$t(),s=An(),a=h.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=s.get(u);return(d==null?void 0:d.title)||pn(d==null?void 0:d.name)}).filter(_o).sort():[],[n==null?void 0:n.documentTypes,s]),l=h.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const p=s.get(f);if(p){const m=OP(p,n.fieldPath);return(m==null?void 0:m.type.description)&&k4e(m==null?void 0:m.type.description)}return null}).filter(_o).sort(),d=wo(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,s]);return c.jsx(it,{content:c.jsx(Q,{tone:"default",radius:2,style:{maxWidth:"250px"},children:c.jsxs(te,{padding:3,space:4,children:[n&&c.jsxs(te,{space:2,children:[c.jsx(Ut,{muted:!0,size:0,children:"Field name"}),c.jsx(Zt,{children:c.jsx(Q,{tone:"caution",padding:1,radius:2,children:c.jsx(dr,{size:0,children:n==null?void 0:n.name})})})]}),l&&c.jsxs(te,{space:3,children:[c.jsx(Ut,{muted:!0,size:0,children:"Field description"}),c.jsx(L,{muted:!0,size:0,children:fme(l)})]}),(r==null?void 0:r.description)&&c.jsx(L,{muted:!0,size:0,children:fme(r.description)}),!i.length&&a.length>0&&c.jsxs(te,{space:2,children:[c.jsxs(U,{align:"center",gap:1,children:[c.jsx(Ut,{muted:!0,size:0,children:"Used in document types"}),c.jsx(Q,{padding:1,radius:2,tone:"transparent",children:c.jsx(L,{size:0,muted:!0,children:a.length})})]}),c.jsxs(L,{size:0,weight:"regular",muted:!0,children:[a.slice(0,Z$).join(", "),(a==null?void 0:a.length)>Z$?" +".concat(a.length-Z$," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}function fme(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return e.length>t?"".concat(e.slice(0,t-1),"…"):e}const dkn=ne.memo(function(t){let{item:n,onClose:r,...o}=t;const[i,s]=h.useState(!1),{dispatch:a,state:{filters:l}}=$t(),u=h.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!l.find(g=>is(g)===is(n.filter)),f=h.useRef(),p=h.useCallback(()=>{f.current=setTimeout(()=>s(!0),500)},[]),m=h.useCallback(()=>{s(!1),clearTimeout(f.current)},[]);h.useEffect(()=>()=>clearTimeout(f.current),[]);const v=!!(n.fieldDefinition||n.filterDefinition.description);return c.jsx(M,{...o,children:c.jsx(oe,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:p,onMouseLeave:m,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:c.jsx(ukn,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:v&&i,children:c.jsx(M,{padding:3,children:c.jsx(E4e,{filter:n.filter})})})})})}),fkn=ne.memo(function(t){let{item:n}=t;return c.jsx(M,{paddingTop:1,children:c.jsx(Q,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:c.jsx(Ut,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function hkn(e){let{onClose:t}=e;const[n,r]=h.useState(null),[o,i]=h.useState(""),s=h.useCallback(x=>i(x.currentTarget.value),[i]),a=h.useCallback(()=>i(""),[]),l=An(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:p}}}=$t(),m=h.useMemo(()=>ekn({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:l,titleFilter:o,types:p}),[u,d.fields,d.filters,l,o,p]),v=h.useCallback(x=>x.type==="filter"?c.jsx(dkn,{item:x,onClose:t,paddingBottom:1}):x.type==="header"?c.jsx(fkn,{item:x}):null,[t]),g=h.useCallback(x=>{const b=m[x];return b.type!=="filter"||!!f.find(w=>is(w)===is(b.filter))},[m,f]),y=h.useCallback(x=>{const b=m[x];switch(b.type){case"filter":return[...b.group?[b.group]:[],is(b.filter)].join("-");case"header":return"".concat(b.type,"-").concat(b.title);default:return x}},[m]);return c.jsxs(U,{direction:"column",style:{width:"300px"},children:[c.jsx(_4e,{ariaInputLabel:"Filter by title",onChange:s,onClear:a,ref:r,typeFilter:o}),c.jsxs(U,{children:[m.length>0&&c.jsx(Hh,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:g,getItemKey:y,inputElement:n,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:v}),m.length==0&&c.jsx(M,{padding:3,children:c.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",o,"'"]})})]})]})}function hme(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),{state:{fullscreen:o}}=$t(),i=h.useCallback(()=>t(!1),[]),s=h.useCallback(()=>t(!0),[]);return c.jsx(nn,{__unstable_margins:[E_,0,0,0],content:c.jsx(AH,{anchorElement:n,onClose:i,children:c.jsx(hkn,{onClose:i})}),open:e,placement:"bottom-start",radius:J1,portal:!0,children:c.jsx(oe,{fontSize:1,icon:Ro,mode:"bleed",onClick:s,padding:o?3:2,ref:r,selected:e,space:2,text:"Add filter"})})}const pkn=ne.memo(function(t){let{selected:n,type:r,...o}=t;var i,s;const{dispatch:a}=$t(),l=h.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=h.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=h.useCallback(()=>{n?u():l()},[l,u,n]);return c.jsx(M,{...o,children:c.jsx(oe,{fontSize:1,iconRight:n&&fa,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(s=r.title)!=null?s:r.name,tone:n?"primary":"default"},(i=r.title)!=null?i:r.name)})});var pme=Object.freeze,mkn=Object.defineProperty,gkn=(e,t)=>pme(mkn(e,"raw",{value:pme(t||e.slice())})),mme;const vkn=$(M)(mme||(mme=gkn([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border});function ykn(){const[e,t]=h.useState(null),[n,r]=h.useState(""),o=h.useRef(null),i=An(),{dispatch:s,state:{terms:{types:a}}}=$t(),[l,u]=h.useState(a),d=xkn(i,a,l,n),f=h.useCallback(b=>r(b.currentTarget.value),[r]),p=h.useCallback(()=>r(""),[]),m=h.useCallback(()=>{var b,w;u([]),s({type:"TERMS_TYPES_CLEAR"}),(b=o==null?void 0:o.current)==null||b.focusInputElement(),(w=o==null?void 0:o.current)==null||w.scrollToIndex(0)},[s]),v=h.useCallback(b=>{const w=d[b];switch(w.type){case"divider":return"".concat(w.type,"-").concat(b);case"header":return"".concat(w.type,"-").concat(w.title);case"item":return"".concat(w.type,"-").concat(w.item.name);default:return b}},[d]),g=h.useCallback(b=>b.type==="divider"?c.jsx(M,{paddingY:1,children:c.jsx(Mr,{})}):b.type==="header"?c.jsx(M,{margin:1,paddingBottom:2,paddingTop:3,children:c.jsx(Ut,{muted:!0,size:0,children:b.title})}):b.type==="item"?c.jsx(pkn,{paddingBottom:1,selected:b.selected,type:b.item}):null,[]),y=h.useCallback(b=>d[b].type!=="item",[d]),x=h.useCallback(b=>{const w=d[b];return w.type==="item"&&w.selected},[d]);return c.jsxs(U,{direction:"column",style:{width:"250px"},children:[c.jsx(_4e,{ariaInputLabel:"Filter by document type",onChange:f,onClear:p,ref:t,typeFilter:n}),c.jsxs(U,{children:[d.length>0&&c.jsx(Hh,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:y,getItemSelected:x,getItemKey:v,inputElement:e,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:g}),!d.length&&c.jsx(M,{padding:3,children:c.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&c.jsx(bkn,{onClick:m,selectedTypes:a})]})}function bkn(e){let{onClick:t,selectedTypes:n}=e;return c.jsx(vkn,{padding:1,children:c.jsx(te,{children:c.jsx(oe,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:t,padding:3,text:"Clear",tone:"primary"})})})}function xkn(e,t,n,r){return h.useMemo(()=>{const[o,i]=CB(OCn(e,r),u=>n.includes(u)),s=o.length>0,a=o.length>0,l=[];return s&&l.push({title:"Selected",type:"header"}),o.forEach(u=>l.push({item:u,selected:t.includes(u),type:"item"})),s&&a&&l.push({type:"divider"}),i.forEach(u=>l.push({item:u,selected:t.includes(u),type:"item"})),l},[e,t,n,r])}var gme=Object.freeze,wkn=Object.defineProperty,Ckn=(e,t)=>gme(wkn(e,"raw",{value:gme(t||e.slice())})),vme;const _kn=$(oe)(e=>{let{theme:t}=e;const{regular:n}=t.sanity.fonts.text.weights;return de(vme||(vme=Ckn([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)}),Skn=["top-start","bottom-start"];function Ekn(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(null),{state:{fullscreen:s,terms:{types:a}}}=$t(),l=h.useCallback(()=>t(!1),[]),u=h.useCallback(()=>t(!0),[]);pr(l,[n,o]);const d=h.useMemo(()=>vH({types:a}),[a]);return c.jsx(nn,{__unstable_margins:[E_,0,0,0],content:c.jsx(AH,{anchorElement:n,onClose:l,children:c.jsx(ykn,{})}),open:e,placement:"bottom-start",fallbackPlacements:Skn,portal:!0,radius:J1,ref:i,children:c.jsx(_kn,{fontSize:1,iconRight:rc,mode:"ghost",onClick:u,padding:s?3:2,ref:r,selected:e,style:{maxWidth:"100%"},text:d,tone:"default"})})}var yme=Object.freeze,kkn=Object.defineProperty,jkn=(e,t)=>yme(kkn(e,"raw",{value:yme(t||e.slice())})),bme;const X$=$(M)(bme||(bme=jkn([`
  flex-shrink: `,`;
`])),e=>{let{$flexShrink:t=0}=e;return t});function j4e(e){let{filter:t,fontSize:n=1,showContent:r=!0}=e;const{state:{definitions:o,fullscreen:i}}=$t(),s=xh(o.operators,t.operatorType),a=s==null?void 0:s.buttonValueComponent;return c.jsxs(U,{align:"center",gap:1,children:[c.jsx(X$,{$flexShrink:i?1:0,children:c.jsx(fr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:c.jsx(S4e,{filter:t,maxLength:i?25:40})})}),r&&(s==null?void 0:s.buttonLabel)&&c.jsx(X$,{$flexShrink:0,children:c.jsx(fr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:s.buttonLabel})}),r&&a&&c.jsx(X$,{$flexShrink:1,children:c.jsx(fr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:c.jsx(a,{value:t==null?void 0:t.value})})})]})}function Tkn(e){return c.jsx(M,{...e,children:c.jsxs(U,{align:"flex-start",gap:3,children:[c.jsx(fr,{tone:"critical",children:c.jsx(Ca,{})}),c.jsxs(te,{space:4,children:[c.jsx(fr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),c.jsx(fr,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function Akn(e){let{onClick:t,operator:n,selected:r}=e;const o=h.useCallback(()=>t(n.type),[t,n.type]);return c.jsx(Ne,{onClick:o,padding:3,pressed:r,tone:"default",children:c.jsxs(U,{align:"center",justify:"space-between",gap:3,children:[c.jsx(M,{paddingRight:2,children:c.jsx(L,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&c.jsx(L,{muted:!0,size:1,children:h.createElement(n.icon)})]})})}function Dkn(e){let{filter:t,operator:n}=e;var r;const o=h.useId(),{dispatch:i,state:s}=$t(),a=(r=qh(s.definitions.filters,t.filterName))==null?void 0:r.operators,l=h.useCallback(u=>{i({filterKey:is(t),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,t]);return!n||!a||a.length<=1?null:c.jsx(Zt,{children:c.jsx(rn,{button:c.jsx(oe,{mode:"ghost",padding:3,children:c.jsxs(U,{align:"center",gap:2,justify:"space-between",children:[c.jsx(L,{size:s.fullscreen?2:1,weight:"regular",children:n.label}),c.jsx(M,{marginLeft:1,children:c.jsx(L,{size:1,children:c.jsx(rc,{})})})]})}),id:o||"",menu:c.jsx(zt,{children:a.map((u,d)=>{if(u.type==="item"){const f=xh(s.definitions.operators,u.name);return f?c.jsx(Akn,{onClick:l,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?c.jsx(Mr,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function Pkn(e){let{filter:t}=e;const[n,r]=h.useState(null),{dispatch:o,state:{definitions:i,fullscreen:s}}=$t(),a=qh(i.filters,t.filterName),l=xh(i.operators,t.operatorType),u=Ed(i.fields,t),d=is(t),f=h.useCallback(()=>{o({filterKey:is(t),type:"TERMS_FILTERS_REMOVE"})},[o,t]),p=h.useCallback(g=>{o({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:g})},[o,d]),m=h.useCallback(g=>{r(g)},[]),v=l==null?void 0:l.inputComponent;return n?c.jsx(Tkn,{padding:4}):c.jsx(b1,{onCatch:m,children:c.jsx($h,{autoFocus:!Bm,returnFocus:!0,children:c.jsxs(U,{direction:"column-reverse",children:[v&&c.jsx(Q,{borderTop:!0,padding:3,children:c.jsx(v,{fieldDefinition:u,onChange:p,value:t.value},t.operatorType)}),c.jsx(Q,{padding:3,children:c.jsxs(te,{space:3,children:[c.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",children:[c.jsx(M,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:s?2:1,children:c.jsx(E4e,{filter:t,small:!s})}),s&&c.jsx(oe,{fontSize:2,icon:Co,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&c.jsx(Q,{border:!0,padding:3,radius:2,tone:"transparent",children:c.jsx(L,{muted:!0,size:1,children:a.description})}),c.jsx(Dkn,{filter:t,operator:l})]})})]})})})}var xme=Object.freeze,Ikn=Object.defineProperty,Okn=(e,t)=>xme(Ikn(e,"raw",{value:xme(t||e.slice())})),wme;const $kn=$(U)(wme||(wme=Okn([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function Rkn(e){let{filter:t}=e;return c.jsxs($kn,{direction:"column",children:[c.jsx(Pkn,{filter:t}),VFe]})}var Cme=Object.freeze,Mkn=Object.defineProperty,NP=(e,t)=>Cme(Mkn(e,"raw",{value:Cme(t||e.slice())})),_me,Sme,Eme,kme;const Fkn=$(oe)(_me||(_me=NP([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return"0 ".concat(ge(t.sanity.radius[2])," ").concat(ge(t.sanity.radius[2])," 0")}),Lkn=$(Q)(Sme||(Sme=NP([`
  position: absolute;
  right: 0;
`]))),Bkn=$.div(Eme||(Eme=NP([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),Nkn=$(oe)(kme||(kme=NP([`
  border: none;
  width: 100%;
`])));function zkn(e){let{filter:t,initialOpen:n}=e;const[r,o]=h.useState(n),{dispatch:i,state:{definitions:s,fullscreen:a}}=$t(),l=h.useCallback(()=>o(!1),[]),u=h.useCallback(()=>o(!0),[]),d=h.useCallback(()=>i({filterKey:is(t),type:"TERMS_FILTERS_REMOVE"}),[i,t]),f=h.useCallback(m=>{["Backspace","Delete"].includes(m.key)&&d()},[d]),p=j_({fieldDefinitions:s.fields,filter:t,filterDefinitions:s.filters,operatorDefinitions:s.operators});return c.jsx(nn,{__unstable_margins:[E_,0,0,0],content:c.jsx(AH,{onClose:l,children:c.jsx(Rkn,{filter:t})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:J1,children:c.jsxs(Bkn,{children:[c.jsx(Q,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:c.jsx(Nkn,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:c.jsx(j4e,{filter:t,showContent:p})})}),!a&&c.jsx(Lkn,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:c.jsx(Fkn,{"aria-label":"Delete filter",fontSize:1,icon:Bi,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function T4e(){const{dispatch:e,state:{filters:t,fullscreen:n,lastAddedFilter:r,terms:{types:o}}}=$t(),i=h.useRef(!1),s=h.useCallback(()=>{e({type:"TERMS_FILTERS_CLEAR"}),e({type:"TERMS_TYPES_CLEAR"})},[e]),a=t.length>0||o.length>0;h.useEffect(()=>{i.current=!0},[]);const l=r&&is(r),u=()=>c.jsx(oe,{fontSize:1,mode:"bleed",onClick:s,padding:n?3:2,text:"Clear filters",tone:"critical"});return c.jsxs(c.Fragment,{children:[c.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[c.jsxs(U,{flex:1,gap:2,wrap:"wrap",children:[c.jsx(Ekn,{}),t==null?void 0:t.map(d=>{const f=is(d);return c.jsx(zkn,{filter:d,initialOpen:i.current&&l===f},f)}),!n&&c.jsx(hme,{})]}),a&&!n&&c.jsx(u,{})]}),n&&c.jsxs(U,{justify:"space-between",paddingBottom:2,paddingX:2,children:[c.jsx(hme,{}),a&&c.jsx(u,{})]}),VFe]})}function Vkn(){return c.jsx(U,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:c.jsxs(Zt,{space:3,children:[c.jsx(L,{muted:!0,children:"Use"}),c.jsx(L,{muted:!0,children:c.jsx(DT,{})}),c.jsx(L,{muted:!0,children:"to refine your search"})]})})}function Hkn(e){let{availableCharacters:t,types:n}=e;const r=h.useMemo(()=>vH({availableCharacters:t,types:n}),[t,n]);return c.jsx(Q,{border:!0,padding:2,radius:2,children:c.jsx(L,{muted:!0,size:1,children:r})})}var jme=Object.freeze,Ukn=Object.defineProperty,Wkn=(e,t)=>jme(Ukn(e,"raw",{value:jme(t||e.slice())})),Tme;const Ykn=$(Q)(Tme||(Tme=Wkn([`
  cursor: default;
`])));function qkn(e){let{filter:t}=e;return c.jsx(Ykn,{border:!0,padding:2,radius:2,tone:"primary",children:c.jsx(j4e,{filter:t})})}var Ame=Object.freeze,Gkn=Object.defineProperty,zP=(e,t)=>Ame(Gkn(e,"raw",{value:Ame(t||e.slice())})),Dme,Pme,Ime,Ome;const Kkn=40,A4e=$(oe)(Dme||(Dme=zP([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])}),Zkn=$(M)(Pme||(Pme=zP([`
  flex-shrink: 3;
`]))),Xkn=$(M)(Ime||(Ime=zP([`
  flex-shrink: 2;
`]))),Qkn=$.div(Ome||(Ome=zP([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),A4e);function Jkn(e){let{index:t,maxVisibleTypePillChars:n=Kkn,value:r,...o}=e;var i;const{dispatch:s,recentSearchesStore:a}=$t(),l=n-r.query.length,u=h.useCallback(()=>{if(s({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);s({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[s,a,r]),d=h.useCallback(f=>{if(f.stopPropagation(),a){const p=a==null?void 0:a.removeSearchAtIndex(t);s({recentSearches:p,type:"RECENT_SEARCHES_SET"})}},[s,t,a]);return c.jsx(M,{...o,children:c.jsx(A4e,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:c.jsxs(U,{align:"stretch",children:[c.jsxs(Zt,{paddingY:2,children:[c.jsx(L,{muted:!0,size:1,children:c.jsx(bxe,{})}),c.jsx(L,{children:"​"})]}),c.jsxs(U,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&c.jsx(Xkn,{paddingY:2,children:c.jsx(L,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&c.jsx(Zkn,{children:c.jsx(Hkn,{availableCharacters:l,types:r.types})}),(i=r==null?void 0:r.filters)==null?void 0:i.map((f,p)=>c.jsx(qkn,{filter:f},p))]}),c.jsx(U,{align:"center",children:c.jsx(Qkn,{onClick:d,children:c.jsx(U,{padding:2,children:c.jsx(L,{size:1,children:c.jsx(Bi,{})})})})})]})})})}var $me=Object.freeze,e5n=Object.defineProperty,t5n=(e,t)=>$me(e5n(e,"raw",{value:$me(t||e.slice())})),Rme;const n5n=36,r5n=20,o5n=40,i5n=$(Q)(Rme||(Rme=t5n([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function D4e(e){let{inputElement:t}=e;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:o,fullscreen:i,recentSearches:s}}=$t(),a=h.useRef(null),l=h.useCallback(()=>{var m;if(r){const v=r.removeSearch();n({recentSearches:v,type:"RECENT_SEARCHES_SET"})}(m=a==null?void 0:a.current)==null||m.focusInputElement()},[n,r]),u=ng(),d=h.useMemo(()=>u<2?r5n:o5n,[u]),f=h.useCallback((m,v)=>{let{virtualIndex:g}=v;return c.jsx(Jkn,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m})},[d]),p=!!s.length;return c.jsx(i5n,{borderTop:p||!p&&!o&&i,flex:1,children:s.length?c.jsxs(c.Fragment,{children:[c.jsx(M,{paddingBottom:2,paddingTop:4,paddingX:3,children:c.jsx(Ut,{muted:!0,size:1,children:"Recent searches"})}),c.jsx(M,{children:c.jsx(Hh,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:t,initialIndex:0,itemHeight:n5n,items:s,paddingX:2,paddingY:1,renderItem:f})}),c.jsx(M,{paddingBottom:2,paddingTop:1,paddingX:2,children:c.jsx(oe,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:l,padding:2,tone:"default",children:c.jsx(L,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!o&&i&&c.jsx(Vkn,{})})}var Mme=Object.freeze,s5n=Object.defineProperty,VP=(e,t)=>Mme(s5n(e,"raw",{value:Mme(t||e.slice())})),Fme,Lme,Bme,Nme;const a5n=Km(Fme||(Fme=VP([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),l5n=$(hC)(Lme||(Lme=VP([`
  animation: `,` 500ms linear infinite;
`])),a5n),c5n=$(M)(Bme||(Bme=VP([`
  position: relative;
`]))),u5n=$.div(Nme||(Nme=VP([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),e=>{let{theme:t}=e;var n;return(n=t.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),P4e=h.forwardRef(function(t,n){let{ariaInputLabel:r,onClose:o}=t;const i=h.useRef(!1),{dispatch:s,state:{filters:a,filtersVisible:l,fullscreen:u,result:{loading:d},terms:{types:f,query:p}}}=$t(),m=h.useCallback(()=>s({type:"FILTERS_VISIBLE_SET",visible:!l}),[s,l]),v=h.useCallback(x=>s({type:"TERMS_QUERY_SET",query:x.currentTarget.value}),[s]),g=h.useCallback(()=>{s({type:"TERMS_QUERY_SET",query:""})},[s]);h.useEffect(()=>{u||s({type:"FILTERS_VISIBLE_SET",visible:!0})},[s,u]),h.useEffect(()=>{i.current=!0},[]);const y=a.length>0||f.length>0;return c.jsx(Q,{flex:"none",children:c.jsxs(U,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&c.jsx(Q,{children:c.jsx(oe,{"aria-label":"Close search",icon:dC,mode:"bleed",onClick:o})}),c.jsx(M,{flex:1,children:c.jsx(_H,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!p,fontSize:2,icon:d?l5n:ui,onChange:v,onClear:g,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:p})}),u&&c.jsxs(c5n,{children:[c.jsx(oe,{"aria-expanded":l,"aria-label":"Toggle filters",height:"fill",icon:DT,mode:"bleed",onClick:m,padding:3,selected:l,tone:"default"}),y&&c.jsx(u5n,{})]})]})})});function d5n(){return c.jsx(oo,{width:0,children:c.jsxs(te,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[c.jsx(L,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),c.jsx(L,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function f5n(){return c.jsxs(U,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[c.jsx(M,{marginBottom:1,children:c.jsx(fr,{tone:"critical",children:c.jsx(zr,{})})}),c.jsx(fr,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),c.jsx(fr,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const Rp={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var zme=Object.freeze,h5n=Object.defineProperty,p5n=(e,t)=>zme(h5n(e,"raw",{value:zme(t||e.slice())})),Vme;const Hme=[Rp.relevance,{type:"divider"},Rp.createdAsc,Rp.createdDesc,{type:"divider"},Rp.updatedAsc,Rp.updatedDesc],m5n=$(U)(Vme||(Vme=p5n([`
  box-sizing: border-box;
`])));function Ume(e){return e.type==="divider"}function g5n(e){let{ordering:t}=e;const{dispatch:n,state:{ordering:r}}=$t(),o=h.useCallback(()=>{n({ordering:t,type:"ORDERING_SET"})},[n,t]),i=h.useMemo(()=>Wt(r,t),[r,t]);return c.jsx(Ne,{onClick:o,padding:3,pressed:i,tone:"default",children:c.jsx(U,{align:"center",justify:"space-between",paddingRight:2,children:c.jsx(L,{size:1,weight:"medium",children:t.title})})})}function v5n(){const{state:{ordering:e}}=$t(),t=h.useId(),n=Hme.find(r=>Wt(e,r)&&!Ume(r));return n?c.jsx(Q,{borderBottom:!0,children:c.jsx(m5n,{align:"center",flex:1,padding:2,children:c.jsx(rn,{button:c.jsx(oe,{mode:"bleed",padding:2,children:c.jsxs(U,{align:"center",gap:1,justify:"space-between",children:[c.jsx(M,{marginRight:1,children:c.jsx(L,{size:1,children:c.jsx(l8,{})})}),c.jsx(Zt,{space:2,children:c.jsx(L,{size:1,weight:"medium",children:n.title})})]})}),id:t||"",menu:c.jsx(zt,{children:Hme.map((r,o)=>Ume(r)?c.jsx(Mr,{},o):c.jsx(g5n,{ordering:r},o))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var Wme=Object.freeze,y5n=Object.defineProperty,b5n=(e,t)=>Wme(y5n(e,"raw",{value:Wme(t||e.slice())})),Yme;const x5n=$(Q)(Yme||(Yme=b5n([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function w5n(e){let{data:t}=e;const{score:n}=t;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const o=t.stories.filter(i=>i.score>0);return c.jsx(c.Fragment,{children:c.jsx(it,{content:c.jsx(M,{padding:2,children:c.jsx(te,{space:2,children:o.length?c.jsx(c.Fragment,{children:o.map(i=>c.jsxs(Zt,{space:3,children:[c.jsx(dr,{size:0,weight:"semibold",children:i.path}),c.jsx(dr,{size:0,children:i.why})]},i.path))}):c.jsx(dr,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:c.jsx(x5n,{padding:1,shadow:1,tone:r,children:c.jsxs(dr,{size:0,children:["score: ",n]})})})})}var qme=Object.freeze,C5n=Object.defineProperty,_5n=(e,t)=>qme(C5n(e,"raw",{value:qme(t||e.slice())})),Gme;const S5n=59,E5n=4,k5n=$(U)(Gme||(Gme=_5n([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),e=>{let{$loading:t}=e;return t?.5:1});function I4e(e){let{inputElement:t}=e;const{dispatch:n,onClose:r,recentSearchesStore:o,setSearchCommandList:i,state:{debug:s,filters:a,fullscreen:l,lastActiveIndex:u,result:d,terms:f}}=$t(),p=!!d.hits.length,m=!d.hits.length&&d.loaded,v=d.error,g=h.useCallback(()=>{if(o){const x=o.addSearch(f,a);n({recentSearches:x,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,o,f]),y=h.useCallback(x=>c.jsxs(c.Fragment,{children:[c.jsx(gH,{documentId:Fn(x.hit._id)||"",documentType:x.hit._type,onClick:g,paddingBottom:2}),s&&c.jsx(w5n,{data:x})]}),[s,g]);return c.jsx(U,{children:c.jsx(Q,{borderTop:l||!!(v||p||m),flex:1,children:c.jsxs(U,{direction:"column",height:"fill",children:[p&&c.jsx(v5n,{}),c.jsx(k5n,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?c.jsx(f5n,{}):c.jsxs(c.Fragment,{children:[p&&c.jsx(Hh,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:S5n,items:d.hits,overscan:E5n,padding:2,paddingBottom:0,ref:i,renderItem:y}),m&&c.jsx(d5n,{})]})})]})})})}var Kme=Object.freeze,j5n=Object.defineProperty,O4e=(e,t)=>Kme(j5n(e,"raw",{value:Kme(t||e.slice())})),Zme,Xme;const T5n=$(Q)(Zme||(Zme=O4e([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),A5n=$(M)(Xme||(Xme=O4e([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function D5n(e){let{onClose:t,onOpen:n,open:r}=e;const[o,i]=h.useState(null),{scheme:s}=uu(),{state:{filtersVisible:a,terms:l}}=$t(),u=$P({terms:l});return c.jsx(w4e,{hasValidTerms:u,onClose:t,onOpen:n,open:r,children:c.jsx(ig,{children:c.jsx($h,{autoFocus:!Bm,returnFocus:!0,children:c.jsx(A5n,{children:c.jsxs(T5n,{display:"flex",height:"fill",scheme:s,tone:"default",children:[c.jsx(P4e,{ariaInputLabel:u?"Search results":"Recent searches",onClose:t,ref:i}),a&&c.jsx(Q,{borderTop:!0,flex:"none",children:c.jsx(T4e,{})}),u?c.jsx(I4e,{inputElement:o}):c.jsx(D4e,{inputElement:o})]})})})})})}var Qme=Object.freeze,P5n=Object.defineProperty,DH=(e,t)=>Qme(P5n(e,"raw",{value:Qme(t||e.slice())})),Jme,ege,tge;const I5n=$(U)(Jme||(Jme=DH([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),O5n=$(U)(ege||(ege=DH([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),$5n=$(Nr)(tge||(tge=DH([`
  padding-right: 60px;
`]))),R5n=h.forwardRef(function(t,n){let{onOpen:r}=t;const{dispatch:o,state:{terms:i}}=$t(),s=h.useCallback(l=>{o({type:"TERMS_QUERY_SET",query:l.currentTarget.value}),r()},[o,r]),a=h.useCallback(l=>{l.key==="Enter"&&r()},[r]);return c.jsxs(O5n,{align:"center",children:[c.jsx($5n,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:ui,"data-testid":"studio-search",onChange:s,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:i.query}),c.jsxs(I5n,{align:"center",height:"fill",marginRight:2,children:[c.jsx(nF,{children:PCn}),c.jsx(nF,{children:HFe.toUpperCase()})]})]})});var nge=Object.freeze,M5n=Object.defineProperty,nk=(e,t)=>nge(M5n(e,"raw",{value:nge(t||e.slice())})),rge,oge,ige,sge;const F5n=$.div(rge||(rge=nk([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.shadow.ambient}),L5n=$(Q)(sge||(sge=nk([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),e=>{let{$position:t}=e;return t.x?de(oge||(oge=nk([`
          left: `,`px;
        `])),t.x):de(ige||(ige=nk([`
          left: 50%;
          transform: translateX(-50%);
        `])))},e=>{let{$position:t}=e;return"min(calc(100vh - ".concat(t.y,"px - ").concat(qw,"px), ").concat(ICn,"px)")},e=>{let{$position:t}=e;return t.y},qw*2,UFe);function B5n(e){let{disableFocusLock:t,onClose:n,onOpen:r,open:o,position:i}=e;const[s,a]=h.useState(null),[l,u]=h.useState(null),{isTopLayer:d,zIndex:f}=Ea(),{scheme:p}=uu(),{onClose:m,state:{filtersVisible:v,terms:g}}=$t(),y=$P({terms:g}),x=h.useCallback(()=>{d&&m&&o&&m()},[d,m,o]);return pr(x,[s]),c.jsx(w4e,{hasValidTerms:y,onClose:n,onOpen:r,open:o,children:c.jsx(ig,{children:c.jsxs($h,{autoFocus:!Bm,disabled:t,returnFocus:!0,children:[c.jsx(F5n,{style:{zIndex:f}}),c.jsxs(L5n,{$position:i,overflow:"hidden",radius:J1,ref:a,scheme:p,shadow:2,style:{zIndex:f},children:[c.jsx(P4e,{ariaInputLabel:y?"Search results":"Recent searches",onClose:n,ref:u}),v&&c.jsx(Q,{borderTop:!0,flex:"none",children:c.jsx(T4e,{})}),y?c.jsx(I4e,{inputElement:l}):c.jsx(D4e,{inputElement:l})]})]})})})}function N5n(){const[e,t]=h.useState(null),[n,r]=h.useState(!1),o=h.useCallback(()=>r(!1),[]),i=h.useCallback(()=>r(!0),[]),s=z5n(e);return c.jsxs(c.Fragment,{children:[c.jsx(R5n,{onOpen:i,ref:t}),s&&c.jsx(B5n,{onClose:o,onOpen:i,open:n,position:s})]})}function age(e){const t=e.getBoundingClientRect();return{x:window.innerWidth-t.x>UFe?t.x-qw:null,y:t.y-qw}}function z5n(e){const[t,n]=h.useState(null),r=h.useCallback(()=>{e&&n(age(e))},[e]);return h.useEffect(()=>{e&&n(age(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const V5n="search::recent",H5n=5,Kw=2;function U5n(e){let{dataset:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:o,projectId:i,schema:s,user:a,version:l=Kw}=e;if(!t||!i||!$4e||!a)return;const u="".concat(V5n,"__").concat(i,":").concat(t,":").concat(a.id);return{addSearch:(d,f)=>{const m=(f||[]).map(x=>({fieldId:x.fieldId,filterName:x.filterName,operatorType:x.operatorType,value:x.value})).filter(x=>j_({fieldDefinitions:n,filter:x,filterDefinitions:r,operatorDefinitions:o})),v={created:new Date().toISOString(),filters:m,terms:{query:d.query.trim(),typeNames:d.types.map(x=>x.name)}},g=JSON.stringify(Hi(v,"created")),y={version:l,recentSearches:[v,...Ax(u,l).recentSearches.filter(x=>JSON.stringify(Hi(x,"created"))!==g)].slice(0,H5n)};return window.localStorage.setItem(u,JSON.stringify(y)),nb({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l})},getRecentSearches:()=>nb({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l}),removeSearch:()=>{const f={...Ax(u,l),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),nb({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l})},removeSearchAtIndex:d=>{const f=Ax(u,l);if(d<0||d>f.recentSearches.length)return nb({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l});const p={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(p)),nb({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l})}}}function Ax(e,t){const n=$4e?window.localStorage.getItem(e):void 0;return n?JSON.parse(n):{version:t,recentSearches:[]}}function nb(e){let{lsKey:t,schema:n,fieldDefinitions:r,filterDefinitions:o,operatorDefinitions:i,version:s}=e;const a=W5n({lsKey:t,storedSearch:Ax(t,s)});return Y5n({studioSchema:n,storedSearch:a,lsKey:t,filterDefinitions:o,fieldDefinitions:r,operatorDefinitions:i,version:s}).recentSearches.filter(l=>!!l.terms).map((l,u)=>({__recent:{index:u,timestamp:new Date(l.created).getTime()},filters:l.filters,query:l.terms.query,types:l.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function W5n(e){let{lsKey:t,storedSearch:n}=e;if(n.version!==Kw){const r={version:Kw,recentSearches:[]};return window.localStorage.setItem(t,JSON.stringify(r)),r}return n}function Y5n(e){let{fieldDefinitions:t,filterDefinitions:n,lsKey:r,operatorDefinitions:o,storedSearch:i,studioSchema:s,version:a}=e;const l=RP(s).map(f=>f.name),u=i.recentSearches.filter(f=>f.terms.typeNames.every(p=>l.includes(p))&&f.filters.every(p=>j_({fieldDefinitions:t,filter:p,filterDefinitions:n,operatorDefinitions:o}))),d={version:Kw,recentSearches:u};return d.recentSearches.length<i.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),Ax(r,a)}const $4e=(()=>{const e="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),q5n=3;function G5n(e,t){var n;const r=RP(e).map(a=>a.name),{documentTypes:o,objectTypes:i}=(((n=e._original)==null?void 0:n.types)||[]).filter(a=>lge(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,l)=>(lge(l)&&(a.documentTypes[l.name]=l),M4e(l)&&(a.objectTypes[l.name]=l),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},s=yCn(t);return X5n(s,o,i)}function K5n(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function Z5n(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function X5n(e,t,n){function r(i){let{acc:s,defType:a,depth:l=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=i;var p;const m=l<=q5n,v=a.name.startsWith("_"),g=a!=null&&a.title?k4e(a.title):pn(a.name),y=d?"".concat(d,".").concat(a.name):a.name,x=f?[...f,g]:[g];if(!m)return;const b=n[a.type],w=t[a.type],C=M4e(a)?a:null,_=w||b||C;if(_){(p=_==null?void 0:_.fields)==null||p.forEach(S=>r({acc:s,defType:S,depth:l+1,documentType:u,prevFieldPath:y,prevTitlePath:x}));return}e.includes(a.type)&&s.push({documentTypes:u&&!v?[u]:[],fieldPath:y,filterName:njn(a),id:"",name:a.name,titlePath:x,title:g,type:a.type})}return Object.values(t).reduce((i,s)=>{const a=s.fields.reduce((l,u)=>(r({acc:l,defType:u,documentType:s.name}),l),[]);return i.push(...a),i},[]).reduce((i,s)=>{const a=i.findIndex(l=>l.fieldPath===s.fieldPath&&l.title===s.title&&l.type===s.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...s.documentTypes]}:i.push(s),i},[]).map(Q5n).sort(rjn)}function Q5n(e){return{...e,id:Z5n(e)}}function J5n(e){var t;return R4e(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function R4e(e){return e.type==="array"}function lge(e){return e.type==="document"}function M4e(e){return e.type==="object"}function ejn(e){return e.type==="string"}function tjn(e){var t;return ejn(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function njn(e){if(tjn(e))return"stringList";if(R4e(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(J5n(e))return"arrayList"}return e.type}function rjn(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}function F4e(e){return typeof e.__recent<"u"}const QL="core:studio:navbar:search:";yf(QL);function ojn(e){const t="".concat(QL).concat(e);return yf&&yf.enabled(t)?yf(t):yf(QL)}function ijn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(DCn)}function sjn(e){let{currentUser:t,fullscreen:n,recentSearches:r=[],definitions:o}=e;return{currentUser:t,debug:ijn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:Rp.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:o}}const ajn=ojn("reducer");function ljn(e,t){let n="🔍";switch(t.type.startsWith("SEARCH_REQUEST")&&(n="🚨"),t.type.startsWith("RECENT_SEARCHES")&&(n="💾"),ajn(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:Rp.relevance,terms:lp(e.terms)};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:lp(e.terms)};case"PAGE_INCREMENT":return{...e,pageIndex:e.pageIndex+1,terms:lp(e.terms)};case"RECENT_SEARCHES_SET":return{...e,recentSearches:t.recentSearches};case"SEARCH_CLEAR":return{...e,pageIndex:0,result:{...e.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,result:{...e.result,error:null,hasMore:t.hits.length>0,hits:e.pageIndex>0?[...e.result.hits,...t.hits]:t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:HEn(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,r];return{...e,documentTypesNarrowed:ap({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:r,terms:{...e.terms,filter:sp({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:ap({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:sp({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(i=>is(i)===t.filterKey),o=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:ap({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:sp({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>is(u)===t.filterKey),o=xh(e.definitions.operators,r==null?void 0:r.operatorType),i=xh(e.definitions.operators,t.operatorType),s=i==null?void 0:i.initialValue,a=(o==null?void 0:o.inputComponent)!=(i==null?void 0:i.inputComponent),l=e.filters.map(u=>is(u)===t.filterKey?{...u,operatorType:t.operatorType,...a?{value:s}:{}}:u);return{...e,filters:l,terms:{...e.terms,filter:sp({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:l,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(o=>is(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:r,terms:{...e.terms,filter:sp({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_QUERY_SET":return{...e,pageIndex:0,result:{...e.result,loaded:!1},terms:lp({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort(GL);return{...e,documentTypesNarrowed:ap({fieldDefinitions:e.definitions.fields,filters:r,types:o}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...e.result,loaded:!1},terms:{...t.terms,filter:sp({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(GL),o=ap({fieldDefinitions:e.definitions.fields,filters:[],types:r}),i=e.filters.filter(s=>{const a=Ed(e.definitions.fields,s);return a?a.documentTypes.length===0?!0:o.every(l=>a.documentTypes.findIndex(u=>u===l)>-1):!0});return{...e,documentTypesNarrowed:o,filters:i,pageIndex:0,result:{...e.result,loaded:!1},terms:lp({...e.terms,filter:sp({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:ap({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:lp({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:ap({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:lp({...e.terms,types:[]})}}default:return e}}function lp(e){if(F4e(e)){const{__recent:t,...n}=e;return n}return e}function cjn(e){let{children:t,fullscreen:n}=e;const r=h.useRef(null),[o,i]=h.useState(null),s=yr(un),a=An(),l=Jo(),{search:{operators:u,filters:d}}=Nn(),{dataset:f,projectId:p}=s.config(),{fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g}=h.useMemo(()=>({fieldDefinitions:K5n(G5n(a,d)),filterDefinitions:vCn(d),operatorDefinitions:VEn(u)}),[d,u,a]),y=h.useMemo(()=>U5n({dataset:f,fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g,projectId:p,schema:a,user:l,version:Kw}),[l,f,m,v,g,p,a]),x=h.useMemo(()=>y==null?void 0:y.getRecentSearches(),[y]),b=h.useMemo(()=>sjn({currentUser:l,fullscreen:n,recentSearches:x,definitions:{fields:m,operators:g,filters:v}}),[l,m,v,n,g,x]),[w,C]=h.useReducer(ljn,b),{documentTypesNarrowed:_,filters:S,ordering:E,pageIndex:j,result:k,terms:T}=w,A=h.useRef(!1),D=h.useRef(b.ordering),P=h.useRef(b.pageIndex),I=h.useRef(b.terms),{handleSearch:R,searchState:O}=WFe({initialState:{...k,terms:T},onComplete:z=>C({hits:z,type:"SEARCH_REQUEST_COMPLETE"}),onError:z=>C({error:z,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>C({type:"SEARCH_REQUEST_START"}),schema:a}),V=$P({terms:T}),B=_.map(z=>a.get(z)),H=S.filter(z=>j_({fieldDefinitions:m,filter:z,filterDefinitions:v,operatorDefinitions:g})),W=h.useCallback(z=>{r.current=z},[]);return h.useEffect(()=>{const z=!Wt(E,D.current),G=j!==P.current,ee=!Wt(T,I.current);if(z||G||ee){const N=(E==null?void 0:E.customMeasurementLabel)||"".concat(E.sort.field," ").concat(E.sort.direction);R({options:{comments:[...F4e(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),"findability-sort:".concat(N),"findability-source: global","findability-filter-count:".concat(H.length)],limit:jhe,offset:j*jhe,skipSortByScore:E.ignoreScore,sort:[E.sort]},terms:{...T,...B?{types:B}:{}}}),P.current=j}D.current=E,I.current=T},[H.length,S,B,R,V,E,j,O.terms,T]),h.useEffect(()=>{!V&&(A!=null&&A.current)&&k.hits.length>0&&C({type:"SEARCH_CLEAR"}),A.current=!0},[C,V,k.hits,T.query,T.types]),c.jsx(BFe.Provider,{value:{dispatch:C,onClose:r==null?void 0:r.current,recentSearchesStore:y,searchCommandList:o,setSearchCommandList:i,setOnClose:W,state:{...w,fullscreen:n}},children:t})}const L4e="3.20.2";function ujn(e){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(L4e)]},tag:"module.version-check",json:!0}).pipe(le(n=>({...n})))}function djn(){const e=yr({apiVersion:"1"}),t=h.useMemo(()=>ujn(e),[e]);return t$e(t)}function fjn(e){let{error:t,isLoading:n,value:r}=e;var o;const i=(o=r==null?void 0:r.resources)==null?void 0:o.sectionArray,s=r==null?void 0:r.latestVersion;return n?c.jsx(U,{align:"center",justify:"center",padding:3,children:c.jsx(gr,{})}):c.jsxs(c.Fragment,{children:[(r===void 0||t)&&c.jsx("div",{children:hjn}),!t&&(i==null?void 0:i.map(a=>a?c.jsx(pjn,{subSection:a},a._key):null)),c.jsxs(M,{padding:3,children:[c.jsxs(L,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",L4e]}),!t&&s&&c.jsx(M,{paddingTop:2,children:c.jsxs(L,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",s]})})]})]})}const hjn=c.jsxs(c.Fragment,{children:[c.jsx(Ne,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),c.jsx(Ne,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),c.jsx(Ne,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),c.jsx(Mr,{})]});function pjn(e){let{subSection:t}=e;var n;return c.jsxs(c.Fragment,{children:[t.sectionTitle&&c.jsx(Q,{padding:2,paddingTop:3,marginLeft:1,children:c.jsx(Ut,{muted:!0,size:1,children:t.sectionTitle})}),(n=t==null?void 0:t.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?c.jsx(Ne,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&c.jsx(Ne,{text:r.title,size:0},r._key):null;default:return null}}),c.jsx(Mr,{})]})}var cge=Object.freeze,mjn=Object.defineProperty,gjn=(e,t)=>cge(mjn(e,"raw",{value:cge(t||e.slice())})),uge;const vjn=$(zt)(uge||(uge=gjn([`
  max-width: 300px;
  min-width: 200px;
`])));function yjn(){const{scheme:e}=uu(),[t,n]=h.useState(!1),{value:r,error:o,isLoading:i}=djn(),s=h.useCallback(()=>n(!0),[]),a=h.useCallback(()=>n(!1),[]);return c.jsx(U,{children:c.jsx(it,{content:c.jsx(M,{padding:2,children:c.jsx(L,{size:1,children:"Help and resources "})}),scheme:e,placement:"bottom",portal:!0,disabled:t,children:c.jsx("div",{children:c.jsx(rn,{button:c.jsx(oe,{"aria-label":"Help and resources",icon:E0,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:c.jsx(vjn,{children:c.jsx(fjn,{error:o,isLoading:i,value:r})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:e},onClose:a,onOpen:s})})})})}var dge=Object.freeze,bjn=Object.defineProperty,PH=(e,t)=>dge(bjn(e,"raw",{value:dge(t||e.slice())})),fge,hge,pge;const xjn=$(hs)(fge||(fge=PH([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),wjn=$(Q)(hge||(hge=PH([`
  line-height: 0;
`]))),Cjn=$(U)(pge||(pge=PH([`
  width: max-content;
`])));function _jn(){const{name:e,tools:t,...n}=cc(),r=y1().theme,o=k_(),i=FA(),{scheme:s}=uu(),{href:a,onClick:l}=Vke({state:{}}),u=ng(),d=typeof i.tool=="string"?i.tool:void 0,f=bEn(),{onSearchFullscreenOpenChange:p,searchFullscreenOpen:m,searchFullscreenPortalEl:v}=h.useContext(z4e),g=Ijn(),y=N4e(),[x,b]=h.useState(!1),w=h.useRef(i),C=h.useRef(e);h.useEffect(()=>{(w.current.tool!==i.tool||e!==C.current)&&b(!1),w.current=i,C.current=e},[e,i]);const[_,S]=h.useState(null),[E,j]=h.useState(null),k=h.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&cu,workspaces:u>=3&&o.length>1,tools:u>=3}),[u,o.length]),T=typeof e=="string"&&e!=="root"?pn(e):null,A=n.title||T||"Studio";h.useEffect(()=>{p(m)},[m,p]),h.useEffect(()=>{p&&!k.searchFullscreen&&p(!1)},[p,k.searchFullscreen]);const D=h.useCallback(()=>{p(!0)},[p]),P=h.useCallback(()=>{p(!1),E==null||E.focus()},[p,E]),I=h.useCallback(()=>{b(!1),_==null||_.focus()},[_]),R=h.useCallback(()=>{b(!0)},[]);return c.jsxs(xjn,{zOffset:100,"data-search-open":m,children:[c.jsx(wjn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||s==="dark"?1:void 0,sizing:"border",children:c.jsxs(U,{align:"center",justify:"space-between",children:[c.jsxs(Cjn,{align:"center",flex:k.brandingCenter?void 0:1,children:[!k.tools&&c.jsx(M,{marginRight:1,children:c.jsx(oe,{mode:"bleed",icon:o8,onClick:R,ref:S})}),!k.brandingCenter&&c.jsx(M,{marginRight:1,children:c.jsx(ime,{href:a,onClick:l,title:A,children:c.jsx(g,{title:A})})}),k.workspaces&&c.jsx(M,{marginRight:2,children:c.jsx(h4e,{collapsed:!0})}),c.jsx(M,{marginRight:k.brandingCenter?void 0:2,children:c.jsx(yEn,{...f,modal:k.brandingCenter?"dialog":"popover"})}),c.jsx(cd,{children:c.jsx(cjn,{fullscreen:k.searchFullscreen,children:c.jsxs(ld,{element:document.body,children:[c.jsx(sg,{element:v,children:k.searchFullscreen&&c.jsx(D5n,{onClose:P,onOpen:D,open:m})}),!k.searchFullscreen&&c.jsx(N5n,{})]})})}),k.tools&&c.jsx(Q,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:c.jsx(y,{activeToolName:d,closeSidebar:I,context:"topbar",isSidebarOpen:!1,tools:t})})]}),k.brandingCenter&&c.jsx(M,{marginX:1,children:c.jsx(ime,{href:a,onClick:l,title:A,children:c.jsx(g,{title:A})})}),c.jsxs(U,{gap:2,children:[(k.configIssues||k.resources)&&c.jsx(Q,{borderRight:!0,children:c.jsxs(U,{gap:1,paddingX:2,children:[k.configIssues&&c.jsx(LEn,{}),k.resources&&c.jsx(yjn,{})]})}),c.jsxs(U,{align:"center",gap:1,children:[c.jsx(AEn,{collapse:k.collapsedPresenceMenu}),k.tools&&c.jsx(eEn,{}),k.searchFullscreen&&c.jsx(oe,{"aria-label":"Open search",icon:ui,mode:"bleed",onClick:D,ref:j})]})]})]})}),!k.tools&&c.jsx(FEn,{activeToolName:d,isOpen:x,onClose:I,tools:t})]})}const B4e=h.forwardRef(function(t,n){const{name:r,...o}=t,i=FA(h.useCallback(()=>({tool:r,[r]:void 0}),[r]));return c.jsx(MA,{state:i,...o,ref:n})});function Sjn(e){const{activeToolName:t,tools:n}=e,{scheme:r}=uu(),[o,i]=h.useState(null);f$e({rootElement:o,navigation:["arrows"]});const s=h.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=h.useMemo(()=>n.map((l,u)=>{const d=(l==null?void 0:l.title)||pn(l.name)||void 0,f=h.forwardRef(function(m,v){return c.jsx(B4e,{...m,ref:v,name:l.name})});return c.jsx(fH,{as:f,"data-as":"a",collapsedProps:{tooltipText:l.title},icon:l.icon||zl,mode:"bleed",selected:t===l.name,text:d,tooltipProps:{scheme:r}},"".concat(l.name,"-").concat(u))}),[t,r,n]);return c.jsx(dH,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:s,ref:i,children:a})}function Ejn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return h.useMemo(()=>c.jsx(te,{as:"ul",space:1,children:r.map(o=>{const i=(o==null?void 0:o.title)||pn(o.name)||void 0,s=h.forwardRef(function(l,u){return c.jsx(B4e,{...l,ref:u,name:o.name})});return c.jsx(te,{as:"li",children:c.jsx(oe,{as:s,icon:o.icon||Fxe,justify:"flex-start",mode:"bleed",selected:t===o.name,tabIndex:n?0:-1,text:i})},o.name)})}),[t,n,r])}function kjn(e){const{context:t,isSidebarOpen:n,...r}=e;return t==="sidebar"?c.jsx(Ejn,{isVisible:n,...r}):c.jsx(Sjn,{...r})}function jjn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function Tjn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function Ajn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function Djn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.logo}function N4e(){return lc({defaultComponent:kjn,pick:jjn})}function Pjn(){return lc({defaultComponent:_jn,pick:Tjn})}function Ijn(){return lc({defaultComponent:VSn,pick:Djn})}function Ojn(){return lc({defaultComponent:Ljn,pick:Ajn})}var mge=Object.freeze,$jn=Object.defineProperty,Rjn=(e,t)=>mge($jn(e,"raw",{value:mge(t||e.slice())})),gge;const Mjn=$(Q)(gge||(gge=Rjn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),z4e=h.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function Fjn(){const e=Ojn();return c.jsx(e,{})}function Ljn(){var e;const{name:t,title:n,tools:r}=cc(),o=oc(),i=FA(h.useCallback(x=>typeof x.tool=="string"?x.tool:void 0,[])),s=h.useMemo(()=>r.find(x=>x.name===i),[i,r]),[a,l]=h.useState(!1),[u,d]=h.useState(null),f=h.useMemo(()=>{const x=n||pn(t);return i?"".concat(pn(i)," | ").concat(x):x},[i,t,n]),p=!!(s!=null&&s.controlsDocumentTitle);h.useEffect(()=>{p||(document.title=f)},[f,p]);const m=h.useCallback(x=>{l(x)},[]),v=h.useMemo(()=>({searchFullscreenOpen:a,searchFullscreenPortalEl:u,onSearchFullscreenOpenChange:m}),[a,u,m]),g=Pjn(),y=!s&&(i==="desk"||!i)&&typeof window<"u"&&/\/desk(\/|$)/.test(window.location.pathname)&&r.some(x=>x.name==="structure");return h.useEffect(()=>{y&&o.navigateUrl({path:window.location.pathname.replace(/\/desk/,"/structure"),replace:!0})},[y,o]),c.jsxs(U,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[c.jsx(z4e.Provider,{value:v,children:c.jsx(g,{})}),y&&c.jsx(NSn,{}),r.length===0&&c.jsx(BSn,{}),r.length>0&&!s&&i&&!y&&c.jsx(zSn,{toolName:i}),a&&c.jsx(Mjn,{ref:d,overflow:"auto"}),c.jsx(g4e,{heading:"The ".concat(s==null?void 0:s.name," tool crashed"),children:c.jsx(Q,{flex:1,hidden:a,children:s&&i&&c.jsx(Y1t,{scope:i,__unsafe_disableScopedSearchParams:(e=s.router)==null?void 0:e.__unsafe_disableScopedSearchParams,children:c.jsx(h.Suspense,{fallback:c.jsx(Bjn,{}),children:h.createElement(s.component,{tool:s})})})})},s==null?void 0:s.name)]})}function Bjn(){return c.jsxs(U,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[c.jsx(L,{muted:!0,children:"Loading…"}),c.jsx(gr,{muted:!0})]})}function vge(e){const{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_globalStyles:i,unstable_history:s,unstable_noAuthBoundary:a}=e;return c.jsxs(LSn,{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_history:s,unstable_noAuthBoundary:a,children:[i&&c.jsx(pon,{}),c.jsx(Fjn,{})]})}function Njn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:o=!1,basePath:i}=r,s=PIe(e);return s.render(o?c.jsx(h.StrictMode,{children:c.jsx(vge,{config:t,basePath:i,unstable_globalStyles:!0})}):c.jsx(vge,{config:t,basePath:i,unstable_globalStyles:!0})),()=>s.unmount()}function yr(e){const t=Nn();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const yge="connecting";function zjn(e,t){const n=bl();return So(()=>n.pair.documentEvents(e,t).pipe(le(r=>r.type),le(r=>r!=="reconnect"),rt(r=>r?ve("connected"):Ko(200).pipe(yA("reconnecting"))),pi(yge),nr()),[n.pair,e,t],yge)}function V4e(){return Nn().dataset}function dc(e,t){const n=bl();return So(()=>n.pair.editOperations(e,t),[t,n.pair,e])}function H4e(e,t){const n=bl();return So(()=>n.pair.operationEvents(e,t),[n.pair,e,t])}function IH(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=bl();return So(()=>{const o=r.pair.editState(e,t).pipe(ga());return n==="low"?ln(o.pipe(Mi(1)),o.pipe(zEe(1),g7(()=>Ko(1e3)))):r.pair.editState(e,t)},[r.pair,e,t,n])}function U4e(){return Nn().projectId}function An(){return Nn().schema}const Vjn={isSyncing:!0},bge={isSyncing:!1};function W4e(e,t){const n=bl();return So(()=>n.pair.consistencyStatus(e,t).pipe(le(r=>r?bge:Vjn)),[n.pair,t,e],bge)}function ty(){return Nn().templates}const Q$=1e3*5,xge=1e3*20,JL=1e3*60,CS=JL*60;function ai(e){let{minimal:t,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Hjn(e,{minimal:t,agoSuffix:n}),[,o]=h.useReducer(i=>i+1,0);return h.useEffect(()=>{let i;function s(a){i=window.setTimeout(()=>{o(),i=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[o,r.refreshInterval]),r.timestamp}function Hjn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e instanceof Date?e:new Date(e);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),o=QPt(r,n),i=tIt(r,n);if(o||i)return t.minimal&&i===0?{timestamp:ci(n,"MMM d"),refreshInterval:null}:t.minimal?{timestamp:ci(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:ci(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const s=eIt(r,n),a=qr("week",s);if(s)return t.minimal?{timestamp:t.agoSuffix?"".concat(s,"w ago"):"".concat(s,"w"),refreshInterval:CS}:{timestamp:t.agoSuffix?"".concat(s," ").concat(a," ago"):"".concat(s," ").concat(a),refreshInterval:CS};const l=LTe(r,n),u=qr("days",l);if(l){if(t.minimal){const x=t.agoSuffix?"".concat(l,"d ago"):"".concat(l,"d");return{timestamp:l===1?"yesterday":x,refreshInterval:CS}}const y=t.agoSuffix?"".concat(l," ").concat(u," ago"):"".concat(l," ").concat(u);return{timestamp:l===1?"yesterday":y,refreshInterval:CS}}const d=GPt(r,n),f=qr("hour",d);if(d)return t.minimal?{timestamp:t.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:JL}:{timestamp:t.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:JL};const p=KPt(r,n),m=qr("minute",p);if(p)return t.minimal?{timestamp:t.agoSuffix?"".concat(p,"m ago"):"".concat(p,"m"),refreshInterval:xge}:{timestamp:t.agoSuffix?"".concat(p," ").concat(m," ago"):"".concat(p," ").concat(m),refreshInterval:xge};const v=JPt(r,n),g=qr("second",v);return v>10?t.minimal?{timestamp:t.agoSuffix?"".concat(v,"s ago"):"".concat(v,"s"),refreshInterval:Q$}:{timestamp:t.agoSuffix?"".concat(v," ").concat(g," ago"):"".concat(v," ").concat(g),refreshInterval:Q$}:{timestamp:"just now",refreshInterval:Q$}}const Ujn={validation:[],isValidating:!1};function OH(e,t){const n=bl();return So(()=>n.pair.validation(e,t),[n.pair,e,t],Ujn)}const wge={isLoading:!0,enabled:!0,features:[]};function Wjn(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})}let J$;function Y4e(e){const t=yr(un);return J$||(J$=Wjn({versionedClient:t}).pipe(Mo())),So(()=>J$.pipe(le(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(e)),features:r}}),pi(wge),Mn(r=>(console.error(r),ve({isLoading:!1,enabled:!0,features:[]})))),[e],wge)}const Yjn=Vh(e=>{let[t,n]=e;return jr(t.getUser(n).catch(r=>(console.error(r),null)))});function ny(e){const t=zH();return Yjn(h.useMemo(()=>[t,e],[e,t]))}function Jo(){const{currentUser:e}=Nn();return e}const Cge=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},_ge=e=>({type:"snapshot",document:e}),Sge=e=>e.document,qjn=e=>{const t=new kr,n=new mA(!0),r=new kr,o=new kr,i=new kr,s=new kr,a=x=>{const b=new OUt(x);return b.onMutation=w=>{let{mutation:C,remote:_}=w;r.next({type:"mutation",document:Cge(b),mutations:C.mutations,origin:_?"remote":"local"})},b.onRemoteMutation=w=>{i.next({type:"remoteMutation",head:b.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},b.onRebase=(w,C,_)=>{o.next({type:"rebase",document:w,remoteMutations:C,localMutations:_})},b.onConsistencyChanged=w=>{n.next(w)},b.commitHandler=w=>s.next(w),b},l=e.pipe(ma((x,b)=>b.type==="snapshot"?(x&&x.commit(),a(b.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',b.type),null):x,null),pt(x=>x!==null),nr(),Ml(1),Rl()),u=e.pipe(pt(x=>x.type==="mutation"),nx(l),le(x=>{let[b,w]=x;return w.arrive(new Hc(b)),Cge(w)})),d=t.pipe(nx(l),_n(x=>{let[b,w]=x;b.type==="mutation"&&w.add(new Hc({mutations:b.mutations})),b.type==="commit"&&w.commit()}),Am(tr),ga()),f=x=>t.next(x),p=x=>f({type:"mutation",mutations:x}),m=x=>p([x]),v=()=>{l.pipe(Mi(1),_n(x=>x.commit())).subscribe()},g=ln(l.pipe(le(x=>x.LOCAL)),r.pipe(le(Sge)),o.pipe(le(Sge)),u).pipe(le(_ge),Ml(1),Rl()),y=ln(l.pipe(le(x=>x.document.HEAD),le(_ge)),i).pipe(Ml(1),Rl());return{updates$:ln(g,d,r,o),consistency$:n.pipe(nr(),Ml(1),Rl()),remoteSnapshot$:y,commitRequest$:s,addMutation:m,addMutations:p,commit:v}},Gjn=e=>t=>{const{_id:n,_rev:r,_updatedAt:o,...i}=t;return{_id:e,...i}},Ege=(e,t)=>{const n=qjn(t),r=Gjn(e),o={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:i=>i.map(s=>({patch:{...s,id:e}})),create:i=>({create:r(i)}),createIfNotExists:i=>({createIfNotExists:r(i)}),createOrReplace:i=>({createOrReplace:r(i)}),delete:()=>o,mutate:i=>n.addMutations(i),commit:()=>n.commit()}},Kjn={type:"pending",phase:"begin"},Zjn={type:"pending",phase:"end"};function Xjn(e){return e.type==="mutation"}function Qjn(e){return e.transactionTotalEvents>1}function Jjn(e){const t=BN(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function eTn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:o}=t;return xo(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(bF(s=>s.type==="welcome"?i().pipe(bF(a=>[kge(o,a.draft),kge(r,a.published)])):ve(s)),ma((s,a)=>{if(!Xjn(a))return{next:[a],buffer:[]};const l=s.buffer.length>0,u=Qjn(a);if(!u&&!l)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:s.buffer.concat(a)};const d=s.buffer.concat(a);return Jjn(d)?{next:d.concat(Zjn),buffer:[]}:{next:d.length===1?[Kjn]:[],buffer:d}},{next:[],buffer:[]}),ft(s=>s.next));function i(){return e.observable.getDocuments([o,r],{tag:"document.snapshots"}).pipe(le(s=>{let[a,l]=s;return{draft:a,published:l}}))}}function kge(e,t){return{type:"snapshot",documentId:e,document:t}}const jge=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function _S(e){return t=>({...t,version:e})}function tTn(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function nTn(e,t){return jr(tTn(e,t.mutation.params)).pipe(_n({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?t.cancel(n):t.failure(n)},next:()=>t.success()}))}function q4e(e,t){const{publishedId:n,draftId:r}=t,o=eTn(e,t).pipe(ga()),i=o.pipe(pt(d=>d.type==="reconnect")),s=Ege(r,o.pipe(pt(jge(r)))),a=Ege(n,o.pipe(pt(jge(n)))),l=o.pipe(pt(d=>d.type==="pending")),u=ln(s.commitRequest$,a.commitRequest$).pipe(ft(d=>nTn(e,d)),Am(tr),ga());return{transactionsPendingEvents$:l,draft:{...s,events:ln(u,i,s.events).pipe(le(_S("draft"))),consistency$:s.consistency$,remoteSnapshot$:s.remoteSnapshot$.pipe(le(_S("draft")))},published:{...a,events:ln(u,i,a.events).pipe(le(_S("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(le(_S("published")))}}}function du(e,t){const n=Object.create(null);return function(){const r=t(...arguments);return r in n||(n[r]=e(...arguments)),n[r]}}const jg=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0};function T_(e,t,n){var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}const HP=du((e,t,n)=>new mt(r=>{r.next(q4e(e,t))}).pipe(Ml(1),Rl()),T_);function rTn(e){return e.type==="snapshot"}function Tge(e){return{snapshots$:e.events.pipe(pt(rTn),le(t=>t.document),Ml(1),Rl()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const $H=du((e,t,n)=>HP(e,t,n).pipe(le(r=>{let{published:o,draft:i,transactionsPendingEvents$:s}=r;return{transactionsPendingEvents$:s,published:Tge(o),draft:Tge(i)}}),Ml(1),Rl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),oTn={enabled:!0},Age={enabled:!1},G4e=du((e,t,n)=>{const r=jg(e.schema,n);return $H(e.client,t,n).pipe(rt(o=>Go([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(le(i=>i.phase==="begin"?oTn:Age),pi(Age))])),le(o=>{let[i,s,a]=o;return{id:t.publishedId,type:n,draft:i,published:s,liveEdit:r,ready:!0,transactionSyncLock:a}}),pi({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),Ml(1),Rl())},(e,t,n)=>T_(e.client,t,n)),K4e=du((e,t,n)=>$H(e.client,t,n).pipe(rt(r=>Go([r.draft.snapshots$,r.published.snapshots$]).pipe(le(o=>{let[i,s]=o;return{...e,idPair:t,typeName:n,snapshots:{draft:i,published:s},draft:r.draft,published:r.published}}))),Ml(1),Rl()),(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),qj={disabled:e=>{let{snapshots:t}=e;return t.draft||t.published?!1:"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:o}=e;const i=t.observable.transaction().delete(r.publishedId);return jg(n,o)?i.commit({tag:"document.delete"}):i.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function e6(e){return kd(e)?e._strengthenOnPublish?Hi(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(e6):Object.fromEntries(Object.entries(e).map(t=>{let[n,r]=t;return[n,e6(r)]}))}const Z4e={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return jg(t,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const o=e6(Hi(r.draft,"_updatedAt")),i=t.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(i.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),i.createOrReplace({...o,_id:n.publishedId,_type:r.draft._type})):i.create({...o,_id:n.publishedId,_type:r.draft._type}),i.delete(n.draftId),i.commit({tag:"document.publish",visibility:"async"})}},X4e={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:o,published:i,typeName:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0;jg(t,s)?i.mutate([i.createIfNotExists({_type:s,...l}),...i.patch(a)]):o.mutate([o.createIfNotExists({...l,...n.published,_id:r.draftId,_type:s}),...o.patch(a)])}},Q4e={disabled:()=>!1,execute:e=>{let{draft:t,published:n}=e;return t.commit(),n.commit(),tr}},J4e={disabled:e=>{let{snapshots:t}=e;return t.draft?t.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return t.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},eLe={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return jg(t,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,o=t.observable.transaction().delete(n.publishedId);return r.published&&(o=o.createIfNotExists({...Hi(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},iTn=["_createdAt","_updatedAt"],tLe={disabled:e=>{let{snapshots:t}=e;return t.published||t.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(e,t)=>{let{schema:n,client:r,snapshots:o,typeName:i}=e;const s=o.draft||o.published;if(!s)throw new Error("cannot execute on empty document");return r.observable.create({...Hi(s,iTn),_id:jg(n,i)?t:vi(t),_type:s._type},{tag:"document.duplicate"})}},nLe={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:o,typeName:i}=e;const s=jg(r,i)?o.publishedId:o.draftId;return n.restore(o.publishedId,s,t)}},rLe=du((e,t,n)=>HP(e,t,n).pipe(rt(r=>{let{draft:o,published:i}=r;return Go([o.consistency$,i.consistency$])}),le(r=>{let[o,i]=r;return o&&i}),nr(),Ml(1),Rl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)});function sTn(e){return typeof e>"u"?ve(null):e}const aTn={del:qj,delete:qj,publish:Z4e,patch:X4e,commit:Q4e,discardChanges:J4e,unpublish:eLe,duplicate:tLe,restore:nLe},lTn=(e,t,n)=>{const r=aTn[e];return xo(()=>ln(ve(null),sTn(r.execute(t,...n)))).pipe(ylt())},oLe=new kr;function iLe(e,t,n,r){oLe.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const cTn=["publish","unpublish","discardChanges","delete"],sLe=du(e=>{const t=oLe.pipe(NEe(o=>o.idPair.publishedId),ft(o=>o.pipe(rt(i=>K4e(e,i.idPair,i.typeName).pipe(Mi(1),rt(s=>{const a=cTn.includes(i.operationName);a&&(s.published.commit(),s.draft.commit());const l=rLe(e.client,i.idPair,i.typeName).pipe(pt(Boolean));return(a?l.pipe(Mi(1)):ve(!0)).pipe(rt(()=>lTn(i.operationName,s,i.extraArgs)))}),le(()=>({type:"success",args:i})),Mn(s=>ve({type:"error",args:i,error:s})))))),ga()),n=1e3,r=t.pipe(pt(o=>o.type==="success"&&o.args.operationName==="patch"),lw(n,Gl,{leading:!0,trailing:!0}),_n(o=>{iLe("commit",o.args.idPair,o.args.typeName,[])}));return ln(t,r.pipe(Am(tr)))},e=>{var t,n;const r=e.client.config();return"".concat((t=r.dataset)!=null?t:"","-").concat((n=r.projectId)!=null?n:"")}),uTn=du((e,t,n)=>HP(e,t,n).pipe(rt(r=>{let{published:o,draft:i}=r;return ln(o.remoteSnapshot$,i.remoteSnapshot$)})),T_),dTn={isValidating:!0,validation:[]};function fTn(e){return fIe(e,(t,n)=>(kd(n)&&t.add(n._ref),t),new Set)}const hTn=[],pTn=(e,t)=>e(t).pipe(le(n=>{let{published:r}=n;return r.available})),mTn=200,gTn=1e3;function eR(){return Mo({bufferSize:1,refCount:!0})}const vTn=du((e,t,n)=>{let{draftId:r,publishedId:o}=t;const i=G4e(e,{draftId:r,publishedId:o},n).pipe(le(d=>{let{draft:f,published:p}=d;return f||p}),lw(mTn,Gl,{trailing:!0}),nr((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:dd(Hi(d,"_rev","_updatedAt"),Hi(f,"_rev","_updatedAt"))),eR()),a=i.pipe(le(d=>fTn(d)),ft(d=>jr(d))).pipe(NEe(d=>d,{duration:()=>Ko(1e3*60*30)}),ft(d=>d.pipe(plt(),ft(f=>pTn(e.observeDocumentPairAvailability,f).pipe(le(p=>[f,p]))))),ma((d,f)=>{let[p,m]=f;return d[p]===m?d:{...d,[p]:m}},{}),nr(dd),eR()),l=d=>{let{id:f}=d;return To(a.pipe(BEe(p=>f in p),le(p=>p[f])))},u=a.pipe(zEe(1),lw(gTn,Gl,{leading:!0,trailing:!0}));return Go([i,Kr(ve(null),u)]).pipe(le(d=>{let[f]=d;return f}),ez(d=>xo(()=>d!=null&&d._type?Kr(ve({isValidating:!0,revision:d._rev}),iin(e.getClient,d,e.schema,{getDocumentExists:l}).pipe(le(f=>({validation:f,isValidating:!1})))):ve({validation:hTn,isValidating:!1}))),ma((d,f)=>({...d,...f}),dTn),eR())},(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),yTn=du((e,t,n)=>HP(e,t,n).pipe(rt(r=>{let{draft:o,published:i}=r;return ln(o.events,i.events)})),T_);function bu(e){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(e," before it was ready."))}}}const bTn={commit:bu("commit"),delete:bu("delete"),del:bu("del"),publish:bu("publish"),patch:bu("patch"),discardChanges:bu("discardChanges"),unpublish:bu("unpublish"),duplicate:bu("duplicate"),restore:bu("restore")},xTn=(e,t,n)=>function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iLe(e,t,n,o)};function xu(e,t,n){return{disabled:t.disabled(n),execute:xTn(e,n.idPair,n.typeName)}}function wTn(e){return{commit:xu("commit",Q4e,e),delete:xu("delete",qj,e),del:xu("delete",qj,e),publish:xu("publish",Z4e,e),patch:xu("patch",X4e,e),discardChanges:xu("discardChanges",J4e,e),unpublish:xu("unpublish",eLe,e),duplicate:xu("duplicate",tLe,e),restore:xu("restore",nLe,e)}}const CTn=du((e,t,n)=>{const r=sLe(e),i=K4e(e,t,n).pipe(le(wTn));return Kr(ve(bTn),ln(r.pipe(ft(()=>tr)),i)).pipe(Mo({refCount:!0,bufferSize:1}))},(e,t,n)=>T_(e.client,t,n)),_Tn=(e,t,n,r)=>xo(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),STn=(e,t,n,r)=>xo(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function Dge(e){return e.type==="welcome"}function ETn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof t=="string"?t:t.fetch,i=typeof t=="string"?t:t.listen,s=STn(e,i,n,r).pipe(ft((f,p)=>p===0&&!Dge(f)?ud(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):ve(f)),ga()),[a,l]=m7(s,Dge),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>_Tn(e,o,n,r);return ln(a.pipe(Mi(1)),l.pipe(pt(u),lw(r.throttleTime||1e3,Gl,{leading:!0,trailing:!0}))).pipe(ez(f=>f.type==="mutation"&&f.visibility!=="query"?Ko(1200).pipe(ft(d)):d()))}function kTn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return ve(n);const r="*[_id in [$documentId, $draftId]]._type",o=Fn(t),i=vi(o);return e.observable.fetch(r,{documentId:o,draftId:i}).pipe(le(s=>s[0]))}function Vm(e){return Tr(e)}const jTn=["_key","_ref","_weak","_type"];function TTn(e){return e&&e.length>0?'"'.concat(e,'"'):e}function Pge(e,t){const n=r=>'Template "'.concat(t.id,'" initial value: ').concat(r);if(!Vm(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return t6(e)}catch(r){throw r.message=n(r.message),r}}function t6(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(e))return e.map((o,i)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(Ur(t),'")'));return t6(o,t.concat(i),!0)});if(!Vm(e))return e;const r=n&&!e._key?{_key:qC()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&ATn(e,t),Object.keys(e).reduce((o,i)=>(o[i]=t6(e[i],t.concat([i])),o),r)}function ATn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e._type&&e.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(Ur(t),'"'));const n=Object.keys(e).filter(r=>!jTn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(TTn).join(", "),' at path "').concat(Ur(t),'"'))}}function RH(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const o=t[r],i=e[r];Vm(o)&&Vm(i)&&(n[r]=RH(i,o))}),n}function DTn(e){return Vm(e)&&typeof e.serialize=="function"}async function UP(e,t,n){return typeof e=="function"?e(t,n):e}async function MH(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(DTn(t))return MH(e,t.serialize(),n,r);const{id:o,schemaType:i,value:s}=t;if(!s)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let a=await UP(s,n,r);if(!Vm(a))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));Vm(a)&&!Object.keys(a).length&&(a={_type:i}),a=Pge(a,t);const l=e.get(i);if(!l)throw new Error('Could not find schema type with name "'.concat(i,'".'));const u=RH(await WP(l,n,FH,r)||{},a);return Pge(u,t)}function PTn(e,t){const n=Fs(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const FH=10;function WP(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:FH,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):ul(e)?OTn(e,t,n,r):tc(e)?ITn(e,t,n,r):UP(e.initialValue,t,r)}async function ITn(e,t,n,r){const o=await UP(e.initialValue,void 0,r);if(Array.isArray(o))return Promise.all(o.map(async i=>{const s=PTn(e,i);return ul(s)?{...i,...await WP(s,t,n-1,r),_key:qC()}:i}))}async function OTn(e,t,n,r){const o={...await UP(e.initialValue,t,r)||{}},i={};await Promise.all(e.fields.map(async a=>{const l=await WP(a.type,t,n-1,r);l!=null&&(i[a.name]=l)}));const s=RH(i,o);if(!HB(s))return e.name!=="object"&&(s._type=e.name),s}const Ige={type:"loading"};function $Tn(e,t,n,r,o){const i=n.observePaths({_type:"reference",_ref:vi(r.documentId)},["_type"]),s=n.observePaths({_type:"reference",_ref:Fn(r.documentId)},["_type"]);return ln(i.pipe(le(l=>({draft:l}))),s.pipe(le(l=>({published:l})))).pipe(ma((l,u)=>({...l,...u}),{}),pt(l=>"draft"in l&&"published"in l),le(l=>l.draft||l.published),nr((l,u)=>!!l!=!!u),v7(25)).pipe(rt(l=>{if(l)return ve({type:"success",value:null});if(!r.templateName)return ve({isResolving:!1,initialValue:void 0});const u=t.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),ve({isResolving:!1,initialValue:void 0});const d=jr(MH(e,u,r.templateParams,o)).pipe(le(f=>({isResolving:!1,initialValue:f}))).pipe(Mn(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),ve({type:"error",error:f}))));return ln(ve({isResolving:!0}),d).pipe(rt(f=>{let{isResolving:p,initialValue:m,resolveError:v}=f;return ve(v?{type:"error",message:"Failed to resolve initial value"}:p?Ige:{type:"success",value:m})}))}),pi(Ige),nr())}function rb(e){if(Zz(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:vi(e)}}function RTn(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:o,schema:i}=e;const s=n.unstable_observeDocumentPairAvailability,a=t(un),l={client:a,getClient:t,observeDocumentPairAvailability:s,historyStore:r,schema:i};return{checkoutPair(u){return q4e(a,u)},initialValue(u,d){return $Tn(i,o,n,u,d)},listenQuery(u,d,f){return ETn(a,u,d,f)},resolveTypeForDocument(u,d){return kTn(a,u,d)},pair:{consistencyStatus(u,d){return rLe(l.client,rb(u),d)},documentEvents(u,d){return yTn(l.client,rb(u),d)},editOperations(u,d){return CTn(l,rb(u),d)},editState(u,d){return G4e(l,rb(u),d)},operationEvents(u,d){return sLe({client:a,historyStore:r,schema:i}).pipe(pt(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),le(f=>{const{operationName:p,idPair:m}=f.args;return f.type==="success"?{type:"success",op:p,id:m.publishedId}:{type:"error",op:p,id:m.publishedId,error:f.error}}))},validation(u,d){return vTn(l,rb(u),d)}}}}const Oge={isLoaded:!1,documentType:void 0};function MTn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=bl(),r=Fn(e),o=!!(t&&t!=="*"),i=h.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[s,a]=h.useState(o?i:Oge);return h.useEffect(()=>a(Oge),[r,t]),h.useEffect(()=>{if(o)return;const l=n.resolveTypeForDocument(r,t).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>l.unsubscribe()},[n,r,t,o]),o?i:s}function FTn(e,t){const n=Ki(),r=h.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):ve(void 0),[e,n,t]);return t$e(r)}function LTn(e){const{documentId:t,documentType:n,templateName:r,templateParams:o}=e,i=si(o),s=bl(),a=LH(),l=h.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=h.useState({loading:!1,error:null,value:l});return h.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:i};if(!r){d({loading:!0,error:null,value:l});return}const m=s.initialValue(f,a).subscribe(v=>{v.type==="loading"&&d({loading:!0,error:null,value:l}),v.type==="success"&&d({loading:!1,error:null,value:v.value?{...l,...v.value}:l}),v.type==="error"&&d({loading:!1,error:v.error,value:l})});return d({loading:!0,error:null,value:l}),()=>m.unsubscribe()},[l,t,s,n,r,i,a]),u}function LH(){const e=Nn(),t=An(),n=Jo(),r=U4e(),o=V4e(),i=e.getClient;return h.useMemo(()=>({projectId:r,dataset:o,getClient:i,schema:t,currentUser:n}),[i,t,n,r,o])}function BH(){const e=LH();return h.useCallback((t,n)=>WP(t,n,FH,e),[e])}function BTn(e,t){const n=e.get(t);if(!n)throw new Error("No such schema type: ".concat(t));return n}function NTn(e){let{grantsStore:t,permission:n,draft:r,published:o,liveEdit:i}=e;const s=r||o,a=s===r?"draft":"published",{checkDocumentPermission:l}=t;switch(n){case"delete":return i?[["delete published document (live-edit)",l("update",o)]]:[["delete draft document",l("update",r)],["delete published document",l("update",o)]];case"discardDraft":return i?[]:[["delete draft document",l("update",r)]];case"publish":return i?[]:[["update published document at its current state",l("update",o)],["delete draft document",l("update",r)],["create published document from draft",l("create",r&&{...r,_id:Fn(r._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",l("create",r)],["delete published document",l("update",o)],["create draft document from published version",l("create",o&&{...o,_id:vi(o._id)})]];case"update":return i?[["update published document (live-edit)",l("update",o)]]:[["update ".concat(a," document"),l("update",s)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",l("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),l("create",{...s,_id:vi("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function zTn(e){let{client:t,grantsStore:n,schema:r,id:o,permission:i,type:s}=e;if(s==="*")return ve({granted:!1,reason:"Type specified was `*`"});const a=!!BTn(r,s).liveEdit;return $H(t,{draftId:vi(o),publishedId:Fn(o)},s).pipe(rt(l=>Go([l.draft.snapshots$,l.published.snapshots$]).pipe(le(u=>{let[d,f]=u;return{draft:d,published:f}}))),rt(l=>{let{draft:u,published:d}=l;const f=NTn({grantsStore:n,permission:i,draft:u,published:d,liveEdit:a}).map(p=>{let[m,v]=p;return v.pipe(le(g=>{let{granted:y,reason:x}=g;return{granted:y,reason:y?"":"not allowed to ".concat(m,": ").concat(x),label:m,permission:i}}))});return f.length?Go(f).pipe(le(p=>{const m=p.every(g=>g.granted),v=m?"":"Unable to ".concat(i,`:
	`).concat(p.filter(g=>!g.granted).map(g=>g.reason).join(`
	`));return{granted:m,reason:v}})):ve({granted:!0,reason:""})}))}const VTn=Vh(zTn);function Gh(e){let{id:t,type:n,permission:r,client:o,schema:i,grantsStore:s}=e;const a=yr(un),l=An(),u=VH(),d=h.useMemo(()=>o||a,[a,o]),f=h.useMemo(()=>i||l,[l,i]),p=h.useMemo(()=>s||u,[u,s]);return VTn(h.useMemo(()=>({client:d,schema:f,grantsStore:p,id:t,permission:r,type:n}),[d,p,t,r,f,n]))}function aLe(e){let{grantsStore:t,document:n,permission:r}=e;const{checkDocumentPermission:o}=t;return o(r,n)}const HTn=Vh(aLe);function UTn(e){let{document:t,permission:n,...r}=e;const o=VH();return HTn({grantsStore:r.grantsStore||o,document:t,permission:n})}function lLe(e){return typeof e=="object"&&e!==null&&"serialize"in e?lLe(e.serialize()):e}function WTn(e){let{grantsStore:t,templateItems:n,templates:r,schema:o,context:i}=e;return n!=null&&n.length?Go(n.map(lLe).map(async s=>{const a=r.find(u=>u.id===s.templateId);if(!a)throw new Error('template not found: "'.concat(s.templateId,'"'));const l=await MH(o,a,s.parameters,i);return{template:a,item:s,resolvedInitialValue:l}}).map(s=>jr(s).pipe(rt(a=>{let{item:l,resolvedInitialValue:u,template:d}=a;const f=o.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const p=f==null?void 0:f.liveEdit,{initialDocumentId:m="dummy-id"}=l;return aLe({grantsStore:t,permission:"create",document:{_id:p?Fn(m):vi(m),...u}}).pipe(le(v=>{let{granted:g,reason:y}=v;const x=l.title||d.title;return{...l,granted:g,reason:y,resolvedInitialValue:u,template:d,title:x,subtitle:f.title===x?void 0:f.title,description:l.description||d.description,icon:l.icon||d.icon}}))})))):ve([])}const YTn=Vh(WTn);function NH(e){let{templateItems:t,...n}=e;const r=An(),o=ty(),i=VH(),s=LH();return YTn({templateItems:t,grantsStore:n.grantsStore||i,schema:n.schema||r,templates:n.templates||o,context:s})}const $ge="_debug_",qTn=typeof window>"u"?ve({}):Vi(window,"hashchange"),cLe=Kr(ve(0),qTn).pipe(le(()=>typeof document>"u"?"#":document.location.hash),nr(),le(e=>e.substring(1).split(";").filter(t=>t.toLowerCase().startsWith($ge)).map(t=>t.substring($ge.length)))),GTn=cLe.pipe(le(e=>e.find(t=>t.startsWith("roles="))),le(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),KTn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Rge=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],ZTn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],XTn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],Mge=[{filter:'_id in path("**")',permissions:["read","history"]}],QTn=[{filter:"!locked",permissions:["read","create","update"]}],JTn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],Fge={administrator:KTn,editor:Rge,developer:ZTn,contributor:XTn,viewer:Mge,restricted:JTn,requiresApproval:QTn,read:Mge,write:Rge},eAn=GTn.pipe(le(e=>e.length?e.filter(t=>!!t&&t in Fge).flatMap(t=>Fge[t]||[]):null));async function tAn(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function nAn(e){const t={};return e!==null&&(t.identity=e.id),t}const tR=new Map;async function rAn(e,t,n){tR.has(t)||tR.set(t,EIe("*[".concat(t,"]")));const r=tR.get(t),o=nAn(e),{identity:i}=o,s={...o},a=await(await bIe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}function oAn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=xo(()=>ve(r.config())).pipe(rt(s=>{let{projectId:a,dataset:l}=s;if(!a||!l)throw new Error("Missing projectId or dataset");return tAn(r,a,l)})),i=eAn.pipe(rt(s=>s?ve(s):o),Ml(1),BYt(1e3));return{checkDocumentPermission(s,a){return i.pipe(rt(l=>iAn(n,l,s,a)),nr(dd))}}}async function iAn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await rAn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}async function sAn(e,t){const n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{credentials:"include"},r=await fetch(e,n);return aAn(r)}function aAn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(o){n=t.getReader();const i=new TextDecoder;let s="";n.read().then(function a(l){if(l.done){if(r)return;if(s=s.trim(),s.length===0){o.close();return}o.enqueue(JSON.parse(s)),o.close();return}s+=i.decode(l.value,{stream:!0});const u=s.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{o.enqueue(JSON.parse(f))}catch(p){o.error(p),r=!0,n.cancel();return}}return s=u[u.length-1],n.read().then(a).catch(d=>o.error(d))}).catch(a=>o.error(a))},cancel(){r=!0,n.cancel()}})}function Lge(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function lAn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function Bge(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class cAn{constructor(t){this.earliestTransactionId=null,this.timeline=t,this._states={draft:Lge(t.draftId),published:Lge(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),Bge(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):Bge(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=lAn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=Y4(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}class uAn{constructor(t,n,r,o){this.timeline=t,this.start=r,this.end=o,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return Nge(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return Nge(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function Nge(e){return e.draft||e.published}const dAn=50;class fAn{constructor(t){this.version=0,this.selectionState="inactive",this._fetchMore=!1,this._fetchAtLeast=0,this._isRunning=!1,this._isSuspended=!1,this._didErr=!1,this._since=null,this._sinceTime=null,this._rev=null,this._revTime=null,this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new cAn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new uAn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error("ObjectDiff expected, got ".concat(t.type))}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(t=this.handler)==null||t.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),o=dAn;let i="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),s=this._aligner.earliestTransactionId;s&&(i+="&toTransaction=".concat(s));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(t,",").concat(n,"?").concat(i)),u=(await sAn(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==s){if(this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),s=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory||(d<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}function hAn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function zge(e){return e.draft||e.published}class pAn{constructor(t,n,r,o){this.type="array",this.elements=[],this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=Gj(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class mAn{constructor(t,n,r,o){this.type="object",this.fields={},this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=Gj(r,this.value[t],this.extractor)}}class gAn{constructor(t,n,r,o){this.type="string",this.content=t,this.value=n,this.annotation=r,this.extractor=o}sliceAnnotation(t,n){const r=[];let o=0;function i(s,a){if(r.length>0){const l=r[r.length-1];if(hAn(l.annotation,a)){l.text+=s;return}}r.push({text:s,annotation:a})}for(const s of this.content.parts){const a=s.value.length,l=Math.max(0,t-o);if(l<a){const u=Math.min(a,n-o);if(u<=0)break;i(s.value.slice(l,u),this.extractor.fromValue(s))}o+=a}return r}}function Gj(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new pAn(e.content,t,r,n);case"object":return new mAn(e.content,t,r,n);case"string":return new gAn(e.content,t,r,n)}return sz(t,r)}function Vge(e,t,n){return n?n6(e,n.transactionIndex+1,n.chunk.index):t?n6(e,t.start,t.index):null}function Hge(e,t){return t?n6(e,t.transactionIndex,t.chunk.index):null}function n6(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const o=e.chunkByTransactionIndex(t,n);return o?{chunk:o,timestamp:r.timestamp,author:r.author}:null}function vAn(e,t,n,r,o,i){const s=Gj(n,r,{fromValue(l){return Vge(e,t,l.endMeta)},fromMeta(l){return Vge(e,t,l)}}),a=Gj(o,i,{fromValue(l){return Hge(e,l.startMeta)},fromMeta(l){return Hge(e,l)}});return zD(s,a)}class SS{constructor(){this._postive=[],this._negative=[]}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,o=n(this.get(r),t);Array.isArray(o)?(this.set(r,o[0]),this.addToEnd(o[1])):this.set(r,o)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,o=n(t,this.get(r));Array.isArray(o)?(this.set(r,o[1]),this.addToBeginning(o[0])):this.set(r,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function yAn(e){return e==="create"||e==="editDraft"}const bAn=5*60*1e3;function xAn(e,t){return Date.parse(t)-Date.parse(e)<bAn}function Uge(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=Yge(e.draftState,t.draftState),r=Yge(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(yAn(e.type)&&t.type==="editDraft"&&xAn(e.endTimestamp,t.startTimestamp)){const o=new Set;for(const i of e.authors)o.add(i);for(const i of t.authors)o.add(i);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:o,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function Wge(e){const t=!!e;return e&&r6(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function wAn(e){const t=Wge(e.draftEffect),n=Wge(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function nR(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&r6(e.draftEffect.apply),o=e.publishedEffect&&r6(e.publishedEffect.apply),i=wAn(e);return{index:0,id:e.id,type:i,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?o?"missing":"present":"unknown"}}function Yge(e,t){return t==="unknown"?e:t}function r6(e){return e[0]===0&&e[1]===null}let CAn=class{constructor(t){this.reachedEarliestEntry=!1,this._transactions=new SS,this._chunks=new SS,this._possiblePendingTransactions=new Map,this.publishedId=t.publishedId,this.draftId="drafts.".concat(t.publishedId),t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let i=o;i>=r;i--)n.push(t(this._chunks.get(i),i));return n}reset(){this._transactions=new SS,this._chunks=new SS,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let i=r;i<=n;i++){const s=this._transactions.get(i);this._chunks.mergeAtEnd(nR(s),Uge)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let i=o-1;i>=t;i--){const s=this._transactions.get(i);this._chunks.mergeAtBeginning(nR(s),Uge)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=nR(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),o=n.shift(),i=Number(r);for(let s=this._chunks.lastIdx;s>=this._chunks.firstIdx;s--){const a=this._chunks.get(s);if(a.id===o)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return"".concat(t.endTimestamp.valueOf(),"/").concat(t.id)}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(r);if(!o)throw new Error("transaction does not belong in any chunk");if(t>=o.end)r++;else if(t<o.start)r--;else return o}}replayBackwardsBetween(t,n,r){let o=r.draft,i=r.published;for(let s=n;s>=t;s--){const a=this._transactions.get(s);a.draftEffect&&(o=Y4(o,a.draftEffect.revert)),a.publishedEffect&&(i=Y4(i,a.publishedEffect.revert))}return{draft:o,published:i}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,o){let i=kl.wrap(t.draft,null),s=kl.wrap(t.published,null);const a=_An(i,s),l=zge(t);let u=null;for(let p=r;p<=o;p++){const m=this._chunks.get(p);u||(u=m);for(let v=m.start;v<m.end;v++){const g=this._transactions.get(v),y={chunk:m,transactionIndex:v},x=i,b=s;g.draftEffect&&(i=kl.applyPatch(i,g.draftEffect.apply,y)),g.publishedEffect&&(s=kl.applyPatch(s,g.publishedEffect.apply,y));const w=kl.getType(x)!=="null",C=kl.getType(i)!=="null";kl.getType(s)!=="null"&&!C&&(s=kl.rebaseValue(x,s)),C&&!w&&(i=kl.rebaseValue(b,i))}}const d=kl.getType(i)==="null"?s:i,f=zge(n);return vAn(this,u,a,l,d,f)}};function _An(e,t){return kl.getType(e)==="null"?t:e}const qge=Object.create(null),SAn=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(t)?t:[t],{time:o,revision:i}=n;if(o&&i)throw new Error("getHistory can't handle both time and revision parameters");const s=e.config().dataset;let a="/data/history/".concat(s,"/documents/").concat(r.join(","));if(i)a="".concat(a,"?revision=").concat(i);else{const l=o||new Date().toISOString();a="".concat(a,"?time=").concat(l)}return e.request({url:a})},uLe=(e,t,n)=>{const r=Fn(t),o=vi(t),i="".concat(r,"@").concat(n),s=qge[i];if(s)return s;const a=e.config().dataset,l="/data/history/".concat(a,"/documents/").concat(r,",").concat(o,"?revision=").concat(n),u=e.request({url:l}).then(d=>{const f=d.documents||[],p=f.find(v=>v._id===r);return f.find(v=>v._id===o)||p});return qge[i]=u,u},EAn=e=>{let{client:t,documentId:n,documentType:r}=e;const o=new CAn({enableTrace:cu,publishedId:n});return new fAn({client:t,documentId:n,documentType:r,timeline:o})},kAn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:o})).toString("utf8").split(`
`).filter(Boolean).map(l=>JSON.parse(l))},jAn=e=>fIe(e,(t,n)=>kd(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function o6(e,t){return Array.isArray(e)?t(e.map(n=>o6(n,t)).filter(n=>typeof n<"u")):xt(e)?t(Object.keys(e).reduce((n,r)=>{const o=o6(e[r],t);return typeof o<"u"&&(n[r]=o),n},{})):t(e)}const TAn=(e,t)=>o6(e,n=>kd(n)?t(n):n),AAn=(e,t)=>TAn(e,n=>t[n._ref]?n:void 0);function DAn(e,t,n,r){return jr(uLe(e,t,r)).pipe(ft(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(t," at revision ").concat(r));const i=jAn(o).map(s=>'"'.concat(s,'": defined(*[_id=="').concat(s,'"]._id)')).join(",");return e.observable.fetch("{".concat(i,"}")).pipe(le(s=>AAn(o,s)))}),le(o=>{const{_updatedAt:i,...s}=o;return{...s,_id:n}}),ft(o=>e.observable.createOrReplace(o,{visibility:"async"})))}function PAn(e){let{client:t}=e;return{getDocumentAtRevision:(n,r)=>uLe(t,n,r),getHistory:(n,r)=>SAn(t,n,r),getTransactions:n=>kAn(t,n),restore:(n,r,o)=>DAn(t,n,r,o),getTimelineController:EAn}}const Gge={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function IAn(e){let{documentId:t,documentType:n,onError:r,rev:o,since:i}=e;const s=fLe(),a=h.useRef(null),l=h.useRef(Gge),u=yr(un),d=h.useMemo(()=>s.getTimelineController({client:u,documentId:t,documentType:n}),[u,t,n,s]),f=h.useMemo(()=>new mA(d),[d]);return h.useEffect(()=>(d.setRange(i||null,o||null),f.next(d),d.handler=(m,v)=>{m?f.error(m):setTimeout(()=>{v.setRange(i||null,o||null),f.next(v)},0)},d.resume(),()=>d.suspend()),[o,i,d,f]),h.useEffect(()=>(a.current||(a.current=uTn(u,{draftId:"drafts.".concat(t),publishedId:t},n).subscribe(m=>{d.handleRemoteMutation(m)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,t,n]),h.useMemo(()=>({findRangeForRev:m=>d.findRangeForNewRev(m),findRangeForSince:m=>d.findRangeForNewSince(m),loadMore:()=>{d.setLoadMore(!0),l.current.isLoading=!0},getSnapshot:()=>l.current,subscribe:m=>{const v=f.pipe(_n(g=>g.setLoadMore(!1)),le(g=>{var y;const x=g.timeline.mapChunks(_=>_),b=x.filter(_=>!["delete","initial"].includes(_.type)),w=!g.timeline.reachedEarliestEntry,C=!["invalid","loading"].includes(g.selectionState);return{chunks:x,diff:g.sinceTime?g.currentObjectDiff():null,isLoading:!1,isPristine:C?x.length===0&&w===!1:null,hasMoreChunks:!g.timeline.reachedEarliestEntry,lastNonDeletedRevId:(y=b==null?void 0:b[0])==null?void 0:y.id,onOlderRevision:g.onOlderRevision(),realRevChunk:g.realRevChunk,revTime:g.revTime,selectionState:g.selectionState,sinceAttributes:g.sinceAttributes(),sinceTime:g.sinceTime,timelineDisplayed:g.displayed(),timelineReady:C}}),nr(V6),Mn(g=>(r==null||r(g),ve(Gge))),_n(g=>{l.current=g}),_n(m)).subscribe();return()=>v.unsubscribe()}}),[d,r,f])}function go(e,t){return TB.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const OAn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],$An=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],RAn=xo(()=>Ko(0,1e4)).pipe(Am(OAn),le((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:Mqt($An)}]})),Mo()),MAn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(e)))},FAn=(e,t)=>{const n=e.request("presence").pipe(le(MAn)),r=o=>o.type==="rollCall"?e.request("presence_rollcall",{session:t}):o.type==="state"?e.request("presence_announce",{data:{locations:o.locations,sessionId:t}}):o.type==="disconnect"?e.request("presence_disconnect",{session:t}):tr;return[n.pipe(ga()),r]},dLe="presence_session_id",LAn=()=>b_t(16);function BAn(){try{return window.sessionStorage.getItem(dLe)}catch{}return null}function NAn(e){try{window.sessionStorage.setItem(dLe,e)}catch{}return e}const ES=BAn()||NAn(LAn());function zAn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[o,i]=FAn(t,ES),s=new mA([]),a=s.pipe(nr()),l=A=>{s.next(A)},u=A=>i({type:"state",locations:A}),d=()=>i({type:"rollCall"}),f=o.pipe(pt(A=>A.type==="rollCall"),pt(A=>A.sessionId!==ES)),m=Ko(0,3e4),v=xo(()=>ln(a,f)).pipe(rt(()=>m),nx(s),le(A=>{let[,D]=A;return D}),llt(200),rt(A=>u(A)),Am(tr),ga()),g=xo(()=>d()).pipe(Am(tr)),y=n.connectionStatus$.pipe(le(A=>A.type),pt(A=>A==="connected"||A==="error"),nr()),x=cLe.pipe(le(A=>A.find(D=>D.startsWith("presence="))),le(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(D=>D.trim()))||[])),b=x.pipe(pt(A=>A.includes("fake_others")),_n(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),wlt(RAn)),w=x.pipe(le(A=>A.includes("show_own"))),C=ln(g,o).pipe(pt(A=>A.type==="state"||A.type==="disconnect")),_=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),S=ln(C,b).pipe(ma((A,D)=>D.type==="disconnect"?Hi(A,D.sessionId):{...A,[D.sessionId]:_(D)},{})),E=y.pipe(rt(A=>A==="connected"?ln(S,v):p7),le(A=>Object.values(A)),rt(A=>{const D=wo(A.map(P=>P.userId));return jr(r.getUsers(D)).pipe(le(P=>A.map(I=>({user:P.find(R=>R.id===I.userId),session:I})).filter(j)))}),y7(Vi(window,"beforeunload").pipe(rt(()=>i({type:"disconnect"})))),Mo({refCount:!0,bufferSize:1}));function j(A){return!!(A.user&&A.session)}const k=E.pipe(le(A=>{const D=BN(A.map(P=>P.session),P=>P.userId);return Object.keys(D).map(P=>{var I;return{user:(I=A.find(R=>R.user.id===P))==null?void 0:I.user,sessions:D[P]}})}),nx(w),le(A=>{let[D,P]=A;return D.filter(I=>P?!0:!I.sessions.some(O=>O.sessionId===ES))}),le(A=>A.map(D=>{var P;return{user:D.user,status:"online",lastActiveAt:(P=D.sessions.sort()[0])==null?void 0:P.lastActiveAt,locations:$n((D.sessions||[]).map(I=>I.locations||[])).map(I=>({type:I.type,documentId:I.documentId,path:I.path,lastActiveAt:I.lastActiveAt})).reduce((I,R)=>I.concat(R),[])}})));return{setLocation:l,reportLocations:u,debugPresenceParam$:x,globalPresence$:k,documentPresence:A=>E.pipe(nx(w),rt(D=>{let[P,I]=D;return jr(P).pipe(pt(R=>I||R.session.sessionId!==ES),blt(R=>(R.session.locations||[]).filter(O=>O.documentId===A).map(O=>({user:R.user,lastActiveAt:R.session.lastActiveAt,path:O.path||[],sessionId:R.session.sessionId}))),IEe())}))}}function VAn(){const[e,t]=h.useState([]),n=HH();return h.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function A_(e){const t=HH(),[n,r]=h.useState([]);return h.useEffect(()=>{const o=t.documentPresence(e).subscribe(r);return()=>{o.unsubscribe()}},[e,t]),n}function HAn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function o(){return r.observable.request({url:"/projects/".concat(n)})}function i(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})}return{get:o,getDatasets:i}}const UAn=(e,t)=>{try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),t}},WAn=(e,t)=>{const n=localStorage.getItem(e);return ve(n===null?t:UAn(n,t))},YAn=(e,t)=>(typeof t>"u"||t===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),ve(t)),qAn={get:WAn,set:YAn},Kj=Object.create(null),GAn=(e,t)=>ve(e in Kj?Kj[e]:t),KAn=(e,t)=>(typeof t>"u"||t===null?delete Kj[e]:Kj[e]=t,ve(t)),ZAn={get:GAn,set:KAn};let ob=null;function XAn(){if(ob!==null)return ob;const e="__test__";try{localStorage.setItem(e,e),localStorage.removeItem(e),ob=!0}catch{ob=!1}return ob}function QAn(){return XAn()?qAn:ZAn}function JAn(){const e=QAn(),t=new kr,n=(a,l)=>"".concat(a,"::").concat(l),r=t.pipe(rt(a=>e.set(a.key,a.value).pipe(le(l=>({key:a.key,value:l}))))),o=(a,l)=>ln(e.get(a,l),r.pipe(pt(u=>u.key===a),le(u=>u.value))),i=(a,l)=>{t.next({key:a,value:l})},s=a=>({forKey:l=>{const u=n(a,l);return{listen:d=>o(u,d),set:d=>i(u,d),del:()=>i(u,void 0)}},listen:(l,u)=>o(n(a,l),u),set:(l,u)=>i(n(a,l),u),del:l=>i(n(a,l),void 0),forNamespace:l=>s(n(a,l))});return{forNamespace:s}}const eDn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function tDn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=new qqt(async s=>{const a=await r.request({uri:"/users/".concat(s.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return s.map(d=>u[d]||null)},{batchScheduleFn:s=>Qqt(s)}),i=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return o.prime("me",i),i!=null&&i.id&&o.prime(i.id,i),eDn.forEach(s=>o.prime(s.id,s)),{getUser:async s=>{try{return await o.load(s)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async s=>(await o.loadMany(s)).filter(l=>xt(l)&&typeof l.id=="string")}}function zH(){const{getClient:e,currentUser:t}=Nn(),n=Bd(),r=e(un);return h.useMemo(()=>{const o=n.get({namespace:"userStore",dependencies:[r,t]})||tDn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:o}),o},[r,t,n])}function VH(){const{getClient:e}=Nn(),t=e(un),n=Jo(),r=Bd();return h.useMemo(()=>{const o=r.get({namespace:"grantsStore",dependencies:[t,n]})||oAn({client:t,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[t,n],value:o}),o},[t,n,r])}function fLe(){const e=yr(un),t=Bd();return h.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||PAn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function Ki(){const e=yr(un),t=Bd();return h.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||Osn({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function bl(){const e=Nn().getClient,t=An(),n=ty(),r=Bd(),o=fLe(),i=Ki();return h.useMemo(()=>{const s=r.get({namespace:"documentStore",dependencies:[e,i,o,t]})||RTn({getClient:e,documentPreviewStore:i,historyStore:o,initialValueTemplates:n,schema:t});return r.set({namespace:"documentStore",dependencies:[e,i,o,t],value:s}),s},[e,i,o,r,t,n])}function nDn(){const{bifur:e}=Nn().__internal,t=Bd();return h.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||hon({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function HH(){const{__internal:{bifur:e}}=Nn(),t=Bd(),n=zH(),r=nDn();return h.useMemo(()=>{const o=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||zAn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:o}),o},[e,r,t,n])}function rDn(){const e=yr(un),t=Bd();return h.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||HAn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function oDn(){const e=Bd(),t=cc();return h.useMemo(()=>{const n=e.get({dependencies:[t],namespace:"settingsStore"})||JAn();return e.set({dependencies:[t],namespace:"settingsStore",value:n}),n},[e,t])}const iDn=/[^\p{Alpha}\p{White_Space}]/gu,sDn=new RegExp("\\p{White_Space}+","u"),aDn={small:0,medium:1,large:2};function lDn(e){const t=e.replace(iDn,"").split(sDn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function ll(e){const{user:t,...n}=e;return xt(t)?n.withTooltip?c.jsx(cDn,{...n,user:t}):c.jsx(hLe,{...n,user:t}):c.jsx(uDn,{...e,user:t})}function cDn(e){const{user:{displayName:t}}=e;return c.jsx(it,{content:c.jsx(M,{padding:2,children:c.jsx(L,{size:1,children:t})}),placement:"top",portal:!0,children:c.jsx("div",{style:{display:"inline-block"},children:c.jsx(hLe,{...e})})})}const hLe=h.forwardRef(function(t,n){const{user:r,animateArrowFrom:o,position:i,size:s,status:a,tone:l,...u}=t,[d,f]=h.useState(null),p=mon(r.id),m=d||r==null?void 0:r.imageUrl;return c.jsx(TSe,{animateArrowFrom:o,arrowPosition:i,color:p.name,"data-legacy-tone":l,initials:(r==null?void 0:r.displayName)&&lDn(r.displayName),src:m,onImageLoadError:f,ref:n,size:typeof s=="string"?aDn[s]:s,status:a,title:r==null?void 0:r.displayName,...u})});function uDn(e){let{user:t,...n}=e;const[r]=ny(t);return r?c.jsx(ll,{...n,user:r}):null}var Kge=Object.freeze,dDn=Object.defineProperty,fDn=(e,t)=>Kge(dDn(e,"raw",{value:Kge(t||e.slice())})),Zge;const hDn=$(q9)(e=>{let{theme:t}=e;const n=t.sanity.color.dark?50:700,r=t.sanity.color.dark?700:100,o=fe.purple[r].hex,i=fe.purple[n].hex;return de(Zge||(Zge=fDn([`
    background-color: `,`;
    box-shadow: inset 0 0 0 1px `,`;
    color: `,`;
  `])),o,o,i)});function pDn(e){const{fontSize:t=1,children:n="Beta",...r}=e;return c.jsx(hDn,{...r,fontSize:t,children:n})}function Dp(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[o,...i]=t,s=Lr(o)?o._key:String(o),a=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...a,[s]:Dp(a[s]||{},i,n)}}}const UH=20,mDn=3,Pf={name:"all-fields",title:"All fields",hidden:!1};function gDn(e){return ul(e.schemaType)}function vDn(e){return $6(e.schemaType)}function pLe(e){return"_allMembers"in e&&Array.isArray(e._allMembers)}function yDn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...mLe(e,t)]}function mLe(e,t){return t.length===0?[]:gDn(e)&&pLe(e)?gLe(e,t):vDn(e)?vLe(e,t):[]}function gLe(e,t){var n,r;if(t.length===0)return[];const[o,...i]=t,s=e._allMembers.find(v=>v.kind==="fieldSet"&&v.fieldSet.members.some(g=>g.kind==="field"&&g.name===o)),l=(s?s.fieldSet.members:e._allMembers).find(v=>v!==null&&v.kind==="field"&&v.name===o),u=e.schemaType.fields.find(v=>v.name===o),d=(n=e.groups.find(v=>v.selected))==null?void 0:n.name,f=(r=(e.schemaType.groups||[]).find(v=>v.default))==null?void 0:r.name,p=d&&(d===Pf.name||u&&NC(u.group).includes(d)),m=[];return p||m.push({type:"setSelectedGroup",path:e.path,groupName:f||Pf.name}),s&&m.push({type:"expandFieldSet",path:s.fieldSet.path}),l&&pLe(l.field)&&(XV(l)?m.push(...vLe(l.field,i)):sMe(l)&&m.push(...gLe(l.field,i))),m}function vLe(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Lr(n))throw new Error("Expected path segment to be an object with a _key property");const o=e.members.find(i=>i.key===n._key);return o?mLe(o.item,r):[]}function vo(e,t){const{currentUser:n,document:r,parent:o,value:i}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:o,value:i,currentUser:n})===!0}function bDn(e,t){const n=Fs(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function xDn(e,t){const n=Fs(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function WH(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=mDn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function yLe(e,t,n){return n.name===Pf.name?!0:t===void 0?!1:e.length===0&&n.name===Pf.name?!0:NC(t).includes(n.name)}function Xge(e){return typeof e>"u"||xt(e)}function wDn(e){return typeof e>"u"||Array.isArray(e)}function CDn(e){return typeof e>"u"||Array.isArray(e)}function _Dn(e){return e.length===0||e.every(t=>xt(t))}function SDn(e){const t=new Set;return e.reduce((n,r,o)=>(t.has(r._key)&&n.push([o,r._key]),t.add(r._key),n),[])}function EDn(e){return"_key"in e}function kDn(e){return e==null?void 0:e.every(t=>xt(t)&&EDn(t))}function p0(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!Wt(e,t)}function Qge(e){var t,n,r,o,i,s,a,l,u,d,f,p,m,v,g,y,x,b;const{parent:w,field:C,index:_}=e,S=qc([...w.path,C.name]),E=Fpn(C.type,w.level+1),j=w.value,k=w.comparisonValue;if(!Xge(j))throw new Error("Unexpected non-object value");const T=C.group?NC(C.group):[],A=yLe(w.groups,C.group,w.selectedGroup);if(ul(C.type)){const D=j==null?void 0:j[C.name],P=xt(k)?k==null?void 0:k[C.name]:void 0;if(!Xge(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:Fs(D),value:D}};const I={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(vo(C.type.hidden,I))return{kind:"hidden",key:"field-".concat(C.name),name:C.name,index:_};const O=w.readOnly||vo(C.type.readOnly,I),V=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[C.name],B=(o=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:o[C.name],H=(s=(i=w.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[C.name],W=YH({schemaType:C.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:D,changed:p0(D,P),comparisonValue:P,presence:w.presence,validation:w.validation,fieldGroupState:V,path:S,level:E,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:B,collapsedFieldSets:H,readOnly:O,changesOpen:w.changesOpen});if(W===null)return null;const z=WH(C.type.options,E),G=B?B.value:z.collapsed;return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:Ii(S,w.openPath),field:W,collapsed:G,collapsible:z.collapsible}}else if(tc(C.type)){const D=j==null?void 0:j[C.name],P=xt(k)?k==null?void 0:k[C.name]:void 0;if($6(C.type)){const I=typeof D<"u";if(I&&!wDn(D)){const z=Fs(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:z,value:D}}}if(I&&!_Dn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:D}};if(I&&!kDn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:D,schemaType:C.type}};const R=I?SDn(D):[];if(R.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:R,schemaType:C.type}};const O=(l=(a=w.fieldGroupState)==null?void 0:a.children)==null?void 0:l[C.name],V=(d=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:d[C.name],B=(p=(f=w.collapsedFieldSets)==null?void 0:f.children)==null?void 0:p[C.name],H=w.readOnly||vo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),W=TDn({schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,changed:p0(D,P),comparisonValue:P,fieldGroupState:O,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:V,collapsedFieldSets:B,level:E,path:S,readOnly:H});return W===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:Ii(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:W}}else{if(!CDn(D)){const H=Fs(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:H,value:D}}}const I=(v=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:v[C.name],R=(y=(g=w.collapsedPaths)==null?void 0:g.children)==null?void 0:y[C.name],O=(b=(x=w.collapsedFieldSets)==null?void 0:x.children)==null?void 0:b[C.name],V=w.readOnly||vo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),B=jDn({changed:p0(D,P),comparisonValue:P,schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,fieldGroupState:I,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:R,collapsedFieldSets:O,level:E,path:S,readOnly:V});return B===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:Ii(S,w.openPath),collapsible:!1,collapsed:!1,field:B}}}else{const D=j==null?void 0:j[C.name],P=xt(k)?k==null?void 0:k[C.name]:void 0,I={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(vo(C.type.hidden,I))return null;const O=w.readOnly||vo(C.type.readOnly,I),V=bLe({...w,comparisonValue:P,value:D,schemaType:C.type,path:S,readOnly:O});return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:Ii(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:V}}}function YH(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(e.level===UH)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},o=e.readOnly||vo(e.schemaType.readOnly,r),i=e.schemaType.groups||[],s=(n=i.find(w=>w.default)||Pf)==null?void 0:n.name,a=[Pf,...i].flatMap(w=>{var C;const _=vo(w.hidden,r),S=w.name===(((C=e.fieldGroupState)==null?void 0:C.value)||s),E=e.changesOpen?w.name===Pf.name:S,j=e.changesOpen?!E:!1;return _?[]:[{disabled:j,icon:w==null?void 0:w.icon,name:w.name,selected:E,title:w.title}]}),l=a.find(w=>w.selected),d=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(w=>({single:!0,field:w}))).flatMap((w,C)=>{var _,S,E,j;if(w.single){const R=w.field,O=Qge({field:R,parent:{...e,readOnly:o,groups:a,selectedGroup:l},index:C});return O?[O]:[]}const k=w.fields.map(R=>R.name),T=vo(w.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:St(e.value,k)}),A=vo(w.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:St(e.value,k)}),D=w.fields.flatMap(R=>{if(T)return[{kind:"hidden",key:"field-".concat(R.name),name:R.name,index:C}];const O=Qge({field:R,parent:{...e,readOnly:o||A,groups:a,selectedGroup:l},index:C});return O?[O]:[]}),P=WH(w.options,e.level),I=(E=(S=(((_=e.collapsedFieldSets)==null?void 0:_.children)||{})[w.name])==null?void 0:S.value)!=null?E:P.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(w.name),_inSelectedGroup:yLe(a,w.group,l),groups:w.group?NC(w.group):[],fieldSet:{path:qc(e.path.concat(w.name)),name:w.name,title:w.title,description:w.description,hidden:!1,level:e.level+1,members:D.filter(R=>R.kind!=="hidden"),collapsible:P==null?void 0:P.collapsible,collapsed:I,columns:(j=w==null?void 0:w.options)==null?void 0:j.columns}}]}),f=i.length>0,p=e.presence.filter(w=>Cn(w.path,e.path)),m=p.length?p:hn,v=e.validation.filter(w=>Cn(w.path,e.path)).map(w=>({level:w.level,message:w.item.message,path:w.path})),g=d.filter(w=>w.kind!=="hidden");if(g.length===0&&t)return null;const y=f?a.flatMap(w=>w.name===Pf.name||g.some(_=>_.kind==="error"?!1:_.kind==="field"?_.groups.includes(w.name):_.groups.includes(w.name)||_.fieldSet.members.some(S=>S.kind!=="error"&&S.groups.includes(w.name)))?w:[]):[],x=g.flatMap(w=>{if(w.kind==="error")return[w];if(w.kind==="field")return w.inSelectedGroup?[w]:[];const C=w.fieldSet.members.filter(_=>_.kind!=="field"||_.inSelectedGroup);return C.length>0?[{...w,fieldSet:{...w.fieldSet,members:C}}]:[]}),b={value:e.value,changed:p0(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:o,path:e.path,id:Ur(e.path),level:e.level,focused:Cn(e.path,e.focusPath),focusPath:z6(e.path,e.focusPath),presence:m,validation:v,members:x,groups:y};return Object.defineProperty(b,"_allMembers",{value:d,enumerable:!1}),b}function jDn(e){if(e.level===UH)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(vo(e.schemaType.hidden,t))return null;const r=e.readOnly||vo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>Cn(u.path,e.path)),s=i.length?i:hn,a=e.validation.filter(u=>Cn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),l=o.flatMap((u,d)=>DDn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||l.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:Cn(e.path,e.focusPath),focusPath:z6(e.path,e.focusPath),path:e.path,id:Ur(e.path),level:e.level,validation:a,presence:s,members:l}}function TDn(e){if(e.level===UH)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(vo(e.schemaType.hidden,t))return null;const r=e.readOnly||vo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>Cn(u.path,e.path)),s=i.length?i:hn,a=e.validation.filter(u=>Cn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),l=o.flatMap((u,d)=>ADn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||l.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:Cn(e.path,e.focusPath),focusPath:z6(e.path,e.focusPath),path:e.path,id:Ur(e.path),level:e.level,validation:a,presence:s,members:l}}function ADn(e){var t,n,r,o,i,s,a;const{arrayItem:l,parent:u,index:d}=e,f=bDn(u.schemaType,l),p=l._key;if(!f){const j=Fs(l);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:j,value:l,validTypes:u.schemaType.of}}}const m=qc([...u.path,{_key:p}]),v=u.level+1,g={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},y=u.readOnly||vo(u.schemaType.readOnly,g),x=(n=(t=u.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],b=(o=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:o[p],w=(s=(i=u.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[p],C=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(j=>j._key===l._key)||void 0,_=YH({schemaType:f,level:v,document:u.document,value:l,comparisonValue:C,changed:p0(l,C),path:m,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:b,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:y},!1),S=WH(f.options,v),E=(a=b==null?void 0:b.value)!=null?a:S.collapsed;return{kind:"item",key:p,index:d,open:Ii(m,u.openPath),collapsed:E,collapsible:!0,parentSchemaType:u.schemaType,item:_}}function DDn(e){var t,n;const{arrayItem:r,parent:o,index:i}=e,s=xDn(o.schemaType,r),a=qc([...o.path,i]),l=(t=o.value)==null?void 0:t[i],u=(n=o.comparisonValue)==null?void 0:n[i],d=o.level+1,f="".concat((s==null?void 0:s.name)||"invalid-type","-").concat(String(i));if(!s)return{kind:"error",key:f,index:i,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:Fs(s),value:l}};const p=o.readOnly||vo(s.readOnly,{value:l,parent:o.value,document:o.document,currentUser:o.currentUser}),m=bLe({...o,path:a,schemaType:s,level:d,value:l,comparisonValue:u,readOnly:p});return{kind:"item",key:f,index:i,parentSchemaType:o.schemaType,open:Cn(a,o.openPath),item:m}}function bLe(e){const t=e.presence.filter(o=>Cn(o.path,e.path)),n=t.length?t:hn,r=e.validation.filter(o=>Cn(o.path,e.path)).map(o=>({level:o.level,message:o.item.message,path:o.path}));return{schemaType:e.schemaType,changed:p0(e.value,e.comparisonValue),value:e.value,level:e.level,id:Ur(e.path),readOnly:e.readOnly,focused:Cn(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function PDn(e){return YH(e)}function IDn(e,t){let{comparisonValue:n,value:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,openPath:l,presence:u,validation:d,readOnly:f,changesOpen:p}=t;const m=Jo(),v=h.useRef(null);return h.useLayoutEffect(()=>{v.current=null},[e]),h.useMemo(()=>{const g=PDn({schemaType:e,document:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,value:r,comparisonValue:n,focusPath:a,openPath:l,readOnly:f,path:qc([]),level:0,currentUser:m,presence:u,validation:d,changesOpen:p}),y=FV(v.current,g);return v.current=y,y},[e,r,o,i,s,n,a,l,f,m,u,d,p])}function ODn(e){return e.map(MDn)}function i6(e,t){return $n(t.map(n=>RDn(e,n)))}const $Dn=e=>t=>!e.includes(t);function RDn(e,t){return $n(Object.keys(t).filter($Dn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:Wg(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:Wg(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:Wg(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:Wg(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:Wg(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:Wg(r),value:t[n][r],origin:e}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function MDn(e){if(e.patchType!==Nm&&e.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==Nm)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=tIe(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}h.memo(function(t){const{transform:n}=t,r=yl(),o=h.useCallback(s=>{const a=s.patches,l=n(a);r.onChange(dt.from(l))},[r,n]),i=h.useMemo(()=>({...r,onChange:o}),[r,o]);return c.jsx(MV.Provider,{value:i,children:t.children})});fh.fonts.code.family,fh.fonts.text.family,Ec.hex,Ba.hex,db[500].hex,Ba.hex,Ec.hex,WS[500].hex,WS[500].hex,WS[500].hex,FR[500].hex,db[500].hex,BR[500].hex,LR[500].hex,db[500].hex,db[500].hex,BR[500].hex,LR[500].hex,FR[500].hex,Ec.hex,Ba.hex;({...fh});var YP={},FDn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},LDn=FDn,Jge={"text/plain":"Text","text/html":"Url",default:"Text"},BDn="Copy to clipboard: #{key}, Enter";function NDn(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function zDn(e,t){var n,r,o,i,s,a,l=!1;t||(t={}),n=t.debug||!1;try{o=LDn(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=Jge[t.format]||Jge.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");l=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=NDn("message"in t?t.message:BDn),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return l}var VDn=zDn;function s6(e){"@babel/helpers - typeof";return s6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s6(e)}Object.defineProperty(YP,"__esModule",{value:!0});YP.CopyToClipboard=void 0;var kS=xLe(h),HDn=xLe(VDn),UDn=["text","onCopy","options","children"];function xLe(e){return e&&e.__esModule?e:{default:e}}function eve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eve(Object(n),!0).forEach(function(r){qH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eve(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WDn(e,t){if(e==null)return{};var n=YDn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function YDn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function qDn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GDn(e,t,n){return t&&nve(e.prototype,t),n&&nve(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KDn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a6(e,t)}function a6(e,t){return a6=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},a6(e,t)}function ZDn(e){var t=QDn();return function(){var r=Zj(e),o;if(t){var i=Zj(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return XDn(this,o)}}function XDn(e,t){if(t&&(s6(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wLe(e)}function wLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QDn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zj(e){return Zj=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Zj(e)}function qH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CLe=function(e){KDn(n,e);var t=ZDn(n);function n(){var r;qDn(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),qH(wLe(r),"onClick",function(a){var l=r.props,u=l.text,d=l.onCopy,f=l.children,p=l.options,m=kS.default.Children.only(f),v=(0,HDn.default)(u,p);d&&d(u,v),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return GDn(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=WDn(o,UDn),a=kS.default.Children.only(i);return kS.default.cloneElement(a,tve(tve({},s),{},{onClick:this.onClick}))}}]),n}(kS.default.PureComponent);YP.CopyToClipboard=CLe;qH(CLe,"defaultProps",{onCopy:void 0,options:void 0});var JDn=YP,l6=JDn.CopyToClipboard;l6.CopyToClipboard=l6;var ePn=l6;const tPn=Pe(ePn);var nPn=_h,rPn=fl,oPn="[object Number]";function iPn(e){return typeof e=="number"||rPn(e)&&nPn(e)==oPn}var sPn=iPn;const aPn=Pe(sPn);function rve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ove(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rve(Object(n),!0).forEach(function(r){lPn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rve(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lPn(e,t,n){return t=cPn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cPn(e){var t=uPn(e,"string");return typeof t=="symbol"?t:String(t)}function uPn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xj(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function _Le(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function SLe(e){return _Le(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function ELe(e){return e._type==="@list"}function kLe(e){return e._type==="@span"}function jLe(e){return e._type==="@text"}const ive=["strong","em","code","underline","strike-through"];function dPn(e,t,n){if(!Xj(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach(i=>{o[i]=1;for(let s=t+1;s<n.length;s++){const a=n[s];if(a&&Xj(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)o[i]++;else break}}),r.sort((i,s)=>fPn(o,i,s))}function fPn(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=ive.indexOf(t),s=ive.indexOf(n);return i!==s?i-s:t.localeCompare(n)}function hPn(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const o=n.map(dPn),i={_type:"@span",children:[],markType:"<unknown>"};let s=[i];for(let a=0;a<n.length;a++){const l=n[a];if(!l)continue;const u=o[a]||[];let d=1;if(s.length>1)for(d;d<s.length;d++){const p=((t=s[d])==null?void 0:t.markKey)||"",m=u.indexOf(p);if(m===-1)break;u.splice(m,1)}s=s.slice(0,d);let f=s[s.length-1];if(f){for(const p of u){const m=r.find(y=>y._key===p),v=m?m._type:p,g={_type:"@span",_key:l._key,children:[],markDef:m,markType:v,markKey:p};f.children.push(g),s.push(g),f=g}if(Xj(l)){const p=l.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);f.children=f.children.concat(p.map(m=>({_type:"@text",text:m})))}else f.children=f.children.concat(l)}}return i.children}function pPn(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!SLe(i)){n.push(i),r=void 0;continue}if(!r){r=jS(i,o,t),n.push(r);continue}if(mPn(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const s=jS(i,o,t);if(t==="html"){const a=r.children[r.children.length-1],l=ove(ove({},a),{},{children:[...a.children,s]});r.children[r.children.length-1]=l}else r.children.push(s);r=s;continue}if((i.level||1)<r.level){const s=n[n.length-1],a=s&&c6(s,i);if(a){r=a,r.children.push(i);continue}r=jS(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const s=n[n.length-1],a=s&&c6(s,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}else{r=jS(i,o,t),n.push(r);continue}}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}function mPn(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function jS(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function c6(e,t){const n=t.level||1,r=t.listItem||"normal",o=typeof t.listItem=="string";if(ELe(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!Xj(i)?c6(i,t):void 0}function TLe(e){let t="";return e.children.forEach(n=>{jLe(n)?t+=n.text:kLe(n)&&(t+=TLe(n))}),t}const gPn="html",vPn=["block","list","listItem","marks","types"],yPn=["listItem"],bPn=["_key"];function sve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ac(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sve(Object(n),!0).forEach(function(r){xPn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sve(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xPn(e,t,n){return t=wPn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wPn(e){var t=CPn(e,"string");return typeof t=="symbol"?t:String(t)}function CPn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u6(e,t){if(e==null)return{};var n=_Pn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _Pn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function SPn(e,t){const n=u6(t,vPn);return Ac(Ac({},e),{},{block:ib(e,t,"block"),list:ib(e,t,"list"),listItem:ib(e,t,"listItem"),marks:ib(e,t,"marks"),types:ib(e,t,"types")},n)}function ib(e,t,n){const r=t[n],o=e[n];return typeof r=="function"||r&&typeof o=="function"?r:r?Ac(Ac({},o),r):o}const EPn=e=>{let{children:t,value:n}=e;return c.jsx("a",{href:n==null?void 0:n.href,children:t})},kPn={textDecoration:"underline"},jPn={em:e=>{let{children:t}=e;return c.jsx("em",{children:t})},strong:e=>{let{children:t}=e;return c.jsx("strong",{children:t})},code:e=>{let{children:t}=e;return c.jsx("code",{children:t})},underline:e=>{let{children:t}=e;return c.jsx("span",{style:kPn,children:t})},"strike-through":e=>{let{children:t}=e;return c.jsx("del",{children:t})},link:EPn},TPn={number:e=>{let{children:t}=e;return c.jsx("ol",{children:t})},bullet:e=>{let{children:t}=e;return c.jsx("ul",{children:t})}},APn=e=>{let{children:t}=e;return c.jsx("li",{children:t})},D_=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),ALe=e=>D_('block type "'.concat(e,'"'),"types"),DPn=e=>D_('mark type "'.concat(e,'"'),"marks"),PPn=e=>D_('block style "'.concat(e,'"'),"block"),IPn=e=>D_('list style "'.concat(e,'"'),"list"),OPn=e=>D_('list item style "'.concat(e,'"'),"listItem");function $Pn(e){console.warn(e)}const ave={display:"none"},RPn=e=>{let{value:t,isInline:n}=e;const r=ALe(t._type);return n?c.jsx("span",{style:ave,children:r}):c.jsx("div",{style:ave,children:r})},MPn=e=>{let{markType:t,children:n}=e;return c.jsx("span",{className:"unknown__pt__mark__".concat(t),children:n})},FPn=e=>{let{children:t}=e;return c.jsx("p",{children:t})},LPn=e=>{let{children:t}=e;return c.jsx("ul",{children:t})},BPn=e=>{let{children:t}=e;return c.jsx("li",{children:t})},NPn=()=>c.jsx("br",{}),zPn={normal:e=>{let{children:t}=e;return c.jsx("p",{children:t})},blockquote:e=>{let{children:t}=e;return c.jsx("blockquote",{children:t})},h1:e=>{let{children:t}=e;return c.jsx("h1",{children:t})},h2:e=>{let{children:t}=e;return c.jsx("h2",{children:t})},h3:e=>{let{children:t}=e;return c.jsx("h3",{children:t})},h4:e=>{let{children:t}=e;return c.jsx("h4",{children:t})},h5:e=>{let{children:t}=e;return c.jsx("h5",{children:t})},h6:e=>{let{children:t}=e;return c.jsx("h6",{children:t})}},lve={types:{},block:zPn,marks:jPn,list:TPn,listItem:APn,hardBreak:NPn,unknownType:RPn,unknownMark:MPn,unknownList:LPn,unknownListItem:BPn,unknownBlockStyle:FPn};function VPn(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:o=$Pn}=e;const i=o||UPn,s=Array.isArray(t)?t:[t],a=pPn(s,r||gPn),l=h.useMemo(()=>n?SPn(lve,n):lve,[n]),u=h.useMemo(()=>HPn(l,i),[l,i]),d=a.map((f,p)=>u({node:f,index:p,isInline:!1,renderNode:u}));return c.jsx(c.Fragment,{children:d})}const HPn=(e,t)=>{function n(f){const{node:p,index:m,isInline:v}=f,g=p._key||"node-".concat(m);return ELe(p)?i(p,m,g):SLe(p)?o(p,m,g):kLe(p)?s(p,m,g):r(p)?d(p,m,g,v):_Le(p)?a(p,m,g,v):jLe(p)?l(p,g):u(p,m,g,v)}function r(f){return f._type in e.types}function o(f,p,m){const v=cve({node:f,index:p,isInline:!1,renderNode:n}),g=e.listItem,x=(typeof g=="function"?g:g[f.listItem])||e.unknownListItem;if(x===e.unknownListItem){const w=f.listItem||"bullet";t(OPn(w),{type:w,nodeType:"listItemStyle"})}let b=v.children;if(f.style&&f.style!=="normal"){const w=u6(f,yPn);b=n({node:w,index:p,isInline:!1,renderNode:n})}return c.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:b},m)}function i(f,p,m){const v=f.children.map((b,w)=>n({node:b._key?b:Ac(Ac({},b),{},{_key:"li-".concat(p,"-").concat(w)}),index:w,isInline:!1,renderNode:n})),g=e.list,x=(typeof g=="function"?g:g[f.listItem])||e.unknownList;if(x===e.unknownList){const b=f.listItem||"bullet";t(IPn(b),{nodeType:"listStyle",type:b})}return c.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:v},m)}function s(f,p,m){const{markDef:v,markType:g,markKey:y}=f,x=e.marks[g]||e.unknownMark,b=f.children.map((w,C)=>n({node:w,index:C,isInline:!0,renderNode:n}));return x===e.unknownMark&&t(DPn(g),{nodeType:"mark",type:g}),c.jsx(x,{text:TLe(f),value:v,markType:g,markKey:y,renderNode:n,children:b},m)}function a(f,p,m,v){const g=cve({node:f,index:p,isInline:v,renderNode:n}),y=u6(g,bPn),x=y.node.style||"normal",w=(typeof e.block=="function"?e.block:e.block[x])||e.unknownBlockStyle;return w===e.unknownBlockStyle&&t(PPn(x),{nodeType:"blockStyle",type:x}),c.jsx(w,Ac(Ac({},y),{},{value:y.node,renderNode:n}),m)}function l(f,p){if(f.text===`
`){const m=e.hardBreak;return m?c.jsx(m,{},p):`
`}return f.text}function u(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n};t(ALe(f._type),{nodeType:"block",type:f._type});const y=e.unknownType;return c.jsx(y,Ac({},g),m)}function d(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n},y=e.types[f._type];return y?c.jsx(y,Ac({},g),m):null}return n};function cve(e){const{node:t,index:n,isInline:r,renderNode:o}=e,s=hPn(t).map((a,l)=>o({node:a,isInline:!0,index:l,renderNode:o}));return{_key:t._key||"block-".concat(n),children:s,index:n,isInline:r,node:t}}function UPn(){}var WPn=Xje,YPn=aB,qPn=YPn(function(e,t,n){return t=t.toLowerCase(),e+(n?WPn(t):t)}),GPn=qPn;const uve=Pe(GPn);var KPn=aB,ZPn=KPn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),XPn=ZPn;const QPn=Pe(XPn);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var dve=Object.getOwnPropertySymbols,JPn=Object.prototype.hasOwnProperty,eIn=Object.prototype.propertyIsEnumerable;function tIn(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function nIn(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var rIn=nIn()?Object.assign:function(e,t){for(var n,r=tIn(e),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var s in n)JPn.call(n,s)&&(r[s]=n[s]);if(dve){o=dve(n);for(var a=0;a<o.length;a++)eIn.call(n,o[a])&&(r[o[a]]=n[o[a]])}}return r},TS=rIn,oIn={};function El(e,t,n,r,o,i,s,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var fve="mixins";function iIn(e,t,n){var r=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},i={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},s={displayName:function(C,_){C.displayName=_},mixins:function(C,_){if(_)for(var S=0;S<_.length;S++)l(C,_[S])},childContextTypes:function(C,_){C.childContextTypes=TS({},C.childContextTypes,_)},contextTypes:function(C,_){C.contextTypes=TS({},C.contextTypes,_)},getDefaultProps:function(C,_){C.getDefaultProps?C.getDefaultProps=f(C.getDefaultProps,_):C.getDefaultProps=_},propTypes:function(C,_){C.propTypes=TS({},C.propTypes,_)},statics:function(C,_){u(C,_)},autobind:function(){}};function a(C,_){var S=o.hasOwnProperty(_)?o[_]:null;x.hasOwnProperty(_)&&El(S==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",_),C&&El(S==="DEFINE_MANY"||S==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",_)}function l(C,_){if(_){El(typeof _!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),El(!t(_),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var S=C.prototype,E=S.__reactAutoBindPairs;_.hasOwnProperty(fve)&&s.mixins(C,_.mixins);for(var j in _)if(_.hasOwnProperty(j)&&j!==fve){var k=_[j],T=S.hasOwnProperty(j);if(a(T,j),s.hasOwnProperty(j))s[j](C,k);else{var A=o.hasOwnProperty(j),D=typeof k=="function",P=D&&!A&&!T&&_.autobind!==!1;if(P)E.push(j,k),S[j]=k;else if(T){var I=o[j];El(A&&(I==="DEFINE_MANY_MERGED"||I==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",I,j),I==="DEFINE_MANY_MERGED"?S[j]=f(S[j],k):I==="DEFINE_MANY"&&(S[j]=p(S[j],k))}else S[j]=k}}}}function u(C,_){if(_)for(var S in _){var E=_[S];if(_.hasOwnProperty(S)){var j=S in s;El(!j,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',S);var k=S in C;if(k){var T=i.hasOwnProperty(S)?i[S]:null;El(T==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S),C[S]=f(C[S],E);return}C[S]=E}}}function d(C,_){El(C&&_&&typeof C=="object"&&typeof _=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var S in _)_.hasOwnProperty(S)&&(El(C[S]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",S),C[S]=_[S]);return C}function f(C,_){return function(){var E=C.apply(this,arguments),j=_.apply(this,arguments);if(E==null)return j;if(j==null)return E;var k={};return d(k,E),d(k,j),k}}function p(C,_){return function(){C.apply(this,arguments),_.apply(this,arguments)}}function m(C,_){var S=_.bind(C);return S}function v(C){for(var _=C.__reactAutoBindPairs,S=0;S<_.length;S+=2){var E=_[S],j=_[S+1];C[E]=m(C,j)}}var g={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(C,_){this.updater.enqueueReplaceState(this,C,_)},isMounted:function(){return!!this.__isMounted}},b=function(){};TS(b.prototype,e.prototype,x);function w(C){var _=function(E,j,k){this.__reactAutoBindPairs.length&&v(this),this.props=E,this.context=j,this.refs=oIn,this.updater=k||n,this.state=null;var T=this.getInitialState?this.getInitialState():null;El(typeof T=="object"&&!Array.isArray(T),"%s.getInitialState(): must return an object or null",_.displayName||"ReactCompositeComponent"),this.state=T};_.prototype=new b,_.prototype.constructor=_,_.prototype.__reactAutoBindPairs=[],r.forEach(l.bind(null,_)),l(_,g),l(_,C),l(_,y),_.getDefaultProps&&(_.defaultProps=_.getDefaultProps()),El(_.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var S in o)_.prototype[S]||(_.prototype[S]=null);return _}return w}var sIn=iIn,Qj=h,aIn=sIn;if(typeof Qj>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var lIn=new Qj.Component().updater,qP=aIn(Qj.Component,Qj.isValidElement,lIn),cIn=Date.now||uIn;function uIn(){return new Date().getTime()}var hve=cIn,dIn=function(t,n,r){var o,i,s,a,l;n==null&&(n=100);function u(){var d=hve()-a;d<n&&d>0?o=setTimeout(u,n-d):(o=null,r||(l=t.apply(s,i),o||(s=i=null)))}return function(){s=this,i=arguments,a=hve();var f=r&&!o;return o||(o=setTimeout(u,n)),f&&(l=t.apply(s,i),s=i=null),l}},fIn=hIn;function hIn(e){for(var t=pIn(e),n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=n,l=r,u=o,d=i;n=_i(n,r,o,i,t[s+0],7,-680876936),i=_i(i,n,r,o,t[s+1],12,-389564586),o=_i(o,i,n,r,t[s+2],17,606105819),r=_i(r,o,i,n,t[s+3],22,-1044525330),n=_i(n,r,o,i,t[s+4],7,-176418897),i=_i(i,n,r,o,t[s+5],12,1200080426),o=_i(o,i,n,r,t[s+6],17,-1473231341),r=_i(r,o,i,n,t[s+7],22,-45705983),n=_i(n,r,o,i,t[s+8],7,1770035416),i=_i(i,n,r,o,t[s+9],12,-1958414417),o=_i(o,i,n,r,t[s+10],17,-42063),r=_i(r,o,i,n,t[s+11],22,-1990404162),n=_i(n,r,o,i,t[s+12],7,1804603682),i=_i(i,n,r,o,t[s+13],12,-40341101),o=_i(o,i,n,r,t[s+14],17,-1502002290),r=_i(r,o,i,n,t[s+15],22,1236535329),n=Si(n,r,o,i,t[s+1],5,-165796510),i=Si(i,n,r,o,t[s+6],9,-1069501632),o=Si(o,i,n,r,t[s+11],14,643717713),r=Si(r,o,i,n,t[s+0],20,-373897302),n=Si(n,r,o,i,t[s+5],5,-701558691),i=Si(i,n,r,o,t[s+10],9,38016083),o=Si(o,i,n,r,t[s+15],14,-660478335),r=Si(r,o,i,n,t[s+4],20,-405537848),n=Si(n,r,o,i,t[s+9],5,568446438),i=Si(i,n,r,o,t[s+14],9,-1019803690),o=Si(o,i,n,r,t[s+3],14,-187363961),r=Si(r,o,i,n,t[s+8],20,1163531501),n=Si(n,r,o,i,t[s+13],5,-1444681467),i=Si(i,n,r,o,t[s+2],9,-51403784),o=Si(o,i,n,r,t[s+7],14,1735328473),r=Si(r,o,i,n,t[s+12],20,-1926607734),n=Ei(n,r,o,i,t[s+5],4,-378558),i=Ei(i,n,r,o,t[s+8],11,-2022574463),o=Ei(o,i,n,r,t[s+11],16,1839030562),r=Ei(r,o,i,n,t[s+14],23,-35309556),n=Ei(n,r,o,i,t[s+1],4,-1530992060),i=Ei(i,n,r,o,t[s+4],11,1272893353),o=Ei(o,i,n,r,t[s+7],16,-155497632),r=Ei(r,o,i,n,t[s+10],23,-1094730640),n=Ei(n,r,o,i,t[s+13],4,681279174),i=Ei(i,n,r,o,t[s+0],11,-358537222),o=Ei(o,i,n,r,t[s+3],16,-722521979),r=Ei(r,o,i,n,t[s+6],23,76029189),n=Ei(n,r,o,i,t[s+9],4,-640364487),i=Ei(i,n,r,o,t[s+12],11,-421815835),o=Ei(o,i,n,r,t[s+15],16,530742520),r=Ei(r,o,i,n,t[s+2],23,-995338651),n=ki(n,r,o,i,t[s+0],6,-198630844),i=ki(i,n,r,o,t[s+7],10,1126891415),o=ki(o,i,n,r,t[s+14],15,-1416354905),r=ki(r,o,i,n,t[s+5],21,-57434055),n=ki(n,r,o,i,t[s+12],6,1700485571),i=ki(i,n,r,o,t[s+3],10,-1894986606),o=ki(o,i,n,r,t[s+10],15,-1051523),r=ki(r,o,i,n,t[s+1],21,-2054922799),n=ki(n,r,o,i,t[s+8],6,1873313359),i=ki(i,n,r,o,t[s+15],10,-30611744),o=ki(o,i,n,r,t[s+6],15,-1560198380),r=ki(r,o,i,n,t[s+13],21,1309151649),n=ki(n,r,o,i,t[s+4],6,-145523070),i=ki(i,n,r,o,t[s+11],10,-1120210379),o=ki(o,i,n,r,t[s+2],15,718787259),r=ki(r,o,i,n,t[s+9],21,-343485551),n=If(n,a),r=If(r,l),o=If(o,u),i=If(i,d)}return AS(n)+AS(r)+AS(o)+AS(i)}var pve="0123456789abcdef";function GH(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function d6(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function Jj(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function If(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function AS(e){var t="",n;for(n=0;n<=3;n++)t+=pve.charAt(e>>n*8+4&15)+pve.charAt(e>>n*8&15);return t}function pIn(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var o=e.length*8;return n[t*16-2]=o&255,n[t*16-2]|=(o>>>8&255)<<8,n[t*16-2]|=(o>>>16&255)<<16,n[t*16-2]|=(o>>>24&255)<<24,n}function mIn(e,t){return e<<t|e>>>32-t}function GP(e,t,n,r,o,i){return If(mIn(If(If(t,e),If(r,i)),o),n)}function _i(e,t,n,r,o,i,s){return GP(GH(Jj(t,n),Jj(~t,r)),e,t,o,i,s)}function Si(e,t,n,r,o,i,s){return GP(GH(Jj(t,r),Jj(n,~r)),e,t,o,i,s)}function Ei(e,t,n,r,o,i,s){return GP(d6(d6(t,n),r),e,t,o,i,s)}function ki(e,t,n,r,o,i,s){return GP(d6(n,GH(t,~r)),e,t,o,i,s)}var gIn=Math.ceil(Math.random()*10),vIn=function(){return++gIn},KH=function(e){return Object.prototype.toString.call(e).slice(8,-1)},yIn=KH;function bIn(e){var t=yIn(e);return t!=="Object"&&t!=="Array"}var DLe=bIn,xIn=h,wIn=qP,DS=xIn.createElement,CIn=wIn({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return DS("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return DS("span",null,e.string.split(e.highlight).map(function(o,i){return DS("span",{key:i},i>0?DS("span",{className:"json-inspector__hl"},r):null,o)}))}}),_In=h,SIn=qP,EIn=fIn,kIn=vIn,PLe=KH,rk=DLe,jIn=CIn,$a=_In.createElement,TIn=".root.",ILe=SIn({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+kIn(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return $a("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},$a("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),$a("label",{className:"json-inspector__line",htmlFor:e,onClick:r},$a("div",{className:"json-inspector__flatpath"},n.path),$a("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=PLe(e);switch(t){case"Array":var n=e.length;return $a("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+AIn(n));case"Object":var r=Object.keys(e).length;return $a("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{…} ":"{} ")+DIn(r));default:return $a("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!rk(n)?Object.keys(n).map(function(r){var o=n[r],i=!this.state.original||(e.verboseShowOriginal?e.query:!1);return $a(ILe,{data:o,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:PIn(r,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return rk(e.data)||this.state.original||!e.getOriginal||!e.query||rR(this.keypath(),e.query)?null:$a("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?$a(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!rR(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(TIn.length)},data:function(){return this.state.original||this.props.data},format:function(e){return $a(jIn,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),rk(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!rR(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function AIn(e){return e+(e===1?" item":" items")}function DIn(e){return e+(e===1?" property":" properties")}function PIn(e,t){if(rk(t)){var n=EIn(String(t));return e+":"+n}else return e+"["+PLe(t)+"]"}function rR(e,t){return e.indexOf(t)!==-1}var IIn=ILe,OLe=function(){},OIn=h,$In=qP,RIn=OIn.createElement,MIn=OLe,FIn=$In({getDefaultProps:function(){return{onChange:MIn}},render:function(){return RIn("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),$Le=function(e){return Object.keys(e).length===0},LIn=Object.keys,BIn=DLe,NIn=$Le,zIn=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return ok(e,r,t);var o;if(!n[r]){for(var i=r.length-1;i>0;i-=1)if(o=r.substr(0,i),n[o]){n[r]=ok(n[o],r,t);break}}return n[r]||(n[r]=ok(e,r,t)),n[r]}};function ok(e,t,n){return LIn(e).reduce(function(r,o){var i=e[o],s;return BIn(i)?(oR(t,o,n)||oR(t,i,n))&&(r[o]=i):oR(t,o,n)?r[o]=i:(s=ok(i,t,n),NIn(s)||Object.assign(r,VIn(o,s))),r},{})}function oR(e,t,n){if(t){var r=String(t),o=e;return n.ignoreCase&&(r=r.toLowerCase(),o=o.toLowerCase()),r.indexOf(o)!==-1}}function VIn(e,t){var n={};return n[e]=t,n}var HIn=KH,iR=".";function f6(e,t){var n=t.split(iR),r=n.shift();if(!r)return e;var o=HIn(e);if(o==="Array"&&e[mve(r)])return f6(e[mve(r)],n.join(iR));if(o==="Object"&&e[r])return f6(e[r],n.join(iR))}function mve(e){return parseInt(e,10)}var UIn=f6,WIn=h,YIn=qP,qIn=dIn,sb=WIn.createElement,GIn=IIn,KIn=FIn,ZIn=zIn,XIn=$Le,QIn=UIn,JIn=OLe,eOn=YIn({getDefaultProps:function(){return{data:null,search:KIn,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:JIn,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,o=n&&XIn(r);return sb("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?sb("div",{className:"json-inspector__not-found"},"Nothing found"):sb(GIn,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return sb("div",{className:"json-inspector__toolbar"},sb(e,{onChange:qIn(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:ZIn(e,t)})},getOriginal:function(e){return QIn(this.props.data,e)}});const tOn=Pe(eOn);var nOn=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function o(i,s){n[i]=s,t++,t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(i){return n[i]!==void 0||r[i]!==void 0},remove:function(i){n[i]!==void 0&&(n[i]=void 0),r[i]!==void 0&&(r[i]=void 0)},get:function(i){var s=n[i];if(s!==void 0)return s;if((s=r[i])!==void 0)return o(i,s),s},set:function(i,s){n[i]!==void 0?n[i]=s:o(i,s)},clear:function(){n=Object.create(null),r=Object.create(null)}}};const rOn=Pe(nOn);function ZH(e){let{children:t,ms:n=0}=e;const[r,o]=h.useState(n<=0);return h.useEffect(()=>{if(n<=0)return;const i=setTimeout(()=>o(!0),n);return()=>{clearTimeout(i)}},[n]),!r||!t?c.jsx(c.Fragment,{}):typeof t=="function"?t():t}function RLe(e){const{document:t}=e,r=An().get(t._type),{error:o,value:i}=hV({schemaType:r,value:t});return r?o?c.jsxs(c.Fragment,{children:["Error: ",o.message]}):c.jsx(c.Fragment,{children:(i==null?void 0:i.title)||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):c.jsxs("code",{children:["Unknown schema type: ",t._type]})}const XH=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:o}=e;return c.jsx(s$e,{onReset:o,hooks:t,args:r,children:n})},oOn=e=>{const{badges:t,children:n,badgeProps:r,...o}=e;return c.jsx(s$e,{...o,hooks:t,args:r,children:n})};function iOn(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const sOn=5e3;let sR;const MLe=()=>(sR||(sR=Vi(document,"visibilitychange").pipe(pi(null),le(()=>document.visibilityState==="visible"),nr(),rt(e=>e?Ko(0,sOn):tr),Mo({refCount:!0,bufferSize:1}))),sR);function aOn(e,t){let{versionedClient:n}=t;const r=vi(e),o=Fn(e),i={uri:n.getDataUrl("doc","".concat(r,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(i).pipe(le(s=>{let{omitted:a}=s;const l=a.filter(u=>u.reason==="existence");if(l.length!==2)return l.length===0||l.some(u=>u.id===r)?o:r}))}function lOn(e,t){const{versionedClient:n}=t;return MLe().pipe(rt(()=>aOn(e,t)),rt(r=>{if(!r)return ve({totalCount:0,references:[]});const o=n.config().dataset;return n.observable.request({url:"/data/references/".concat(o,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(Mn(i=>{if(iOn(i)&&i.statusCode===404)return ve({totalCount:0,references:[]});throw i}))}))}const cOn=Vh(e=>{let[t,n]=e;const r="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",i='{"references":'.concat(r,',"totalCount":').concat(o,"}"),s="*[references($documentId)]";return n.listenQuery({fetch:i,listen:s},{documentId:t},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),uOn=Vh(e=>{let[t,n]=e;return MLe().pipe(rt(()=>lOn(t,{versionedClient:n})))});function dOn(e){const t=yr(un),n=bl(),r=Fn(e),[o,i]=cOn(h.useMemo(()=>[r,n],[n,r])),[s,a]=uOn(h.useMemo(()=>[r,t],[r,t])),l=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>f.projectId).filter(Boolean))).sort(),[s==null?void 0:s.references]),u=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[s==null?void 0:s.references]),d=h.useMemo(()=>!!(s!=null&&s.references.some(f=>typeof f.datasetName!="string")),[s==null?void 0:s.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((s==null?void 0:s.totalCount)||0),projectIds:l,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:o,crossDatasetReferences:s,isLoading:i||a}}function fOn(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=t?"Published":"Not published",o=ai(n||"",{minimal:!0,agoSuffix:!0});return c.jsx(it,{portal:!0,content:c.jsx(M,{padding:2,children:c.jsx(L,{size:1,children:t?"Published ".concat(o):"Not published"})}),children:c.jsx(fr,{tone:"positive",dimmed:!t,muted:!t,size:1,children:c.jsx(d1,{"aria-label":r})})})}function hOn(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=ai(n||"",{minimal:!0,agoSuffix:!0});return c.jsx(it,{portal:!0,content:c.jsx(M,{padding:2,children:c.jsx(L,{size:1,children:t?"Edited ".concat(r):"No unpublished edits"})}),children:c.jsx(fr,{tone:"caution",dimmed:!t,muted:!t,size:1,children:c.jsx(ed,{})})})}function FLe(e){const{icon:t,layout:n,presence:r,schemaType:o,value:i}=e,s=xt(i.title)&&h.isValidElement(i.title)||XA(i.title)||aPn(i.title)?i.title:null,{draft:a,published:l,isLoading:u}=So(()=>lP(e.documentPreviewStore,o,i._id,s),[e.documentPreviewStore,o,i._id,s]),d=u?null:c.jsxs(Zt,{space:4,children:[r&&r.length>0&&c.jsx(NV,{presence:r}),c.jsx(fOn,{document:l}),c.jsx(hOn,{document:a})]});return c.jsx(Wh,{...gV({value:i,draft:a,published:l}),isPlaceholder:u,icon:t,layout:n,status:d})}function xs(){throw new Error("Pane is missing router context")}const KP=h.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>xs(),ChildLink:()=>xs(),ReferenceChildLink:()=>xs(),handleEditReference:()=>xs(),ParameterizedLink:()=>xs(),replaceCurrent:()=>xs(),closeCurrentAndAfter:()=>xs(),closeCurrent:()=>xs(),duplicateCurrent:()=>xs(),setView:()=>xs(),setParams:()=>xs(),setPayload:()=>xs(),navigateIntent:()=>xs(),createPathWithParams:()=>xs()}),pOn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o}=h.useContext(KP),i=h.useMemo(()=>r.slice(0,o),[o,r]),s=h.useMemo(()=>({panes:i}),[i]);return c.jsx(MA,{...t,ref:n,state:s})}),LLe=h.createContext(null);function ry(){const e=h.useContext(LLe);if(!e)throw new Error("PaneLayout: missing context value");return e}const mOn=h.forwardRef(function(t,n){const{childId:r,childPayload:o,childParameters:i,...s}=t,{routerPanesState:a,groupIndex:l}=h.useContext(KP);return c.jsx(MA,{...s,ref:n,state:{panes:[...a.slice(0,l+1),[{id:r,params:i,payload:o}]]}})}),fzn=h.forwardRef(function(t,n){let{documentId:r,documentType:o,parentRefPath:i,children:s,template:a,...l}=t;return c.jsx(mOn,{...l,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:o,parentRefPath:Ur(i),...a&&{template:a==null?void 0:a.id}},children:s})}),hzn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o,siblingIndex:i}=h.useContext(KP),{params:s,payload:a,...l}=t,u=si(s),d=si(a),f=h.useMemo(()=>{const p=r[o],m=p[i],v={...m,params:u??m.params,payload:d??m.payload},g=[...p.slice(0,i),v,...p.slice(i+1)];return{panes:[...r.slice(0,o),g,...r.slice(o+1)]}},[r,o,u,d,i]);return c.jsx(MA,{ref:n,...l,state:f})});function fu(){return h.useContext(KP)}const gve=[];function gOn(e){const{onClick:t,type:n,value:r}=e,o=Fn(r==null?void 0:r._id),i=A_(o),s=Ki(),{ReferenceChildLink:a}=fu(),l=h.useCallback(function(d){return c.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:gve,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return c.jsx(dm,{__unstable_focusRing:!0,as:l,"data-as":"a",onClick:t,padding:2,radius:2,children:c.jsx(FLe,{documentPreviewStore:s,icon:n==null?void 0:n.icon,layout:"default",presence:(i==null?void 0:i.length)>0?i:gve,schemaType:n,value:r})})}var vve=Object.freeze,vOn=Object.defineProperty,P_=(e,t)=>vve(vOn(e,"raw",{value:vve(t||e.slice())})),yve,bve,xve,wve,Cve;const BLe=$(M)(yve||(yve=P_([`
  margin-left: auto;
`]))),yOn=$.details(bve||(bve=P_([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),BLe),bOn=$.summary(xve||(xve=P_([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),xOn=$.table(wve||(wve=P_([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.space[2])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])}),wOn=$(U)(Cve||(Cve=P_([`
  min-height: 35px;
`]))),_ve=e=>{const t=e.totalCount-e.references.length;return t?c.jsxs(Zt,{space:2,children:[c.jsxs(L,{size:1,muted:!0,children:[t," other reference",t===1?"":"s"," not shown"," "]}),c.jsx(it,{portal:!0,placement:"top",content:c.jsx(oo,{width:0,children:c.jsx(M,{padding:2,children:c.jsx(L,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:c.jsx(L,{size:1,muted:!0,children:c.jsx(Zm,{})})})]}):null};function COn(e){let{crossDatasetReferences:t,internalReferences:n,documentTitle:r,totalCount:o,action:i,datasetNames:s,hasUnknownDatasetNames:a,onReferenceLinkClick:l}=e;const u=An(),d=Qo(),f=h.useCallback(y=>{const x=u.get(y._type);return x?c.jsx(gOn,{type:x,value:y,onClick:l}):c.jsx(M,{padding:2,children:c.jsx(Wh,{icon:zl,title:"Preview Unavailable",subtitle:"ID: ".concat(y._id),layout:"default"})})},[u,l]);if((n==null?void 0:n.totalCount)===0&&(t==null?void 0:t.totalCount)===0)return c.jsxs(L,{as:"p",children:["Are you sure you want to ",i," ",c.jsxs("strong",{children:["“",r,"”"]}),"?"]});const p=t.totalCount===1?"1 document":"".concat(t.totalCount.toLocaleString()," documents"),m=[...s,...a?["unavailable"]:[]],v=m.length===1?"another dataset":"".concat(m.length," datasets");let g="Dataset".concat(m.length===1?"":"s",": ").concat(m.join(", "));return a&&m.length===1&&(g="Unavailable dataset"),c.jsxs(Q,{children:[c.jsx(Q,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:c.jsxs(U,{children:[c.jsx(L,{"aria-hidden":"true",size:1,children:c.jsx(zr,{})}),c.jsx(M,{flex:1,marginLeft:3,children:c.jsx(L,{size:1,children:o===1?c.jsxs(c.Fragment,{children:["1 document refers to “",r,"”"]}):c.jsxs(c.Fragment,{children:[o.toLocaleString()," documents refer to “",r,"”"]})})})]})}),c.jsx(M,{flex:"none",marginBottom:4,children:c.jsxs(L,{children:["You may not be able to ",i," “",r,"” because the following documents refer to it:"]})}),c.jsx(Q,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:c.jsxs(U,{direction:"column",children:[n.totalCount>0&&c.jsxs(te,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(y=>c.jsx(M,{as:"li",children:f(y)},y._id)),n.totalCount>n.references.length&&c.jsx(M,{as:"li",padding:3,children:c.jsx(_ve,{...n})})]}),t.totalCount>0&&c.jsxs(yOn,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[c.jsx(bOn,{children:c.jsx(Q,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:c.jsxs(U,{align:"center",margin:2,children:[c.jsx(M,{marginLeft:3,marginRight:4,children:c.jsx(L,{size:3,children:c.jsx(J6,{})})}),c.jsxs(U,{marginRight:4,direction:"column",children:[c.jsx(M,{marginBottom:2,children:c.jsxs(L,{children:[p," in ",v]})}),c.jsx(M,{children:c.jsx(L,{title:g,textOverflow:"ellipsis",size:1,muted:!0,children:g})})]}),c.jsx(BLe,{children:c.jsx(L,{muted:!0,children:c.jsx(hl,{})})})]})})}),c.jsxs(M,{overflow:"auto",paddingBottom:2,paddingX:2,children:[c.jsxs(xOn,{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:c.jsx(Ut,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),c.jsx("th",{children:c.jsx(Ut,{muted:!0,size:0,children:"Dataset"})}),c.jsx("th",{children:c.jsx(Ut,{muted:!0,size:0,children:"Document ID"})})]})}),c.jsx("tbody",{children:t.references.filter(y=>"projectId"in y).map((y,x)=>{let{projectId:b,datasetName:w,documentId:C}=y;return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx(L,{size:1,children:b})}),c.jsx("td",{children:c.jsx(L,{size:1,children:w||"unavailable"})}),c.jsx("td",{children:c.jsxs(wOn,{align:"center",gap:2,justify:"flex-end",children:[c.jsx(L,{textOverflow:"ellipsis",size:1,children:C||"unavailable"}),C&&c.jsx(tPn,{text:C,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:c.jsx(oe,{title:"Copy ID to clipboard",mode:"bleed",icon:Ju,fontSize:0})})]})})]},"".concat(C,"-").concat(x))})})]}),c.jsx(M,{padding:2,children:c.jsx(_ve,{...t})})]})]})]})}),c.jsx(M,{flex:"none",children:c.jsxs(L,{children:["If you ",i," this document, documents that refer to it will no longer be able to access it."]})})]})}var Sve=Object.freeze,_On=Object.defineProperty,NLe=(e,t)=>Sve(_On(e,"raw",{value:Sve(t||e.slice())})),Eve,kve;const SOn=$(M).attrs({padding:4})(Eve||(Eve=NLe([`
  box-sizing: border-box;
`]))),EOn=$(U).attrs({align:"center",direction:"column",justify:"center"})(kve||(kve=NLe([`
  height: 300px;
`])));function kOn(e){let{id:t,type:n,action:r="delete",onCancel:o,onConfirm:i}=e;const s="deletion-confirmation-".concat(h.useId()),{internalReferences:a,crossDatasetReferences:l,isLoading:u,totalCount:d,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m}=dOn(t),v="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),g=c.jsx(RLe,{document:h.useMemo(()=>({_id:t,_type:n}),[t,n])}),y=!u;return c.jsx(Wi,{width:1,id:s,header:"".concat(v," document?"),footer:c.jsxs(tn,{columns:y?2:1,gap:2,paddingX:4,paddingY:3,children:[c.jsx(oe,{mode:"ghost",onClick:o,text:"Cancel"}),y&&c.jsx(oe,{"data-testid":"confirm-delete-button",text:d>0?"".concat(v," anyway"):"".concat(v," now"),tone:"critical",onClick:i})]}),onClose:o,onClickOutside:o,children:c.jsx(SOn,{children:l&&a&&!u?c.jsx(COn,{crossDatasetReferences:l,internalReferences:a,documentTitle:g,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:o}):c.jsxs(EOn,{"data-testid":"loading-container",children:[c.jsx(gr,{muted:!0}),c.jsx(M,{marginTop:3,children:c.jsx(L,{align:"center",muted:!0,size:1,children:"Looking for referring documents…"})})]})})})}function zLe(e){const t=h.useId(),[n,r]=h.useState(null),o=h.useCallback(()=>r(null),[]);return n?c.jsx(Wi,{id:"dialog-error-".concat(t),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:c.jsx(U,{paddingX:4,paddingY:3,direction:"column",children:c.jsx(oe,{mode:"ghost",text:"Retry",onClick:o})}),onClose:e.onCancel,children:c.jsx(M,{padding:4,children:c.jsx(L,{children:"An error occurred while loading referencing documents."})})}):c.jsx(b1,{onCatch:r,children:c.jsx(kOn,{...e})})}const jOn={constrainSize:!0,placement:"left-start",portal:!0};function eT(e){const{disabled:t,isAfterGroup:n,node:r}=e;return r.type==="divider"?c.jsx(Mr,{}):r.type==="group"?r.children.length===0?null:r.expanded?c.jsxs(c.Fragment,{children:[n&&c.jsx(Mr,{}),r.title&&c.jsx(M,{padding:2,paddingBottom:1,children:c.jsx(Ut,{muted:!0,size:0,children:r.title})}),r.children.map((o,i)=>{var s;return c.jsx(eT,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx(Mr,{}),c.jsx(r7,{disabled:t,icon:r.icon,popover:jOn,text:r.title,children:r.children.map((o,i)=>{var s;return c.jsx(eT,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx(Mr,{}),c.jsx(TOn,{disabled:t,node:r})]})}function TOn(e){const{node:t}=e;return t.intent?c.jsx(DOn,{...e,intent:t.intent}):c.jsx(AOn,{...e})}function AOn(e){var t;const{disabled:n,node:r}=e,o=typeof r.disabled=="object"&&c.jsx(L,{size:1,children:r.disabled.reason});return c.jsx(h_,{content:o,placement:"left",children:c.jsx(Ne,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&fa,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function DOn(e){var t;const{disabled:n,intent:r,node:o}=e,i=typeof o.disabled=="object"&&c.jsx(L,{size:1,children:o.disabled.reason}),s=MC({intent:r.type,params:r.params}),a=h.useCallback(l=>{s.onClick(l),o.onAction()},[s,o]);return c.jsx(h_,{content:i,placement:"left",children:c.jsx(Ne,{as:"a",disabled:n||!!o.disabled,hotkeys:(t=o.hotkey)==null?void 0:t.split("+"),href:s.href,icon:o.icon,iconRight:o.selected?fa:void 0,onClick:a,pressed:o.selected,text:o.title,tone:o.tone})})}const POn={constrainSize:!0,placement:"bottom",portal:!0};function h6(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&h6(n.children,t))}function VLe(e){const{nodes:t}=e,n=h.useId(),r=h6(t,"critical"),o=h6(t,"caution");return c.jsx(rn,{button:c.jsx(Uh,{icon:Fo,mode:"bleed",title:"Show menu",tone:r?"critical":o?"caution":void 0}),id:n,menu:c.jsx(zt,{children:t.map((i,s)=>{var a;const l=((a=t[s-1])==null?void 0:a.type)==="group";return c.jsx(eT,{isAfterGroup:l,node:i},i.key)})}),popover:POn})}const IOn=!1,m0=51,g0=m0*4,HLe=h.createContext(null);var jve=Object.freeze,OOn=Object.defineProperty,$On=(e,t)=>jve(OOn(e,"raw",{value:jve(t||e.slice())})),Tve;const ROn=$(hs)(Tve||(Tve=$On([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function MOn(e){let{disabled:t,element:n}=e;const{resize:r}=ry(),[o,i]=h.useState(!1),s=h.useCallback(a=>{if(!n)return;i(!0),a.preventDefault();const l=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const p=f.pageX-l;r("move",n,p)},d=f=>{f.preventDefault(),i(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return c.jsx(ROn,{"data-disabled":t?"":void 0,"data-dragging":o?"":void 0,onMouseDown:s})}var Ave=Object.freeze,FOn=Object.defineProperty,LOn=(e,t)=>Ave(FOn(e,"raw",{value:Ave(t||e.slice())})),Dve;const BOn=$(Q)(Dve||(Dve=LOn([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),ZP=h.forwardRef(function(t,n){var r,o,i;const{children:s,currentMinWidth:a,currentMaxWidth:l,flex:u=1,id:d,minWidth:f,maxWidth:p,selected:m=!1,...v}=t,[g,y]=h.useState(null),{collapse:x,collapsed:b,expand:w,expandedElement:C,mount:_,panes:S}=ry(),E=S.find(q=>q.element===g),j=E&&S.indexOf(E),k=typeof j=="number"?S[j+1]:void 0,T=j===S.length-1,A=b?!1:(E==null?void 0:E.collapsed)||!1,D=(k==null?void 0:k.collapsed)||!1,P=mr(n),I=(r=E==null?void 0:E.flex)!=null?r:u,R=(o=E==null?void 0:E.currentMinWidth)!=null?o:a,O=(i=E==null?void 0:E.currentMaxWidth)!=null?i:l,V=h.useCallback(q=>{y(q),P.current=q},[P]);h.useEffect(()=>{if(g)return _(g,{currentMinWidth:a,currentMaxWidth:l,flex:u,id:d,minWidth:f,maxWidth:p})},[a,l,u,d,f,p,_,g]);const B=h.useCallback(()=>{g&&x(g)},[x,g]),H=h.useCallback(()=>{g&&w(g)},[w,g]),W=h.useMemo(()=>({collapse:B,collapsed:b?!1:A,expand:H,index:j,isLast:T,rootElement:g}),[A,B,H,T,b,j,g]),z=h.useMemo(()=>{if(!b)return A?m0:R===0||T?f||g0:R||f||g0},[A,R,T,b,f]),G=h.useMemo(()=>{if(A)return m0;if(!(b&&T))return T?p?O??p:void 0:O??p},[A,O,T,b,p]),ee=b&&!T,N=h.useMemo(()=>!T&&!b&&c.jsx(xd,{zOffset:"paneResizer",children:c.jsx(MOn,{disabled:A||D,element:g})}),[A,T,b,D,g]),Y=h.useMemo(()=>({flex:I,minWidth:z,maxWidth:G===1/0?void 0:G}),[I,z,G]);return c.jsxs(c.Fragment,{children:[c.jsx(xd,{zOffset:"pane",children:c.jsx(HLe.Provider,{value:W,children:c.jsxs(BOn,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:ee,id:d,overflow:b?void 0:"hidden",...v,"data-pane-collapsed":A?"":void 0,"data-pane-index":j,"data-pane-selected":m?"":void 0,ref:V,style:Y,children:[IOn,c.jsx(ld,{element:g,children:!ee&&c.jsx(U,{direction:"column",height:"fill",children:s})})]})})}),N]})});function Kh(){const e=h.useContext(HLe);if(!e)throw new Error("Pane: missing context value");return e}var Pve=Object.freeze,NOn=Object.defineProperty,zOn=(e,t)=>Pve(NOn(e,"raw",{value:Pve(t||e.slice())})),Ive;const ULe=$(Q)(Ive||(Ive=zOn([`
  position: relative;
  outline: none;
`])));ULe.displayName="PaneContent__root";const XP=h.forwardRef(function(t,n){const{as:r,children:o,overflow:i,padding:s,...a}=t,{collapsed:l}=Kh(),{collapsed:u}=ry();return c.jsx(ULe,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:l,overflow:u?void 0:i,padding:s,ref:n,tone:"inherit",children:o})});var Ove=Object.freeze,VOn=Object.defineProperty,WLe=(e,t)=>Ove(VOn(e,"raw",{value:Ove(t||e.slice())})),$ve,Rve;const HOn=$(hs)($ve||($ve=WLe([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),UOn=$(Q)(Rve||(Rve=WLe([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),WOn=h.forwardRef(function(t,n){const{children:r,padding:o}=t,{collapsed:i}=Kh();return c.jsx(xd,{zOffset:"paneFooter",children:c.jsx(HOn,{"data-testid":"pane-footer",hidden:i,ref:n,children:c.jsx(UOn,{tone:"inherit",children:c.jsx(M,{padding:o,children:r})})})})});var Mve=Object.freeze,YOn=Object.defineProperty,oy=(e,t)=>Mve(YOn(e,"raw",{value:Mve(t||e.slice())})),Fve,Lve,Bve,Nve,zve,Vve;const qOn=$(hs)(Fve||(Fve=oy([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),GOn=$(U)(Lve||(Lve=oy([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),KOn=$(Q)(e=>{let{theme:t}=e;const{fg:n,bg:r}=t.sanity.color.card.enabled;return de(Bve||(Bve=oy([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),ZOn=$(zi)(Nve||(Nve=oy([`
  width: 66%;
  max-width: 175px;
`]))),XOn=$(L)(zve||(zve=oy([`
  cursor: default;
  outline: none;
`]))),QOn=$(M)(e=>{let{theme:t}=e;const{color:n,space:r}=t.sanity;return de(Vve||(Vve=oy([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],Dt(n.base.bg,0),r[3])}),QH=h.forwardRef(function(t,n){const{actions:r,backButton:o,contentAfter:i,loading:s,subActions:a,tabs:l,tabIndex:u,title:d}=t,{collapse:f,collapsed:p,expand:m,rootElement:v}=Kh(),g=Dh(v||null),y=h.useMemo(()=>({width:p?(g==null?void 0:g.height)||window.innerHeight:void 0}),[p,g]),x=h.useCallback(()=>{p||f()},[f,p]),b=h.useCallback(()=>{p&&m()},[p,m]),w=!!(!p&&(l||a));return c.jsx(cd,{zOffset:100,children:c.jsx(qOn,{"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:n,children:c.jsx(xd,{zOffset:"paneHeader",children:c.jsxs(Q,{"data-collapsed":p?"":void 0,tone:"inherit",children:[c.jsxs(GOn,{onClick:b,padding:2,sizing:"border",style:y,children:[o&&c.jsx(M,{flex:"none",padding:1,children:o}),c.jsxs(KOn,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:x,paddingLeft:o?1:3,paddingY:3,tabIndex:u,children:[s&&c.jsx(ZOn,{animated:!0,radius:1}),!s&&c.jsx(XOn,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&c.jsx(U,{align:"center",hidden:p,children:c.jsx(xd,{zOffset:"paneHeader",children:r})})]}),w&&c.jsxs(U,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[c.jsx(QOn,{flex:1,marginRight:a?3:0,children:l}),a&&a]}),!p&&i&&i]})})})})});function YLe(e){const{node:t,padding:n}=e;return t.type==="item"?c.jsx(JOn,{node:t,padding:n}):t.type==="group"?c.jsx(t3n,{node:t,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function JOn(e){var t;const{node:n,padding:r}=e;if(n.intent)return c.jsx(e3n,{...e,intent:n.intent});const o=typeof n.disabled=="object"&&c.jsx(L,{size:1,children:n.disabled.reason});return c.jsx(h_,{content:o,placement:"bottom",children:c.jsx(Uh,{disabled:!!n.disabled,hotkey:(t=n.hotkey)==null?void 0:t.split("+"),icon:n.icon,label:o?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function e3n(e){var t;const{intent:n,node:r,padding:o}=e,i=typeof r.disabled=="object"&&c.jsx(L,{size:1,children:r.disabled.reason}),s=MC({intent:n.type,params:n.params}),a=h.useCallback(l=>{s.onClick(l),r.onAction()},[s,r]);return c.jsx(h_,{content:i,placement:"bottom",children:c.jsx(Uh,{as:"a",disabled:!!r.disabled,hotkey:(t=r.hotkey)==null?void 0:t.split("+"),href:s.href,icon:r.icon,label:i?void 0:r.title,onClick:a,padding:o,selected:r.selected,tone:r.tone})})}function t3n(e){var t;const{node:n,padding:r}=e;return c.jsx(rn,{button:c.jsx(Uh,{disabled:n.disabled,icon:(t=n.icon)!=null?t:zl,label:n.title,padding:r}),id:h.useId(),menu:c.jsx(zt,{children:n.children.map((o,i)=>{var s;return c.jsx(eT,{disabled:!!n.disabled,isAfterGroup:((s=n.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})})}var Hve=Object.freeze,n3n=Object.defineProperty,r3n=(e,t)=>Hve(n3n(e,"raw",{value:Hve(t||e.slice())})),Uve;const o3n=$(Q)(Uve||(Uve=r3n([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function i3n(e,t,n,r){var o,i;const s={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},a=(o=t.minWidth)!=null?o:g0,l=(i=n.minWidth)!=null?i:g0,u=Math.min(t.maxWidth||1/0,s.width-l),d=Math.min(n.maxWidth||1/0,s.width-a);let f=a-e.left.width;const p=e.right.width-d;f<p&&(f=p);let m=e.right.width-l;const v=u-e.left.width;m>v&&(m=v);const g=Math.min(Math.max(r,f),m),y=e.left.width+g,x=e.right.width-g,b=y/s.width*s.flex,w=x/s.width*s.flex;return{leftFlex:b,leftW:y,rightFlex:w,rightW:x}}function s3n(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const Wve=[];function a3n(e,t){const n=new WeakMap;for(const o of t)n.set(o,s3n(e,o));const r=(o,i)=>{const s=n.get(o)||Wve,a=n.get(i)||Wve,l=Math.max(s.length,a.length);for(let u=0;u<l;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function l3n(){const e=[],t=[],n=new WeakMap,r=new Set,o={};let i=null,s=0,a=null,l=new Map,u=!1;function d(b){r.add(b),a===b&&(a=null),x()}function f(b){r.delete(b),a=b,x()}function p(b,w){return n.set(b,{...w,original:w}),t.push(b),i&&a3n(i,t),f(b),()=>{const C=t.indexOf(b);C>-1&&t.splice(C,1),n.delete(b),x()}}function m(b,w,C){var _,S,E,j;const k=t.indexOf(w),T=n.get(w);if(!T)return;const A=t[k+1],D=n.get(A);if(D){if(b==="start"&&(u=!0,o.left={element:w,flex:T.flex||1,width:w.offsetWidth},o.right={element:A,flex:D.flex||1,width:A.offsetWidth},x()),b==="move"&&o.left&&o.right){l=new Map;const{leftW:P,rightW:I,leftFlex:R,rightFlex:O}=i3n(o,T,D,C);l.set(w,{flex:R,width:P}),l.set(A,{flex:O,width:I}),x()}if(b==="end"){u=!1;const P=l.get(w),I=l.get(A);n.set(w,{...T,currentMinWidth:0,currentMaxWidth:(_=T.maxWidth)!=null?_:1/0,flex:(S=P==null?void 0:P.flex)!=null?S:T.flex}),n.set(A,{...D,currentMinWidth:0,currentMaxWidth:(E=T.maxWidth)!=null?E:1/0,flex:(j=I==null?void 0:I.flex)!=null?j:D.flex}),l=new Map,delete o.left,delete o.right,x()}}}function v(b){i=b}function g(b){s=b,x()}function y(b){return e.push(b),()=>{const w=e.push(b);w>-1&&e.splice(w,1)}}return{collapse:d,expand:f,mount:p,resize:m,setRootElement:v,setRootWidth:g,subscribe:y};function x(){var b,w,C,_;if(!s)return;const S=[];for(const P of t)P!==a&&S.unshift(P);a&&S.unshift(a);const E=new WeakMap,j=S.length,k=S[0],T=(j-1)*m0;let A=s-T;for(const P of S){const I=n.get(P);if(!I)continue;const R=I.currentMinWidth||I.minWidth||g0,O=P===k,V=r.has(P),B=R>A,H=O?!1:V||B,W=l.get(P);E.set(P,{element:P,collapsed:H,currentMinWidth:(b=W==null?void 0:W.width)!=null?b:I.currentMinWidth,currentMaxWidth:(w=W==null?void 0:W.width)!=null?w:I.currentMaxWidth,flex:(_=(C=W==null?void 0:W.flex)!=null?C:I.flex)!=null?_:1}),H?A-=m0:A-=R-m0}const D=[];for(const P of t){const I=E.get(P);I&&D.push(I)}for(const P of e)P({expandedElement:a||t[t.length-1]||null,panes:D,resizing:u})}}function pzn(e){const{children:t,minWidth:n,onCollapse:r,onExpand:o,...i}=e,s=h.useMemo(()=>l3n(),[]),[a,l]=h.useState(null),u=Dh(a),d=(u==null?void 0:u.width)||0,f=d===void 0||!n?void 0:d<n,[p,m]=h.useState({expandedElement:null,panes:[],resizing:!1});h.useEffect(()=>s.setRootElement(a),[s,a]),h.useEffect(()=>s.setRootWidth(d),[s,d]),h.useEffect(()=>s.subscribe(m),[s]),h.useEffect(()=>{f!==void 0&&(f&&r&&r(),!f&&o&&o())},[f,r,o]);const v=h.useMemo(()=>({collapse:s.collapse,collapsed:f,expand:s.expand,expandedElement:p.expandedElement,mount:s.mount,panes:p.panes,resize:s.resize,resizing:p.resizing}),[f,s,p.expandedElement,p.panes,p.resizing]);return c.jsx(LLe.Provider,{value:v,children:c.jsx(o3n,{"data-ui":"PaneLayout",...i,"data-collapsed":f?"":void 0,"data-resizing":p.resizing?"":void 0,"data-mounted":d?"":void 0,ref:l,children:t})})}function JH(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const qLe=Ckt(JH);function GLe(e){var t,n;const{fieldActions:r=[],menuItems:o,menuItemGroups:i}=e,s=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];s.push(KLe(f,"".concat(d,"-").concat(f.type)))}a+=s.length;const l=[];for(const d of i)l.find(p=>p.key===d.id)||l.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<o.length;d+=1){const f=o[d];let p=f.group&&l.find(m=>m.key===f.group);f.group&&!p&&(p={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},l.push(p)),p?p.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(t=f.showAsAction)!=null?t:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...l,...s]}function KLe(e,t){var n,r,o;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((i,s)=>KLe(i,"".concat(t,"-").concat(s,"-").concat(i.type))),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(o=e.renderAsButton)!=null?o:!1,selected:e.selected,title:e.title,tone:e.tone}}const c3n=h.forwardRef(function(t,n){const{intent:r,...o}=t,i=h.useMemo(()=>h.forwardRef(function(a,l){return c.jsx(dg,{...a,intent:r.type,params:r.params,ref:l})}),[r]);return t.disabled?c.jsx(oe,{...t,as:"a",role:"link","aria-disabled":"true"}):c.jsx(oe,{...o,as:i,"data-as":"a",ref:n})});function aR(e){let{reveal:t,loading:n,children:r}=e;const o=Jo();return t?c.jsx(it,{content:n?c.jsx(M,{padding:2,children:c.jsx(L,{children:"Loading…"})}):c.jsx(Xc,{currentUser:o}),portal:!0,children:c.jsx("div",{children:r})}):c.jsx(c.Fragment,{children:r})}const u3n={constrainSize:!0,placement:"bottom",portal:!0},Yve=(e,t,n)=>{var r;const o=(r=t.find(s=>s.id===n.templateId))==null?void 0:r.schemaType;if(!o)return null;const i={template:n.templateId,type:o,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function d3n(e){let{templateItems:t}=e;const n=An(),r=ty(),[o,i]=NH({templateItems:t}),s=h.useMemo(()=>!i&&(o==null?void 0:o.every(l=>!l.granted)),[i,o]),a=h.useMemo(()=>o?o.reduce((l,u)=>(l[u.id]=u,l),{}):{},[o]);if(s)return c.jsx(aR,{reveal:!0,loading:i,children:c.jsx(oe,{"aria-label":"Insufficient permissions",icon:Ro,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(t.length===1){const l=t[0],u=a[l.id],d=!(u!=null&&u.granted),f=Yve(n,r,l);return f?c.jsx(aR,{reveal:d,loading:i,children:c.jsx(c3n,{"aria-label":l.title,icon:l.icon||Ro,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return c.jsx(rn,{button:c.jsx(oe,{icon:Ro,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:c.jsxs(zt,{children:[c.jsx(M,{paddingX:3,paddingTop:3,paddingBottom:2,children:c.jsx(Ut,{muted:!0,children:"Create"})}),t.map((l,u)=>{const d=a[l.id],f=!(d!=null&&d.granted),p=Yve(n,r,l),m=r.find(g=>g.id===l.templateId);if(!m||!p)return null;const v=h.forwardRef((g,y)=>f?c.jsx("button",{type:"button",disabled:!0,...g,ref:y}):c.jsx(dg,{...g,intent:p.type,params:p.params,ref:y}));return v.displayName="Link",c.jsx(aR,{reveal:f,loading:i,children:c.jsx(Ne,{as:v,"data-as":f?"button":"a",text:l.title||m.title,"aria-label":f?"Insufficient permissions":l.title||m.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},l.id)})]}),popover:u3n})}function f3n(e){return e!=null}const h3n=e=>{const t=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(t):Object.entries(r).sort((o,i)=>{let[s]=o,[a]=i;return s.localeCompare(a,"en")});return JSON.stringify(t((r=>JSON.parse(JSON.stringify(r)))(e)))},p3n=h.memo(function(t){const{initialValueTemplateItems:n=hn,menuItems:r=hn,menuItemGroups:o=hn,actionHandlers:i=htn}=t,s=ty(),a=h.useCallback(m=>{if(typeof m.action=="string"&&!(m.action in i))return console.warn("No handler for action:",m.action),!1;const v=typeof m.action=="function"?m.action:typeof m.action=="string"?i[m.action]:null;return v?(v(m.params),!0):!1},[i]),l=h.useMemo(()=>GLe({actionHandler:a,menuItemGroups:o,menuItems:r.filter(m=>{var v;return((v=m.intent)==null?void 0:v.type)!=="create"})}),[a,o,r]),u=h.useMemo(()=>l.filter(JH),[l]),d=h.useMemo(()=>l.filter(qLe),[l]),f=h.useMemo(()=>r.map((m,v)=>{var g;if(((g=m.intent)==null?void 0:g.type)!=="create")return null;const{params:y}=m.intent;if(!y)return null;const x=Array.isArray(y)?y[0]:y,b=Array.isArray(y)?y[1]:void 0,w=x.template||x.type;if(!w)return null;const C=s.find(S=>S.id===w);if(!C)return null;const _=x.id;return{item:m,template:C,templateParams:b,menuItemIndex:v,initialDocumentId:_}}).filter(f3n).map(m=>{let{initialDocumentId:v,item:g,template:y,menuItemIndex:x,templateParams:b}=m;return{id:"menuItem".concat(x),initialDocumentId:v,templateId:y.id,type:"initialValueTemplateItem",title:g.title||y.title,icon:g.icon,description:y.description,parameters:b,schemaType:y.schemaType}}),[r,s]),p=h.useMemo(()=>mh([...f,...n],m=>h3n([m.initialDocumentId,m.templateId,m.parameters])),[f,n]);return c.jsxs(U,{gap:1,children:[p.length>0&&c.jsx(d3n,{templateItems:p}),u.map(m=>c.jsx(YLe,{node:m},m.key)),d.length>0&&c.jsx(VLe,{nodes:d})]})}),m3n=(e,t)=>({title:c.jsxs("em",{children:["No schema found for type ",c.jsx("code",{children:t})]}),subtitle:c.jsxs("em",{children:["Document: ",c.jsx("code",{children:e})]}),media:()=>c.jsx(zr,{})});function g3n(e){const{layout:t,value:n}=e;return c.jsx(Wh,{...m3n(n._id,n._type),layout:t})}function qve(e,t,n){return e===!1?!1:e||t&&t.icon||n||!1}function v3n(e){const{icon:t,id:n,layout:r="default",pressed:o,schemaType:i,selected:s,title:a,value:l,margin:u,marginBottom:d,marginTop:f}=e,p=An(),m=Ki(),{ChildLink:v}=fu(),g=A_(n),y=!!(i&&i.name&&p.get(i.name)),[x,b]=h.useState(!1),w=h.useMemo(()=>l&&v9e(l)?!i||!y?c.jsx(g3n,{value:l}):c.jsx(FLe,{documentPreviewStore:m,icon:qve(t,i,oh),layout:r,schemaType:i,value:l,presence:g}):c.jsx(Wh,{status:c.jsx(L,{muted:!0,children:c.jsx(Jc,{})}),icon:qve(t,i,Txe),layout:r,title:a}),[m,y,t,r,i,a,l,g]),C=h.useMemo(()=>function(E){return c.jsx(v,{...E,childId:n})},[v,n]),_=h.useCallback(S=>{if(S.metaKey){b(!1);return}b(!0)},[]);return h.useEffect(()=>b(!1),[s]),c.jsx(dm,{__unstable_focusRing:!0,as:C,"data-as":"a","data-ui":"PaneItem",margin:u,marginBottom:d,marginTop:f,onClick:_,padding:2,pressed:o,radius:2,selected:s||x,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const ZLe=h.createContext(null);function Vr(){const e=h.useContext(ZLe);if(!e)throw new Error("DocumentPane: missing context value");return e}const y3n={NOTHING_TO_DELETE:"This document doesn’t yet exist or is already deleted"},XLe=e=>{let{id:t,type:n,draft:r,onComplete:o}=e;const{setIsDeleting:i}=Vr(),{delete:s}=dc(t,n),[a,l]=h.useState(!1),[u,d]=h.useState(!1),f=h.useCallback(()=>{d(!1),o()},[o]),p=h.useCallback(()=>{l(!0),d(!1),i(!0),s.execute(),o()},[s,o,i]),m=h.useCallback(()=>{d(!0)},[]),[v,g]=Gh({id:t,type:n,permission:"delete"}),y=Jo();return!g&&!(v!=null&&v.granted)?{tone:"critical",icon:Co,disabled:!0,label:"Delete",title:c.jsx(Xc,{operationLabel:"delete this document",currentUser:y})}:{tone:"critical",icon:Co,disabled:a||!!s.disabled||g,title:s.disabled&&y3n[s.disabled]||"",label:a?"Deleting…":"Delete",shortcut:"Ctrl+Alt+D",onHandle:m,dialog:u&&{type:"custom",component:c.jsx(zLe,{action:"delete",id:(r==null?void 0:r._id)||t,type:n,onCancel:f,onConfirm:p})}}};XLe.action="delete";const b3n={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},QLe=e=>{let{id:t,type:n,published:r,liveEdit:o,onComplete:i}=e;const{discardChanges:s}=dc(t,n),[a,l]=h.useState(!1),[u,d]=Gh({id:t,type:n,permission:"discardDraft"}),f=Jo(),p=h.useCallback(()=>{s.execute(),i()},[s,i]),m=h.useCallback(()=>{l(!0)},[]),v=h.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:c.jsx(c.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[p,a,i]);return!r||o?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:td,disabled:!0,label:"Discard changes",title:c.jsx(Xc,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:td,disabled:!!s.disabled||d,title:s.disabled&&b3n[s.disabled]||"",label:"Discard changes",onHandle:m,dialog:v}};QLe.action="discardChanges";const x3n={NOTHING_TO_DUPLICATE:"This document doesn’t yet exist so there‘s nothing to duplicate"},JLe=e=>{let{id:t,type:n,onComplete:r}=e;const{duplicate:o}=dc(t,n),{navigateIntent:i}=oc(),[s,a]=h.useState(!1),[l,u]=Gh({id:t,type:n,permission:"duplicate"}),d=Jo(),f=h.useCallback(()=>{const p=Od();a(!0),o.execute(p),i("edit",{id:p,type:n}),r()},[o,i,r,n]);return!u&&!(l!=null&&l.granted)?{icon:Ju,disabled:!0,label:"Duplicate",title:c.jsx(Xc,{operationLabel:"duplicate this document",currentUser:d})}:{icon:Ju,disabled:s||!!o.disabled||u,label:s?"Duplicating…":"Duplicate",title:o.disabled&&x3n[o.disabled]||"",onHandle:f}};JLe.action="duplicate";const eU=e=>{let{id:t,type:n,revision:r,onComplete:o}=e;const{restore:i}=dc(t,n),s=H4e(t,n),{navigateIntent:a}=oc(),l=h.useRef(s),[u,d]=h.useState(!1),f=h.useCallback(()=>{i.execute(r),o()},[i,r,o]);h.useEffect(()=>{!s||s===l.current||(s.type==="success"&&s.op==="restore"&&a("edit",{id:t,type:n}),l.current=s)},[s,t,a,n]);const p=h.useCallback(()=>{d(!0)},[]),m=h.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:f,message:c.jsx(c.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[f,u,o]),v=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:p,title:v?"You can't restore to the initial version":"Restore to this version",icon:s8,dialog:m,disabled:v}};eU.action="restore";const w3n={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function C3n(e,t){return e==="ALREADY_PUBLISHED"&&t?c.jsx(c.Fragment,{children:c.jsxs("span",{children:["Published ",t]})}):w3n[e]}const e6e=e=>{var t;const{id:n,type:r,liveEdit:o,draft:i,published:s}=e,[a,l]=h.useState(null),{publish:u}=dc(n,r),d=OH(n,r),f=W4e(n,r),{changesOpen:p,onHistoryOpen:m,documentId:v,documentType:g}=Vr(),y=IH(v,g),x=((y==null?void 0:y.draft)||(y==null?void 0:y.published)||{})._rev,b=d.validation.some(y9e),[w,C]=h.useState(!1),_=f.isSyncing,S=d.isValidating,[E,j]=Gh({id:n,type:r,permission:"publish"}),k=Jo(),T=ai((s==null?void 0:s._updatedAt)||"",{minimal:!0,agoSuffix:!0}),A=u.disabled?C3n(u.disabled,T)||"":b?"There are validation errors that need to be fixed before this document can be published":"",D=!!i,P=h.useCallback(()=>{u.execute(),l("publishing")},[u]);h.useEffect(()=>{const O=d.isValidating===!1&&d.revision!==x;!w||_||!O||(b||P(),C(!1))},[_,P,b,w,d.revision,x,S,d.isValidating]),h.useEffect(()=>{const O=a==="publishing"&&!D;O&&p&&m();const V=O?"published":null,H=setTimeout(()=>{l(V)},O?200:4e3);return()=>clearTimeout(H)},[p,a,D,m]);const I=h.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==x?C(!0):P()},[f.isSyncing,d.isValidating,d.revision,x,P]);if(o)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!j&&!(E!=null&&E.granted))return{tone:"positive",label:"Publish",title:c.jsx(Xc,{operationLabel:"publish this document",currentUser:k}),disabled:!0};const R=!!(w||(t=y==null?void 0:y.transactionSyncLock)!=null&&t.enabled||a==="publishing"||a==="published"||b||u.disabled);return{disabled:R||j,tone:"positive",label:a==="published"?"Published":w||a==="publishing"?"Publishing…":"Publish",icon:a==="published"?fa:d1,title:w?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:A,shortcut:R||w?null:"Ctrl+Alt+P",onHandle:I}};e6e.action="publish";const _3n={NOT_PUBLISHED:"This document is not published"},t6e=e=>{let{id:t,type:n,draft:r,onComplete:o,liveEdit:i}=e;const{unpublish:s}=dc(t,n),[a,l]=h.useState(!1),[u,d]=Gh({id:t,type:n,permission:"unpublish"}),f=Jo(),p=h.useCallback(()=>{l(!1),o()},[o]),m=h.useCallback(()=>{l(!1),s.execute(),o()},[o,s]),v=h.useMemo(()=>a?{type:"dialog",onClose:o,content:c.jsx(zLe,{id:(r==null?void 0:r._id)||t,type:n,action:"unpublish",onCancel:p,onConfirm:m})}:null,[r,t,p,m,a,o,n]);return i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:pk,label:"Unpublish",title:c.jsx(Xc,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:pk,disabled:!!s.disabled||d,label:"Unpublish",title:s.disabled?_3n[s.disabled]:"",onHandle:()=>l(!0),dialog:v}};t6e.action="unpublish";const S3n=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},E3n=!1,n6e={},mzn=Symbol("LOADING_PANE"),r6e="documentPanelPortalElement",o6e={activePanes:[]};function gzn(e){o6e.activePanes=e}function k3n(e,t,n,r){var o;const i=(n==null?void 0:n.panes)||[],s=o6e.activePanes||[],a=t.id||Od(),l=e==="create"&&t.template;for(let u=s.length-1;u>=0;u--){const d=s[u];if(typeof d=="object"&&((o=d.canHandleIntent)!=null&&o.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=l?{template:t.template}:n6e;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}const j3n={};function T3n(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function A3n(e){return(e||[]).map(t=>t.map(B3n).join("|")).map(encodeURIComponent).join(";")}function D3n(e){return JSON.stringify(e)}function P3n(e){return N3n(decodeURIComponent(e))}function I3n(e){return A3n(e)}const O3n=Pi.create("/",[Pi.intents("/intent"),Pi.create("/edit/:type/:editDocumentId",[Pi.create({path:"/:params",transform:{params:{toState:T3n,toPath:D3n}}})]),Pi.create({path:"/:panes",children:[Pi.create("/:action",Pi.create("/:legacyEditDocumentId"))],transform:{panes:{toState:P3n,toPath:I3n}}})]),$3n=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,R3n=e=>/^[a-z0-9]+=[^=]+/i.test(e),M3n=e=>/^[A-Za-z0-9\-_]+(?:={0,2})$/.test(e),i6e=["view","since","rev","inspect","comment"],F3n=Boolean;function L3n(e,t){const n={...t,params:j3n,payload:void 0};return e.reduce((r,o)=>{if(R3n(o)){const i=o.slice(0,o.indexOf("=")),s=o.slice(i.length+1);r.params={...r.params,[decodeURIComponent(i)]:decodeURIComponent(s)}}else M3n(o)?r.payload=H3n(o):console.warn("Unknown pane segment: %s - skipping",o);return r},n)}function B3n(e,t,n){const{payload:r,params:o={},id:i}=e,[s]=n,a=e===s,l=t!==0&&i===s.id,u=typeof r>"u"?void 0:Kke(r),d=Object.entries(o).filter(f=>{var p;const[m,v]=f;if(!v)return!1;if(a)return!0;const g=(p=s.params)==null?void 0:p[m];return!(v===g&&!i6e.includes(m))}).map(f=>{let[p,m]=f;return"".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(m))});return[l?"":i].concat([d.length>0&&d,u].filter(F3n).flat()).join(",")||","}function N3n(e){return e.indexOf(",{")!==-1?z3n(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(o=>{const[i,...s]=o.split(",");return L3n(s,{id:i})});return[n,...r.map(o=>({...n,...o,id:o.id||n.id,params:{...Hi(n.params,i6e),...o.params},payload:o.payload||n.payload}))]}).filter(t=>t.length>0)}function z3n(e){const t=[];let n=e;for(;n.length;){const[r,o,i]=n.match($3n)||[];if(!r){n=n.slice(1);continue}const s=i&&V3n(i);t.push({id:o,payload:s}),n=n.slice(r.length)}return[t]}function V3n(e){try{return JSON.parse(e)}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}function H3n(e){try{return e?Gke(e):void 0}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}const U3n=320,W3n=600,p6=320,Y3n=540,q3n={},m6="inspect:",G3n=[{id:"inspectors"},{id:"links"}],g6="sanity/desk/history",K3n="sanity/desk/validation",Dx="sanity/desk/comments";var Gve=Object.freeze,Z3n=Object.defineProperty,X3n=(e,t)=>Gve(Z3n(e,"raw",{value:Gve(t||e.slice())})),Kve;const Zve=$(TSe)(Kve||(Kve=X3n([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),Q3n=/[^\p{Alpha}\p{White_Space}]/gu,J3n=new RegExp("\\p{White_Space}+","u");function e$n(e){const t=e.replace(Q3n,"").split(J3n);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function QP(e){const{user:t,...n}=e,r=t,o=h.useMemo(()=>e$n((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?c.jsx(Zve,{initials:o,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):c.jsx(Zve,{...n})}const s6e=25,t$n={minWidth:s6e};function ik(){return c.jsx("div",{style:t$n})}var Xve=Object.freeze,n$n=Object.defineProperty,r$n=(e,t)=>Xve(n$n(e,"raw",{value:Xve(t||e.slice())})),Qve;const o$n={open:500,close:0},Jve=$.span(e=>{let{theme:t}=e;var n,r,o;const{regular:i}=(n=t.sanity.fonts)==null?void 0:n.text.weights,{hovered:s}=(r=t.sanity.color)==null?void 0:r.card,{bg:a}=((o=t.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return de(Qve||(Qve=r$n([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),i,s.bg,a)});function a6e(e){const{selected:t,userId:n}=e,[r,o]=ny(n),i=Jo();return!r||o?c.jsx(Jve,{children:"@Loading"}):c.jsx(it,{portal:!0,open:t,delay:o$n,content:c.jsxs(U,{align:"center",padding:2,gap:2,children:[c.jsx(U,{children:c.jsx(QP,{user:r})}),c.jsx(L,{size:1,children:r.displayName})]}),children:c.jsxs(Jve,{"data-selected":t,"data-active":(i==null?void 0:i.id)===n,children:["@",r.displayName]})})}var e0e=Object.freeze,i$n=Object.defineProperty,s$n=(e,t)=>e0e(i$n(e,"raw",{value:e0e(t||e.slice())})),t0e;const a$n=$(L)(t0e||(t0e=s$n([`
  word-break: break-word;
`])));function Ks(e){const{children:t}=e;return c.jsx(a$n,{size:1,children:t})}var n0e=Object.freeze,l$n=Object.defineProperty,c$n=(e,t)=>n0e(l$n(e,"raw",{value:n0e(t||e.slice())})),r0e;const u$n=$(te)(()=>de(r0e||(r0e=c$n([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),d$n=[],f$n={block:{normal:e=>{let{children:t}=e;return c.jsx(Ks,{children:t})},h1:e=>{let{children:t}=e;return c.jsx(Ks,{children:t})},h2:e=>{let{children:t}=e;return c.jsx(Ks,{children:t})},h3:e=>{let{children:t}=e;return c.jsx(Ks,{children:t})},h4:e=>{let{children:t}=e;return c.jsx(Ks,{children:t})},h5:e=>{let{children:t}=e;return c.jsx(Ks,{children:t})},h6:e=>{let{children:t}=e;return c.jsx(Ks,{children:t})},blockquote:e=>{let{children:t}=e;return c.jsx(Ks,{children:t})},code:e=>{let{children:t}=e;return c.jsx(Ks,{children:t})}},list:{bullet:e=>{let{children:t}=e;return t},number:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},checkmarks:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})}},listItem:{bullet:e=>{let{children:t}=e;return c.jsx(Ks,{children:t})},number:e=>{let{children:t}=e;return c.jsx(Ks,{children:t})},checkmarks:e=>{let{children:t}=e;return c.jsx(Ks,{children:t})}},marks:{strong:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},em:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},code:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},underline:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},strikeThrough:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},link:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})}},types:{mention:e=>{var t;return c.jsx(a6e,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function h$n(e){const{blocks:t}=e;return c.jsx(u$n,{children:c.jsx(VPn,{value:t||d$n,components:f$n})})}const p$n=lT({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),m$n=lT({type:"block",name:"block",of:[p$n],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}),g$n=_9e({type:"array",name:"body",of:[m$n]}),v$n=vB.compile({name:"comments",types:[g$n]}),y$n=v$n.get("body"),b$n=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:c.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x$n=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),w$n=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"add-comment",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("path",{d:"M12.3368 5.97917H6.89453C5.78996 5.97917 4.89453 6.8746 4.89453 7.97917V13.4881C4.89453 14.5926 5.78996 15.4881 6.89453 15.4881H8.69808V19.2916L12.5016 15.4881H16.207C17.3115 15.4881 18.207 14.5926 18.207 13.4881V11.7158",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.2081 2.08333V9.87058M14.3145 5.97695H22.1017",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),C$n=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:n,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:c.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});function l6e(e){const t=h.useRef(e);return h.useMemo(()=>!Wt(t.current,e),[e])}function I_(e){return e?e==null?void 0:e.some(t=>{var n;return Xu(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>aa(r)?r.text:r.userId))}):!1}const c6e=ne.createContext(null);function _$n(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:o=!1,mentionOptions:i,onMentionMenuOpenChange:s,value:a,readOnly:l}=e,u=Eo(),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(null),y=h.useMemo(()=>I_(a),[a]),x=l6e(a),b=h.useCallback(()=>{l||we.focus(u)},[u,l]),w=h.useCallback(()=>{f(!1),m(""),g(null)},[]),C=h.useCallback(()=>{f(!0),m(""),f(!0),g(we.getSelection(u))},[u]),_=h.useCallback(k=>{const T=we.getSelection(u),A=T?T.focus.offset:0,D=we.focusChild(u),P=aa(D)&&D||void 0,I=k.inputType==="insertText",R=k.inputType==="deleteContentBackward",O=I&&k.data==="@",V=(P==null?void 0:P.text.substring(0,A).lastIndexOf("@"))||0,B=(P==null?void 0:P.text.substring(A-1,A))===" ",H=I&&k.data===" "&&!p;if(O&&(A<1||B)){C();return}if(H||R&&((P==null?void 0:P.text.length)===1||V===((P==null?void 0:P.text.length)||0)-1)){w();return}if(aa(D)){let W=D.text.substring(V+1,A);I&&(W+=k.data),R&&(W=W.substring(0,W.length-1)),m(W)}},[w,u,p,C]),S=h.useCallback(()=>{f(!0),we.focus(u),we.insertChild(u,u.schemaTypes.span,{text:"@"}),g(we.getSelection(u))},[u]);Gi(d,()=>s==null?void 0:s(d));const E=h.useCallback(k=>{var T;const A=u.schemaTypes.inlineObjects.find(I=>I.name==="mention"),[D,P]=v&&we.findByPath(u,v.focus.path)||[];if(D&&aa(D)&&P&&A){we.focus(u);const I=(T=we.getSelection(u))==null?void 0:T.focus.offset;typeof I<"u"&&(we.delete(u,{anchor:{path:P,offset:D.text.lastIndexOf("@")},focus:{path:P,offset:I}},{mode:"selected"}),we.insertChild(u,A,{userId:k}),we.insertChild(u,u.schemaTypes.span,{text:" "}))}},[u,v]),j=h.useMemo(()=>({canSubmit:y,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:b,focusOnMount:o,hasChanges:x,insertAtChar:S,insertMention:E,mentionOptions:i,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:_,openMentions:C,readOnly:!!l,value:a}),[y,w,u,n,r,b,o,x,S,E,i,d,p,_,C,l,a]);return c.jsx(c6e.Provider,{value:j,children:t})}function u6e(){const e=h.useContext(c6e);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}var o0e=Object.freeze,S$n=Object.defineProperty,E$n=(e,t)=>o0e(S$n(e,"raw",{value:o0e(t||e.slice())})),i0e;const k$n=$(U)(i0e||(i0e=E$n([""]))),j$n={width:"50%"};function T$n(e){const{user:t,onSelect:n}=e,[r]=ny(t.id),o=c.jsx(QP,{user:r,status:t.canBeMentioned?void 0:"inactive"}),i=r?c.jsx(L,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):c.jsx(zi,{size:1,style:j$n}),s=h.useCallback(()=>{n(t.id)},[n,t.id]);return c.jsx(Q,{as:"button",disabled:!t.canBeMentioned,onClick:s,padding:2,radius:2,children:c.jsxs(U,{align:"center",gap:3,children:[c.jsxs(k$n,{align:"center",gap:2,flex:1,children:[o,c.jsx(M,{children:i})]}),!t.canBeMentioned&&c.jsx(q9,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const s0e=[],A$n=$(te)({maxWidth:"220px"}),a0e=41,D$n=4,P$n=7,I$n=$(U)({maxHeight:a0e*P$n+D$n*2+a0e/2}),O$n=ne.forwardRef(function(t,n){const{loading:r,onSelect:o,options:i=[],inputElement:s}=t,[a,l]=h.useState(""),u=h.useRef(null);h.useImperativeHandle(n,()=>({setSearchTerm(v){l(v)}}),[]);const d=h.useCallback(v=>c.jsx(T$n,{user:v,onSelect:o}),[o]),f=h.useCallback(v=>{var g;return!((g=i==null?void 0:i[v])!=null&&g.canBeMentioned)},[i]),p=h.useMemo(()=>{var v;if(!a)return i||s0e;const g=zX(a).toLocaleLowerCase(),y=i==null?void 0:i.map(b=>({...b,displayName:zX(b.displayName||"").toLocaleLowerCase()}));return((v=y==null?void 0:y.filter(b=>{var w;return(w=b==null?void 0:b.displayName)==null?void 0:w.includes(g)}))==null?void 0:v.sort((b,w)=>{var C,_;const S=(C=b.displayName)==null?void 0:C.startsWith(g),E=(_=w.displayName)==null?void 0:_.startsWith(g);return S&&!E?-1:!S&&E?1:0}))||s0e},[i,a]);if(r)return c.jsx(A$n,{children:c.jsx(U,{align:"center",justify:"center",padding:4,children:c.jsx(gr,{muted:!0,size:1})})});const m=s||void 0;return c.jsxs(U,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&c.jsx(M,{padding:5,children:c.jsx(L,{align:"center",size:1,muted:!0,children:"No users found"})}),p.length>0&&c.jsx(I$n,{direction:"column",flex:1,overflow:"hidden",children:c.jsx(Hh,{activeItemDataAttr:"data-hovered",ariaLabel:"List of users to mention",fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:p,padding:1,ref:u,renderItem:d})})]})}),$$n=e=>{const{children:t}=e;return c.jsx(Ks,{children:t})},R$n=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?c.jsx(a6e,{selected:r,userId:n==null?void 0:n.userId}):t},M$n={passive:!0};function F$n(e){const{disabled:t,rootElement:n}=e,[r,o]=h.useState(null),i=h.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),s=h.useCallback(()=>{if(t){o(null);return}const a=window.getSelection();if(!a||!a.isCollapsed||a.rangeCount===0)return;const l=a.getRangeAt(0);if(!(n==null?void 0:n.contains(l.commonAncestorContainer))){o(null);return}const d=l==null?void 0:l.getBoundingClientRect();d&&o(d)},[t,n]);return h.useEffect(()=>(document.addEventListener("selectionchange",s,M$n),()=>{document.removeEventListener("selectionchange",s)}),[s]),i}var l0e=Object.freeze,L$n=Object.defineProperty,d6e=(e,t)=>l0e(L$n(e,"raw",{value:l0e(t||e.slice())})),c0e,u0e;const B$n=["bottom","top"],N$n={outline:"none"},d0e=[],z$n=$.span(()=>de(c0e||(c0e=d6e([`
    overflow: hidden;
    text-overflow: ellipsis;
    text-wrap: nowrap;
    display: block;
  `])))),V$n=$(nn)(e=>{let{theme:t}=e;const{space:n,radius:r}=t.sanity;return de(u0e||(u0e=d6e([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),n[1],n[1],r[3])});function H$n(e){const{focusLock:t,placeholder:n="Create a new comment",onFocus:r,onBlur:o,onKeyDown:i,onSubmit:s}=e,[a,l]=h.useState(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=R1(),{canSubmit:m,closeMentions:v,insertMention:g,mentionOptions:y,mentionsMenuOpen:x,mentionsSearchTerm:b,onBeforeInput:w,value:C}=u6e(),_=F$n({disabled:!x,rootElement:u.current}),S=h.useCallback(()=>c.jsx(z$n,{children:n}),[n]),E=h.useCallback(()=>{x&&v()},[v,x]);pr(E,[a]);const j=h.useCallback(A=>{switch(A.key){case"Enter":if(A.shiftKey)break;if(A.preventDefault(),A.stopPropagation(),x){v();break}s&&m&&s();break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(A.preventDefault(),A.stopPropagation(),v());break}i&&i(A)},[m,v,x,i,s]),k=h.useMemo(()=>{if(p)return;const A=(C||d0e).slice(-1)[0],D=Xu(A)?A.children.slice(-1)[0]:void 0;if(!D)return;const P={path:[{_key:A._key},"children",{_key:D._key}],offset:aa(D)?D.text.length:0};return{focus:P,anchor:P}},[C,p]);h.useEffect(()=>{var A;(A=f.current)==null||A.setSearchTerm(b)},[b]),h.useEffect(()=>{x&&p&&!Wt(p.anchor,p.focus)&&v()},[x,v,p]);const T=c.jsx(O$n,{inputElement:d.current,loading:y.loading,onSelect:g,options:y.data||d0e,ref:f});return c.jsxs("div",{ref:u,children:[c.jsx(V$n,{arrow:!1,constrainSize:!0,content:T,disabled:!x,fallbackPlacements:B$n,open:x,placement:"bottom",ref:l,referenceElement:_}),c.jsx(EDe,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:w,onBlur:o,onFocus:r,onKeyDown:j,ref:d,renderBlock:$$n,renderChild:R$n,renderPlaceholder:S,selection:k,style:N$n,tabIndex:t?0:void 0})]})}var f0e=Object.freeze,U$n=Object.defineProperty,tU=(e,t)=>f0e(U$n(e,"raw",{value:f0e(t||e.slice())})),h0e,p0e,m0e;const sk=$(M)(h0e||(h0e=tU([`
  max-height: 20vh;
  overflow-y: auto;
`]))),W$n=$(Mr)({height:20,width:1}),g0e=$(oe).attrs({fontSize:1,padding:2})(p0e||(p0e=tU([`
  /* border-radius: 50%; */
`]))),Y$n=$(Q)(e=>{let{theme:t}=e;const n=t.sanity.radius[2];return de(m0e||(m0e=tU([`
    border-radius: `,`px;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
  `])),n,sk,sk,sk)});function q$n(e){const{currentUser:t,focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a,withAvatar:l}=e,[u]=ny(t.id),{canSubmit:d,expandOnFocus:f,focused:p,hasChanges:m,insertAtChar:v,openMentions:g,readOnly:y}=u6e(),x=l?c.jsx(QP,{user:u}):null,b=h.useCallback(w=>{w.stopPropagation(),v(),g()},[v,g]);return c.jsxs(U,{align:"flex-start",gap:2,children:[x,c.jsx(Y$n,{"data-expand-on-focus":f&&!d?"true":"false","data-focused":p?"true":"false",flex:1,shadow:1,sizing:"border",tone:y?"transparent":"default",children:c.jsxs(te,{children:[c.jsx(sk,{paddingX:1,paddingY:2,sizing:"border",children:c.jsx(H$n,{focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a})}),c.jsxs(U,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:[c.jsx(g0e,{"aria-label":"Mention user","data-testid":"comment-mention-button",disabled:y,icon:x$n,mode:"bleed",onClick:b}),c.jsx(W$n,{}),c.jsx(g0e,{"aria-label":"Send comment",disabled:!d||!m||y,icon:b$n,mode:m&&d?"default":"bleed",onClick:s,tone:m&&d?"primary":"default"})]})]})})]})}const G$n=9999999;function K$n(e){const{onClose:t,onConfirm:n}=e,r=h.useCallback(i=>{i.stopPropagation(),t()},[t]),o=h.useCallback(i=>{i.stopPropagation(),n()},[n]);return c.jsx(xSe,{tone:"default",children:c.jsx(hF,{zOffset:G$n,children:c.jsx(Wi,{header:"Discard comment?",id:"discard-comment-dialog",onClose:t,width:0,onClickOutside:t,footer:c.jsxs(tn,{columns:2,padding:2,gap:2,children:[c.jsx(oe,{text:"Cancel",mode:"ghost",onClick:r}),c.jsx(oe,{onClick:o,text:"Discard",tone:"critical"})]}),children:c.jsx(te,{padding:4,children:c.jsx(L,{children:"Do you want to discard the comment?"})})})})})}const lR=[],Z$n={behavior:"smooth",block:"center",inline:"center"},JP=h.forwardRef(function(t,n){const{currentUser:r,expandOnFocus:o,focusLock:i=!1,focusOnMount:s,mentionOptions:a,onBlur:l,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:v,onSubmit:g,placeholder:y,readOnly:x,value:b=lR,withAvatar:w=!0}=t,[C,_]=h.useState(!1),S=h.useRef(null),E=h.useRef(null),[j,k]=h.useState(!1),T=h.useRef(null),A=h.useRef(null),D=h.useRef(null),[P,I]=h.useState(ww()),R=h.useCallback(()=>{requestAnimationFrame(()=>{S.current&&we.focus(S.current)})},[]),O=h.useCallback(()=>{I(ww())},[]),V=h.useCallback(ee=>{if(ee.type==="ready"&&s&&R(),ee.type==="focus"&&_(!0),ee.type==="blur"&&_(!1),ee.type==="patch"&&S.current){const N=we.getValue(S.current);u(N||lR)}},[s,u,R]),B=h.useCallback(()=>{var ee;(ee=E.current)==null||ee.scrollIntoView(Z$n)},[]),H=h.useCallback(()=>{g(),O(),R(),B()},[g,R,O,B]),W=h.useCallback(()=>{f(),O()},[f,O]),z=h.useMemo(()=>({open:()=>{k(!0)},close:()=>{k(!1),R()}}),[R]);h.useImperativeHandle(n,()=>({focus:R,blur(){S.current&&we.blur(S.current)},scrollTo:B,reset:O,discardDialogController:z}),[z,R,O,B]);const G=h.useCallback(ee=>{if(!i)return;const N=ee.target,Y=D.current;if(Y&&N===T.current){Z9(Y);return}Y&&N===A.current&&jm(Y)},[i]);return c.jsxs(c.Fragment,{children:[j&&c.jsx(K$n,{onClose:d,onConfirm:W}),c.jsx(te,{ref:E,"data-testid":"comment-input",onFocus:G,children:c.jsx(we,{onChange:V,readOnly:x,ref:S,schemaType:y$n,value:b||lR,children:c.jsxs(_$n,{expandOnFocus:o,focused:C,focusOnMount:s,mentionOptions:a,onMentionMenuOpenChange:v,readOnly:x,value:b,children:[i&&c.jsx("div",{ref:T,tabIndex:0}),c.jsx(te,{ref:D,children:c.jsx(q$n,{currentUser:r,focusLock:i,onBlur:l,onFocus:p,onKeyDown:m,onSubmit:H,placeholder:y,withAvatar:w})}),i&&c.jsx("div",{ref:A,tabIndex:0})]})},P)})]})}),cR=3;var v0e=Object.freeze,X$n=Object.defineProperty,Q$n=(e,t)=>v0e(X$n(e,"raw",{value:v0e(t||e.slice())})),y0e;const J$n={open:500},eRn=$(L)(y0e||(y0e=Q$n([`
  min-width: max-content;
`])));function tRn(e){const{children:t,text:n}=e;return c.jsx(it,{delay:J$n,portal:!0,placement:"top",content:c.jsx(eRn,{size:1,children:n}),padding:2,children:c.jsx(U,{children:t})})}var b0e=Object.freeze,nRn=Object.defineProperty,rRn=(e,t)=>b0e(nRn(e,"raw",{value:b0e(t||e.slice())})),x0e;const oRn={open:500},iRn={placement:"bottom-end"},sRn=$(Q)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(x0e||(x0e=rRn([`
    gap: `,`px;
    padding: `,`px;

    &:empty {
      display: none;
    }
  `])),n[1]/2,n[1]/2)});function aRn(e){const{canDelete:t,canEdit:n,isParent:r,onCopyLink:o,onDeleteStart:i,onEditStart:s,onMenuClose:a,onMenuOpen:l,onStatusChange:u,readOnly:d,status:f}=e,p=!!(o||i||s);return c.jsx(USe,{delay:oRn,children:c.jsx(U,{children:c.jsxs(sRn,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[r&&c.jsx(tRn,{text:f==="open"?"Mark as resolved":"Re-open",children:c.jsx(oe,{"aria-label":"Mark comment as resolved",disabled:d,fontSize:1,icon:f==="open"?jT:hk,mode:"bleed",onClick:u,padding:2})}),c.jsx(rn,{id:"comment-actions-menu",button:c.jsx(oe,{"aria-label":"Open comment actions menu",disabled:d,fontSize:1,hidden:!p,icon:Fo,mode:"bleed",padding:2}),onOpen:l,onClose:a,menu:c.jsxs(zt,{children:[c.jsx(Ne,{fontSize:1,hidden:!n,icon:ed,onClick:s,text:"Edit comment"}),c.jsx(Ne,{fontSize:1,hidden:!t,icon:Co,onClick:i,text:"Delete comment",tone:"critical"}),c.jsx(Mr,{hidden:!t&&!n}),c.jsx(Ne,{fontSize:1,hidden:!o,icon:ih,onClick:o,text:"Copy link to comment"})]}),popover:iRn})]})})})}var w0e=Object.freeze,lRn=Object.defineProperty,iy=(e,t)=>w0e(lRn(e,"raw",{value:w0e(t||e.slice())})),C0e,_0e,S0e,E0e,k0e,j0e;const Mb=$(M)(C0e||(C0e=iy([""])));function cRn(e){const{children:t,isParent:n}=e,r=h.useCallback(o=>{o.stopPropagation()},[]);return c.jsx(Mb,{"data-root-menu":n?"true":"false",onClick:r,children:t})}const uRn={width:"50%"},T0e=$(L)(e=>{let{theme:t}=e;const n=t.sanity.color.dark,r=fe.gray[n?200:800].hex;return de(_0e||(_0e=iy([`
    min-width: max-content;
    --card-fg-color: `,`;
    color: var(--card-fg-color);
  `])),r)}),dRn=$(te)(S0e||(S0e=iy([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),fRn=$(U)(E0e||(E0e=iy([`
  min-height: `,`px;
`])),s6e),hRn=$(Q)(k0e||(k0e=iy([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),pRn=$(te)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(j0e||(j0e=iy([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),Mb,n[1],n[1],Mb,Mb,Mb)}),mRn={agoSuffix:!0};function A0e(e){const{canDelete:t,canEdit:n,comment:r,currentUser:o,hasError:i,isParent:s,isRetrying:a,mentionOptions:l,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:p,onInputKeyDown:m,onStatusChange:v,readOnly:g}=e,{_createdAt:y,authorId:x,message:b,_id:w,lastEditedAt:C}=r,[_]=ny(x),[S,E]=h.useState(b),[j,k]=h.useState(!1),[T,A]=h.useState(null),D=h.useRef(b),[P,I]=h.useState(!1),R=l6e(S),O=h.useMemo(()=>I_(S),[S]),V=h.useRef(null),B=y?new Date(y):new Date,H=ai(B,mRn),W=ci(B,"PPPPp"),z=C?ci(new Date(C),"PPPPp"):null,G=i||a,ee=h.useCallback(()=>I(!0),[]),N=h.useCallback(()=>I(!1),[]),Y=h.useCallback(()=>u==null?void 0:u(w),[w,u]),q=h.useCallback($e=>{$e.stopPropagation(),d==null||d(w)},[w,d]),Z=h.useCallback(()=>f(w),[w,f]),ie=h.useCallback(()=>{k(!1),E(D.current)},[]),re=h.useCallback(()=>{var $e;if(!O||!R){ie();return}($e=V.current)==null||$e.discardDialogController.open()},[ie,R,O]),K=h.useCallback($e=>{$e.isDefaultPrevented()||($e.key==="Escape"&&($e.preventDefault(),$e.stopPropagation(),re()),m&&m($e))},[m,re]),X=h.useCallback(()=>{var $e;($e=V.current)==null||$e.discardDialogController.close()},[]),ce=h.useCallback(()=>{var $e;($e=V.current)==null||$e.discardDialogController.close(),ie()},[ie]),me=h.useCallback(()=>{p(w,{message:S}),k(!1)},[w,p,S]),ae=h.useCallback(()=>{v==null||v(w,r.status==="open"?"resolved":"open")},[w,r.status,v]),Ce=h.useCallback(()=>{k($e=>!$e)},[]),_e=h.useCallback(()=>I(!1),[]),he=h.useCallback(()=>{R||ie()},[ie,R]),be=h.useCallback($e=>{$e.key==="Escape"&&!R&&ie()},[ie,R]);Gi(j,_e),pr(he,[T]);const Le=_!=null&&_.displayName?c.jsx(L,{size:1,weight:"semibold",textOverflow:"ellipsis",title:_.displayName,children:_.displayName}):c.jsx(zi,{size:1,style:uRn});return c.jsxs(pRn,{"data-menu-open":P?"true":"false",onKeyDown:be,ref:A,space:4,children:[c.jsxs(dRn,{space:1,"data-muted":G,children:[c.jsxs(U,{align:"center",gap:cR,flex:1,children:[c.jsx(QP,{user:_}),c.jsx(U,{align:"center",paddingBottom:1,sizing:"border",flex:1,children:c.jsxs(U,{align:"flex-end",gap:2,children:[c.jsx(M,{flex:1,children:Le}),!G&&c.jsxs(U,{align:"center",gap:1,children:[c.jsx(T0e,{muted:!0,size:0,title:W,children:H}),z&&c.jsx(T0e,{muted:!0,size:0,title:z,children:"(edited)"})]})]})}),!j&&!G&&c.jsx(cRn,{isParent:s,children:c.jsx(aRn,{canDelete:t,canEdit:n,isParent:s,onCopyLink:Y,onDeleteStart:Z,onEditStart:Ce,onMenuClose:N,onMenuOpen:ee,onStatusChange:ae,readOnly:g,status:r.status})})]}),j&&c.jsxs(U,{align:"flex-start",gap:2,children:[c.jsx(ik,{}),c.jsx(te,{flex:1,children:c.jsx(JP,{currentUser:o,focusOnMount:!0,mentionOptions:l,onChange:E,onDiscardCancel:X,onDiscardConfirm:ce,onKeyDown:K,onSubmit:me,readOnly:g,ref:V,value:S,withAvatar:!1})})]}),!j&&c.jsxs(U,{gap:cR,children:[c.jsx(ik,{}),c.jsx(h$n,{blocks:b})]})]}),G&&c.jsxs(fRn,{gap:cR,children:[c.jsx(ik,{}),c.jsxs(U,{align:"center",gap:1,flex:1,children:[c.jsxs(L,{muted:!0,size:1,children:[i&&"Failed to send.",a&&"Posting..."]}),c.jsx(U,{hidden:a,children:c.jsx(hRn,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:q,padding:1,radius:2,tone:"primary",children:c.jsx(L,{size:1,muted:!0,children:"Retry"})})})]})]})]})}var D0e=Object.freeze,gRn=Object.defineProperty,vRn=(e,t)=>D0e(gRn(e,"raw",{value:D0e(t||e.slice())})),P0e;const f6e=$(Q).attrs(e=>{let{tone:t}=e;return{padding:3,radius:3,sizing:"border",tone:t||"transparent"}})(P0e||(P0e=vRn([`
  // ...
`])));var I0e=Object.freeze,yRn=Object.defineProperty,nU=(e,t)=>I0e(yRn(e,"raw",{value:I0e(t||e.slice())})),O0e,$0e,R0e;const ab=[],lb=5,bRn=$(f6e)(e=>{let{theme:t}=e;const{hovered:n}=t.sanity.color.button.bleed.default;return de(O0e||(O0e=nU([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    // When the comment is not selected, we want to apply hover styles.
    // The hover styles is managed with the [data-hovered] attribute instead of the :hover pseudo class
    // since we want to show the hover styles when hovering over the menu items in the context menu as well.
    // The context menu is rendered using a portal, so the :hover pseudo class won't work when hovering over
    // the menu items.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &[data-hovered='true'] {
          --card-bg-color: `,`;

          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])),n.bg2)}),xRn=$(oe)(e=>{let{theme:t}=e;const{medium:n}=t.sanity.fonts.text.weights;return de($0e||($0e=nU([`
    font-weight: `,`;
  `])),n)}),wRn=$(oe)(R0e||(R0e=nU([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),CRn=ne.memo(function(t){var n,r;const{canReply:o,currentUser:i,isSelected:s,mentionOptions:a,onCopyLink:l,onCreateRetry:u,onDelete:d,onEdit:f,onKeyDown:p,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:y,readOnly:x,replies:b=ab}=t,[w,C]=h.useState(ab),[_,S]=h.useState(!0),E=h.useRef(!1),j=h.useRef(null),k=h.useMemo(()=>I_(w),[w]),[T,A]=h.useState(!1),D=h.useCallback(()=>A(!0),[]),P=h.useCallback(()=>A(!1),[]),I=h.useCallback(()=>{const Y={fieldPath:y.target.path.field,message:w,parentCommentId:y._id,status:(y==null?void 0:y.status)||"open",threadId:y.threadId};v==null||v(Y),C(ab)},[v,y._id,y==null?void 0:y.status,y.target.path.field,y.threadId,w]),R=h.useCallback(()=>{var Y;if(!k){C(ab);return}(Y=j.current)==null||Y.discardDialogController.open()},[k]),O=h.useCallback(Y=>{Y.isDefaultPrevented()||Y.key==="Escape"&&(Y.preventDefault(),Y.stopPropagation(),R())},[R]),V=h.useCallback(()=>{var Y;(Y=j.current)==null||Y.discardDialogController.close()},[]),B=h.useCallback(()=>{var Y,q;C(ab),(Y=j.current)==null||Y.discardDialogController.close(),(q=j.current)==null||q.focus()},[]),H=h.useCallback(Y=>{Y.stopPropagation(),m==null||m({fieldPath:y.target.path.field,origin:"inspector",threadId:y.threadId})},[m,y.target.path.field,y.threadId]),W=h.useCallback(Y=>{Y.stopPropagation(),S(!1),E.current=!0},[]),z=h.useMemo(()=>_?b==null?void 0:b.slice(-lb):b,[b,_]),G=h.useMemo(()=>b?b.length>lb:!1,[b]),ee=h.useMemo(()=>"".concat((b==null?void 0:b.length)-lb," more ").concat((b==null?void 0:b.length)-lb===1?"comment":"comments"),[b==null?void 0:b.length]);h.useEffect(()=>{b.length>lb&&!E.current&&S(!0)},[b]);const N=h.useMemo(()=>z.map(Y=>{var q,Z;return c.jsx(te,{as:"li","data-comment-id":Y._id,children:c.jsx(A0e,{canDelete:Y.authorId===i.id,canEdit:Y.authorId===i.id,comment:Y,currentUser:i,hasError:((q=Y._state)==null?void 0:q.type)==="createError",isRetrying:((Z=Y._state)==null?void 0:Z.type)==="createRetrying",mentionOptions:a,onInputKeyDown:O,onCopyLink:l,onCreateRetry:u,onDelete:d,onEdit:f,readOnly:x})},Y._id)}),[i,O,a,l,u,d,f,x,z]);return c.jsx(te,{space:2,children:c.jsxs(bRn,{"data-active":s?"true":"false","data-hovered":T?"true":"false",onClick:H,onMouseEnter:D,onMouseLeave:P,tone:s?"primary":void 0,children:[c.jsx(wRn,{"data-ui":"GhostButton","aria-label":"Go to field"}),c.jsxs(te,{as:"ul",paddingBottom:o?void 0:1,space:4,children:[c.jsx(te,{as:"li","data-comment-id":y._id,children:c.jsx(A0e,{canDelete:y.authorId===i.id,canEdit:y.authorId===i.id,comment:y,currentUser:i,hasError:((n=y._state)==null?void 0:n.type)==="createError",isParent:!0,isRetrying:((r=y._state)==null?void 0:r.type)==="createRetrying",mentionOptions:a,onCopyLink:l,onCreateRetry:u,onDelete:d,onEdit:f,onInputKeyDown:p,onStatusChange:g,readOnly:x})}),G&&!E.current&&c.jsxs(U,{gap:1,paddingY:1,sizing:"border",children:[c.jsx(ik,{}),c.jsx(xRn,{fontSize:1,iconRight:hl,mode:"bleed",onClick:W,padding:2,space:2,text:ee})]}),N,o&&c.jsx(JP,{currentUser:i,expandOnFocus:!0,mentionOptions:a,onChange:C,onDiscardCancel:V,onDiscardConfirm:B,onKeyDown:O,onSubmit:I,placeholder:"Reply",readOnly:x,ref:j,value:w})]})]})})}),_Rn={close:0,open:500},M0e=c.jsx(L,{muted:!0,children:c.jsx(Jc,{})}),uR=(e,t)=>c.jsx(M,{as:"li",children:c.jsx(L,{textOverflow:"ellipsis",size:1,weight:"semibold",children:e})},"".concat(e,"-").concat(t));function SRn(e){const{titlePath:t,maxLength:n}=e,r=h.useMemo(()=>{const i=t.length,s=Math.ceil(n/2),a=Math.floor(n/2);return n&&i>n?[...t.slice(0,s-1),t.slice(s-1,i-a),...t.slice(i-a)]:t},[n,t]),o=h.useMemo(()=>r.map((i,s)=>{const a="".concat(i,"-").concat(s),l=s<r.length-1;return Array.isArray(i)?c.jsxs(h.Fragment,{children:[c.jsx(it,{delay:_Rn,content:c.jsx(te,{space:2,padding:2,children:i.map(uR)}),children:c.jsx(M,{children:uR("...",s)})}),l&&M0e]},a):c.jsxs(h.Fragment,{children:[uR(i,s),l&&M0e]},a)}),[r]);return c.jsx(U,{align:"center",as:"ol",gap:2,children:o})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const ERn=4,F0e=0,L0e=1,kRn=2;function sy(e){let t=e.length;for(;--t>=0;)e[t]=0}const jRn=0,h6e=1,TRn=2,ARn=3,DRn=258,rU=29,O_=256,Zw=O_+1+rU,v0=30,oU=19,p6e=2*Zw+1,Xp=15,dR=16,PRn=7,iU=256,m6e=16,g6e=17,v6e=18,v6=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ak=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),IRn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),y6e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ORn=512,Du=new Array((Zw+2)*2);sy(Du);const Px=new Array(v0*2);sy(Px);const Xw=new Array(ORn);sy(Xw);const Qw=new Array(DRn-ARn+1);sy(Qw);const sU=new Array(rU);sy(sU);const tT=new Array(v0);sy(tT);function fR(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let b6e,x6e,w6e;function hR(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const C6e=e=>e<256?Xw[e]:Xw[256+(e>>>7)],Jw=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Os=(e,t,n)=>{e.bi_valid>dR-n?(e.bi_buf|=t<<e.bi_valid&65535,Jw(e,e.bi_buf),e.bi_buf=t>>dR-e.bi_valid,e.bi_valid+=n-dR):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Rc=(e,t,n)=>{Os(e,n[t*2],n[t*2+1])},_6e=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},$Rn=e=>{e.bi_valid===16?(Jw(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},RRn=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let u,d,f,p,m,v,g=0;for(p=0;p<=Xp;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<p6e;u++)d=e.heap[u],p=n[n[d*2+1]*2+1]+1,p>l&&(p=l,g++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,m=0,d>=a&&(m=s[d-a]),v=n[d*2],e.opt_len+=v*(p+m),i&&(e.static_len+=v*(o[d*2+1]+m)));if(g!==0){do{for(p=l-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(p=l;p!==0;p--)for(d=e.bl_count[p];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),d--)}},S6e=(e,t,n)=>{const r=new Array(Xp+1);let o=0,i,s;for(i=1;i<=Xp;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=_6e(r[a]++,a))}},MRn=()=>{let e,t,n,r,o;const i=new Array(Xp+1);for(n=0,r=0;r<rU-1;r++)for(sU[r]=n,e=0;e<1<<v6[r];e++)Qw[n++]=r;for(Qw[n-1]=r,o=0,r=0;r<16;r++)for(tT[r]=o,e=0;e<1<<ak[r];e++)Xw[o++]=r;for(o>>=7;r<v0;r++)for(tT[r]=o<<7,e=0;e<1<<ak[r]-7;e++)Xw[256+o++]=r;for(t=0;t<=Xp;t++)i[t]=0;for(e=0;e<=143;)Du[e*2+1]=8,e++,i[8]++;for(;e<=255;)Du[e*2+1]=9,e++,i[9]++;for(;e<=279;)Du[e*2+1]=7,e++,i[7]++;for(;e<=287;)Du[e*2+1]=8,e++,i[8]++;for(S6e(Du,Zw+1,i),e=0;e<v0;e++)Px[e*2+1]=5,Px[e*2]=_6e(e,5);b6e=new fR(Du,v6,O_+1,Zw,Xp),x6e=new fR(Px,ak,0,v0,Xp),w6e=new fR(new Array(0),IRn,0,oU,PRn)},E6e=e=>{let t;for(t=0;t<Zw;t++)e.dyn_ltree[t*2]=0;for(t=0;t<v0;t++)e.dyn_dtree[t*2]=0;for(t=0;t<oU;t++)e.bl_tree[t*2]=0;e.dyn_ltree[iU*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},k6e=e=>{e.bi_valid>8?Jw(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},B0e=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},pR=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&B0e(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!B0e(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},N0e=(e,t,n)=>{let r,o,i=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?Rc(e,o,t):(s=Qw[o],Rc(e,s+O_+1,t),a=v6[s],a!==0&&(o-=sU[s],Os(e,o,a)),r--,s=C6e(r),Rc(e,s,n),a=ak[s],a!==0&&(r-=tT[s],Os(e,r,a)));while(i<e.sym_next);Rc(e,iU,t)},y6=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,a,l=-1,u;for(e.heap_len=0,e.heap_max=p6e,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=l<2?++l:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[u*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)pR(e,n,s);u=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pR(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[u*2]=n[s*2]+n[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=u,e.heap[1]=u++,pR(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],RRn(e,t),S6e(n,l,e.bl_count)},z0e=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,l=7,u=4;for(s===0&&(l=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++a<l&&i===s)&&(a<u?e.bl_tree[i*2]+=a:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[m6e*2]++):a<=10?e.bl_tree[g6e*2]++:e.bl_tree[v6e*2]++,a=0,o=i,s===0?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4))},V0e=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,l=7,u=4;for(s===0&&(l=138,u=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++a<l&&i===s)){if(a<u)do Rc(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==o&&(Rc(e,i,e.bl_tree),a--),Rc(e,m6e,e.bl_tree),Os(e,a-3,2)):a<=10?(Rc(e,g6e,e.bl_tree),Os(e,a-3,3)):(Rc(e,v6e,e.bl_tree),Os(e,a-11,7));a=0,o=i,s===0?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4)}},FRn=e=>{let t;for(z0e(e,e.dyn_ltree,e.l_desc.max_code),z0e(e,e.dyn_dtree,e.d_desc.max_code),y6(e,e.bl_desc),t=oU-1;t>=3&&e.bl_tree[y6e[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},LRn=(e,t,n,r)=>{let o;for(Os(e,t-257,5),Os(e,n-1,5),Os(e,r-4,4),o=0;o<r;o++)Os(e,e.bl_tree[y6e[o]*2+1],3);V0e(e,e.dyn_ltree,t-1),V0e(e,e.dyn_dtree,n-1)},BRn=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return F0e;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return L0e;for(n=32;n<O_;n++)if(e.dyn_ltree[n*2]!==0)return L0e;return F0e};let H0e=!1;const NRn=e=>{H0e||(MRn(),H0e=!0),e.l_desc=new hR(e.dyn_ltree,b6e),e.d_desc=new hR(e.dyn_dtree,x6e),e.bl_desc=new hR(e.bl_tree,w6e),e.bi_buf=0,e.bi_valid=0,E6e(e)},j6e=(e,t,n,r)=>{Os(e,(jRn<<1)+(r?1:0),3),k6e(e),Jw(e,n),Jw(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},zRn=e=>{Os(e,h6e<<1,3),Rc(e,iU,Du),$Rn(e)},VRn=(e,t,n,r)=>{let o,i,s=0;e.level>0?(e.strm.data_type===kRn&&(e.strm.data_type=BRn(e)),y6(e,e.l_desc),y6(e,e.d_desc),s=FRn(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?j6e(e,t,n,r):e.strategy===ERn||i===o?(Os(e,(h6e<<1)+(r?1:0),3),N0e(e,Du,Px)):(Os(e,(TRn<<1)+(r?1:0),3),LRn(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),N0e(e,e.dyn_ltree,e.dyn_dtree)),E6e(e),r&&k6e(e)},HRn=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Qw[n]+O_+1)*2]++,e.dyn_dtree[C6e(t)*2]++),e.sym_next===e.sym_end);var URn=NRn,WRn=j6e,YRn=VRn,qRn=HRn,GRn=zRn,KRn={_tr_init:URn,_tr_stored_block:WRn,_tr_flush_block:YRn,_tr_tally:qRn,_tr_align:GRn};const ZRn=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+t[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0};var eC=ZRn;const XRn=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},QRn=new Uint32Array(XRn()),JRn=(e,t,n,r)=>{const o=QRn,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^o[(e^t[s])&255];return e^-1};var No=JRn,Hm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Tg={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:eMn,_tr_stored_block:b6,_tr_flush_block:tMn,_tr_tally:Qf,_tr_align:nMn}=KRn,{Z_NO_FLUSH:Jf,Z_PARTIAL_FLUSH:rMn,Z_FULL_FLUSH:oMn,Z_FINISH:qa,Z_BLOCK:U0e,Z_OK:ri,Z_STREAM_END:W0e,Z_STREAM_ERROR:Wc,Z_DATA_ERROR:iMn,Z_BUF_ERROR:mR,Z_DEFAULT_COMPRESSION:sMn,Z_FILTERED:aMn,Z_HUFFMAN_ONLY:PS,Z_RLE:lMn,Z_FIXED:cMn,Z_DEFAULT_STRATEGY:uMn,Z_UNKNOWN:dMn,Z_DEFLATED:eI}=Tg,fMn=9,hMn=15,pMn=8,mMn=29,gMn=256,x6=gMn+1+mMn,vMn=30,yMn=19,bMn=2*x6+1,xMn=15,Kt=3,Of=258,Yc=Of+Kt+1,wMn=32,r1=42,aU=57,w6=69,C6=73,_6=91,S6=103,Qp=113,Fb=666,ss=1,ay=2,Um=3,ly=4,CMn=3,Jp=(e,t)=>(e.msg=Hm[t],t),Y0e=e=>e*2-(e>4?9:0),mf=e=>{let t=e.length;for(;--t>=0;)e[t]=0},_Mn=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let SMn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,eh=SMn;const Zs=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},sa=(e,t)=>{tMn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Zs(e.strm)},vn=(e,t)=>{e.pending_buf[e.pending++]=t},cb=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},E6=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=eC(e.adler,t,o,n):e.state.wrap===2&&(e.adler=No(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},T6e=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,s=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-Yc?e.strstart-(e.w_size-Yc):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+Of;let m=u[r+s-1],v=u[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(o=t,!(u[o+s]!==v||u[o+s-1]!==m||u[o]!==u[r]||u[++o]!==u[r+1])){r+=2,o++;do;while(u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&r<p);if(i=Of-(p-r),r=p-Of,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],v=u[r+s]}}while((t=f[t&d])>l&&--n!==0);return s<=e.lookahead?s:e.lookahead},o1=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Yc)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),_Mn(e),r+=t),e.strm.avail_in===0)break;if(n=E6(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Kt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=eh(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=eh(e,e.ins_h,e.window[o+Kt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<Kt)););}while(e.lookahead<Yc&&e.strm.avail_in!==0)},A6e=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,s=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==qa||t===Jf||r!==o+e.strm.avail_in)))break;s=t===qa&&r===o+e.strm.avail_in?1:0,b6(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Zs(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(E6(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?ly:t!==Jf&&t!==qa&&e.strm.avail_in===0&&e.strstart===e.block_start?ay:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(E6(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===qa)&&t!==Jf&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,s=t===qa&&e.strm.avail_in===0&&r===o?1:0,b6(e,e.block_start,r,s),e.block_start+=r,Zs(e.strm)),s?Um:ss)},gR=(e,t)=>{let n,r;for(;;){if(e.lookahead<Yc){if(o1(e),e.lookahead<Yc&&t===Jf)return ss;if(e.lookahead===0)break}if(n=0,e.lookahead>=Kt&&(e.ins_h=eh(e,e.ins_h,e.window[e.strstart+Kt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Yc&&(e.match_length=T6e(e,n)),e.match_length>=Kt)if(r=Qf(e,e.strstart-e.match_start,e.match_length-Kt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Kt){e.match_length--;do e.strstart++,e.ins_h=eh(e,e.ins_h,e.window[e.strstart+Kt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=eh(e,e.ins_h,e.window[e.strstart+1]);else r=Qf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(sa(e,!1),e.strm.avail_out===0))return ss}return e.insert=e.strstart<Kt-1?e.strstart:Kt-1,t===qa?(sa(e,!0),e.strm.avail_out===0?Um:ly):e.sym_next&&(sa(e,!1),e.strm.avail_out===0)?ss:ay},Gg=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<Yc){if(o1(e),e.lookahead<Yc&&t===Jf)return ss;if(e.lookahead===0)break}if(n=0,e.lookahead>=Kt&&(e.ins_h=eh(e,e.ins_h,e.window[e.strstart+Kt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Kt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Yc&&(e.match_length=T6e(e,n),e.match_length<=5&&(e.strategy===aMn||e.match_length===Kt&&e.strstart-e.match_start>4096)&&(e.match_length=Kt-1)),e.prev_length>=Kt&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-Kt,r=Qf(e,e.strstart-1-e.prev_match,e.prev_length-Kt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=eh(e,e.ins_h,e.window[e.strstart+Kt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Kt-1,e.strstart++,r&&(sa(e,!1),e.strm.avail_out===0))return ss}else if(e.match_available){if(r=Qf(e,0,e.window[e.strstart-1]),r&&sa(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ss}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Qf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Kt-1?e.strstart:Kt-1,t===qa?(sa(e,!0),e.strm.avail_out===0?Um:ly):e.sym_next&&(sa(e,!1),e.strm.avail_out===0)?ss:ay},EMn=(e,t)=>{let n,r,o,i;const s=e.window;for(;;){if(e.lookahead<=Of){if(o1(e),e.lookahead<=Of&&t===Jf)return ss;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Kt&&e.strstart>0&&(o=e.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=e.strstart+Of;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=Of-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Kt?(n=Qf(e,1,e.match_length-Kt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Qf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(sa(e,!1),e.strm.avail_out===0))return ss}return e.insert=0,t===qa?(sa(e,!0),e.strm.avail_out===0?Um:ly):e.sym_next&&(sa(e,!1),e.strm.avail_out===0)?ss:ay},kMn=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(o1(e),e.lookahead===0)){if(t===Jf)return ss;break}if(e.match_length=0,n=Qf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(sa(e,!1),e.strm.avail_out===0))return ss}return e.insert=0,t===qa?(sa(e,!0),e.strm.avail_out===0?Um:ly):e.sym_next&&(sa(e,!1),e.strm.avail_out===0)?ss:ay};function vc(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const Lb=[new vc(0,0,0,0,A6e),new vc(4,4,8,4,gR),new vc(4,5,16,8,gR),new vc(4,6,32,32,gR),new vc(4,4,16,16,Gg),new vc(8,16,32,32,Gg),new vc(8,16,128,128,Gg),new vc(8,32,128,256,Gg),new vc(32,128,258,1024,Gg),new vc(32,258,258,4096,Gg)],jMn=e=>{e.window_size=2*e.w_size,mf(e.head),e.max_lazy_match=Lb[e.level].max_lazy,e.good_match=Lb[e.level].good_length,e.nice_match=Lb[e.level].nice_length,e.max_chain_length=Lb[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Kt-1,e.match_available=0,e.ins_h=0};function TMn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=eI,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(bMn*2),this.dyn_dtree=new Uint16Array((2*vMn+1)*2),this.bl_tree=new Uint16Array((2*yMn+1)*2),mf(this.dyn_ltree),mf(this.dyn_dtree),mf(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(xMn+1),this.heap=new Uint16Array(2*x6+1),mf(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*x6+1),mf(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const $_=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==r1&&t.status!==aU&&t.status!==w6&&t.status!==C6&&t.status!==_6&&t.status!==S6&&t.status!==Qp&&t.status!==Fb?1:0},D6e=e=>{if($_(e))return Jp(e,Wc);e.total_in=e.total_out=0,e.data_type=dMn;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?aU:t.wrap?r1:Qp,e.adler=t.wrap===2?0:1,t.last_flush=-2,eMn(t),ri},P6e=e=>{const t=D6e(e);return t===ri&&jMn(e.state),t},AMn=(e,t)=>$_(e)||e.state.wrap!==2?Wc:(e.state.gzhead=t,ri),I6e=(e,t,n,r,o,i)=>{if(!e)return Wc;let s=1;if(t===sMn&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>fMn||n!==eI||r<8||r>15||t<0||t>9||i<0||i>cMn||r===8&&s!==1)return Jp(e,Wc);r===8&&(r=9);const a=new TMn;return e.state=a,a.strm=e,a.status=r1,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Kt-1)/Kt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,P6e(e)},DMn=(e,t)=>I6e(e,t,eI,hMn,pMn,uMn),PMn=(e,t)=>{if($_(e)||t>U0e||t<0)return e?Jp(e,Wc):Wc;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Fb&&t!==qa)return Jp(e,e.avail_out===0?mR:Wc);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Zs(e),e.avail_out===0)return n.last_flush=-1,ri}else if(e.avail_in===0&&Y0e(t)<=Y0e(r)&&t!==qa)return Jp(e,mR);if(n.status===Fb&&e.avail_in!==0)return Jp(e,mR);if(n.status===r1&&n.wrap===0&&(n.status=Qp),n.status===r1){let o=eI+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=PS||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=wMn),o+=31-o%31,cb(n,o),n.strstart!==0&&(cb(n,e.adler>>>16),cb(n,e.adler&65535)),e.adler=1,n.status=Qp,Zs(e),n.pending!==0)return n.last_flush=-1,ri}if(n.status===aU){if(e.adler=0,vn(n,31),vn(n,139),vn(n,8),n.gzhead)vn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),vn(n,n.gzhead.time&255),vn(n,n.gzhead.time>>8&255),vn(n,n.gzhead.time>>16&255),vn(n,n.gzhead.time>>24&255),vn(n,n.level===9?2:n.strategy>=PS||n.level<2?4:0),vn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(vn(n,n.gzhead.extra.length&255),vn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=No(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=w6;else if(vn(n,0),vn(n,0),vn(n,0),vn(n,0),vn(n,0),vn(n,n.level===9?2:n.strategy>=PS||n.level<2?4:0),vn(n,CMn),n.status=Qp,Zs(e),n.pending!==0)return n.last_flush=-1,ri}if(n.status===w6){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=No(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,Zs(e),n.pending!==0)return n.last_flush=-1,ri;o=0,i-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=No(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=C6}if(n.status===C6){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=No(e.adler,n.pending_buf,n.pending-o,o)),Zs(e),n.pending!==0)return n.last_flush=-1,ri;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,vn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=No(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=_6}if(n.status===_6){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=No(e.adler,n.pending_buf,n.pending-o,o)),Zs(e),n.pending!==0)return n.last_flush=-1,ri;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,vn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=No(e.adler,n.pending_buf,n.pending-o,o))}n.status=S6}if(n.status===S6){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Zs(e),n.pending!==0))return n.last_flush=-1,ri;vn(n,e.adler&255),vn(n,e.adler>>8&255),e.adler=0}if(n.status=Qp,Zs(e),n.pending!==0)return n.last_flush=-1,ri}if(e.avail_in!==0||n.lookahead!==0||t!==Jf&&n.status!==Fb){let o=n.level===0?A6e(n,t):n.strategy===PS?kMn(n,t):n.strategy===lMn?EMn(n,t):Lb[n.level].func(n,t);if((o===Um||o===ly)&&(n.status=Fb),o===ss||o===Um)return e.avail_out===0&&(n.last_flush=-1),ri;if(o===ay&&(t===rMn?nMn(n):t!==U0e&&(b6(n,0,0,!1),t===oMn&&(mf(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Zs(e),e.avail_out===0))return n.last_flush=-1,ri}return t!==qa?ri:n.wrap<=0?W0e:(n.wrap===2?(vn(n,e.adler&255),vn(n,e.adler>>8&255),vn(n,e.adler>>16&255),vn(n,e.adler>>24&255),vn(n,e.total_in&255),vn(n,e.total_in>>8&255),vn(n,e.total_in>>16&255),vn(n,e.total_in>>24&255)):(cb(n,e.adler>>>16),cb(n,e.adler&65535)),Zs(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?ri:W0e)},IMn=e=>{if($_(e))return Wc;const t=e.state.status;return e.state=null,t===Qp?Jp(e,iMn):ri},OMn=(e,t)=>{let n=t.length;if($_(e))return Wc;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==r1||r.lookahead)return Wc;if(o===1&&(e.adler=eC(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&(mf(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,o1(r);r.lookahead>=Kt;){let l=r.strstart,u=r.lookahead-(Kt-1);do r.ins_h=eh(r,r.ins_h,r.window[l+Kt-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--u);r.strstart=l,r.lookahead=Kt-1,o1(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Kt-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,r.wrap=o,ri};var $Mn=DMn,RMn=I6e,MMn=P6e,FMn=D6e,LMn=AMn,BMn=PMn,NMn=IMn,zMn=OMn,VMn="pako deflate (from Nodeca project)",Ix={deflateInit:$Mn,deflateInit2:RMn,deflateReset:MMn,deflateResetKeep:FMn,deflateSetHeader:LMn,deflate:BMn,deflateEnd:NMn,deflateSetDictionary:zMn,deflateInfo:VMn};const HMn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var UMn=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)HMn(n,r)&&(e[r]=n[r])}}return e},WMn=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let s=e[r];n.set(s,o),o+=s.length}return n},tI={assign:UMn,flattenChunks:WMn};let O6e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{O6e=!1}const tC=new Uint8Array(256);for(let e=0;e<256;e++)tC[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;tC[254]=tC[254]=1;var YMn=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const qMn=(e,t)=>{if(t<65534&&e.subarray&&O6e)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var GMn=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let s=e[r++];if(s<128){i[o++]=s;continue}let a=tC[s];if(a>4){i[o++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){i[o++]=65533;continue}s<65536?i[o++]=s:(s-=65536,i[o++]=55296|s>>10&1023,i[o++]=56320|s&1023)}return qMn(i,o)},KMn=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+tC[e[n]]>t?n:t},nC={string2buf:YMn,buf2string:GMn,utf8border:KMn};function ZMn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var $6e=ZMn;const R6e=Object.prototype.toString,{Z_NO_FLUSH:XMn,Z_SYNC_FLUSH:QMn,Z_FULL_FLUSH:JMn,Z_FINISH:eFn,Z_OK:nT,Z_STREAM_END:tFn,Z_DEFAULT_COMPRESSION:nFn,Z_DEFAULT_STRATEGY:rFn,Z_DEFLATED:oFn}=Tg;function R_(e){this.options=tI.assign({level:nFn,method:oFn,chunkSize:16384,windowBits:15,memLevel:8,strategy:rFn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $6e,this.strm.avail_out=0;let n=Ix.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==nT)throw new Error(Hm[n]);if(t.header&&Ix.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=nC.string2buf(t.dictionary):R6e.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Ix.deflateSetDictionary(this.strm,r),n!==nT)throw new Error(Hm[n]);this._dict_set=!0}}R_.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?eFn:XMn,typeof e=="string"?n.input=nC.string2buf(e):R6e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===QMn||i===JMn)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Ix.deflate(n,i),o===tFn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Ix.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===nT;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};R_.prototype.onData=function(e){this.chunks.push(e)};R_.prototype.onEnd=function(e){e===nT&&(this.result=tI.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function lU(e,t){const n=new R_(t);if(n.push(e,!0),n.err)throw n.msg||Hm[n.err];return n.result}function iFn(e,t){return t=t||{},t.raw=!0,lU(e,t)}function sFn(e,t){return t=t||{},t.gzip=!0,lU(e,t)}var aFn=R_,lFn=lU,cFn=iFn,uFn=sFn,dFn=Tg,fFn={Deflate:aFn,deflate:lFn,deflateRaw:cFn,gzip:uFn,constants:dFn};const IS=16209,hFn=16191;var pFn=function(t,n){let r,o,i,s,a,l,u,d,f,p,m,v,g,y,x,b,w,C,_,S,E,j,k,T;const A=t.state;r=t.next_in,k=t.input,o=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(n-t.avail_out),a=i+(t.avail_out-257),l=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,m=A.hold,v=A.bits,g=A.lencode,y=A.distcode,x=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=g[m&x];t:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C===0)T[i++]=w&65535;else if(C&16){_=w&65535,C&=15,C&&(v<C&&(m+=k[r++]<<v,v+=8),_+=m&(1<<C)-1,m>>>=C,v-=C),v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=y[m&b];n:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C&16){if(S=w&65535,C&=15,v<C&&(m+=k[r++]<<v,v+=8,v<C&&(m+=k[r++]<<v,v+=8)),S+=m&(1<<C)-1,S>l){t.msg="invalid distance too far back",A.mode=IS;break e}if(m>>>=C,v-=C,C=i-s,S>C){if(C=S-C,C>d&&A.sane){t.msg="invalid distance too far back",A.mode=IS;break e}if(E=0,j=p,f===0){if(E+=u-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}else if(f<C){if(E+=u+f-C,C-=f,C<_){_-=C;do T[i++]=p[E++];while(--C);if(E=0,f<_){C=f,_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}}else if(E+=f-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}for(;_>2;)T[i++]=j[E++],T[i++]=j[E++],T[i++]=j[E++],_-=3;_&&(T[i++]=j[E++],_>1&&(T[i++]=j[E++]))}else{E=i-S;do T[i++]=T[E++],T[i++]=T[E++],T[i++]=T[E++],_-=3;while(_>2);_&&(T[i++]=T[E++],_>1&&(T[i++]=T[E++]))}}else if(C&64){t.msg="invalid distance code",A.mode=IS;break e}else{w=y[(w&65535)+(m&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){A.mode=hFn;break e}else{t.msg="invalid literal/length code",A.mode=IS;break e}else{w=g[(w&65535)+(m&(1<<C)-1)];continue t}break}}while(r<o&&i<a);_=v>>3,r-=_,v-=_<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),A.hold=m,A.bits=v};const Kg=15,q0e=852,G0e=592,K0e=0,vR=1,Z0e=2,mFn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gFn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vFn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yFn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),bFn=(e,t,n,r,o,i,s,a)=>{const l=a.bits;let u=0,d=0,f=0,p=0,m=0,v=0,g=0,y=0,x=0,b=0,w,C,_,S,E,j=null,k;const T=new Uint16Array(Kg+1),A=new Uint16Array(Kg+1);let D=null,P,I,R;for(u=0;u<=Kg;u++)T[u]=0;for(d=0;d<r;d++)T[t[n+d]]++;for(m=l,p=Kg;p>=1&&T[p]===0;p--);if(m>p&&(m=p),p===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(m<f&&(m=f),y=1,u=1;u<=Kg;u++)if(y<<=1,y-=T[u],y<0)return-1;if(y>0&&(e===K0e||p!==1))return-1;for(A[1]=0,u=1;u<Kg;u++)A[u+1]=A[u]+T[u];for(d=0;d<r;d++)t[n+d]!==0&&(s[A[t[n+d]]++]=d);if(e===K0e?(j=D=s,k=20):e===vR?(j=mFn,D=gFn,k=257):(j=vFn,D=yFn,k=0),b=0,d=0,u=f,E=i,v=m,g=0,_=-1,x=1<<m,S=x-1,e===vR&&x>q0e||e===Z0e&&x>G0e)return 1;for(;;){P=u-g,s[d]+1<k?(I=0,R=s[d]):s[d]>=k?(I=D[s[d]-k],R=j[s[d]-k]):(I=32+64,R=0),w=1<<u-g,C=1<<v,f=C;do C-=w,o[E+(b>>g)+C]=P<<24|I<<16|R|0;while(C!==0);for(w=1<<u-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,d++,--T[u]===0){if(u===p)break;u=t[n+s[d]]}if(u>m&&(b&S)!==_){for(g===0&&(g=m),E+=f,v=u-g,y=1<<v;v+g<p&&(y-=T[v+g],!(y<=0));)v++,y<<=1;if(x+=1<<v,e===vR&&x>q0e||e===Z0e&&x>G0e)return 1;_=b&S,o[_]=m<<24|v<<16|E-i|0}}return b!==0&&(o[E+b]=u-g<<24|64<<16|0),a.bits=m,0};var Ox=bFn;const xFn=0,M6e=1,F6e=2,{Z_FINISH:X0e,Z_BLOCK:wFn,Z_TREES:OS,Z_OK:Wm,Z_STREAM_END:CFn,Z_NEED_DICT:_Fn,Z_STREAM_ERROR:cl,Z_DATA_ERROR:L6e,Z_MEM_ERROR:B6e,Z_BUF_ERROR:SFn,Z_DEFLATED:Q0e}=Tg,nI=16180,J0e=16181,e1e=16182,t1e=16183,n1e=16184,r1e=16185,o1e=16186,i1e=16187,s1e=16188,a1e=16189,rT=16190,wu=16191,yR=16192,l1e=16193,bR=16194,c1e=16195,u1e=16196,d1e=16197,f1e=16198,$S=16199,RS=16200,h1e=16201,p1e=16202,m1e=16203,g1e=16204,v1e=16205,xR=16206,y1e=16207,b1e=16208,wr=16209,N6e=16210,z6e=16211,EFn=852,kFn=592,jFn=15,TFn=jFn,x1e=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function AFn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ag=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<nI||t.mode>z6e?1:0},V6e=e=>{if(Ag(e))return cl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=nI,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(EFn),t.distcode=t.distdyn=new Int32Array(kFn),t.sane=1,t.back=-1,Wm},H6e=e=>{if(Ag(e))return cl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,V6e(e)},U6e=(e,t)=>{let n;if(Ag(e))return cl;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?cl:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,H6e(e))},W6e=(e,t)=>{if(!e)return cl;const n=new AFn;e.state=n,n.strm=e,n.window=null,n.mode=nI;const r=U6e(e,t);return r!==Wm&&(e.state=null),r},DFn=e=>W6e(e,TFn);let w1e=!0,wR,CR;const PFn=e=>{if(w1e){wR=new Int32Array(512),CR=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ox(M6e,e.lens,0,288,wR,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ox(F6e,e.lens,0,32,CR,0,e.work,{bits:5}),w1e=!1}e.lencode=wR,e.lenbits=9,e.distcode=CR,e.distbits=5},Y6e=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},IFn=(e,t)=>{let n,r,o,i,s,a,l,u,d,f,p,m,v,g,y=0,x,b,w,C,_,S,E,j;const k=new Uint8Array(4);let T,A;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ag(e)||!e.output||!e.input&&e.avail_in!==0)return cl;n=e.state,n.mode===wu&&(n.mode=yR),s=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,f=a,p=l,j=Wm;e:for(;;)switch(n.mode){case nI:if(n.wrap===0){n.mode=yR;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=u&255,k[1]=u>>>8&255,n.check=No(n.check,k,2,0),u=0,d=0,n.mode=J0e;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=wr;break}if((u&15)!==Q0e){e.msg="unknown compression method",n.mode=wr;break}if(u>>>=4,d-=4,E=(u&15)+8,n.wbits===0&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=wr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?a1e:wu,u=0,d=0;break;case J0e:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==Q0e){e.msg="unknown compression method",n.mode=wr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=wr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=No(n.check,k,2,0)),u=0,d=0,n.mode=e1e;case e1e:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,n.check=No(n.check,k,4,0)),u=0,d=0,n.mode=t1e;case t1e:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=No(n.check,k,2,0)),u=0,d=0,n.mode=n1e;case n1e:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=No(n.check,k,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=r1e;case r1e:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),E)),n.flags&512&&n.wrap&4&&(n.check=No(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=o1e;case o1e:if(n.flags&2048){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=No(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=i1e;case i1e:if(n.flags&4096){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=No(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.comment=null);n.mode=s1e;case s1e:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=wr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=wu;break;case a1e:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}e.adler=n.check=x1e(u),u=0,d=0,n.mode=rT;case rT:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,_Fn;e.adler=n.check=1,n.mode=wu;case wu:if(t===wFn||t===OS)break e;case yR:if(n.last){u>>>=d&7,d-=d&7,n.mode=xR;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=l1e;break;case 1:if(PFn(n),n.mode=$S,t===OS){u>>>=2,d-=2;break e}break;case 2:n.mode=u1e;break;case 3:e.msg="invalid block type",n.mode=wr}u>>>=2,d-=2;break;case l1e:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=wr;break}if(n.length=u&65535,u=0,d=0,n.mode=bR,t===OS)break e;case bR:n.mode=c1e;case c1e:if(m=n.length,m){if(m>a&&(m=a),m>l&&(m=l),m===0)break e;o.set(r.subarray(i,i+m),s),a-=m,i+=m,l-=m,s+=m,n.length-=m;break}n.mode=wu;break;case u1e:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=wr;break}n.have=0,n.mode=d1e;case d1e:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[D[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},j=Ox(xFn,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid code lengths set",n.mode=wr;break}n.have=0,n.mode=f1e;case f1e:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[u&(1<<n.lenbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,n.lens[n.have++]=w;else{if(w===16){for(A=x+2;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=wr;break}E=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=x+3;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=wr;break}for(;m--;)n.lens[n.have++]=E}}if(n.mode===wr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=wr;break}if(n.lenbits=9,T={bits:n.lenbits},j=Ox(M6e,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid literal/lengths set",n.mode=wr;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},j=Ox(F6e,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,j){e.msg="invalid distances set",n.mode=wr;break}if(n.mode=$S,t===OS)break e;case $S:n.mode=RS;case RS:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,pFn(e,p),s=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===wu&&(n.back=-1);break}for(n.back=0;y=n.lencode[u&(1<<n.lenbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(b&&!(b&240)){for(C=x,_=b,S=w;y=n.lencode[S+((u&(1<<C+_)-1)>>C)],x=y>>>24,b=y>>>16&255,w=y&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,n.length=w,b===0){n.mode=v1e;break}if(b&32){n.back=-1,n.mode=wu;break}if(b&64){e.msg="invalid literal/length code",n.mode=wr;break}n.extra=b&15,n.mode=h1e;case h1e:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=p1e;case p1e:for(;y=n.distcode[u&(1<<n.distbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(b&240)){for(C=x,_=b,S=w;y=n.distcode[S+((u&(1<<C+_)-1)>>C)],x=y>>>24,b=y>>>16&255,w=y&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,b&64){e.msg="invalid distance code",n.mode=wr;break}n.offset=w,n.extra=b&15,n.mode=m1e;case m1e:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=wr;break}n.mode=g1e;case g1e:if(l===0)break e;if(m=p-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=wr;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),g=n.window}else g=o,v=s-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do o[s++]=g[v++];while(--m);n.length===0&&(n.mode=RS);break;case v1e:if(l===0)break e;o[s++]=n.length,l--,n.mode=RS;break;case xR:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(p-=l,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?No(n.check,o,p,s-p):eC(n.check,o,p,s-p)),p=l,n.wrap&4&&(n.flags?u:x1e(u))!==n.check){e.msg="incorrect data check",n.mode=wr;break}u=0,d=0}n.mode=y1e;case y1e:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=wr;break}u=0,d=0}n.mode=b1e;case b1e:j=CFn;break e;case wr:j=L6e;break e;case N6e:return B6e;case z6e:default:return cl}return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<wr&&(n.mode<xR||t!==X0e))&&Y6e(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?No(n.check,o,p,e.next_out-p):eC(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===wu?128:0)+(n.mode===$S||n.mode===bR?256:0),(f===0&&p===0||t===X0e)&&j===Wm&&(j=SFn),j},OFn=e=>{if(Ag(e))return cl;let t=e.state;return t.window&&(t.window=null),e.state=null,Wm},$Fn=(e,t)=>{if(Ag(e))return cl;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Wm):cl},RFn=(e,t)=>{const n=t.length;let r,o,i;return Ag(e)||(r=e.state,r.wrap!==0&&r.mode!==rT)?cl:r.mode===rT&&(o=1,o=eC(o,t,n,0),o!==r.check)?L6e:(i=Y6e(e,t,n,n),i?(r.mode=N6e,B6e):(r.havedict=1,Wm))};var MFn=H6e,FFn=U6e,LFn=V6e,BFn=DFn,NFn=W6e,zFn=IFn,VFn=OFn,HFn=$Fn,UFn=RFn,WFn="pako inflate (from Nodeca project)",Pu={inflateReset:MFn,inflateReset2:FFn,inflateResetKeep:LFn,inflateInit:BFn,inflateInit2:NFn,inflate:zFn,inflateEnd:VFn,inflateGetHeader:HFn,inflateSetDictionary:UFn,inflateInfo:WFn};function YFn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var qFn=YFn;const q6e=Object.prototype.toString,{Z_NO_FLUSH:GFn,Z_FINISH:KFn,Z_OK:rC,Z_STREAM_END:_R,Z_NEED_DICT:SR,Z_STREAM_ERROR:ZFn,Z_DATA_ERROR:C1e,Z_MEM_ERROR:XFn}=Tg;function M_(e){this.options=tI.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $6e,this.strm.avail_out=0;let n=Pu.inflateInit2(this.strm,t.windowBits);if(n!==rC)throw new Error(Hm[n]);if(this.header=new qFn,Pu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=nC.string2buf(t.dictionary):q6e.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Pu.inflateSetDictionary(this.strm,t.dictionary),n!==rC)))throw new Error(Hm[n])}M_.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?KFn:GFn,q6e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Pu.inflate(n,s),i===SR&&o&&(i=Pu.inflateSetDictionary(n,o),i===rC?i=Pu.inflate(n,s):i===C1e&&(i=SR));n.avail_in>0&&i===_R&&n.state.wrap>0&&e[n.next_in]!==0;)Pu.inflateReset(n),i=Pu.inflate(n,s);switch(i){case ZFn:case C1e:case SR:case XFn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===_R))if(this.options.to==="string"){let l=nC.utf8border(n.output,n.next_out),u=n.next_out-l,d=nC.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===rC&&a===0)){if(i===_R)return i=Pu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};M_.prototype.onData=function(e){this.chunks.push(e)};M_.prototype.onEnd=function(e){e===rC&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=tI.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function cU(e,t){const n=new M_(t);if(n.push(e),n.err)throw n.msg||Hm[n.err];return n.result}function QFn(e,t){return t=t||{},t.raw=!0,cU(e,t)}var JFn=M_,e4n=cU,t4n=QFn,n4n=cU,r4n=Tg,o4n={Inflate:JFn,inflate:e4n,inflateRaw:t4n,ungzip:n4n,constants:r4n};const{Deflate:i4n,deflate:s4n,deflateRaw:a4n,gzip:l4n}=fFn,{Inflate:c4n,inflate:u4n,inflateRaw:d4n,ungzip:f4n}=o4n;var h4n=i4n,p4n=s4n,m4n=a4n,g4n=l4n,v4n=c4n,y4n=u4n,b4n=d4n,x4n=f4n,w4n=Tg,G6e={Deflate:h4n,deflate:p4n,deflateRaw:m4n,gzip:g4n,Inflate:v4n,inflate:y4n,inflateRaw:b4n,ungzip:x4n,constants:w4n};function C4n(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function K6e(e,t){return i1(e)?e[Number(t)]:e[t]}function Z6e(e,t){if(e){var n=t.shift(),r=K6e(e,n);return t.length&&(i1(r)||oC(r))?Z6e(r,t):r}}function i1(e){return Array.isArray(e)}function oC(e){return e&&typeof e=="object"}function ER(e,t,n){if(i1(e)){e[Number(t)]=n;return}if(oC(e)){e[t]=n;return}throw new Error("shallowClone: target must be an object or an array")}function _1e(e){if(i1(e))return e.slice(0);if(oC(e))return C4n({},e);throw new Error("shallowClone: source must be an object or an array")}function _4n(e,t){return t?Z6e(e,t.split("/")):e}function S4n(e,t,n){if(!t){if(i1(n)||oC(n))return n;throw new Error("set: cannot replace value with a non-record value")}if(_4n(e,t)===n)return e;for(var r=_1e(e),o=t.split("/"),i=e,s=r;o.length;){var a=o.shift();if(o.length){var l=K6e(i,a);if(l===void 0&&(l={},ER(i,a,l)),!i1(l)&&!oC(l))throw new Error('set: path is not targeting an object nor an array: "'+t+'"');i=l;var u=_1e(i);ER(s,a,u),s=u}else ER(s,a,n)}return r}const y0=[],k6={},E4n="auto",k4n=1,oT=[{name:"auto",title:"Full",rect:{width:"auto"}},{name:"768",title:"768px",rect:{width:768}},{name:"375",title:"375px",rect:{width:375,height:667}},{name:"320",title:"320px",rect:{width:320,height:568}}],S1e=[{value:.5,title:"50%"},{value:.75,title:"75%"},{value:1,title:"100%"},{value:1.5,title:"150%"},{value:2,title:"200%"},{value:3,title:"300%"}];function X6e(){const e=new Set;return{publish(t){for(const n of e)n(t)},subscribe(t){return e.add(t),()=>{e.delete(t)}}}}const j4n={parse(e){const t=new URLSearchParams("?"+e),n={};return t.forEach((r,o)=>{n[o]=r}),n},stringify(e){return Object.entries(e).map(t=>{let[n,r]=t;return"".concat(n,"=").concat(r)}).join("&")}};function T4n(e,t){const n=t.split("/").slice(1).filter(Boolean),r=n.join("/");if(n.length===0)return{scope:null,story:null};for(const o of e)for(const i of o.stories){const s=[o.name,i.name].filter(Boolean).join("/");if(r===s)return{scope:o,story:i}}return{scope:null,story:null}}function Q6e(e){const{baseUrl:t="/frame/",path:n,payload:r,scheme:o,viewport:i,zoom:s}=e;return[t,"?path=".concat(encodeURIComponent(n)),"&scheme=".concat(o),"&viewport=".concat(i),"&zoom=".concat(s),...Object.entries(r).map(a=>{let[l,u]=a;return"&".concat(l,"=").concat(u)})].join("")}const J6e=h.createContext(null);function cy(){const e=h.useContext(J6e);if(!e)throw new Error("Props: missing context value");return e}const A4n=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=cy();return c.jsxs(U,{as:"label",padding:3,children:[c.jsx(M,{marginRight:2,style:{lineHeight:0},children:c.jsx(uA,{checked:r||!1,onChange:i=>o(n.name,i.currentTarget.checked)})}),c.jsx(M,{paddingY:1,children:c.jsx(L,{size:1,weight:"semibold",children:n.name})})]})}),D4n=h.memo(function(t){const{schema:n,value:r=""}=t,{setPropValue:o}=cy();return c.jsxs(M,{padding:3,children:[c.jsx(L,{size:1,weight:"semibold",children:n.name}),c.jsx(M,{marginTop:2,children:c.jsx(Nr,{fontSize:[2,2,1],onChange:i=>o(n.name,Number(i.currentTarget.value)),padding:2,value:r})})]})}),P4n=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=cy(),i=h.useMemo(()=>{const s=Object.entries(n.options);for(const[a,l]of s)if(l===r)return a;return""},[n,r]);return c.jsxs(M,{padding:3,children:[c.jsx(L,{size:1,weight:"semibold",children:n.name}),c.jsx(M,{marginTop:2,children:c.jsx(hh,{fontSize:[2,2,1],onChange:s=>{const a=s.currentTarget.value,l=n.options[a];o(n.name,l)},padding:2,radius:2,value:String(i||""),children:Object.entries(n.options).map(s=>{let[a]=s;return c.jsx("option",{value:a,children:a},a)})})})]})}),I4n=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=cy();return c.jsxs(M,{padding:3,children:[c.jsx(L,{size:1,weight:"semibold",children:n.name}),c.jsx(M,{marginTop:2,children:c.jsx(Nr,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),padding:2,value:r||""})})]})}),O4n=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=cy();return c.jsxs(M,{padding:3,children:[c.jsx(L,{size:1,weight:"semibold",children:n.name}),c.jsx(M,{marginTop:2,children:c.jsx(zSe,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),rows:4,value:r||""})})]})});function $4n(e){const{schema:t,value:n}=e;return t.type==="boolean"?c.jsx(A4n,{schema:t,value:n}):t.type==="number"?c.jsx(D4n,{schema:t,value:n}):t.type==="select"?c.jsx(P4n,{schema:t,value:n}):t.type==="string"?c.jsx(I4n,{schema:t,value:n}):t.type==="text"?c.jsx(O4n,{schema:t,value:n}):c.jsx(M,{padding:2,children:c.jsxs(L,{size:1,weight:"semibold",children:["Unknown Prop type:"," ",c.jsxs("code",{children:[t.name,": ",t.type]})]})})}const R4n=h.memo(function(){const{schemas:t,value:n}=cy();return c.jsxs(M,{padding:2,children:[t.length===0&&c.jsx(M,{padding:2,children:c.jsx(L,{muted:!0,size:[2,2,1],children:"No properties"})}),t.length>0&&t.map((r,o)=>c.jsx($4n,{schema:r,value:n[r.name]===void 0?r.defaultValue:n[r.name]},o))]})}),b0=Wt,e8e=h.createContext(null);function xl(){const e=h.useContext(e8e);if(!e)throw new Error("Workshop: missing context value");return e}const M4n=typeof window>"u"?e=>Buffer.from(e,"binary").toString("base64"):window.btoa,F4n=typeof window>"u"?e=>Buffer.from(e,"base64").toString("binary"):window.atob;function L4n(e){let t="";for(let n=0,{length:r}=e;n<r;n++)t+=String.fromCharCode(e[n]);return M4n(t)}function B4n(e){const t=F4n(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function N4n(e){if(e.length===0)return"";const t=B4n(e);return G6e.inflate(t,{to:"string"})}function z4n(e){if(e.length===0)return"";const t=G6e.deflate(e);return L4n(t)}function V4n(e){return z4n(JSON.stringify(e))}function E1e(e){try{return JSON.parse(N4n(e))}catch{return{}}}function H4n(e,t){if(t.type==="workshop/props/setValue")return{...e,value:t.value};if(t.type==="workshop/props/registerProp")return{...e,schemas:e.schemas.concat([t.schema])};if(t.type==="workshop/props/unregisterProp"){const n={...e.value};return delete n[t.name],{...e,schemas:e.schemas.filter(r=>r.name!==t.name),value:n}}return t.type==="workshop/props/setPropValue"?{...e,value:{...e.value,[t.name]:t.value}}:e}const U4n=h.memo(function(t){const{children:n}=t,{channel:r,broadcast:o,payload:i}=xl(),s=i.value,a=h.useRef(s),[{schemas:l,value:u},d]=h.useState({schemas:[],value:E1e(String(s))||{}}),f=h.useCallback(g=>{o({type:"workshop/props/registerProp",schema:g})},[o]),p=h.useCallback(g=>{o({type:"workshop/props/unregisterProp",name:g})},[o]),m=h.useCallback((g,y)=>{o({type:"workshop/props/setPropValue",name:g,value:y})},[o]),v=h.useMemo(()=>({registerProp:f,schemas:l,setPropValue:m,unregisterProp:p,value:u}),[f,l,m,p,u]);return h.useEffect(()=>r.subscribe(g=>{d(y=>{const x=H4n(y,g);return b0(y,x)?y:x})}),[r]),h.useEffect(()=>{const g=V4n(u);a.current!==g&&(a.current=g,o({type:"workshop/setPayloadValue",key:"value",value:g}))},[o,u]),h.useEffect(()=>{a.current!==s&&(a.current=s,d(g=>({...g,value:E1e(String(s))||{}})))},[s]),c.jsx(J6e.Provider,{value:v,children:n})});function W4n(){return{name:"props",title:"Properties",inspector:R4n,provider:U4n}}const t8e=h.memo(function(t){const{broadcast:n,children:r,channel:o,config:i,frameReady:s,origin:a,path:l,payload:u,scheme:d,viewport:f="auto",zoom:p=1}=t,{plugins:m=y0,collections:v=y0,frameUrl:g="/frame/",scopes:y,title:x="Workshop"}=i;if(!u)throw new Error("missing `payload` property");const b=h.useMemo(()=>[W4n(),...m],[m]),{scope:w,story:C}=h.useMemo(()=>T4n(y,l),[l,y]),_=h.useMemo(()=>({plugins:b,broadcast:n,channel:o,collections:v,frameReady:s,frameUrl:g,origin:a,path:l,payload:u,scheme:d,scope:w,scopes:y,story:C,title:x,viewport:f,zoom:p}),[b,n,o,v,s,g,a,l,u,d,w,y,C,x,f,p]);let S=r;for(const E of b)E.provider&&(S=h.createElement(E.provider,{options:E.options||k6},S));return c.jsx(e8e.Provider,{value:_,children:S})});function n8e(e,t){if(t.type==="workshop/frameReady")return{...e,frameReady:!0};if(t.type==="workshop/setState")return b0(e,t.value)?e:t.value;if(t.type==="workshop/setZoom")return e.zoom===t.value?e:{...e,zoom:t.value};if(t.type==="workshop/setViewport")return e.viewport===t.value?e:{...e,viewport:t.value};if(t.type==="workshop/toggleScheme")return{...e,scheme:e.scheme==="light"?"dark":"light"};if(t.type==="workshop/setScheme")return e.scheme===t.value?e:{...e,scheme:t.value};if(t.type==="workshop/setPath")return e.path===t.value?e:{...e,path:t.value};if(t.type==="workshop/setPayload")return b0(e.payload,t.value)?e:{...e,payload:t.value};if(t.type==="workshop/setPayloadValue"){const n={...e.payload,[t.key]:t.value};return b0(e.payload,n)?e:{...e,payload:n}}return e}const k1e=(()=>{try{return{}.ROOT_PATH}catch{return}})(),Y4n=/http:\/\/([^:/\s]+)(:[0-9]+)?/g,q4n=/\/@fs\//g,G4n=/\?([a-z]{1})=([0-9]+)/g;function j1e(e){let t=decodeURIComponent(e);return t=e.replace(Y4n,"").replace(q4n,"/").replace(G4n,""),k1e?K4n(t,k1e+"/"):t}function K4n(e,t){const n=new RegExp(t.replace(/\//g,"\\/"),"g");return e.replace(n,"")}const Z4n=h.memo(function(){const{story:t}=xl(),[n,r]=h.useState({error:null,errorInfo:null}),o=h.useCallback(s=>{let{error:a,info:l}=s;r({error:a,errorInfo:l})},[]),i=h.useCallback(()=>{r({error:null,errorInfo:null})},[]);return t?n.error?c.jsx(Q,{as:"main",height:"fill",overflow:"auto",tone:"critical",children:c.jsx(Q4n,{error:n.error,errorInfo:n.errorInfo,onRetry:i})}):c.jsxs(c.Fragment,{children:[c.jsx("h1",{hidden:!0,children:t.title}),c.jsx(h.Suspense,{fallback:c.jsx(X4n,{story:t}),children:c.jsx(Q,{as:"main",height:"fill",children:c.jsx(b1,{onCatch:o,children:h.createElement(t.component)})})})]}):c.jsx(c.Fragment,{})}),X4n=h.memo(function(t){const{story:n}=t;return c.jsxs(c.Fragment,{children:[c.jsxs("h1",{hidden:!0,children:["Loading ",c.jsx("em",{children:n.title}),"…"]}),c.jsx(U,{align:"center",as:"main",height:"fill",justify:"center",children:c.jsx(gr,{muted:!0})})]})}),Q4n=h.memo(function(t){const{error:n,errorInfo:r,onRetry:o}=t;return c.jsx(M,{padding:4,children:c.jsxs(te,{space:4,children:[c.jsx(Xo,{as:"h1",size:[1,1,2],children:n.message}),c.jsx(M,{children:c.jsx(oe,{onClick:o,text:"Retry"})}),n.stack&&c.jsx(dr,{size:1,children:j1e(n.stack)}),r&&c.jsx(dr,{size:1,children:"Component stack:"+j1e(r.componentStack)})]})})});function r8e(e){return Array.isArray(e)}function o8e(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function J4n(){const e=new Set;let t=[],n=null;function r(){n&&clearInterval(n),n=setTimeout(()=>{window.parent.postMessage(t),t=[],n=null},0)}function o(a){const l=a.data;if(r8e(l)){for(const u of l)if(o8e(u)&&typeof u.type=="string"&&u.type.startsWith("workshop/"))for(const d of e)d(u)}}function i(){window.addEventListener("message",o,!1)}function s(){window.removeEventListener("message",o,!1)}return{message:{publish(a){t.push(a),r()},subscribe(a){return e.add(a),e.size===1&&i(),()=>{e.delete(a),e.size===0&&s()}}}}}function eLn(){const e=typeof window>"u"?{}:j4n.parse(window.location.search.slice(1)),{path:t="/",scheme:n,viewport:r,zoom:o,...i}=e;return{frameReady:!1,path:t,payload:i,scheme:typeof n=="string"?n:"light",viewport:typeof r=="string"?r:"auto",zoom:typeof o=="string"?Number(o):1}}h.memo(function(t){const{config:n,setScheme:r}=t,o=h.useMemo(()=>J4n(),[]),i=h.useMemo(()=>X6e(),[]),[s,a]=h.useState(null),[l,u]=h.useState(null),d=h.useCallback(b=>{i.publish(b),o.message.publish(b)},[i,o]),[{frameReady:f,path:p,payload:m,scheme:v,viewport:g,zoom:y},x]=h.useState(()=>eLn());return h.useEffect(()=>i.subscribe(b=>x(w=>n8e(w,b))),[i]),h.useEffect(()=>o.message.subscribe(i.publish),[i,o]),h.useEffect(()=>r(v),[r,v]),h.useEffect(()=>d({type:"workshop/frameReady"}),[d]),c.jsx(o7,{children:c.jsx(ld,{element:s,children:c.jsx(sg,{element:l,children:c.jsx(t8e,{broadcast:d,config:n,channel:i,frameReady:f,origin:"frame",path:p,payload:m,scheme:v,viewport:g,zoom:y,children:c.jsxs(Q,{height:"fill",ref:a,children:[c.jsx(Z4n,{}),c.jsx("div",{"data-portal":"",ref:u})]})})})})})});var T1e=Object.freeze,tLn=Object.defineProperty,nLn=(e,t)=>T1e(tLn(e,"raw",{value:T1e(t||e.slice())})),A1e;dxe(A1e||(A1e=nLn([`
  body {
    background-color: `,`;
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.base.bg});var D1e=Object.freeze,rLn=Object.defineProperty,oLn=(e,t)=>D1e(rLn(e,"raw",{value:D1e(t||e.slice())})),P1e;const iLn=h.memo(iw),sLn=$(Q)(P1e||(P1e=oLn([`
  line-height: 0;

  @media screen and (max-width: `,`px) {
    text-align: center;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]-1}),aLn=h.memo(function(t){const{currentTabId:n,onTabChange:r,tabs:o}=t,i=h.useMemo(()=>({flex:"none",position:"sticky",top:0}),[]),s=h.useMemo(()=>o.map(a=>c.jsx(lLn,{onTabChange:r,selected:a.id===n,tab:a},a.id)),[n,r,o]);return c.jsx(hs,{style:i,children:c.jsx(sLn,{padding:2,shadow:1,children:c.jsx(pA,{space:1,children:s})})})});function lLn(e){const{onTabChange:t,selected:n,tab:r}=e,o=h.useCallback(()=>{t(r.id)},[t,r]);return c.jsx(iLn,{"aria-controls":"".concat(r.id,"-panel"),fontSize:[2,2,1],id:r.id,label:r.label,onClick:o,selected:n,tone:r.tone})}var I1e=Object.freeze,cLn=Object.defineProperty,uLn=(e,t)=>I1e(cLn(e,"raw",{value:I1e(t||e.slice())})),O1e;const dLn=$(Q)(O1e||(O1e=uLn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-left: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),$1e=h.memo(function(t){return h.createElement(t.component,{options:t.options})}),fLn=h.memo(function(t){const{expanded:n}=t,{plugins:r}=xl(),o=h.useMemo(()=>r.filter(d=>d.inspector).map(d=>({id:d.name,label:d.title,tone:void 0,plugin:d})),[r]),[i,s]=h.useState(o.length>0?o[0].id:null),a=o.find(d=>d.id===i),l=o.length>1,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return c.jsx(dLn,{display:u,flex:1,children:c.jsxs(U,{direction:"column",height:"fill",children:[l&&c.jsx(aLn,{currentTabId:i,onTabChange:s,tabs:o}),l&&o.map(d=>c.jsx(QSe,{"aria-labelledby":"".concat(d.id,"-tab"),flex:1,hidden:d.id!==i,id:"".concat(d.id,"-panel"),overflow:"auto",children:d.plugin.inspector&&c.jsx($1e,{component:d.plugin.inspector,options:d.plugin.options||k6})},d.id)),!l&&(a==null?void 0:a.plugin.inspector)&&c.jsx(M,{flex:1,overflow:"auto",children:c.jsx($1e,{component:a.plugin.inspector,options:a.plugin.options||k6})})]})})}),R1e=uC;function hLn(){const{broadcast:e,scope:t,story:n,title:r}=xl(),o=h.useCallback(i=>{i.preventDefault(),e({type:"workshop/setPath",value:"/"})},[e]);return c.jsx(pLn,{onHomeClick:o,scopeTitle:t==null?void 0:t.title,storyTitle:n==null?void 0:n.title,title:r})}const pLn=h.memo(function(t){const{onHomeClick:n,scopeTitle:r,storyTitle:o,title:i}=t;return c.jsxs(t7,{separator:c.jsx(L,{muted:!0,size:[2,2,1],children:"/"}),space:2,children:[c.jsx(L,{size:[2,2,1],weight:"bold",children:c.jsx("a",{href:"/",onClick:n,style:{color:"inherit"},children:i})}),r&&c.jsx(L,{align:"center",size:[2,2,1],children:r}),o&&c.jsx(L,{size:[2,2,1],children:o})]})}),mLn=h.memo(function(){const{frameUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}=xl(),a=h.useMemo(()=>n==="/"?void 0:Q6e({baseUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}),[t,n,r,o,i,s]);return c.jsx(oe,{as:a?"a":"button",disabled:!a,fontSize:1,href:a,iconRight:Sh,mode:"ghost",padding:2,rel:"noopener noreferrer",target:"_blank",text:"Open story"})});function gLn(){const{broadcast:e,scheme:t}=xl(),n=h.useCallback(()=>{e({type:"workshop/toggleScheme"})},[e]);return c.jsx(vLn,{dark:t==="dark",onToggleScheme:n})}const vLn=h.memo(function(t){const{dark:n,onToggleScheme:r}=t;return c.jsx(oe,{fontSize:1,icon:n?i8:c8,mode:"bleed",onClick:r,padding:2})}),yLn=h.memo(function(){const{broadcast:t,story:n,viewport:r}=xl(),o=h.useCallback(i=>{t({type:"workshop/setViewport",value:i})},[t]);return c.jsx(xLn,{disabled:!n,setViewport:o,viewport:r})}),bLn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},xLn=h.memo(function(t){var n;const{disabled:r,setViewport:o,viewport:i}=t;return c.jsx(rn,{button:c.jsx(oe,{disabled:r,fontSize:1,iconRight:rc,mode:"ghost",padding:2,style:{minWidth:80},text:(n=oT.find(s=>s.name===i))==null?void 0:n.title}),id:"viewport-menu",menu:c.jsx(zt,{children:oT.map(s=>c.jsx(Ne,{fontSize:1,onClick:()=>o(s.name),padding:2,selected:s.name===i,text:s.title},s.name))}),popover:bLn})});function wLn(){const{broadcast:e,story:t,zoom:n}=xl(),r=h.useCallback(o=>e({type:"workshop/setZoom",value:o}),[e]);return c.jsx(_Ln,{disabled:!t,setZoom:r,zoom:n})}const CLn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},_Ln=h.memo(function(t){var n;const{disabled:r,setZoom:o,zoom:i}=t;return c.jsx(rn,{button:c.jsx(oe,{disabled:r,fontSize:1,iconRight:rc,mode:"ghost",padding:2,style:{minWidth:80},text:(n=S1e.find(s=>s.value===i))==null?void 0:n.title}),id:"zoom-menu",menu:c.jsx(zt,{children:S1e.map(s=>c.jsx(Ne,{fontSize:1,onClick:()=>o(s.value),padding:2,selected:s.value===i,text:s.title},s.value))}),popover:CLn})}),SLn=h.memo(function(t){const{inspectorExpanded:n,navigatorExpanded:r,onInspectorToggle:o,onNavigatorToggle:i}=t,s=ng(),{story:a,title:l}=xl();return c.jsx(Q,{borderBottom:!0,flex:"none",padding:2,style:{lineHeight:0},children:c.jsxs(U,{gap:1,children:[c.jsx(M,{display:["block","block","none"],flex:"none",children:c.jsx(oe,{"aria-label":"Open navigator",fontSize:[2,2,1],icon:o8,mode:"bleed",onClick:i,padding:2,selected:r})}),c.jsxs(U,{flex:1,justify:["center","center","flex-start"],padding:2,sizing:"border",style:{minWidth:250},children:[s<2&&c.jsx(L,{weight:"bold",children:(a==null?void 0:a.title)||l}),s>=2&&c.jsx(hLn,{})]}),c.jsx(M,{display:["block","block","none"],flex:"none",children:c.jsx(oe,{"aria-label":"Open inspector",fontSize:[2,2,1],icon:DT,mode:"bleed",onClick:o,padding:2,selected:n})}),c.jsx(M,{display:["none","none","block"],flex:"none",children:c.jsxs(Zt,{space:1,children:[c.jsx(mLn,{}),c.jsx(yLn,{}),c.jsx(wLn,{}),c.jsx(gLn,{})]})})]})})});function i8e(e,t,n){if(t.__scope__){const s=t.__scope__;return s.name==="@@root@@"?s.stories.map(a=>({type:"story",...a})):[{type:"scope",name:s.name||"@@root@@",title:s.title||"(root)",scope:s}]}const r=e.find(s=>s.name===n),i=Object.entries(t).filter(s=>{let[a]=s;return a!=="__scope__"}).flatMap(s=>{let[a,l]=s;return i8e((r==null?void 0:r.children)||[],l,a)});return[{type:"list",name:n,title:(r==null?void 0:r.title)||n,items:i}]}function ELn(e,t){const n={};for(const i of t){const s=i.name||"@@root@@",a=n[s]||{name:s,title:i.title,stories:[]},l={...a,name:s,stories:a.stories.concat(i.stories)};n[s]=l}let r={};for(const i of Object.values(n))r=S4n(r,i.name||"@@root@@",{__scope__:i});const o={type:"list",name:"@@root@@",items:[]};for(const[i,s]of Object.entries(r))o.items.push(...i8e(e,s,i));return o}const kLn=h.memo(function(t){const{matches:n,onStoryClick:r}=t;return c.jsx(te,{space:1,children:n.map(o=>{let{scope:i,story:s}=o;return c.jsx(Q,{as:"a","data-path":"/".concat(i.name,"/").concat(s.name),href:"/".concat(i.name,"/").concat(s.name),onClick:r,padding:2,radius:2,children:c.jsx(L,{size:1,textOverflow:"ellipsis",children:[i.title||"",s.title].filter(Boolean).join(" / ")})},"".concat(i.name,"/").concat(s.name))})})}),jLn=h.memo(function(t){const{items:n}=t;return c.jsx(nEe,{space:1,children:c.jsx(s8e,{items:n})})}),s8e=h.memo(function(t){const{basePath:n="",items:r}=t,{broadcast:o,path:i,scope:s,story:a}=xl(),l=h.useCallback(u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-path");f&&o({type:"workshop/setPath",value:f})},[o]);return h.useMemo(()=>r.length===0?null:c.jsx(c.Fragment,{children:r.map((u,d)=>{if(u.type==="list"){const f="".concat(n,"/").concat(u.name);return c.jsx(TLn,{expanded:i.startsWith(f+"/"),item:u,path:f},u.name||d)}return u.type==="story"?c.jsx(sw,{"data-path":"/".concat(u.name||""),fontSize:[2,2,1],href:"/".concat(u.name||""),onClick:l,padding:2,selected:(a==null?void 0:a.component)===u.component,text:u.title},u.name):u.type==="scope"?c.jsx(ALn,{currentStory:a,expanded:u.scope===s,item:u,onStoryClick:l},u.name):c.jsx(sw,{text:"unknown"},d)})}),[n,s,a,l,r,i])}),TLn=h.memo(function(t){const{expanded:n,item:r,path:o}=t,i=h.useMemo(()=>c.jsx(s8e,{basePath:o,items:r.items}),[r,o]);return c.jsx(sw,{expanded:n,fontSize:[2,2,1],padding:2,text:r.title,weight:"semibold",children:i})}),ALn=h.memo(function(t){const{currentStory:n,expanded:r,item:o,onStoryClick:i}=t,s=h.useMemo(()=>o.scope.stories.map(a=>c.jsx(sw,{"data-path":"/".concat(o.scope.name,"/").concat(a.name),fontSize:[2,2,1],href:"/".concat(o.scope.name,"/").concat(a.name),onClick:i,padding:2,selected:n===a,text:a.title},a.name)),[n,o,i]);return c.jsx(sw,{expanded:r,fontSize:[2,2,1],padding:2,text:o.title,weight:"semibold",children:s})});var M1e=Object.freeze,DLn=Object.defineProperty,PLn=(e,t)=>M1e(DLn(e,"raw",{value:M1e(t||e.slice())})),F1e;const ILn=$(Q)(F1e||(F1e=PLn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-right: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),OLn={flex:"none"},$Ln={lineHeight:0},RLn=[2,2,1],MLn=h.memo(function(t){const{collections:n=[],expanded:r}=t,{broadcast:o,scopes:i}=xl(),s=h.useMemo(()=>ELn(n,i),[n,i]),[a,l]=h.useState(""),u=h.useMemo(()=>{var m;if(!a)return y0;const v=a.toLowerCase(),g=[];for(const y of i)for(const x of y.stories)((m=y.title)!=null&&m.toLowerCase().includes(v)||x.title.toLowerCase().includes(v))&&g.push({scope:y,story:x});return g},[a,i]),d=h.useCallback(m=>l(m.currentTarget.value),[]),f=h.useCallback(()=>l(""),[]),p=h.useCallback(m=>{m.preventDefault();const g=m.currentTarget.getAttribute("data-path");g&&(o({type:"workshop/setPath",value:g}),l(""))},[o]);return c.jsx(FLn,{expanded:r,matches:u,menu:s,onSearchQueryChange:d,onSearchQueryClear:f,onStoryClick:p,query:a})}),FLn=h.memo(function(t){const{expanded:n,matches:r,menu:o,onSearchQueryChange:i,onSearchQueryClear:s,onStoryClick:a,query:l}=t,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return c.jsx(ILn,{display:u,flex:1,children:c.jsxs(U,{direction:"column",height:"fill",children:[c.jsx(hs,{style:OLn,children:c.jsx(Q,{padding:2,shadow:1,style:$Ln,children:c.jsx(Nr,{border:!1,clearButton:!!l,fontSize:RLn,icon:ui,onChange:i,onClear:s,padding:2,placeholder:"Stories",radius:2,space:2,value:l})})}),c.jsxs(Q,{flex:1,overflow:"auto",children:[l&&r.length>0&&c.jsx(M,{padding:2,children:c.jsx(kLn,{matches:r,onStoryClick:a})}),!l&&o.type==="list"&&c.jsx(M,{padding:2,children:c.jsx(jLn,{items:o.items})})]})]})})});var L1e=Object.freeze,LLn=Object.defineProperty,BLn=(e,t)=>L1e(LLn(e,"raw",{value:L1e(t||e.slice())})),B1e;const NLn=$.iframe(B1e||(B1e=BLn([`
  display: block;
  border: 0;
  height: 100%;
  width: 100%;
`]))),zLn=h.memo(function(t){const{frameRef:n,hidden:r}=t,{frameReady:o,frameUrl:i,path:s,payload:a,scheme:l,title:u,viewport:d,zoom:f}=xl(),p=oT.find(w=>w.name===d)||oT[0],m=p==null?void 0:p.rect.width,v=p==null?void 0:p.rect.height,[g]=h.useState(()=>Q6e({baseUrl:i,path:s,payload:a,scheme:l,viewport:d,zoom:f})),y=h.useMemo(()=>({maxWidth:m==="auto"?void 0:"".concat((m||1)*f,"px"),maxHeight:v?"".concat((v||1)*f,"px"):void 0}),[m,v,f]),x=h.useMemo(()=>r?"none":"block",[r]),b=h.useMemo(()=>({transform:"scale(".concat(f,")"),transformOrigin:"0 0",width:"".concat(100/f,"%"),height:"".concat(100/f,"%")}),[f]);return c.jsx(Q,{display:x,flex:1,overflow:"hidden",tone:"transparent",children:c.jsxs(U,{align:"center",height:"fill",justify:"center",sizing:"border",children:[s==="/"&&c.jsx(oo,{width:0,children:c.jsxs(te,{padding:4,space:4,children:[c.jsx(Xo,{align:"center",children:u}),c.jsx(L,{align:"center",muted:!0,children:"Browse workshop stories in the navigator to the left."})]})}),!o&&s!=="/"&&c.jsx(gr,{muted:!0}),c.jsx(oo,{height:"fill",hidden:!o||s==="/",style:y,width:"auto",children:c.jsx(Q,{height:"fill",shadow:1,children:c.jsx(NLn,{ref:n,src:g,style:b})})})]})})});function VLn(){const e=new Set;let t=null,n=[],r=null;function o(){r&&clearInterval(r),r=setTimeout(()=>{var l;(l=t==null?void 0:t.contentWindow)==null||l.postMessage(n,window.location.origin),n=[],r=null},0)}function i(l){const u=l.data;if(r8e(u)){for(const d of u)if(o8e(d)&&typeof d.type=="string"&&d.type.startsWith("workshop/"))for(const f of e)f(d)}}function s(){t!=null&&t.contentWindow&&window.addEventListener("message",i)}function a(l){l!=null&&l.contentWindow&&window.removeEventListener("message",i)}return{message:{publish(l){n.push(l),o()},subscribe(l){return e.add(l),()=>{e.delete(l)}}},setElement(l){const u=t;t=l,l?s():u&&a(u)}}}function N1e(e,t,n){const r=e.path,o=e.query||{},{scheme:i,viewport:s,zoom:a,...l}=o;return{frameReady:n||!1,path:r,payload:l,scheme:t||(typeof i=="string"?i:"light"),viewport:typeof s=="string"?s:"auto",zoom:typeof a=="number"?a:1}}function z1e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{payload:n,scheme:r,viewport:o,zoom:i}=e,s={scheme:r};if(o&&o!==E4n&&(s.viewport=o),i&&i!==k4n&&(s.zoom=i),t)for(const[a,l]of Object.entries(n))["schema","viewport","zoom"].includes(a)?console.warn('Workshop: the payload cannot contain a property named "'.concat(a,'" (protected name)')):s[a]=l;return s}h.memo(function(t){var n,r;const{config:o,locationStore:i,onSchemeChange:s,scheme:a}=t,l=(r=(n=o.features)==null?void 0:n.navbar)!=null?r:!0,u=h.useMemo(()=>X6e(),[]),d=h.useMemo(()=>VLn(),[]),[f,p]=h.useState(null),[m,v]=h.useState(null),[{frameReady:g,path:y,payload:x,scheme:b,viewport:w,zoom:C},_]=h.useState(()=>N1e(i.get(),a)),S=ng(),[E,j]=h.useState(!1),[k,T]=h.useState(!1),A=h.useRef(g),D=h.useRef(b),P=h.useRef(y),I=h.useRef({scheme:b,viewport:w,zoom:C,...x}),R=h.useCallback(z=>{u.publish(z),d.message.publish(z)},[u,d]),O=h.useMemo(()=>R1e(z=>i.push(z),150),[i]),V=h.useMemo(()=>R1e(z=>i.replace(z),150),[i]),B=h.useCallback(()=>{j(z=>!z),T(!1)},[]),H=h.useCallback(()=>{j(!1),T(z=>!z)},[]),W=h.useRef(S);return h.useEffect(()=>{W.current<2&&S>=2&&(j(!1),T(!1)),W.current=S},[S]),h.useEffect(()=>{j(!1)},[y]),h.useEffect(()=>()=>O.cancel(),[O]),h.useEffect(()=>()=>V.cancel(),[V]),h.useEffect(()=>u.subscribe(z=>{_(G=>{const ee=n8e(G,z),N=!b0(G,ee);if(N){if(z.type==="workshop/setPath"){if(P.current!==ee.path){P.current=ee.path;const Y=z1e(ee,!1);O({path:ee.path,query:Y})}}else if(z.type!=="workshop/setState"){const Y=z1e(ee);b0(I.current,Y)||(I.current=Y,V({path:ee.path,query:Y}))}}return N?ee:G})}),[O,V,u,i]),h.useEffect(()=>d.message.subscribe(u.publish),[u,d]),h.useEffect(()=>{A.current=g},[g]),h.useEffect(()=>i.subscribe(z=>{const G=N1e(z,void 0,g);R({type:"workshop/setState",value:G})}),[R,g,i]),h.useEffect(()=>{D.current=b,s(b)},[s,b]),h.useEffect(()=>{a&&D.current!==a&&(D.current=a,R({type:"workshop/setScheme",value:a}))},[R,a]),o.scopes?c.jsx(t8e,{config:o,broadcast:R,channel:u,frameReady:g,origin:"main",path:y,payload:x,scheme:b,viewport:w,zoom:C,children:c.jsx(o7,{children:c.jsx(ld,{element:f,children:c.jsx(sg,{element:m,children:c.jsxs(U,{"data-boundary":"",direction:"column",height:"fill",ref:p,style:{minWidth:320},children:[l&&c.jsx(SLn,{inspectorExpanded:k,navigatorExpanded:E,onInspectorToggle:H,onNavigatorToggle:B}),c.jsxs(U,{flex:1,children:[c.jsx(MLn,{collections:o.collections,expanded:E}),c.jsx(zLn,{frameRef:d.setElement,hidden:E||k}),c.jsx(fLn,{expanded:k})]}),c.jsx("div",{"data-portal":"",ref:v})]})})})})}):c.jsx(c.Fragment,{children:"No scopes"})});function HLn(e){const{currentUser:t,fieldName:n,mentionOptions:r,onBlur:o,onFocus:i,onKeyDown:s,onNewThreadCreate:a,readOnly:l}=e,[u,d]=h.useState(y0),f=h.useRef(null),p=h.useCallback(()=>{a==null||a(u),d(y0)},[a,u]),m=h.useMemo(()=>I_(u),[u]),v=h.useCallback(()=>{var w;m&&((w=f.current)==null||w.discardDialogController.open())},[m]),g=h.useCallback(w=>{w.isDefaultPrevented()||(w.key==="Escape"&&(w.preventDefault(),w.stopPropagation(),v()),s&&s(w))},[s,v]),y=h.useCallback(()=>{var w,C;d(y0),(w=f.current)==null||w.discardDialogController.close(),(C=f.current)==null||C.focus()},[]),x=h.useCallback(()=>{var w;(w=f.current)==null||w.discardDialogController.close()},[]),b=c.jsxs(c.Fragment,{children:["Add comment to ",c.jsx("b",{children:n})]});return c.jsx(JP,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:d,onDiscardCancel:x,onDiscardConfirm:y,onKeyDown:g,onFocus:i,onSubmit:p,placeholder:b,readOnly:l,ref:f,value:u})}var V1e=Object.freeze,ULn=Object.defineProperty,a8e=(e,t)=>V1e(ULn(e,"raw",{value:V1e(t||e.slice())})),H1e,U1e;const WLn=$(U)(H1e||(H1e=a8e([`
  min-height: 25px;
`]))),YLn=$(oe)(e=>{let{theme:t}=e;const n=t.sanity.color.base.fg;return de(U1e||(U1e=a8e([`
    --card-fg-color: `,`;

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `])),n)});function qLn(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:o,fieldPath:i,isSelected:s,mentionOptions:a,onNewThreadCreate:l,onPathSelect:u,readOnly:d}=e,f=h.useCallback(y=>{const x={fieldPath:i,message:y,parentCommentId:void 0,status:"open",threadId:Od()};l==null||l(x)},[l,i]),p=h.useCallback(y=>{y.stopPropagation(),u==null||u({fieldPath:i,origin:"inspector",threadId:null})},[i,u]),m=h.useCallback(y=>{y.stopPropagation(),y.detail!==0&&(u==null||u({fieldPath:i,origin:"inspector",threadId:null}))},[i,u]),v=h.useMemo(()=>(t==null?void 0:t.map(y=>y.title))||[],[t]),g=v[v.length-1];return c.jsxs(te,{space:2,children:[c.jsx(WLn,{align:"center",gap:2,paddingRight:1,sizing:"border",children:c.jsx(te,{flex:1,children:c.jsx(U,{align:"center",children:c.jsx(YLn,{"aria-label":"Go to ".concat(g," field"),mode:"bleed",onClick:p,padding:2,children:c.jsx(SRn,{maxLength:3,titlePath:v})})})})}),n&&c.jsx(f6e,{onClick:m,tone:s?"primary":void 0,children:c.jsx(HLn,{currentUser:o,fieldName:g,mentionOptions:a,onNewThreadCreate:f,readOnly:d})}),c.jsx(te,{space:2,children:r})]})}const W1e={open:{title:"No open comments yet",message:c.jsxs("span",{children:["Open comments on this document ",c.jsx("br",{}),"will be shown here."]})},resolved:{title:"No resolved comments yet",message:c.jsxs(c.Fragment,{children:["Resolved comments on this document ",c.jsx("br",{}),"will be shown here."]})}};function GLn(e){const{status:t,error:n,loading:r,hasNoComments:o}=e;return n?c.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:c.jsx(U,{align:"center",children:c.jsx(L,{size:1,muted:!0,children:"Something went wrong"})})}):r?c.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:c.jsxs(U,{align:"center",gap:2,children:[c.jsx(gr,{muted:!0,size:1}),c.jsx(L,{size:1,muted:!0,children:"Loading comments..."})]})}):o?c.jsx(U,{align:"center",justify:"center",flex:1,sizing:"border",children:c.jsx(oo,{width:0,padding:4,children:c.jsxs(te,{space:3,children:[c.jsx(L,{align:"center",size:1,muted:!0,weight:"semibold",children:W1e[t].title}),c.jsx(L,{align:"center",size:1,muted:!0,children:W1e[t].message})]})})}):null}const KLn={behavior:"smooth",block:"start",inline:"nearest"};function ZLn(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const XLn=h.forwardRef(function(t,n){const{comments:r,currentUser:o,error:i,loading:s,mentionOptions:a,onCopyLink:l,onCreateRetry:u,onDelete:d,onEdit:f,onNewThreadCreate:p,onPathSelect:m,onReply:v,onStatusChange:g,readOnly:y,selectedPath:x,status:b}=t,[w,C]=h.useState(null),_=h.useCallback(j=>{const k=document==null?void 0:document.querySelector('[data-comment-id="'.concat(j,'"]'));k&&k.scrollIntoView(KLn)},[]);h.useImperativeHandle(n,()=>({scrollToComment:_}),[_]);const S=h.useMemo(()=>Object.entries(ZLn(r)),[r]),E=!s&&!i&&S.length>0;return c.jsxs(U,{direction:"column",flex:1,height:"fill",overflow:"hidden",ref:C,sizing:"border",children:[c.jsx(GLn,{error:i,hasNoComments:S.length===0,loading:s,status:b}),E&&c.jsx(te,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,children:c.jsx(ld,{element:w,children:S==null?void 0:S.map(j=>{let[k,T]=j;const A=T[0].breadcrumbs,D=T[0].threadId,P=(x==null?void 0:x.fieldPath)===k&&!x.threadId;return c.jsx(te,{as:"li","data-group-id":D,paddingTop:3,children:c.jsx(qLn,{breadcrumbs:A,canCreateNewThread:b==="open",currentUser:o,fieldPath:k,isSelected:P,mentionOptions:a,onNewThreadCreate:p,onPathSelect:m,readOnly:y,children:T.map(I=>{var R,O;const V=I.replies.slice().reverse(),B=b==="open"&&((R=I.parentComment._state)==null?void 0:R.type)!=="createError"&&((O=I.parentComment._state)==null?void 0:O.type)!=="createRetrying",H=(x==null?void 0:x.threadId)===I.parentComment.threadId&&(x==null?void 0:x.fieldPath)===I.parentComment.target.path.field;return c.jsx(CRn,{canReply:B,currentUser:o,isSelected:H,mentionOptions:a,onCopyLink:l,onCreateRetry:u,onDelete:d,onEdit:f,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:I.parentComment,readOnly:y,replies:V},I.parentComment._id)})},k)},k)})})})]})}),QLn=ne.memo(XLn),JLn={thread:{title:"Delete this comment thread?",body:"This comment and its replies will be deleted, and once deleted cannot be recovered.",confirmButtonText:"Delete thread"},comment:{title:"Delete this comment?",body:"Once deleted, a comment cannot be recovered.",confirmButtonText:"Delete comment"}};function e6n(e){const{isParent:t,onClose:n,commentId:r,onConfirm:o,loading:i,error:s}=e,{title:a,body:l,confirmButtonText:u}=JLn[t?"thread":"comment"],d=h.useCallback(()=>{o(r)},[r,o]);return c.jsx(Wi,{header:a,id:"delete-comment-dialog",onClose:n,width:0,footer:c.jsxs(tn,{columns:2,padding:2,gap:2,children:[c.jsx(oe,{text:"Cancel",mode:"ghost",onClick:n}),c.jsx(oe,{loading:i,onClick:d,text:u,tone:"critical"})]}),children:c.jsxs(te,{padding:4,space:4,children:[c.jsx(L,{children:l}),s&&c.jsx(fr,{tone:"critical",children:"An error occurred while deleting the comment. Please try again."})]})})}var Y1e=Object.freeze,t6n=Object.defineProperty,uU=(e,t)=>Y1e(t6n(e,"raw",{value:Y1e(t||e.slice())})),q1e,G1e,K1e;const n6n=$(M)(q1e||(q1e=uU([`
  max-width: 280px;
`]))),r6n=Km(G1e||(G1e=uU([`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`]))),o6n=$(nn)(K1e||(K1e=uU([`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: `,` 200ms 500ms forwards;
`])),r6n);function i6n(e){const{onDismiss:t}=e;return c.jsx(o6n,{content:c.jsx(n6n,{padding:4,children:c.jsxs(te,{space:3,children:[c.jsx(L,{weight:"semibold",size:1,children:"Document fields now have comments"}),c.jsx(L,{size:1,children:"You can add comments to any field in a document. They'll show up here, grouped by field."}),c.jsx(U,{justify:"flex-end",marginTop:2,children:c.jsx(oe,{fontSize:1,padding:2,text:"Got it",tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}const l8e=h.createContext(null);function s6n(e){const t={};return e!==null&&(t.identity=e.id),t}const kR=new Map;async function a6n(e,t,n){kR.has(t)||kR.set(t,EIe("*[".concat(t,"]")));const r=kR.get(t),o=s6n(e),{identity:i}=o,s={...o},a=await(await bIe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}async function l6n(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await a6n(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}const Z1e={data:[],error:null,loading:!0};let X1e=null;function c6n(e){const{documentValue:t}=e,n=rDn(),r=zH(),o=yr(un),[i,s]=h.useState(Z1e),a=h.useMemo(()=>{const u=n.get().pipe(le(v=>{var g;return(g=v.members)==null?void 0:g.filter(y=>!y.isRobot)})).pipe(rt(async v=>{const g=v.map(x=>{let{id:b}=x;return b});return await r.getUsers(g)}),le(v=>v.map(g=>({displayName:g.displayName,id:g.id,canBeMentioned:!1})))),d=X1e,f=d?ve(d):o.observable.fetch('*[_type == "system.group"]');return qat([u,f]).pipe(ft(async v=>{let[g,y]=v;d||(X1e=y);const x=g==null?void 0:g.map(async w=>{const _=[...y.map(E=>E.members.includes(w.id)?E.grants:[])].flat(),{granted:S}=await l6n(w,_,"read",t);return{...w,canBeMentioned:S}});return await Promise.all(x||[])})).pipe(le(v=>({error:null,loading:!1,data:ug(v,"displayName")})))},[o.observable,t,n,r]);return h.useEffect(()=>{const l=ve(Z1e),d=Kr(l,a).subscribe(s);return()=>{d.unsubscribe()}},[a]),i}function u6n(e){const{documentId:t,documentType:n}=e||{},r=An().get(n),{title:o}=cc(),{createPathWithParams:i,params:s}=fu(),a=Ki(),l=So(()=>!t||!r?ve(null):lP(a,r,t,""),[t,a,r]),{published:u,draft:d}=l||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:h.useCallback(m=>{let{commentId:v}=m;const g=i({...s,comment:v,inspect:Dx}),y="".concat(window.location.origin).concat(g);return{documentTitle:f,url:y,workspaceTitle:o}},[i,f,s,o])}}function d6n(e){const{client:t,currentUser:n,dataset:r,documentId:o,documentType:i,getThreadLength:s,onCreate:a,onCreateError:l,onEdit:u,onRemove:d,onUpdate:f,projectId:p,runSetup:m,workspace:v}=e,g=n==null?void 0:n.id,y=FA(h.useCallback(k=>typeof k.tool=="string"?k.tool:void 0,[])),{tools:x}=cc(),b=h.useMemo(()=>x.find(k=>k.name===y),[y,x]),{getNotificationValue:w}=u6n({documentId:o,documentType:i}),C=h.useCallback(async k=>{const T=(k==null?void 0:k.id)||Od(),A=((s==null?void 0:s(k.threadId))||0)+1,{documentTitle:D="",url:P="",workspaceTitle:I=""}=w({commentId:T})||{},R={currentThreadLength:A,documentTitle:D,url:P,workspaceTitle:I},O={_id:T,_type:"comment",authorId:g||"",lastEditedAt:void 0,message:k.message,parentCommentId:k.parentCommentId,status:k.status,threadId:k.threadId,context:{payload:{workspace:v},notification:R,tool:(b==null?void 0:b.name)||""},target:{path:{field:k.fieldPath},document:{_dataset:r,_projectId:p,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:i}};if(a==null||a(O),!t){try{await m(O)}catch(V){throw l==null||l(O._id,V),V}return}try{await t.create(O)}catch(V){throw l==null||l(O._id,V),V}},[b==null?void 0:b.name,g,t,r,o,i,w,s,a,l,p,m,v]),_=h.useCallback(async k=>{t&&(d==null||d(k),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}),t.delete(k)]))},[t,d]),S=h.useCallback(async(k,T)=>{if(!t)return;const A={message:T.message,lastEditedAt:new Date().toISOString()};u==null||u(k,A),await t.patch(k).set(A).commit()},[t,u]),E=h.useCallback(async(k,T)=>{if(t){if(f==null||f(k,T),T.status){await Promise.all([t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}).set({status:T.status}).commit(),t.patch(k).set(T).commit()]);return}await(t==null?void 0:t.patch(k).set(T).commit())}},[t,f]);return{operation:h.useMemo(()=>({create:C,edit:S,remove:_,update:E}),[C,_,S,E])}}function c8e(){const e=h.useContext(l8e);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function f6n(){const e=h.useContext(m8e);if(!e)throw new Error("useCommentsSetup: missing context value");return e}const u8e=h.createContext(null),h6n=ne.memo(function(t){const{children:n,documentId:r,documentType:o}=t,{enabled:i,isLoading:s}=Y4e("studioComments"),{enabled:a}=Nn().document.unstable_comments,l=h.useMemo(()=>a({documentType:o,documentId:Fn(r)}),[r,o,a]),u=h.useMemo(()=>!(s||!i||!l),[l,i,s]);return c.jsx(u8e.Provider,{value:u,children:n})});function rI(){return!!h.useContext(u8e)}const d8e=h.createContext(null),p6n=1,f8e="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(p6n),m6n=e=>{try{window.localStorage.setItem(f8e,JSON.stringify(e))}catch{}},g6n=()=>{try{const e=window.localStorage.getItem(f8e);return e?JSON.parse(e):!1}catch{return!1}};function v6n(e){const{children:t}=e,[n,r]=h.useState(g6n()),o=h.useCallback(()=>{r(!0),m6n(!0)},[r]),i=h.useMemo(()=>({setDismissed:o,isDismissed:n}),[o,n]);return c.jsx(d8e.Provider,{value:i,children:t})}function y6n(){const e=h.useContext(d8e);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}function h8e(){const e=h.useContext(g8e);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}function b6n(e){return e.reduce((n,r)=>({...n,[r._id]:r}),{})}function x6n(e,t){switch(t.type){case"COMMENTS_SET":{const n=b6n(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,o={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};if(e.comments&&e.comments[n._id])return{...e,comments:{...e.comments,...o}};const s={...e.comments||{},...o};return{...e,comments:s}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(o=>{r[o].parentCommentId===t.id&&delete r[o]}),{...e,comments:r}}case"COMMENT_UPDATED":{const n=t.payload,r=n._id;return{...e,comments:{...e.comments,[r]:{...e.comments[r],...n}}}}default:return e}}const w6n={comments:{}},C6n={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},_6n="_createdAt",S6n="desc",E6n=['_type == "comment"',"target.document._ref == $documentId"],k6n=`{
  _createdAt,
  _id,
  authorId,
  lastEditedAt,
  message,
  parentCommentId,
  status,
  target,
  threadId,
}`,j6n="order(".concat(_6n," ").concat(S6n,")"),Q1e="*[".concat(E6n.join(" && "),"] ").concat(k6n," | ").concat(j6n);function T6n(e){const{client:t,documentId:n}=e,[r,o]=h.useReducer(x6n,w6n),[i,s]=h.useState(t!==null),[a,l]=h.useState(null),u=h.useMemo(()=>({documentId:Fn(n)}),[n]),d=h.useCallback(async()=>{if(!t){s(!1);return}try{const v=await t.fetch(Q1e,u);o({type:"COMMENTS_SET",comments:v}),s(!1)}catch(v){l(v)}},[t,u]),f=h.useCallback(async v=>{if(v.type==="welcome"&&(s(!0),await d(),s(!1)),v.type==="reconnect"&&s(!0),v.type==="mutation"){if(v.transition==="appear"){const g=v.result;g&&o({type:"COMMENT_RECEIVED",payload:g})}if(v.transition==="disappear"&&o({type:"COMMENT_DELETED",id:v.documentId}),v.transition==="update"){const g=v.result;g&&o({type:"COMMENT_UPDATED",payload:g})}}},[d]),p=h.useMemo(()=>t?t.observable.listen(Q1e,u,C6n).pipe(Mn(g=>(l(g),ve(g)))):ve(),[t,u]);return h.useEffect(()=>{const v=p.subscribe(f);return()=>{v==null||v.unsubscribe()}},[f,p]),{data:h.useMemo(()=>Object.values(r.comments),[r.comments]),dispatch:o,error:a,loading:i}}function p8e(e,t){var n;const r=Wl(t),o=r[0];if(o&&ul(e)){const i=(n=e==null?void 0:e.fields)==null?void 0:n.find(s=>s.name===o);if(i){const s=Ur(r.slice(1));return s?p8e(i.type,s):i}}}function A6n(e,t){if(typeof t=="number")return t;const n=oN(e,t);return n===-1?!1:n}function D6n(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:o}=e,i=Wl(r),s=[];let a=null;return i.forEach((l,u)=>{var d,f,p,m,v;const g=i.slice(0,u+1),y=i.slice(0,u),x=p8e(n,Ur(g)),b=l.hasOwnProperty("_key"),w=nl(o,y),C=nl(o,g),_={document:o,currentUser:t,parent:w,value:C};if(b&&Array.isArray(w)){const S=A6n(w,l),E=typeof S=="number";s.push({invalid:S===!1,isArrayItem:!0,title:E?"#".concat(Number(S)+1):"Unknown array item"});return}if(x!=null&&x.type){const S=vo(x.type.hidden,_);s.push({invalid:S,isArrayItem:!1,title:fm(x.type)}),a=x.type;return}if(tc(a)){const S=nl(o,y),E=S==null?void 0:S._type,j=(d=a==null?void 0:a.of)==null?void 0:d.find(I=>I.name===E),k=(f=j==null?void 0:j.fields)==null?void 0:f.find(I=>I.name===l);if(!E&&C){const I=(p=a==null?void 0:a.of)==null?void 0:p.map(V=>V==null?void 0:V.fields).filter(Boolean).flat(),R=I==null?void 0:I.find(V=>(V==null?void 0:V.name)===l),O=vo((m=R==null?void 0:R.type)==null?void 0:m.hidden,_);R&&(s.push({invalid:O,isArrayItem:!1,title:fm(R==null?void 0:R.type)}),a=R==null?void 0:R.type);return}if(!k){s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const T=fm(k==null?void 0:k.type),A=vo((v=j==null?void 0:j.type)==null?void 0:v.hidden,_),D=vo(k==null?void 0:k.type.hidden,_),P=A||D;s.push({invalid:P,isArrayItem:!1,title:T}),a=k==null?void 0:k.type;return}s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),s}function P6n(e){const{comments:t,currentUser:n,documentValue:r,schemaType:o}=e;return(t==null?void 0:t.filter(a=>!a.parentCommentId)).map(a=>{const l=D6n({currentUser:n,documentValue:r,fieldPath:a.target.path.field,schemaType:o});if(l.some(p=>p.invalid))return;const d=t==null?void 0:t.filter(p=>p.parentCommentId===a._id),f=[a,...d].length;return{breadcrumbs:l,commentsCount:f,fieldPath:a.target.path.field,parentComment:a,replies:d,threadId:a.threadId}}).filter(Boolean)}const j6=[],I6n={open:j6,resolved:j6},O6n=h.memo(function(t){const{children:n,documentId:r,documentType:o,isCommentsOpen:i,onCommentsOpen:s}=t,[a,l]=h.useState("open"),{client:u,runSetup:d,isRunningSetup:f}=f6n(),p=Fn(r),m=IH(p,o,"low"),v=h.useMemo(()=>m.draft||m.published,[m.draft,m.published]),{dispatch:g,data:y=j6,error:x,loading:b}=T6n({documentId:p,client:u}),w=c6n(h.useMemo(()=>({documentValue:v}),[v])),C=An().get(o),_=Jo(),{name:S,dataset:E,projectId:j}=cc(),k=h.useMemo(()=>{if(!C||!_)return I6n;const B=F1(y,["_createdAt"],["desc"]),H=P6n({comments:B,schemaType:C,currentUser:_,documentValue:v});return{open:H.filter(W=>W.parentComment.status==="open"),resolved:H.filter(W=>W.parentComment.status==="resolved")}},[_,y,v,C]),T=h.useCallback(B=>k.open.filter(H=>H.threadId===B).length,[k.open]),A=h.useCallback(B=>y==null?void 0:y.find(H=>H._id===B),[y]),D=h.useCallback(async B=>{var H,W;const z=((W=(H=y==null?void 0:y.find(G=>G._id===B._id))==null?void 0:H._state)==null?void 0:W.type)==="createError";g({type:"COMMENT_ADDED",payload:{...B,_state:z?{type:"createRetrying"}:void 0}})},[y,g]),P=h.useCallback((B,H)=>{g({type:"COMMENT_UPDATED",payload:{_id:B,...H}})},[g]),I=h.useCallback((B,H)=>{g({type:"COMMENT_UPDATED",payload:{_id:B,...H}})},[g]),R=h.useCallback((B,H)=>{g({type:"COMMENT_UPDATED",payload:{_id:B,_state:{error:H,type:"createError"}}})},[g]),{operation:O}=d6n(h.useMemo(()=>({client:u,currentUser:_,dataset:E,documentId:p,documentType:o,projectId:j,schemaType:C,workspace:S,getThreadLength:T,runSetup:d,onCreate:D,onCreateError:R,onEdit:I,onUpdate:P}),[u,_,E,p,o,j,C,S,T,d,D,R,I,P])),V=h.useMemo(()=>({isRunningSetup:f,status:a,setStatus:l,getComment:A,isCommentsOpen:i,onCommentsOpen:s,comments:{data:k,error:x,loading:b||f},create:{execute:O.create},remove:{execute:O.remove},edit:{execute:O.edit},update:{execute:O.update},mentionOptions:w}),[x,A,i,f,b,w,s,O.create,O.edit,O.remove,O.update,a,k]);return c.jsx(l8e.Provider,{value:V,children:n})}),m8e=h.createContext(null),J1e="v2023-11-13";function $6n(e){const{children:t}=e,{dataset:n,projectId:r}=cc(),o=yr(un),[i,s]=h.useState(null),[a,l]=h.useState(!1),u=h.useCallback(async()=>{var m;const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"});return(m=v==null?void 0:v[0])==null?void 0:m.name},[n,o,r]),d=h.useCallback(m=>o.withConfig({apiVersion:J1e,dataset:m,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,r]),f=h.useCallback(async m=>{l(!0);try{const v=await u();if(v){const g=d(v);s(g),await g.create(m),l(!1);return}}catch{}try{const v=await o.withConfig({apiVersion:J1e}).request({uri:"/comments/".concat(n,"/setup"),method:"POST"}),g=v==null?void 0:v.datasetName;if(!g){l(!1);return}const y=d(g);s(y),await y.create(m)}catch(v){throw v}finally{l(!1)}},[n,u,d,o]);h.useEffect(()=>{u().then(m=>{if(!m)return;const v=d(m);s(v)})},[u,d]);const p=h.useMemo(()=>({client:i,runSetup:f,isRunningSetup:a}),[i,f,a]);return c.jsx(m8e.Provider,{value:p,children:t})}const g8e=h.createContext(null),R6n=ne.memo(function(t){const{children:n}=t,[r,o]=h.useState(null),i=h.useCallback(a=>{o(a)},[]),s=h.useMemo(()=>({selectedPath:r,setSelectedPath:i}),[r,i]);return c.jsx(g8e.Provider,{value:s,children:n})}),M6n=$(Q)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}}),F6n=h.forwardRef(function(t,n){const{onClose:r,onViewChange:o,view:i}=t,s=h.useCallback(()=>o("open"),[o]),a=h.useCallback(()=>o("resolved"),[o]);return c.jsx(M6n,{ref:n,children:c.jsxs(U,{padding:2,children:[c.jsxs(U,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[c.jsx(L,{as:"h1",size:1,weight:"semibold",children:"Comments"}),c.jsx(pDn,{})]}),c.jsxs(U,{flex:"none",padding:1,gap:2,children:[c.jsx(rn,{id:"comment-status-menu-button",button:c.jsx(oe,{text:pn(i),fontSize:1,padding:2,mode:"bleed",iconRight:hl,space:2}),menu:c.jsxs(zt,{style:{width:"180px"},children:[c.jsx(Ne,{fontSize:1,iconRight:i==="open"?fa:void 0,onClick:s,text:"Open comments"}),c.jsx(Ne,{fontSize:1,iconRight:i==="resolved"?fa:void 0,onClick:a,text:"Resolved comments"})]}),popover:{placement:"bottom-end"}}),c.jsx(oe,{"aria-label":"Close comments",fontSize:1,icon:e8,mode:"bleed",onClick:r,padding:2})]})]})})});var eye=Object.freeze,L6n=Object.defineProperty,v8e=(e,t)=>eye(L6n(e,"raw",{value:eye(t||e.slice())})),tye,nye;const B6n="https://snty.link/comments-beta-feedback",N6n=$.span(tye||(tye=v8e([`
  margin-right: 0.2em;
`]))),z6n=$.a(nye||(nye=v8e([`
  white-space: nowrap;
`]))),V6n=$(Q)({position:"relative",zIndex:1,"&:after":{content:'""',display:"block",position:"absolute",left:0,top:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function H6n(){return c.jsx(V6n,{padding:3,children:c.jsxs(L,{muted:!0,size:1,children:["Help improve comments."," ",c.jsxs(z6n,{href:B6n,target:"_blank",rel:"noreferrer",children:[c.jsx(N6n,{children:"Share your feedback "})," ",c.jsx(Sh,{})]})]})})}var rye=Object.freeze,U6n=Object.defineProperty,W6n=(e,t)=>rye(U6n(e,"raw",{value:rye(t||e.slice())})),oye;const Y6n=$(hs)(oye||(oye=W6n([`
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
`])));function q6n(e){return rI()?c.jsx(Y6n,{children:c.jsx(G6n,{...e})}):null}function G6n(e){const{onClose:t}=e,[n,r]=h.useState(!1),[o,i]=h.useState(null),[s,a]=h.useState(!1),[l,u]=h.useState(null),d=h.useRef(null),f=h.useRef(null),p=Jo(),{params:m,createPathWithParams:v,setParams:g}=fu(),y=si(m)||n6e,x=h.useRef(y==null?void 0:y.comment),b=h.useRef(!1),w=Qo().push,{onPathOpen:C,ready:_}=Vr(),{isDismissed:S,setDismissed:E}=y6n(),{comments:j,create:k,edit:T,getComment:A,isRunningSetup:D,mentionOptions:P,remove:I,setStatus:R,status:O,update:V}=c8e(),{isTopLayer:B}=Ea(),H=h.useMemo(()=>j.data[O],[j,O]),W=h.useMemo(()=>j.loading||!_,[j.loading,_]),{selectedPath:z,setSelectedPath:G}=h8e(),ee=h.useCallback(he=>{R(he),G(null)},[G,R]),N=h.useCallback(()=>{t(),G(null)},[t,G]),Y=h.useCallback(he=>{const be=v({...m,comment:he}),Le="".concat(window.location.origin).concat(be);navigator.clipboard.writeText(Le).then(()=>{w({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{w({closable:!0,status:"error",title:"Unable to copy link to clipboard"})})},[v,m,w]),q=h.useCallback(he=>{const be=A(he);be&&k.execute({fieldPath:be.target.path.field,id:be._id,message:be.message,parentCommentId:be.parentCommentId,status:be.status,threadId:be.threadId})},[k,A]),Z=h.useCallback(()=>{s||(r(!1),i(null))},[s]),ie=h.useCallback(he=>{if(G(he),he!=null&&he.fieldPath){const be=Wl(he.fieldPath);C(be)}},[C,G]),re=h.useCallback(he=>{k.execute(he),G({fieldPath:he.fieldPath,origin:"inspector",threadId:he.threadId})},[k,G]),K=h.useCallback(he=>{k.execute(he)},[k]),X=h.useCallback((he,be)=>{T.execute(he,be)},[T]),ce=h.useCallback(he=>{var be;const Le=H.find(ct=>{var ot;return((ot=ct.parentComment)==null?void 0:ot._id)===he}),$e=!!(Le&&((be=Le==null?void 0:Le.replies)==null?void 0:be.length)>0);r(!0),i({commentId:he,isParent:$e})},[H]),me=h.useCallback(async he=>{try{a(!0),await I.execute(he),Z()}catch(be){u(be)}finally{a(!1)}},[Z,I]),ae=h.useCallback((he,be)=>{const Le=A(he);Le&&(G({fieldPath:Le.target.path.field||null,origin:be||"inspector",threadId:Le.threadId||null}),setTimeout(()=>{var $e;($e=d.current)==null||$e.scrollToComment(he)}))},[A,G]),Ce=h.useCallback((he,be)=>{V.execute(he,{status:be}),be==="open"&&(R("open"),ae(he))},[ae,R,V]),_e=h.useCallback(()=>{z&&B&&G(null)},[B,z,G]);return pr(_e,[f.current]),h.useEffect(()=>{const he=A(x.current||"");!W&&he&&b.current===!1&&(R(he.status||"open"),ae(he._id,"url"),b.current=!0,x.current=void 0,g({...m,comment:void 0}))},[A,ae,W,m,g,R]),c.jsxs(h.Fragment,{children:[o&&n&&c.jsx(e6n,{...o,error:l,loading:s,onClose:Z,onConfirm:me}),c.jsxs(U,{direction:"column",flex:1,height:"fill",onClick:_e,overflow:"hidden",ref:f,children:[c.jsx(i6n,{onDismiss:E,open:!S,placement:"left-start",children:c.jsx(F6n,{onClose:N,onViewChange:ee,view:O})}),p&&c.jsx(QLn,{comments:H,currentUser:p,error:j.error,loading:W,mentionOptions:P,onCopyLink:Y,onCreateRetry:q,onDelete:ce,onEdit:X,onNewThreadCreate:re,onPathSelect:ie,onReply:K,onStatusChange:Ce,readOnly:D,ref:d,selectedPath:z,status:O}),c.jsx(H6n,{})]})]})}function K6n(){return{hidden:!rI(),icon:Cxe,showAsAction:!0,title:"Comments"}}const Z6n={name:Dx,component:q6n,useMenuItem:K6n};var iye=Object.freeze,X6n=Object.defineProperty,y8e=(e,t)=>iye(X6n(e,"raw",{value:iye(t||e.slice())})),sye,aye;const lye={open:500},Q6n=$(L)(sye||(sye=y8e([`
  width: max-content;
`]))),J6n=$(te)(aye||(aye=y8e([`
  width: 320px;
`])));function e8n(e){const{count:t,currentUser:n,fieldTitle:r,isRunningSetup:o,mentionOptions:i,onChange:s,onClick:a,onCommentAdd:l,onDiscard:u,onInputKeyDown:d,open:f,setOpen:p,value:m}=e,[v,g]=h.useState(null),[y,x]=h.useState(null),b=h.useRef(null),w=t>0,C=h.useCallback(()=>{f&&(p(!1),y==null||y.focus())},[y,f,p]),_=h.useCallback(()=>{l(),C()},[C,l]),S=h.useMemo(()=>I_(m),[m]),E=h.useCallback(()=>{var P;if(!S){C();return}(P=b.current)==null||P.discardDialogController.open()},[C,S]),j=h.useCallback(P=>{P.isDefaultPrevented()||d&&d(P)},[d]),k=h.useCallback(()=>{var P;(P=b.current)==null||P.discardDialogController.close()},[]),T=h.useCallback(()=>{var P;(P=b.current)==null||P.discardDialogController.close(),C(),u()},[C,u]),A=h.useCallback(P=>{P.key==="Escape"&&(P.preventDefault(),P.stopPropagation(),E())},[E]),D=h.useCallback(()=>{f&&E()},[f,E]);if(pr(D,[v]),!w){const P=c.jsxs(c.Fragment,{children:["Add comment to ",c.jsx("b",{children:r})]}),I=c.jsx(J6n,{padding:2,space:4,children:c.jsx(JP,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:i,onChange:s,onDiscardCancel:k,onDiscardConfirm:T,onKeyDown:j,onSubmit:_,placeholder:P,readOnly:o,ref:b,value:m})});return c.jsx(nn,{constrainSize:!0,content:I,fallbackPlacements:["bottom-end"],open:f,placement:"right-start",portal:!0,ref:g,onKeyDown:A,children:c.jsx("div",{children:c.jsx(it,{delay:lye,disabled:f,portal:!0,placement:"top",content:c.jsx(M,{padding:2,children:c.jsx(L,{size:1,children:"Add comment"})}),children:c.jsx(oe,{"aria-label":"Add comment",disabled:o,fontSize:1,icon:w$n,mode:"bleed",onClick:a,padding:2,ref:x,selected:f})})})})}return c.jsx(it,{portal:!0,placement:"top",content:c.jsx(M,{padding:2,sizing:"border",children:c.jsxs(Q6n,{size:1,children:["View comment",t>1?"s":""]})}),delay:lye,fallbackPlacements:["bottom"],children:c.jsx(oe,{"aria-label":"Open comments",mode:"bleed",onClick:a,padding:2,children:c.jsxs(U,{align:"center",gap:2,children:[c.jsx(L,{size:1,children:c.jsx(C$n,{})}),c.jsx(L,{size:0,children:t>9?"9+":t})]})})})}var cye=Object.freeze,t8n=Object.defineProperty,b8e=(e,t)=>cye(t8n(e,"raw",{value:cye(t||e.slice())})),uye,dye;const n8n={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function r8n(e){return rI()?c.jsx(s8n,{...e}):e.renderDefault(e)}const fye={behavior:"smooth",block:"start"},o8n=$(zh.div)(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=fe.blue[o.dark?900:50].hex;return de(uye||(uye=b8e([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],r[2]*2,r[2]*2,i)}),i8n=$(te)(dye||(dye=b8e([`
  position: relative;
`])));function s8n(e){const[t,n]=h.useState(!1),[r,o]=h.useState(null),i=h.useRef(null),{element:s}=rg(),a=Jo(),{comments:l,create:u,isCommentsOpen:d,isRunningSetup:f,mentionOptions:p,onCommentsOpen:m,setStatus:v,status:g}=c8e(),{selectedPath:y,setSelectedPath:x}=h8e(),b=h.useMemo(()=>fm(e.schemaType),[e.schemaType]),[w,C]=h.useState(null),_=h.useMemo(()=>!d||(y==null?void 0:y.origin)==="form"||(y==null?void 0:y.origin)==="url"?!1:(y==null?void 0:y.fieldPath)===Ur(e.path),[d,e.path,y==null?void 0:y.fieldPath,y==null?void 0:y.origin]),S=h.useMemo(()=>{const I=Ur(e.path);return l.data.open.map(O=>O.fieldPath===I?O.commentsCount:0).reduce((O,V)=>O+V,0)||0},[l.data.open,e.path]),E=S>0,j=h.useCallback(I=>{x({threadId:I,origin:"form",fieldPath:Ur(e.path)}),C(I)},[e.path,x]),k=h.useCallback(()=>{var I;if(E){g==="resolved"&&v("open"),n(!1),m==null||m();const R=(I=l.data.open.find(O=>O.fieldPath===Ur(e.path)))==null?void 0:I.threadId;R&&j(R);return}n(R=>!R)},[E,g,m,l.data.open,v,e.path,j]),T=h.useCallback(()=>{if(r){const I=Od(),R={fieldPath:Ur(e.path),message:r,parentCommentId:void 0,status:"open",threadId:I};u.execute(R),m==null||m(),g==="resolved"&&v("open"),o(null),j(I)}},[u,j,m,e.path,v,g,r]),A=h.useCallback(()=>o(null),[]),D=h.useMemo(()=>({...fye,boundary:s,scrollMode:"if-needed",block:"start"}),[s]);h.useEffect(()=>{_&&i.current&&d&&V0(i.current,D)},[s,d,_,e.path,D]),h.useEffect(()=>{if(d&&w){const I=document.querySelector('[data-group-id="'.concat(w,'"]'));I&&(I.scrollIntoView(fye),C(null))}},[d,w]);const P=h.useMemo(()=>({button:a&&c.jsx(e8n,{count:Number(S),currentUser:a,fieldTitle:b,isRunningSetup:f,mentionOptions:p,onChange:o,onClick:k,onCommentAdd:T,onDiscard:A,open:t,setOpen:n,value:r}),hasComments:E,isAddingComment:t}),[a,S,b,p,k,T,A,t,r,f,E]);return c.jsxs(i8n,{ref:i,children:[e.renderDefault({...e,__internal_comments:P}),c.jsx(Z3e,{children:_&&c.jsx(o8n,{animate:"animate",exit:"exit",initial:"initial",variants:n8n})})]})}function a8n(e){return c.jsx($6n,{children:c.jsx(v6n,{children:e.renderDefault(e)})})}const l8n=dV({name:"sanity/desk/comments",document:{inspectors:[Z6n]},form:{components:{field:r8n}},studio:{components:{layout:a8n}}}),dU="sanityStudio:desk:renameDismissed",fU=(()=>{if(typeof localStorage>"u")return!1;const e="lsCheck";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}})();function c8n(){const[e,t]=h.useState(()=>!d8n());h.useEffect(()=>{if(typeof window>"u"||!fU)return()=>{};function r(o){o.newValue!==o.oldValue&&o.key===dU&&t(o.newValue!=="1")}return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[]);const n=h.useCallback(()=>{t(!1),u8n()},[]);return{showOnboarding:e,dismissOnboarding:n}}function u8n(){fU&&localStorage.setItem(dU,"1")}function d8n(){return fU?localStorage.getItem(dU)==="1":!0}const f8n=SB("desk-is-now-structure");function h8n(e){return function(){const[n,r]=h.useState(void 0),{showOnboarding:o,dismissOnboarding:i}=c8n(),s=h.useCallback(a=>{const l=a==null?void 0:a.closest("[data-hidden]");r((l==null?void 0:l.getAttribute("data-hidden"))!=="true")},[]);return c.jsx("div",{ref:s,children:c.jsx(nn,{content:c.jsx(p8n,{onDismiss:i}),open:o&&n,portal:!0,placement:"bottom",fallbackPlacements:["top","bottom"],__unstable_margins:[9,0,0,0],tone:"default",width:0,children:c.jsx(e,{})})})}}function p8n(e){const t=h.useCallback(n=>{n.stopPropagation()},[]);return c.jsxs(te,{as:"section",padding:3,space:3,onClick:t,children:[c.jsxs(te,{padding:2,space:4,children:[c.jsx(U,{gap:2,align:"center",children:c.jsxs(L,{as:"h1",size:1,weight:"semibold",children:[c.jsx("strong",{children:"Desk"})," is now ",c.jsx("strong",{children:"Structure"})]})}),c.jsx(te,{space:3,children:c.jsx(L,{as:"p",muted:!0,size:1,children:"We've renamed this tool to better reflect its purpose alongside the new Presentation tool."})})]}),c.jsxs(tn,{columns:2,gap:3,children:[c.jsx(oe,{as:"a","data-as":"a",href:f8n,icon:Sh,target:"_blank",rel:"noreferrer",fontSize:1,padding:3,text:"Learn more",mode:"ghost"}),c.jsx(oe,{fontSize:1,icon:fa,onClick:e.onDismiss,padding:3,text:"Got it",tone:"primary"})]})]})}const x8e=h.createContext(null);function uy(){const e=h.useContext(x8e);if(!e)throw new Error("DeskTool: missing context value");return e}const m8n={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},g8n={create:NR,delete:Co,discardDraft:Bi,initial:NR,editDraft:ed,editLive:ed,publish:d1,unpublish:pk};function w8e(e){return m8n[e]}function v8n(e){return g8n[e]}function y8n(e){let{maxLength:t,userIds:n}=e;return c.jsx(cA,{maxLength:t,children:n.map(r=>c.jsx(ll,{user:r,withTooltip:!0},r))})}var hye=Object.freeze,b8n=Object.defineProperty,pm=(e,t)=>hye(b8n(e,"raw",{value:hye(t||e.slice())})),pye,mye,gye,vye,yye,bye,xye;const lk=$(U)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return de(pye||(pye=pm([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),x8n=$(oe)(e=>{let{$selected:t,$disabled:n}=e;return de(vye||(vye=pm([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),lk,lk,t&&de(mye||(mye=pm([`
      `,`::before {
        background: transparent;
      }
    `])),lk),n&&de(gye||(gye=pm([`
      cursor: not-allowed;
    `]))))}),w8n=$(M)(yye||(yye=pm([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),C8n=$(L)(bye||(bye=pm([`
  text-transform: capitalize;
`]))),_8n=$(M)(xye||(xye=pm([`
  min-width: 1rem;
  margin-left: `,`;
`])),e=>{let{theme:t}=e;return"-".concat(ge(t.sanity.space[1]))}),wye={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function S8n(e){let{chunk:t,isFirst:n,isLast:r,isLatest:o,isSelected:i,onSelect:s,timestamp:a,type:l}=e;const u=v8n(l),d=Array.from(t.authors),f=l!=="delete",p=h.useMemo(()=>{const v=new Date(a);return ci(v,"MMM d, yyyy, hh:mm a")},[a]),m=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),f&&s(t)},[s,t,f]);return c.jsx(x8n,{$selected:i,$disabled:!f,"data-chunk-id":t.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:m,padding:0,radius:2,tone:i?"primary":wye[t.type],children:c.jsx(M,{paddingX:2,children:c.jsxs(U,{align:"stretch",children:[c.jsx(lk,{align:"center",children:c.jsx(w8n,{padding:2,children:c.jsx(L,{size:2,children:u&&h.createElement(u)})})}),c.jsxs(te,{space:2,margin:2,children:[o&&c.jsx(U,{children:c.jsx(Q,{padding:1,radius:2,shadow:1,tone:i?"primary":wye[t.type],children:c.jsx(Ut,{muted:!0,size:0,children:"Latest"})})}),c.jsx(M,{children:c.jsx(C8n,{size:1,weight:"medium",children:w8e(l)||c.jsx("code",{children:l})})}),c.jsx(_8n,{paddingX:1,children:c.jsx(L,{size:0,muted:!0,children:p})})]}),c.jsx(U,{flex:1,justify:"flex-end",align:"center",children:c.jsx(y8n,{maxLength:3,userIds:d})})]})})})}var Cye=Object.freeze,E8n=Object.defineProperty,iT=(e,t)=>Cye(E8n(e,"raw",{value:Cye(t||e.slice())})),_ye,Sye,Eye,kye;const k8n=$(te)(_ye||(_ye=iT([`
  max-width: 200px;
`]))),j8n=$(U)(Sye||(Sye=iT([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),T8n=$(M)(e=>{let{$visible:t}=e;return de(kye||(kye=iT([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),t&&de(Eye||(Eye=iT([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),T6=e=>{let{chunks:t,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:o,onLoadMore:i,onSelect:s,firstChunk:a}=e;const[l,u]=h.useState(!1),d=h.useMemo(()=>t.filter(m=>n&&a?m.index<a.index:!0),[t,n,a]),f=h.useMemo(()=>o!=null&&o.id?d.findIndex(m=>m.id===o.id):-1,[o==null?void 0:o.id,d]),p=h.useCallback((m,v)=>{let{activeIndex:g}=v;const y=g===0,x=d&&g===d.length-1||!1;return c.jsxs(M,{paddingBottom:x?1:0,paddingTop:y?1:0,paddingX:1,children:[c.jsx(S8n,{chunk:m,isFirst:y,isLast:x,isLatest:g===0&&!n,isSelected:g===f,onSelect:s,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&r&&c.jsx(U,{align:"center",justify:"center",padding:4,children:c.jsx(gr,{muted:!0})})]})},[n,d,r,s,f]);return h.useEffect(()=>u(!0),[]),c.jsxs(T8n,{$visible:!f||l,"data-ui":"timeline",children:[d.length===0&&c.jsxs(k8n,{padding:3,space:3,children:[c.jsx(L,{size:1,weight:"semibold",children:"No document history"}),c.jsx(L,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&c.jsx(j8n,{direction:"column",children:c.jsx(Hh,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};T6.displayName="Timeline";function A8n(){return c.jsxs(U,{align:"flex-start",gap:3,padding:4,children:[c.jsx(fr,{tone:"critical",children:c.jsx(Ca,{})}),c.jsxs(te,{space:4,children:[c.jsx(fr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),c.jsx(fr,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var jye=Object.freeze,D8n=Object.defineProperty,P8n=(e,t)=>jye(D8n(e,"raw",{value:jye(t||e.slice())})),Tye;const I8n=$(nn)(Tye||(Tye=P8n([`
  overflow: hidden;
  overflow: clip;
`])));function C8e(e){let{chunk:t,mode:n,placement:r}=e;const{setTimelineRange:o,setTimelineMode:i,timelineError:s,ready:a,timelineStore:l,isDeleted:u}=Vr(),[d,f]=h.useState(!1),[p,m]=h.useState(null),[v,g]=h.useState(null),y=Qo(),x=go(l,B=>B.chunks),b=go(l,B=>B.isLoading),w=go(l,B=>B.hasMoreChunks),C=go(l,B=>B.realRevChunk),_=go(l,B=>B.sinceTime),S=h.useCallback(()=>{i(n),f(!0)},[n,i]),E=h.useCallback(()=>{i("closed"),f(!1)},[i]),j=h.useCallback(()=>{d&&E()},[E,d]),k=h.useCallback(B=>{d&&(B.key==="Escape"||B.key==="Tab")&&(E(),p==null||p.focus())},[p,E,d]);pr(j,[p,v]),Ns(k);const T=h.useCallback(B=>{try{const[H,W]=l.findRangeForRev(B);i("closed"),o(H,W)}catch(H){y.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,l,y]),A=h.useCallback(B=>{try{const[H,W]=l.findRangeForSince(B);i("closed"),o(H,W)}catch(H){y.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,l,y]),D=h.useCallback(()=>{b||l.loadMore()},[b,l]),P=s?c.jsx(A8n,{}):c.jsxs(c.Fragment,{children:[n==="rev"&&c.jsx(T6,{chunks:x,firstChunk:C,hasMoreChunks:w,lastChunk:C,onLoadMore:D,onSelect:T}),n==="since"&&c.jsx(T6,{chunks:x,disabledBeforeFirstChunk:!0,firstChunk:C,hasMoreChunks:w,lastChunk:_,onLoadMore:D,onSelect:A})]}),I=O8n((t==null?void 0:t.endTimestamp)||""),R=t?"".concat(Hje(w8e(t.type)),": ").concat(I):"Latest version",O=t?"Since: ".concat(I):"Since: unknown version",V=n==="rev"?R:O;return c.jsx(I8n,{constrainSize:!0,content:d&&P,"data-ui":"versionMenu",open:d,placement:r,portal:!0,ref:g,children:c.jsx(oe,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:rc,onClick:d?E:S,ref:m,selected:d,style:{maxWidth:"100%"},text:a?V:"Loading history"})})}function O8n(e){return h.useMemo(()=>{const n=e?new Date(e):new Date;return ci(n,"MMM d, yyyy, hh:mm a")},[e])}const $8n=$(Q)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function _8e(e){const{as:t,children:n,closeButtonLabel:r,onClose:o,title:i,...s}=e;return c.jsxs($8n,{...s,as:t,children:[c.jsxs(U,{padding:2,children:[c.jsx(M,{flex:1,padding:3,children:c.jsx(L,{as:"h1",size:1,weight:"semibold",children:i})}),c.jsx(M,{flex:"none",padding:1,children:c.jsx(oe,{"aria-label":r,fontSize:1,icon:Bi,mode:"bleed",onClick:o,padding:2})})]}),n]})}var Aye=Object.freeze,R8n=Object.defineProperty,M8n=(e,t)=>Aye(R8n(e,"raw",{value:Aye(t||e.slice())})),Dye;const F8n=$.div(Dye||(Dye=M8n([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function L8n(e){const{onResize:t,onResizeStart:n}=e,r=h.useRef(0),o=h.useCallback(i=>{i.preventDefault(),r.current=i.pageX,n();const s=l=>{l.preventDefault(),t(l.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)},[t,n]);return c.jsxs(F8n,{onMouseDown:o,children:[c.jsx("span",{}),c.jsx("span",{})]})}var Pye=Object.freeze,B8n=Object.defineProperty,N8n=(e,t)=>Pye(B8n(e,"raw",{value:Pye(t||e.slice())})),Iye;const z8n=$(M)(Iye||(Iye=N8n([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function V8n(e){const{as:t,children:n,minWidth:r,maxWidth:o,...i}=e,[s,a]=h.useState(null),l=h.useRef(),[u,d]=h.useState(),f=h.useCallback(()=>{l.current=s==null?void 0:s.offsetWidth},[s]),p=h.useCallback(v=>{const g=l.current;g&&d(Math.min(Math.max(g-v,r),o))},[r,o]),m=h.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:o},[r,o,u]);return c.jsxs(z8n,{as:t,...i,ref:a,style:m,children:[n,c.jsx(L8n,{onResize:p,onResizeStart:f})]})}function H8n(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:o}=Kh(),{closeInspector:i,inspector:s}=Vr(),{features:a}=uy(),l=h.useCallback(()=>{s&&i(s.name)},[i,s]);if(o||!s)return null;const u=h.createElement(s.component,{onClose:l,documentId:t,documentType:n});return a.resizablePanes?c.jsx(V8n,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:Y3n,minWidth:p6,children:u}):c.jsx(M,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:u})}function U8n(){return c.jsx(ZH,{ms:300,children:c.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[c.jsx(gr,{muted:!0}),c.jsx(M,{marginTop:3,children:c.jsx(L,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function W8n(e){const t=new Map;return cP(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,i=t.get(r);return(!i||i.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var Oye=Object.freeze,Y8n=Object.defineProperty,q8n=(e,t)=>Oye(Y8n(e,"raw",{value:Oye(t||e.slice())})),$ye;const G8n=$(oP)($ye||($ye=q8n([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function K8n(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:o,timelineStore:i,value:s}=Vr(),a=h.useRef(null),l=go(i,y=>y.diff),u=go(i,y=>y.onOlderRevision),d=go(i,y=>y.selectionState),f=go(i,y=>y.sinceTime),p=d==="loading",m=!u,v=ne.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:ctn,rootDiff:l,isComparingCurrent:m,value:s}),[n,l,m,r,s]),g=ne.useMemo(()=>l?W8n(l):[],[l]);return c.jsxs(U,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[c.jsx(_8e,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:t,title:"Review changes",children:c.jsxs(U,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[c.jsx(M,{flex:1,children:c.jsx(C8e,{mode:"since",chunk:f,placement:"bottom-start"})}),c.jsx(M,{flex:"none",children:c.jsx(cs,{annotations:g,description:"Changes by",portal:!0,children:c.jsx(cA,{maxLength:4,"aria-label":"Changes by",children:g.map(y=>{let{author:x}=y;return c.jsx(ll,{user:x},x)})})})})]})}),c.jsx(Q,{flex:1,children:c.jsx(ld,{element:a.current,children:c.jsx(G8n,{"data-ui":"Scroller",ref:a,children:c.jsx(M,{flex:1,padding:4,children:c.jsx(Z8n,{diff:l,documentContext:v,error:o,loading:p,schemaType:r})})})})})]})}function Z8n(e){let{error:t,diff:n,documentContext:r,loading:o,schemaType:i}=e;return t?c.jsx(OL,{}):o?c.jsx(U8n,{}):n?c.jsx(X$e.Provider,{value:r,children:c.jsx(g_,{diff:n,schemaType:i})}):c.jsx(OL,{})}const X8n={name:g6,useMenuItem:()=>{const{features:e}=uy();return{hidden:!e.reviewChanges,icon:s8,title:"Review changes"}},component:K8n,onClose:e=>{let{params:t}=e;return{params:{...t,since:void 0}}},onOpen:e=>{let{params:t}=e;return{params:{...t,since:"@lastPublished"}}}};function Q8n(e){const{path:t,schemaType:n,value:r}=e,o=[];let i=n,s=r;for(const a of t){if(typeof a=="string"){if(!xt(s)&&s!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(i.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));s=s==null?void 0:s[a];const l=i.fields.find(u=>u.name===a);if(!l)throw new Error("Field type not found: .".concat(a));i=l.type,o.push(i);continue}if(typeof a=="number"){if(!doe(s)&&s!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));s=s==null?void 0:s[a];const l=i.of.find(u=>typeof s=="string"?u.jsonType==="string":typeof s=="number"?u.jsonType==="number":typeof s=="boolean"?u.jsonType==="boolean":xt(s)?u.name===(s==null?void 0:s._type):!1);if(!l)throw new Error("Item type not found: [".concat(a,"]"));i=l,o.push(i);continue}if(xt(a)&&a._key){if(!doe(s))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(s=(s??[]).find(d=>xt(d)&&d._key===a._key),!xt(s))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=i.of.find(d=>xt(s)&&d.name===(s==null?void 0:s._type));if(!u)throw new Error("Array item type not found: .".concat(s==null?void 0:s._type));i=u,o.push(i);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return o}const J8n={error:Ca,warning:zr,info:Zm},e9n={error:"critical",warning:"caution",info:"primary"};function t9n(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:o,validation:i,value:s}=Vr(),a=h.useCallback(l=>{r(l),n(l)},[n,r]);return c.jsxs(U,{direction:"column",height:"fill",overflow:"hidden",children:[c.jsx(_8e,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:t,title:"Validation"}),c.jsxs(Q,{flex:1,overflow:"auto",padding:3,children:[i.length===0&&c.jsx(M,{padding:2,children:c.jsx(L,{muted:!0,size:1,children:"No validation errors"})}),i.length>0&&c.jsx(te,{space:2,children:i.map((l,u)=>c.jsx(n9n,{marker:l,onOpen:a,schemaType:o,value:s},u))})]})]})}function n9n(e){const{marker:t,onOpen:n,schemaType:r,value:o}=e,i=h.useCallback(()=>n(t.path),[t,n]),[s,a]=h.useState(null);return c.jsxs(b1,{onCatch:a,children:[s&&c.jsx(Q,{padding:3,radius:2,tone:"critical",children:c.jsxs(L,{size:1,children:["ERROR: ",s.error.message]})}),!s&&c.jsx(Q,{__unstable_focusRing:!0,as:"button",onClick:i,padding:3,radius:2,tone:e9n[t.level],children:c.jsxs(U,{align:"flex-start",gap:3,children:[c.jsx(M,{flex:"none",children:c.jsx(L,{size:1,children:h.createElement(J8n[t.level])})}),c.jsxs(te,{flex:1,space:2,children:[c.jsx(r9n,{path:t.path,schemaType:r,value:o}),c.jsx(L,{muted:!0,size:1,children:t.item.message})]})]})})]})}function r9n(e){const{path:t,schemaType:n,value:r}=e,o=h.useMemo(()=>Q8n({path:t,schemaType:n,value:r}),[t,n,r]);return c.jsx(L,{size:1,children:o.map((i,s)=>c.jsxs(h.Fragment,{children:[s>0&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),c.jsx("span",{style:{fontWeight:500},children:i.title||i.name})]},s))})}function o9n(e){const{documentId:t,documentType:n}=e,{validation:r}=OH(t,n),o=h.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),i=o.some(S9e),s=o.some(E9e),a=h.useMemo(()=>i?Ca:s?zr:jT,[i,s]),l=h.useMemo(()=>i?"critical":s?"caution":"positive",[i,s]);return{hidden:o.length===0,icon:a,title:"Validation",tone:l,showAsAction:!0}}const i9n={name:K3n,component:t9n,useMenuItem:o9n},s9n=[e6e,t6e,QLe,JLe,XLe,eU],a9n=[S3n],l9n=[i9n,X8n],c9n=dV(e=>{const t=e?typeof e.name=="string":!1,n=(e==null?void 0:e.icon)||Oxe,r=t?n:h8n(n);return{name:"@sanity/desk-tool",document:{actions:o=>Array.from(new Set([...o,...s9n])),badges:o=>Array.from(new Set([...o,...a9n])),inspectors:o=>Array.from(new Set([...o,...l9n]))},plugins:[l8n()],tools:[{name:(e==null?void 0:e.name)||"structure",title:(e==null?void 0:e.title)||"Structure",icon:r,component:h.lazy(()=>Q7(()=>import("./index-qM48g456-33527f2f.js"),[])),canHandleIntent:(o,i)=>o==="create"?u9n(i):o==="edit"?d9n(i):!1,getIntentState:k3n,controlsDocumentTitle:!0,options:e,router:O3n}]}});function u9n(e){return"type"in e?"template"in e?{template:!0}:!0:!1}function d9n(e){return"id"in e?"mode"in e?{mode:e.mode==="structure"}:!0:!1}class cn extends Error{constructor(t,n,r,o){super(t);const i=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(o?"".concat(i," (").concat(o,")"):i)}withHelpUrl(t){return this.helpId=t,this}}var Rn=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(Rn||{});const f9n=["_id","_type","_createdAt","_updatedAt","_rev"];function A6(e,t){const[n,...r]=t;if(!("fields"in e))return"";const o=e.fields.find(a=>a.name===n);if(!o)return f9n.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,e.name,e.fields.map(a=>a.name)),"";if("to"in o.type&&o.type.name==="reference"){const a=o.type.to;return"".concat(n,"->{").concat(a.map(l=>A6(l,r)).join(","),"}")}const i=r.length>0&&A6(o.type,r),s=i?"{".concat(i,"}"):"";return r.length>0?"".concat(n).concat(s):n}function h9n(e,t){return t.map(n=>A6(e,n.field.split("."))).join(", ")}const S8e={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},p9n={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},m9n=S8e,Rye=[S8e,p9n];function E8e(e,t,n){return e instanceof wh?e.serialize({path:n,index:t}):e}class wh{constructor(t,n){this._context=t,this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:o}=this.spec;if(!n){const i=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new cn("`title` is required for menu item",t.path,t.index,i).withHelpUrl(Rn.TITLE_REQUIRED)}if(!r&&!o)throw new cn("`action` or `intent` required for menu item with title ".concat(this.spec.title),t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Rn.ACTION_OR_INTENT_REQUIRED);if(o&&r)throw new cn("cannot set both `action` AND `intent`",t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Rn.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new wh(this._context);return n.spec={...this.spec,...t||{}},n}}function k8e(e,t,n){return new wh(e).group("sorting").title("Sort by ".concat(t.title)).icon(l8).action("setSortOrder").params({by:t.by,extendedProjection:n})}function j8e(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(Rye):Rye).map(o=>k8e(e,o,h9n(r,o.by)))}function T8e(e,t,n){return e instanceof iC?e.serialize({path:n,index:t}):e}class iC{constructor(t,n){this._context=t,this._id=n?n.id:"",this._title=n?n.title:""}id(t){return new iC(this._context,{id:t,title:this._title})}getId(){return this._id}title(t){return new iC(this._context,{id:this._id,title:t})}getTitle(){return this._title}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new cn("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(Rn.ID_REQUIRED);if(!r)throw new cn("`title` is required for a menu item group",t.path,n).withHelpUrl(Rn.TITLE_REQUIRED);return{id:n,title:r}}}const A8e=/([^A-Za-z0-9-_.])/;function F_(e,t,n){if(typeof e!="string")throw new cn("Structure node id must be of type string, got ".concat(typeof e),t,n);const[r]=e.match(A8e)||[];if(r)throw new cn('Structure node id cannot contain character "'.concat(r,'"'),t,n);if(e.startsWith("__edit__"))throw new cn("Structure node id cannot start with __edit__",t,n);return e}function oI(e,t){if(t)return t;const n=uve(e);return A8e.test(n)?uve(uIe(e)):n}class sC{constructor(t){this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:oI(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o,options:i,component:s}=this.spec;if(!n)throw new cn("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(Rn.ID_REQUIRED);if(!s)throw new cn("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(Rn.ID_REQUIRED);return{id:F_(n,t.path,t.index),title:r,type:"component",child:o,component:s,options:i||{},menuItems:(this.spec.menuItems||[]).map((a,l)=>E8e(a,l,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,l)=>T8e(a,l,t.path))}}clone(t){const n=new sC;return n.spec={...this.spec,...t||{}},n}}async function D8e(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=Fn(t),o=vi(t);return(await e(un).fetch(n,{documentId:r,draftId:o},{tag:"structure.resolve-type"}))[0]}class hU{constructor(){this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||QPn(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:o}=this.spec;if(!n)throw new cn("`id` is required for view item",t.path,t.index).withHelpUrl(Rn.ID_REQUIRED);if(!r)throw new cn("`title` is required for view item",t.path,t.index).withHelpUrl(Rn.TITLE_REQUIRED);return{id:F_(n,t.path,t.index),title:r,icon:o}}}function g9n(e){return typeof e.serialize=="function"}function P8e(e,t,n){return g9n(e)?e.serialize({path:n,index:t}):e}const v9n=e=>xt(e)&&e.type==="component";class iI extends hU{constructor(t){const n=v9n(t)?{...t}:{options:{}};super(),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new cn("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(Rn.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new iI;return n.spec={...this.spec,...t||{}},n}}class sI extends hU{constructor(t){super(),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(t),type:"form"}}clone(t){const n=new sI;return n.spec={...this.spec,...t||{}},n}}const I8e=e=>new sI(e),y9n=e=>new iI(e);var b9n=Object.freeze({__proto__:null,ComponentViewBuilder:iI,FormViewBuilder:sI,GenericViewBuilder:hU,component:y9n,form:I8e,maybeSerializeView:P8e});const x9n=e=>{let{resolveDocumentNode:t,getClient:n}=e;return async(r,o)=>{let{params:i,path:s}=o,a=i.type;const l=s.slice(0,s.length-1),u=s[s.length-1];if(a||(a=await D8e(n,r)),!a)throw new cn("Failed to resolve document, and no type provided in parameters.",l,u);return t({documentId:r,schemaType:a})}};class Ch{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:oI(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=t[n||t.length-1],i=this.spec.id||o&&"".concat(o)||"",s={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof i!="string"||!i)throw new cn("`id` is required for document nodes",t,n,r).withHelpUrl(Rn.ID_REQUIRED);if(!s||!s.id)throw new cn("document id (`id`) is required for document nodes",t,i,r).withHelpUrl(Rn.DOCUMENT_ID_REQUIRED);if(!s||!s.type)throw new cn("document type (`schemaType`) is required for document nodes",t,i,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[I8e()]).map((d,f)=>P8e(d,f,t)),l=a.map(d=>d.id),u=wo(l.filter((d,f)=>l.includes(d,f+1)));if(u.length>0)throw new cn("document node has views with duplicate IDs: ".concat(u.join(",  ")),t,i,r);return{...this.spec,child:this.spec.child||x9n(this._context),id:F_(i,t,n),type:"document",options:w9n(s),views:a}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Ch(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function w9n(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function C9n(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new Ch(e);if(!t)return n;const{id:r,type:o,template:i,templateParameters:s}=t.options;return n=n.id(t.id).documentId(r),o&&(n=n.schemaType(o)),i&&(n=n.initialValueTemplate(i,s)),t.child&&(n=n.child(t.child)),n}function _9n(e,t,n){let{resolveDocumentNode:r,templates:o}=e;const i=o.find(s=>s.id===t);if(!i)throw new Error('Template with ID "'.concat(t,'" not defined'));return r({schemaType:i.schemaType}).initialValueTemplate(t,n)}const Mye=["default","card","media","detail","block"],O8e=Symbol("Document type list canHandleIntent"),pU=(e,t,n)=>{let{pane:r}=n;var o,i;const s=e==="edit",a=e==="create",l=r,u=((o=l.options)==null?void 0:o.filter)||"",d=((i=l.options)==null?void 0:i.params)||{},f=l.schemaTypeName?[l.schemaTypeName]:mU(u,d),p=l.initialValueTemplates||[];return a&&t.template?p.some(m=>m.templateId===t.template):s&&t.id&&f.includes(t.type)||a&&f.includes(t.type)};pU.identity=O8e;class aI{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:i}=this,{templates:s}=i;if(typeof o.id!="string"||!o.id)throw new cn("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(Rn.ID_REQUIRED);if(!o.templateId)throw new cn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Rn.ID_REQUIRED);const a=s.find(l=>l.id===o.templateId);if(!a)throw new cn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Rn.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:o.description||a.description,title:o.title||a.title,subtitle:o.subtitle,icon:o.icon||a.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new aI(this._context);return n.spec={...this.spec,...t},n}}function S9n(e){const{schema:t,getStructureBuilder:n,templates:r}=e,o=t.getTypeNames();return r.filter(s=>{var a;return!((a=s.parameters)!=null&&a.length)}).sort((s,a)=>o.indexOf(s.schemaType)-o.indexOf(a.schemaType)).map(s=>n().initialValueTemplateItem(s.id))}function E9n(e,t,n){return e instanceof aI?e.serialize({path:n,index:t}):e}function k9n(e,t){const{schema:n,templates:r}=e;return t.map(o=>{const i=r.find(d=>d.id===o.templateId),s=o.title||(i==null?void 0:i.title)||"Create new",a={};i&&i.schemaType&&(a.type=i.schemaType),o.templateId&&(a.template=o.templateId);const l=o.parameters?[a,o.parameters]:a,u=i&&n.get(i.schemaType);return new wh(e).title(s).icon(i&&i.icon||(u==null?void 0:u.icon)||Ro).intent({type:"create",params:l}).serialize()})}function j9n(){}const $8e=(e,t,n)=>{let{pane:r,index:o}=n;return o<=1&&pU(e,t,{pane:r,index:o})};class R8e{constructor(){this.initialValueTemplatesSpecified=!1,this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:oI(t,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=t.path,o=this.spec.defaultLayout;if(o&&!Mye.includes(o))throw new cn("`layout` must be one of ".concat(Mye.map(s=>'"'.concat(s,'"')).join(", ")),r,n||t.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map((s,a)=>E9n(s,a,r));return{id:F_(n,t.path,n||t.index),title:this.spec.title,type:"genericList",defaultLayout:o,child:this.spec.child||j9n,canHandleIntent:this.spec.canHandleIntent||$8e,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map((s,a)=>E8e(s,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,a)=>T8e(s,a,r))}}}const T9n=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new cn("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),t.path,e.id,e.title).withHelpUrl(Rn.QUERY_PROVIDED_FOR_FILTER);return r},A9n=e=>(t,n)=>{var r;const o=n.parent,i=(r=n.params)!=null&&r.template?e.templates.find(a=>a.id===n.params.template):void 0,s=i?i.schemaType:o.schemaTypeName||D8e(e.getClient,t);return Promise.resolve(s).then(a=>a?e.resolveDocumentNode({schemaType:a,documentId:t}):new Ch(e).id("editor").documentId(t).schemaType(""))};class L_ extends R8e{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new cn("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(Rn.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new cn("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(Rn.FILTER_REQUIRED);return!(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),SB(Rn.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||A9n(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||un.apiVersion,filter:T9n(this.spec,t)}}}clone(t){const n=new L_(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=D9n(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=P9n(n.spec)),n}getSpec(){return this.spec}}function D9n(e,t){const{document:n}=e,{schemaTypeName:r,options:o}=t,{filter:i,params:s}=o||{filter:"",params:{}},a=r?[r]:Array.from(new Set(mU(i,s)));if(a.length!==0)return a.flatMap(l=>n.resolveNewDocumentOptions({type:"structure",schemaType:l})).map(l=>({...l,icon:Ro}))}function P9n(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},o=mU(n,r);return o.length===1?o[0]:void 0}function mU(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=I9n(e,t);return n.length===0&&(n=O9n(e,t)),n}function I9n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let o;for(;(o=n.exec(e))!==null;)r.push(o[1]||o[2]);return r.map(i=>((i[0]==="$"?t[i.slice(1)]:i)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function O9n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?t[o.slice(1)]:o).filter(Boolean):[]}const $9n=e=>e instanceof dy?"ListBuilder":B9n(e)?"Promise":Array.isArray(e)?"array":typeof e,R9n=e=>e.type==="listItem",M9n=(e,t,n)=>(n.pane.items||[]).filter(z9n).some(i=>i.schemaType.name===t.type&&i._id===t.id)||$8e(e,t,n),F9n=(e,t)=>{const o=(t.parent.items.filter(R9n).find(i=>i.id===e)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(e,t):o};function L9n(e,t,n){if(e instanceof fy)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const o=r&&r.type||$9n(r),i=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new cn('List items must be of type "listItem", got "'.concat(o,'"').concat(i),n,t).withHelpUrl(Rn.INVALID_LIST_ITEM)}return e}function B9n(e){return xt(e)&&typeof e.then=="function"}class dy extends R8e{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new cn("`id` is required for lists",t.path,t.index).withHelpUrl(Rn.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new cn("`items` must be an array of items",t.path,t.index).withHelpUrl(Rn.LIST_ITEMS_MUST_BE_ARRAY);const o=(t.path||[]).concat(n),i=r.map((a,l)=>L9n(a,l,o)),s=i.filter((a,l)=>lIe(i,{id:a.id},l+1));if(s.length>0){const a=s.map(u=>u.id).slice(0,5),l=s.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new cn("List items with same ID found (".concat(l,")"),t.path,t.index).withHelpUrl(Rn.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||M9n,child:this.spec.child||F9n,items:i}}clone(t){const n=new dy(this._context);return n.spec={...this.spec,...t||{}},n}}class fy{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:oI(t,this.spec.id)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}showIcon(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o}=this.spec;if(typeof n!="string"||!n)throw new cn("`id` is required for list items",t.path,t.index).withHelpUrl(Rn.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new cn("`title` is required for list items",t.path,n).withHelpUrl(Rn.TITLE_REQUIRED);let i=this.spec.schemaType;if(typeof i=="string"){const l=this._context.schema.get(i);if(!l)throw new cn('Could not find type "'.concat(i,'" in schema'),t.path,n).withHelpUrl(Rn.SCHEMA_TYPE_NOT_FOUND);i=l}const s={path:t.path.concat(n),hint:"child"};let a=o instanceof sC||o instanceof L_||o instanceof Ch||o instanceof dy?o.serialize(s):o;if(typeof a=="function"){const l=a;a=(u,d)=>l(u,{...d,serializeOptions:s})}return{...this.spec,id:F_(n,t.path,t.index),schemaType:i,child:a,title:r,type:"listItem"}}clone(t){const n=new fy(this._context);return n.spec={...this.spec,...t||{}},n}}const N9n=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new Ch(e).id("documentEditor").documentId(n)};class gU extends fy{constructor(t,n){super(t,n),this._context=t,this.spec=n||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new cn("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(Rn.SCHEMA_TYPE_REQUIRED);const r=n.child||N9n(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new gU(this._context);return n.spec={...this.spec,...t||{}},n}}function z9n(e){return xt(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}class sT extends L_{constructor(t,n){super(t),this._context=t,this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new sT(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new sT(this._context),o=this.spec.canHandleIntent,s=o&&o.identity===O8e?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...s},r}}function V9n(e){const t=e.preview;return!!(t&&(t.prepare||t.select&&t.select.media))}const H9n=["sanity.imageAsset","sanity.fileAsset"];function U9n(e){return H9n.includes(e)}function W9n(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function Y9n(e){return e.type==="list"}function q9n(e){let{schema:t}=e;return t.getTypeNames().filter(n=>{const r=t.get(n);return r&&W9n(r)}).filter(n=>!U9n(n))}function M8e(e){return q9n(e).map(n=>F8e(e,n))}function F8e(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error('Schema type with name "'.concat(t,'" not found'));const o=r.title||pn(t);return new fy(e).id(t).title(o).schemaType(r).child((i,s)=>{const a=s.parent,l=Y9n(a)?a.items.find(d=>d.id===i):null;let u=L8e(e,t);return l&&l.title&&(u=u.title(l.title)),u})}function L8e(e,t){const{schema:n,resolveDocumentNode:r}=e,o=typeof t=="string"?t:t.schemaType,i=typeof o=="string"?o:o.name,s=typeof t=="string"?{schemaType:o}:t,a=n.get(i);if(!a)throw new Error('Schema type with name "'.concat(i,'" not found'));const l=a.title||pn(i),u=V9n(a);return new sT(e).id(s.id||i).title(s.title||l).filter("_type == $type").params({type:i}).schemaType(a).showIcons(u).defaultOrdering(m9n.by).menuItemGroups(s.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(s.child||(d=>r({schemaType:i,documentId:d}))).canHandleIntent(s.canHandleIntent||pU).menuItems(s.menuItems||[...j8e(e,a),new wh(e).group("layout").title("Compact view").icon(Nxe).action("setLayout").params({layout:"default"}),new wh(e).group("layout").title("Detailed view").icon(zxe).action("setLayout").params({layout:"detail"})])}function G9n(e){return!e||typeof e=="string"?!1:!!e.icon}function K9n(e){const t=M8e(e);return new dy(e).id("__root__").title("Content").items(t).showIcons(t.some(n=>G9n(n.getSchemaType())))}function Z9n(e){let{defaultDocumentNode:t,source:n}=e;const r=A2n(n),o={...n,getStructureBuilder:()=>i,resolveDocumentNode:s=>{let a=(t==null?void 0:t(i,{...s,...r}))||new Ch(o);return a.getId()||(a=a.id("documentEditor")),s.documentId&&(a=a.documentId(Fn(s.documentId))),a.schemaType(s.schemaType)}},i={defaults:()=>K9n(o),documentTypeList:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return L8e(o,...a)},documentTypeListItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return F8e(o,...a)},documentTypeListItems:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return M8e(o,...a)},document:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new Ch(o,...a)},documentWithInitialValueTemplate:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return _9n(o,...a)},defaultDocument:o.resolveDocumentNode,list:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new dy(o,...a)},listItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new fy(o,...a)},menuItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new wh(o,...a)},menuItemGroup:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new iC(o,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return k9n(o,...a)},documentList:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new L_(o,...a)},documentListItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new gU(o,...a)},orderingMenuItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return k8e(o,...a)},orderingMenuItemsForType:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return j8e(o,...a)},editor:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return C9n(o,...a)},defaultInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return S9n(o,...a)},initialValueTemplateItem:(s,a)=>new aI(o,{id:s,parameters:a,templateId:s}),component:s=>ic.isValidElementType(s)?new sC().component(s):new sC(s),divider:()=>({id:FTe("__divider__"),type:"divider"}),view:b9n,context:o};return i}function vzn(e){let{defaultDocumentNode:t,structure:n,children:r}=e;const[o,i]=h.useState(!1),s=Nn(),a=T2n(s),l=bl(),u=h.useMemo(()=>Z9n({defaultDocumentNode:t,source:s}),[t,s]),d=h.useMemo(()=>n?n(u,{...a,documentStore:l}):u.defaults(),[u,n,a,l]),f=h.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),p=h.useMemo(()=>({features:f,layoutCollapsed:o,setLayoutCollapsed:i,rootPaneNode:d,structureContext:u.context}),[f,o,d,u.context]);return c.jsx(x8e.Provider,{value:p,children:r})}function B8e(e){const{children:t,currentMinWidth:n,flex:r,minWidth:o,paneKey:i,title:s="Error",tone:a="critical"}=e;return c.jsxs(ZP,{currentMinWidth:n,flex:r,id:i,minWidth:o,tone:a,children:[c.jsx(QH,{title:s}),c.jsx(XP,{overflow:"auto",children:c.jsx(M,{paddingX:4,paddingY:5,children:t})})]})}function X9n(e){const t=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}],n=ve(null);return ln(...t.map(r=>{let{ms:o,message:i}=r;return n.pipe(yA(i),REe(o))}))}var Fye=Object.freeze,Q9n=Object.defineProperty,J9n=(e,t)=>Fye(Q9n(e,"raw",{value:Fye(t||e.slice())})),Lye;const e7n="Loading…",t7n=$(U)(Lye||(Lye=J9n([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),N8e=h.memo(e=>{const{delay:t=300,flex:n,message:r=X9n,minWidth:o,paneKey:i,path:s,selected:a,title:l,tone:u}=e,d=h.useMemo(()=>typeof r=="function"?r(s?s.split(";"):[]):r,[r,s]),[f,p]=h.useState(()=>typeof d=="string"?d:e7n);h.useEffect(()=>{if(typeof d!="object"||typeof d.subscribe=="function")return;const b=d.subscribe(p);return()=>b.unsubscribe()},[d]);const[m,v]=h.useState(null),[g,y]=h.useState(!1);h.useEffect(()=>{if(m)return eot(()=>y(!0))},[m]);const x=c.jsxs(t7n,{align:"center","data-mounted":g?"":void 0,direction:"column",height:"fill",justify:"center",ref:v,children:[c.jsx(gr,{muted:!0}),(l||f)&&c.jsx(M,{marginTop:3,children:c.jsx(L,{align:"center",muted:!0,size:1,children:l||f})})]});return c.jsx(ZP,{flex:n,id:i,minWidth:o,selected:a,tone:u,children:c.jsx(XP,{children:x})})});N8e.displayName="LoadingPane";function n7n(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function r7n(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"The document was successfully deleted":"Successfully performed ".concat(e," on document")}const o7n=["patch","commit"],i7n=h.memo(function(){const{push:t}=Qo(),{documentId:n,documentType:r}=Vr(),o=H4e(n,r),i=h.useRef(o),s=fu();return h.useEffect(()=>{if(!o||o===i.current)return;let a;return o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:n7n(o.op),description:c.jsxs("details",{children:[c.jsx("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!o7n.includes(o.op)&&t({closable:!0,status:"success",title:r7n(o.op)}),o.type==="success"&&o.op==="delete"&&(a=setTimeout(()=>s.closeCurrentAndAfter(),0)),i.current=o,()=>clearTimeout(a)},[o,s,t]),null});function s7n(e){let{currentInspector:t,hasValue:n,inspectors:r,inspectorMenuItems:o}=e;return r.map((i,s)=>{var a;const l=o[s];return!l||l.hidden?null:{action:"".concat(m6).concat(i.name),group:l.showAsAction?void 0:"inspectors",icon:l.icon,isDisabled:!n,selected:(t==null?void 0:t.name)===i.name,shortcut:(a=l.hotkeys)==null?void 0:a.join("+"),showAsAction:l.showAsAction,title:l.title,tone:l.tone}}).filter(Boolean)}function a7n(e){let{hasValue:t}=e;return{action:"inspect",group:"inspectors",title:"Inspect",icon:u1,isDisabled:!t,shortcut:"Ctrl+Alt+I"}}function l7n(e){let{previewUrl:t}=e;return t?{action:"production-preview",group:"links",title:"Open preview",icon:kxe,shortcut:"Ctrl+Alt+O"}:null}function c7n(e){const t=s7n(e),n=[l7n(e)].filter(Boolean);return[...t,a7n(e),...n]}const u7n=e=>xt(e)&&typeof e._id=="string"&&typeof e._type=="string";function d7n(e){const[t,n]=h.useState(void 0),[r,o]=h.useState(null),{resolveProductionUrl:i}=Nn().document,s=Clt(e);if(r)throw r;return h.useEffect(()=>{s.pipe(v7(500),rt(a=>u7n(a)?jr(i({document:a})):ve(void 0)),Mn(a=>{const l=xt(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(l))})).subscribe({next:n,error:o})},[i,s]),t}function f7n(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,i=e.filter(l=>l.schemaType===t.documentType),s={...t.templateParams,...typeof n=="object"?n||{}:{}};let a=o;return!o&&i.length===1&&(a=i[0].id),{templateName:a,templateParams:s}}const h7n=h.memo(function(t){const{documentId:n,documentType:r,index:o,setMenuItem:i,useMenuItem:s}=t,a=si(s({documentId:n,documentType:r}));return h.useEffect(()=>{i(o,a)},[o,a,i]),c.jsx(c.Fragment,{})});function p7n(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:o}=e,i=r.length,s=h.useRef(i),[a,l]=h.useState(()=>Array.from(new Array(i))),u=h.useRef(a);h.useEffect(()=>{if(s.current!==i){const f=Array.from(new Array(i));for(let p=0;p<i;p++)f[p]=u.current[p];s.current=i,l(()=>(u.current=f,f))}},[i]);const d=h.useCallback((f,p)=>{l(m=>{const v=[...m];return v[f]=p,u.current=v,v})},[]);return h.useEffect(()=>{o(a.filter(Boolean))},[a,o]),c.jsx(c.Fragment,{children:r.map((f,p)=>f.useMenuItem&&c.jsx(h7n,{documentId:t,documentType:n,index:p,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const z8e=h.memo(e=>{const{children:t,index:n,pane:r,paneKey:o,onFocusPath:i}=e,s=An(),a=ty(),{actions:l,badges:u,unstable_fieldActions:d,unstable_languageFilter:f,inspectors:p}=Nn().document,m=HH(),v=fu(),g=v.setParams,{features:y}=uy(),{push:x}=Qo(),{options:b,menuItemGroups:w=G3n,title:C=null,views:_=[]}=r,S=si(b),E=S.id,j=Fn(E),k=b.type,T=si(v.params)||q3n,A=si(v.payload),{templateName:D,templateParams:P}=h.useMemo(()=>f7n(a,{documentType:k,templateName:S.template,templateParams:S.templateParameters,panePayload:A,urlTemplate:T.template}),[k,S,T,A,a]),I=LTn({documentId:j,documentType:k,templateName:D,templateParams:P}),R=si(I),{patch:O}=dc(j,k),V=IH(j,k),{validation:B}=OH(j,k),H=zjn(j,k),W=s.get(k),z=(V==null?void 0:V.draft)||(V==null?void 0:V.published)||R.value,[G,ee]=h.useState(!1),[N,Y]=h.useState([]),q=h.useMemo(()=>l({schemaType:k,documentId:j}),[l,j,k]),Z=h.useMemo(()=>u({schemaType:k,documentId:j}),[u,j,k]),ie=h.useMemo(()=>f({schemaType:k,documentId:j}),[j,k,f]),re=si(B),K=si(_),[X,ce]=h.useState(()=>T.path?Wl(T.path):hn),me=h.useRef(X),ae=T.view||K[0]&&K[0].id||null,[Ce,_e]=h.useState("closed"),[he,be]=h.useState(null),Le=IAn({documentId:j,documentType:k,onError:be,rev:T.rev,since:T.since}),$e=go(Le,He=>He.onOlderRevision),ct=go(Le,He=>He.revTime),ot=go(Le,He=>He.sinceAttributes),Nt=go(Le,He=>He.timelineDisplayed),Rt=go(Le,He=>He.timelineReady),Ae=go(Le,He=>He.isPristine),Ge=h.useMemo(()=>Rt?!(V!=null&&V.draft)&&!(V!=null&&V.published)&&!Ae:!1,[V==null?void 0:V.draft,V==null?void 0:V.published,Ae,Rt]),Ye=d7n(z),[tt,wt]=h.useState([]);h.useEffect(()=>{const He=m.documentPresence(j).subscribe(Un=>{wt(Un)});return()=>{He.unsubscribe()}},[j,m]);const Ee=h.useMemo(()=>p({documentId:j,documentType:k}),[j,k,p]),[Be,ut]=h.useState(()=>T.inspect||null),bi=h.useRef(T.inspect);h.useEffect(()=>{bi.current!==T.inspect&&(bi.current=T.inspect,ut(T.inspect||null))},[T.inspect]);const sn=Ee==null?void 0:Ee.find(He=>He.name===Be),ei=Ee.find(He=>He.name===g6),Gt=(sn==null?void 0:sn.name)===g6,so=!!z,wl=h.useMemo(()=>c7n({currentInspector:sn,features:y,hasValue:so,inspectorMenuItems:N,inspectors:Ee,previewUrl:Ye}),[sn,y,so,N,Ee,Ye]),Cl=T.inspect==="on",Hs=Gt?ot:(V==null?void 0:V.published)||null,zn=h.useMemo(()=>W?d({documentId:j,documentType:k,schemaType:W}):[],[j,k,d,W]),Hn=H==="connected"&&V.ready&&(Rt||!!he),Qr=h.useMemo(()=>$e?Nt||{_id:z._id,_type:z._type}:z,[$e,Nt,z]),We=h.useCallback((He,Un)=>{g({...T,since:He,rev:Un||void 0})},[T,g]),Ct=h.useCallback(He=>{ce(He),me.current!==He&&(me.current=He,i==null||i(He)),m.setLocation([{type:"document",documentId:j,path:He,lastActiveAt:new Date().toISOString()}])},[j,i,m,ce]),rr=h.useCallback(He=>{fI.current||(ce(hn),me.current!==hn&&(me.current=hn,i==null||i(hn)))},[i,ce]),Vn=h.useRef(()=>{throw new Error("Nope")});Vn.current=He=>{O.execute(ODn(He.patches),R.value)};const ja=h.useCallback(He=>Vn.current(He),[]),Ar=h.useCallback(He=>{var Un,Dn,Jr,pu;const mu=He&&Ee.find(xi=>xi.name===He);if(He&&!mu){console.warn('No inspector named "'.concat(He,'"'));return}if(sn){if(mu){const xi=(Dn=(Un=mu.onClose)==null?void 0:Un.call(mu,{params:T}))!=null?Dn:{params:T};ut(null),bi.current=void 0,g({...xi.params,inspect:void 0});return}if(sn){const xi=(pu=(Jr=sn.onClose)==null?void 0:Jr.call(sn,{params:T}))!=null?pu:{params:T};ut(null),bi.current=void 0,g({...xi.params,inspect:void 0})}}},[sn,Ee,T,g]),Lo=h.useCallback((He,Un)=>{var Dn,Jr,pu,mu;const xi=Ee.find(AU=>AU.name===He);if(!xi){console.warn('No inspector named "'.concat(He,'"'));return}if((sn==null?void 0:sn.name)===xi.name){g({...T,...Un,inspect:xi.name});return}let gy=T;sn&&(gy=((Jr=(Dn=xi.onClose)==null?void 0:Dn.call(xi,{params:gy}))!=null?Jr:{params:gy}).params);const m9e=(mu=(pu=xi.onOpen)==null?void 0:pu.call(xi,{params:gy}))!=null?mu:{params:gy};ut(xi.name),bi.current=xi.name,g({...m9e.params,...Un,inspect:xi.name})},[sn,Ee,T,g]),Us=h.useCallback(()=>{ei&&Ar(ei.name)},[Ar,ei]),Ta=h.useCallback(()=>{y.reviewChanges&&ei&&Lo(ei.name)},[y.reviewChanges,Lo,ei]),Dg=h.useCallback(()=>v.closeCurrent(),[v]),B_=h.useCallback(()=>v.duplicateCurrent(),[v]),fc=h.useCallback(function(){let He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!Cl;g(He?{...T,inspect:"on"}:Hi(T,"inspect"))},[Cl,T,g]),hu=h.useCallback(He=>{if(He.action==="production-preview"&&Ye)return window.open(Ye),!0;if(He.action==="inspect")return fc(!0),!0;if(He.action==="reviewChanges")return Ta(),!0;if(typeof He.action=="string"&&He.action.startsWith(m6)){const Un=He.action.slice(m6.length),Dn=Ee.find(Jr=>Jr.name===Un);if(Dn)return Dn.name===Be?Ar(Dn.name):Lo(Dn.name),!0}return!1},[Ar,Ta,Be,Ee,Lo,Ye,fc]),py=h.useCallback(He=>{for(const Un of wl)if(Un.shortcut&&Ti(Un.shortcut,He)){He.preventDefault(),He.stopPropagation(),hu(Un);return}},[hu,wl]),t9e=h.useCallback(()=>fc(!1),[fc]),[n9e,r9e]=h.useState([]),[o9e,xU]=h.useState(),[wU,CU]=h.useState(),[_U,SU]=h.useState(),i9e=h.useCallback((He,Un)=>{CU(Dn=>Dp(Dn,He,Un))},[]),s9e=h.useCallback((He,Un)=>{SU(Dn=>Dp(Dn,He,Un))},[]),a9e=h.useCallback((He,Un)=>xU(Dn=>Dp(Dn,He,Un)),[]),l9e=z._createdAt?"update":"create",EU=!!(W!=null&&W.liveEdit),lI=z._id?z._id:"dummy-id",c9e=h.useMemo(()=>({...z,_id:EU?Fn(lI):vi(lI)}),[EU,z,lI]),[my,cI]=UTn({document:c9e,permission:l9e}),kU=!(z!=null&&z._id),u9e=h.useMemo(()=>{var He;const Un=!cI&&!(my!=null&&my.granted),Dn=!ZQ(W,"update"),Jr=kU&&!ZQ(W,"create"),pu=H==="reconnecting",mu=(He=V.transactionSyncLock)==null?void 0:He.enabled;return!Hn||ct!==null||Un||Dn||Jr||pu||mu||G||Ge},[H,V.transactionSyncLock,kU,Ge,G,cI,my==null?void 0:my.granted,Hn,ct,W]),uI=IDn(W,{value:Qr,readOnly:u9e,comparisonValue:Hs,focusPath:X,openPath:n9e,collapsedPaths:wU,presence:tt,validation:re,collapsedFieldSets:_U,fieldGroupState:o9e,changesOpen:Gt}),N_=h.useRef(uI);N_.current=uI;const dI=h.useCallback(He=>{yDn(N_.current,He).forEach(Dn=>{Dn.type==="expandPath"&&CU(Jr=>Dp(Jr,Dn.path,!1)),Dn.type==="expandFieldSet"&&SU(Jr=>Dp(Jr,Dn.path,!1)),Dn.type==="setSelectedGroup"&&xU(Jr=>Dp(Jr,Dn.path,Dn.groupName))}),r9e(He)},[N_]),d9e={actions:q,activeViewId:ae,badges:Z,changesOpen:Gt,closeInspector:Ar,collapsedFieldSets:_U,collapsedPaths:wU,compareValue:Hs,connectionState:H,displayed:Qr,documentId:j,documentIdRaw:E,documentType:k,editState:V,fieldActions:zn,focusPath:X,inspector:sn||null,inspectors:Ee,menuItems:wl,onBlur:rr,onChange:ja,onFocus:Ct,onPathOpen:dI,onHistoryClose:Us,onHistoryOpen:Ta,onInspectClose:t9e,onKeyUp:py,onMenuAction:hu,onPaneClose:Dg,onPaneSplit:B_,onSetActiveFieldGroup:a9e,onSetCollapsedPath:i9e,onSetCollapsedFieldSet:s9e,openInspector:Lo,index:n,inspectOpen:Cl,validation:re,menuItemGroups:w||[],paneKey:o,previewUrl:Ye,ready:Hn,schemaType:W,isPermissionsLoading:cI,permissions:my,setTimelineMode:_e,setTimelineRange:We,setIsDeleting:ee,isDeleting:G,isDeleted:Ge,timelineError:he,timelineMode:Ce,timelineStore:Le,title:C,value:z,views:K,formState:uI,unstable_languageFilter:ie};h.useEffect(()=>{H==="reconnecting"&&x({id:"sanity/desk/reconnecting",status:"warning",title:c.jsx(c.Fragment,{children:"Connection lost. Reconnecting…"})})},[H,x]);const fI=h.useRef(!1);h.useEffect(()=>{var He;if(Hn&&T.path){const{path:Un,...Dn}=T,Jr=X9e((He=N_.current)==null?void 0:He.value,Wl(Un));fI.current=!0,ce(Jr),dI(Jr),me.current!==Jr&&(me.current=Jr,i==null||i(Jr));const pu=setTimeout(()=>{fI.current=!1},0);return v.setParams(Dn),()=>clearTimeout(pu)}},[T,j,i,dI,Hn,v]);const[f9e,h9e]=h.useState([]),jU=rI(),TU=h.useCallback(()=>{(sn==null?void 0:sn.name)!==Dx&&Lo(Dx)},[sn==null?void 0:sn.name,Lo]),p9e=h.useMemo(()=>jU?c.jsx(O6n,{documentId:j,documentType:k,isCommentsOpen:(sn==null?void 0:sn.name)===Dx,onCommentsOpen:TU,children:c.jsx(R6n,{children:t})}):t,[t,jU,sn==null?void 0:sn.name,j,k,TU]);return c.jsxs(ZLe.Provider,{value:d9e,children:[Ee.length>0&&c.jsx(p7n,{documentId:j,documentType:k,inspectors:Ee,onMenuItems:Y}),zn.length>0&&W&&c.jsx(y_,{actions:zn,documentId:j,documentType:k,onActions:h9e,path:hn,schemaType:W}),c.jsx(b_,{actions:f9e,path:hn,children:p9e})]})});z8e.displayName="DocumentPaneProvider";function D6(e,t,n){const r=oDn(),[o,i]=h.useState(n),s=h.useMemo(()=>r.forNamespace("desk-tool"),[r]),a=h.useMemo(()=>e?s.forNamespace(e).forKey(t):s.forKey(t),[s,e,t]);h.useEffect(()=>{const u=a.listen(n).subscribe({next:i});return()=>u==null?void 0:u.unsubscribe()},[n,t,e,a]);const l=h.useCallback(u=>{i(u),a.set(u)},[a]);return h.useMemo(()=>[o,l],[l,o])}const lv={id:"parsed",title:"Parsed"},cv={id:"raw",title:"Raw JSON"},m7n=[lv,cv],aT=rOn(1e3);function V8e(e,t){const n=aT.get(e);return n===void 0?(aT.set(e,Array.isArray(t)||xt(t)),V8e(e,t)):n}function g7n(e){const{path:t}=e,n=aT.get(t);n!==void 0&&aT.set(t,!n)}function H8e(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function Bye(e){H8e(e.currentTarget)}function v7n(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),H8e(e.currentTarget))}function y7n(e){return xt(e)&&d0(e._id)&&d0(e._type)}var Nye=Object.freeze,b7n=Object.defineProperty,x7n=(e,t)=>Nye(b7n(e,"raw",{value:Nye(t||e.slice())})),zye;const w7n=$.div(e=>{let{theme:t}=e;const{color:n,fonts:r,space:o}=t.sanity;return de(zye||(zye=x7n([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ge(o[4]),ge(o[3]),ge(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ge(o[4]/2),n.syntax.property,n.syntax.constant,ge(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function C7n(e){const{onChange:t,query:n}=e,r=h.useCallback(o=>t(o.target.value),[t]);return c.jsx(Nr,{icon:ui,onChange:r,placeholder:"Search",radius:2,value:n||""})}function _7n(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=Vr(),o="".concat(r,"_inspect_"),[i,s]=D6("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),a=m7n.find(d=>d.id===i),l=h.useCallback(()=>{s(lv.id)},[s]),u=h.useCallback(()=>{s(cv.id)},[s]);return c.jsx(Wi,{id:"".concat(o,"dialog"),header:y7n(t)?c.jsxs(c.Fragment,{children:["Inspecting"," ",c.jsx("em",{children:c.jsx(RLe,{document:t})})]}):c.jsx("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:c.jsxs(U,{direction:"column",height:"fill",children:[c.jsx(Q,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:c.jsxs(pA,{space:1,children:[c.jsx(iw,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(lv.id),label:lv.title,onClick:l,selected:a===lv}),c.jsx(iw,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(cv.id),label:cv.title,onClick:u,selected:a===cv})]})}),c.jsxs(QSe,{"aria-labelledby":"".concat(o,"tab-").concat(i),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[a===lv&&c.jsx(w7n,{children:c.jsx(tOn,{data:t,isExpanded:V8e,onClick:g7n,search:C7n})}),a===cv&&c.jsx(dr,{language:"json",tabIndex:0,onKeyDown:v7n,onDoubleClick:Bye,onFocus:Bye,children:JSON.stringify(t,null,2)})]})]})})}var Vye=Object.freeze,S7n=Object.defineProperty,E7n=(e,t)=>Vye(S7n(e,"raw",{value:Vye(t||e.slice())})),Hye;const k7n=$(Q)(Hye||(Hye=E7n([`
  position: relative;
  z-index: 50;
`])));function j7n(e){let{revisionId:t}=e;const{documentId:n,documentType:r}=Vr(),{restore:o}=dc(n,r),{navigateIntent:i}=oc(),s=h.useCallback(()=>{t&&(o.execute(t),i("edit",{id:n,type:r}))},[n,r,i,o,t]);return c.jsx(k7n,{"data-testid":"deleted-document-banner",shadow:1,tone:"transparent",children:c.jsx(oo,{paddingX:4,paddingY:t?2:3,sizing:"border",width:1,children:c.jsxs(U,{align:"center",children:[c.jsx(L,{size:1,children:c.jsx(fC,{})}),c.jsxs(U,{align:"center",gap:2,flex:1,marginLeft:3,children:[c.jsx(L,{size:1,children:"This document has been deleted."}),t&&c.jsx(oe,{fontSize:1,padding:2,mode:"bleed",tone:"primary",onClick:s,text:"Restore most recent version"})]})]})})})}var Uye=Object.freeze,T7n=Object.defineProperty,U8e=(e,t)=>Uye(T7n(e,"raw",{value:Uye(t||e.slice())})),Wye,Yye;const A7n=$(Q)(Wye||(Wye=U8e([`
  position: relative;
  z-index: 50;
`]))),qye=$(L)(Yye||(Yye=U8e([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),W8e=h.memo(()=>{var e,t,n,r,o,i;const s=Ki(),{params:a,groupIndex:l,routerPanesState:u,replaceCurrent:d,BackLink:f}=fu(),p=(e=u[l])==null?void 0:e[0].id,m=u[l-1],v=m==null?void 0:m[0],g=v==null?void 0:v.id,y=!!((t=v==null?void 0:v.params)!=null&&t.rev),x=h.useMemo(()=>(a==null?void 0:a.parentRefPath)&&Wl(a.parentRefPath)||null,[a==null?void 0:a.parentRefPath]),b=So(()=>{const _=x==null?void 0:x[0];if(!g||!_||!x)return ve({loading:!1});const S=Fn(g),E=Wl(_),j=E.findIndex(k=>typeof k=="object"&&"_key"in k);return Kr(ve({loading:!0}),s.unstable_observePathsDocumentPair(S,j===-1?E:E.slice(0,j)).pipe(v7(750),le(k=>{let{draft:T,published:A}=k;var D;return{loading:!1,result:{availability:{draft:T.availability,published:A.availability},refValue:(D=qm(T.snapshot||A.snapshot,x))==null?void 0:D._ref}}})))},[s,g,x],{loading:!0}),w=h.useCallback(()=>{var _;b.loading||(_=b.result)!=null&&_.refValue&&d({id:b.result.refValue,params:a})},[b.loading,b.result,d,a]);return!g||!x||y||b.loading||!((n=b.result)!=null&&n.availability.draft.available)&&!((r=b.result)!=null&&r.availability.published.available)||((o=b.result)==null?void 0:o.refValue)===p?null:c.jsx(A7n,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:c.jsx(oo,{paddingX:4,paddingY:2,sizing:"border",width:1,children:c.jsxs(U,{align:"center",children:[c.jsx(L,{size:1,children:c.jsx(zr,{})}),(i=b.result)!=null&&i.refValue?c.jsxs(c.Fragment,{children:[c.jsx(M,{flex:1,marginLeft:3,children:c.jsx(qye,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),c.jsx(M,{marginLeft:3,children:c.jsx(oe,{onClick:w,icon:f1,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):c.jsxs(c.Fragment,{children:[c.jsx(M,{flex:1,marginLeft:3,children:c.jsx(qye,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),c.jsx(M,{marginLeft:3,children:c.jsx(oe,{as:f,icon:Bi,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});W8e.displayName="ReferenceChangedBanner";var Gye=Object.freeze,D7n=Object.defineProperty,P7n=(e,t)=>Gye(D7n(e,"raw",{value:Gye(t||e.slice())})),Kye;const I7n=$(Q)(Kye||(Kye=P7n([`
  position: relative;
  z-index: 50;
`])));function O7n(e){let{granted:t,requiredPermission:n}=e;var r,o;const i=Jo(),s=((r=i==null?void 0:i.roles)==null?void 0:r.length)!==1,a=$7n(((o=i==null?void 0:i.roles)==null?void 0:o.map(l=>c.jsx("code",{children:l.title},l.name)))||[],", ");return t?null:c.jsx(I7n,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:c.jsx(oo,{paddingX:4,paddingY:3,sizing:"border",width:1,children:c.jsxs(U,{align:"flex-start",children:[c.jsx(L,{size:1,children:c.jsx(fC,{})}),c.jsx(M,{flex:1,marginLeft:3,children:c.jsxs(L,{size:1,children:["Your role",s&&"s"," ",a," ",s?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function $7n(e,t){return e.reduce((n,r)=>n===null?[r]:n.concat([t,r]),null)}function R7n(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}const M7n=1e3*60*60*24*24;function F7n(e){const t=Qo(),n=R7n(e.enabled);h.useEffect(()=>{!n&&e.enabled&&t.push({...e,duration:M7n}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}const L7n=e=>e.preventDefault(),B7n=h.forwardRef(function(t,n){var r;const{hidden:o,margins:i}=t,{collapsedFieldSets:s,collapsedPaths:a,displayed:l,editState:u,documentId:d,documentType:f,fieldActions:p,onChange:m,validation:v,ready:g,formState:y,onFocus:x,onBlur:b,onSetCollapsedPath:w,onPathOpen:C,onSetCollapsedFieldSet:_,onSetActiveFieldGroup:S}=Vr(),E=bl(),j=A_(d),k=h.useMemo(()=>oan(),[]),T=(r=u==null?void 0:u.transactionSyncLock)==null?void 0:r.enabled;F7n({id:"sync-lock-".concat(d),status:"warning",enabled:T,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),h.useEffect(()=>{const R=E.pair.documentEvents(d,f).pipe(_n(O=>{O.type==="mutation"&&k.publish(N7n(O)),O.type==="rebase"&&k.publish(z7n(O))})).subscribe();return()=>{R.unsubscribe()}},[d,E,f,k]);const A=!!(l!=null&&l._rev);h.useEffect(()=>{A&&k.publish({type:"mutation",patches:[],snapshot:l})},[A]);const[D,P]=h.useState(null);h.useEffect(()=>{g&&!(y!=null&&y.focusPath.length)&&D&&jm(D)},[g]);const I=h.useCallback(R=>{P(R),typeof n=="function"?n(R):n&&(n.current=R)},[n]);return c.jsx(oo,{hidden:o,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:c.jsx(w_,{margins:i,children:c.jsx(M,{as:"form",onSubmit:L7n,ref:I,children:g?y===null?c.jsx(M,{padding:2,children:c.jsx(L,{children:"This form is hidden"})}):c.jsx(edn,{__internal_fieldActions:p,__internal_patchChannel:k,collapsedFieldSets:s,collapsedPaths:a,focusPath:y.focusPath,changed:y.changed,focused:y.focused,groups:y.groups,id:"root",members:y.members,onChange:m,onFieldGroupSelect:S,onPathBlur:b,onPathFocus:x,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:w,presence:j,readOnly:y.readOnly,schemaType:y.schemaType,validation:v,value:y.value}):c.jsx(ZH,{ms:300,children:c.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",children:[c.jsx(gr,{muted:!0}),c.jsx(M,{marginTop:3,children:c.jsx(L,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})});function N7n(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:i6(e.origin,t)}}function z7n(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:i6("remote",t).concat(i6("local",n))}}function V7n(){const{activeViewId:e,paneKey:t,views:n}=Vr(),r="".concat(t,"tabpanel");return c.jsx(pA,{space:1,children:n.map((o,i)=>{var s;return c.jsx(H7n,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:c.jsx(c.Fragment,{children:o.title}),tabPanelId:r,viewId:i===0?null:(s=o.id)!=null?s:null},o.id)})})}function H7n(e){const{isActive:t,tabPanelId:n,viewId:r,...o}=e,{ready:i}=Vr(),{setView:s}=fu(),a=h.useCallback(()=>s(r),[s,r]);return c.jsx(iw,{...o,"aria-controls":n,disabled:!i,fontSize:1,selected:t,onClick:a})}function U7n(){const{connectionState:e,schemaType:t,title:n,value:r}=Vr(),o=!!r&&e==="connected",{error:i,value:s}=hV({enabled:o,schemaType:t,value:r});return e!=="connected"?c.jsx(c.Fragment,{}):n?c.jsx(c.Fragment,{children:n}):r?i?c.jsxs(c.Fragment,{children:["Error: ",i.message]}):c.jsx(c.Fragment,{children:(s==null?void 0:s.title)||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):c.jsxs(c.Fragment,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const W7n=h.memo(h.forwardRef(function(t,n){const{onMenuAction:r,onPaneClose:o,onPaneSplit:i,menuItems:s,menuItemGroups:a,schemaType:l,timelineStore:u,ready:d,views:f,unstable_languageFilter:p}=Vr(),{features:m}=uy(),{index:v,BackLink:g,hasGroupSiblings:y}=fu(),{actions:x}=BV(),b=h.useMemo(()=>GLe({actionHandler:r,fieldActions:x,menuItems:s,menuItemGroups:a}),[r,x,a,s]),w=h.useMemo(()=>b.filter(JH),[b]),C=h.useMemo(()=>b.filter(qLe),[b]),_=f.length>1,S=go(u,P=>P.revTime),{collapsed:E,isLast:j}=Kh(),k=j&&!E?-1:0,T=m.splitViews&&i&&f.length>1,A=T&&y,D=!A&&!m.backButton;return c.jsx(QH,{ref:n,loading:!d,title:c.jsx(U7n,{}),tabs:_&&c.jsx(V7n,{}),tabIndex:k,backButton:m.backButton&&v>0&&c.jsx(oe,{as:g,"data-as":"a",icon:dC,mode:"bleed",padding:2}),subActions:c.jsx(C8e,{chunk:S,mode:"rev",placement:"bottom-end"}),actions:c.jsxs(U,{align:"center",gap:1,children:[p.length>0&&c.jsx(c.Fragment,{children:p.map((P,I)=>h.createElement(P,{key:"language-filter-".concat(I),schemaType:l}))}),w.map(P=>c.jsx(YLe,{node:P},P.key)),c.jsx(VLe,{nodes:C},"context-menu"),T&&c.jsx(it,{content:c.jsx(L,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:c.jsx(oe,{"aria-label":"Split pane right",icon:Bxe,mode:"bleed",onClick:i},"split-pane-button")}),A&&c.jsx(oe,{icon:Bi,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),D&&c.jsx(oe,{icon:Bi,mode:"bleed",title:"Close pane group",as:g},"close-view-button")]})})}));var Zye=Object.freeze,Y7n=Object.defineProperty,q7n=(e,t)=>Zye(Y7n(e,"raw",{value:Zye(t||e.slice())})),Xye;const G7n=$(M)({position:"relative"}),K7n=$(oP)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:de(Xye||(Xye=q7n([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),Z7n=function(t){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:i}=t,{activeViewId:s,displayed:a,documentId:l,editState:u,inspector:d,value:f,views:p,ready:m,schemaType:v,permissions:g,isPermissionsLoading:y,isDeleting:x,isDeleted:b,timelineStore:w,formState:C}=Vr(),{collapsed:_}=ry(),{collapsed:S}=Kh(),E=og(),{features:j}=uy(),[k,T]=h.useState(null),A=Dh(k),D=h.useRef(null),[P,I]=h.useState(null),R=h.useRef(null),O=f._createdAt?"update":"create",V=h.useMemo(()=>{if(C)return C.groups.find(q=>q.selected)},[C]),B=h.useMemo(()=>p.find(q=>q.id===s)||p[0]||{type:"form"},[s,p]),H=j.splitPanes&&D.current||E.element,W=h.useMemo(()=>_?[(A==null?void 0:A.height)||0,0,n?n+2:2,0]:[0,0,2,0],[_,n,A]),z=B.type!=="form",G=h.useMemo(()=>B.type==="component"&&B.component&&h.createElement(B.component,{document:{draft:(u==null?void 0:u.draft)||null,displayed:a||f,historical:a,published:(u==null?void 0:u.published)||null},documentId:l,options:B.options,schemaType:v}),[B,a,l,u==null?void 0:u.draft,u==null?void 0:u.published,v,f]),ee=go(w,q=>q.lastNonDeletedRevId);h.useEffect(()=>{P!=null&&P.scrollTo&&P.scrollTo(0,0)},[l,P]),h.useEffect(()=>{H&&i(H)},[H,i]);const N=h.useMemo(()=>r?c.jsx(_7n,{value:a||f}):null,[r,a,f]),Y=!!(!S&&d);return c.jsxs(c.Fragment,{children:[c.jsx(W7n,{ref:T}),c.jsx(XP,{children:c.jsxs(U,{height:"fill",children:[(j.resizablePanes||!Y)&&c.jsx(G7n,{flex:2,overflow:"hidden",children:c.jsx(sg,{element:H,__unstable_elements:{documentScrollElement:P},children:c.jsx(ld,{element:P,children:c.jsxs(Ww,{scrollElement:P,containerElement:R,children:[B.type==="form"&&!y&&m&&c.jsxs(c.Fragment,{children:[c.jsx(O7n,{granted:!!(g!=null&&g.granted),requiredPermission:O}),!x&&b&&c.jsx(j7n,{revisionId:ee}),c.jsx(W8e,{})]}),c.jsxs(K7n,{$disabled:_||!1,"data-testid":"document-panel-scroller",ref:I,children:[c.jsx(B7n,{hidden:z,margins:W,ref:R},l+(m?"_ready":"_pending")),G]},"".concat(V==null?void 0:V.name,"-").concat(l,"}")),N,c.jsx("div",{"data-testid":"document-panel-portal",ref:D})]})})})}),Y&&c.jsx(ld,{element:o,children:c.jsx(H8n,{documentId:l,documentType:v.name,flex:1})})]})})]})},Y8e=["left","bottom"],X7n={small:0,medium:1,large:2,full:"auto"};function Q7n(e){const{dialog:t,referenceElement:n}=e;return c.jsx(nn,{content:c.jsx(J7n,{dialog:t}),fallbackPlacements:Y8e,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function J7n(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:i,message:s,onCancel:a,onConfirm:l,tone:u}=t,{isTopLayer:d}=Ea(),[f,p]=h.useState(null),m=h.useCallback(()=>{d&&a()},[d,a]),v=h.useCallback(g=>{g.key==="Escape"&&d&&a()},[d,a]);return pr(m,[f]),Ns(v),c.jsxs(U,{direction:"column",ref:p,style:{minWidth:320-16,maxWidth:400},children:[c.jsx(M,{flex:1,overflow:"auto",padding:4,children:c.jsx(L,{children:s})}),c.jsx(M,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:c.jsxs(tn,{columns:2,gap:2,children:[c.jsx(oe,{icon:n,onClick:a,mode:"ghost",text:r||"Cancel"}),c.jsx(oe,{icon:o,onClick:l,text:i||"Confirm",tone:u})]})})]})}function eBn(e){const{dialog:t}=e,n=h.useId(),r=t.footer&&c.jsx(M,{paddingX:4,paddingY:3,children:t.footer});return c.jsx(xd,{zOffset:"fullscreen",children:c.jsx(Wi,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:X7n[t.width],children:c.jsx(M,{padding:4,children:t.content})})})}function tBn(e){const{dialog:t,referenceElement:n}=e;return c.jsx(nn,{content:c.jsx(nBn,{dialog:t}),fallbackPlacements:Y8e,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function nBn(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:o}=Ea(),[i,s]=h.useState(null),a=h.useCallback(()=>{o&&r()},[o,r]),l=h.useCallback(u=>{u.key==="Escape"&&o&&r()},[o,r]);return pr(a,[i]),Ns(l),c.jsx("div",{ref:s,children:n})}function Qye(e){const{children:t}=e,{element:n,elements:r}=og(),o=(r==null?void 0:r[r6e])||n;return c.jsx(sg,{element:o,children:t})}function vU(e){const{dialog:t,referenceElement:n=null}=e,r=h.useId();if(t.type==="confirm")return c.jsx(Q7n,{dialog:t,referenceElement:n});if(t.type==="popover")return c.jsx(tBn,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return c.jsx(Qye,{children:c.jsx(eBn,{dialog:t})});if(t.type==="custom")return c.jsx(Qye,{children:t==null?void 0:t.component});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),c.jsx(Wi,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:c.jsx(M,{padding:4,children:o.content||c.jsxs(c.Fragment,{children:["Unexpected modal type (",c.jsx("code",{children:o.type}),")"]})})})}function rBn(e){const{actionStates:t,disabled:n}=e,r=h.useId(),o=h.useRef(null),[i,s]=h.useState(-1),[a,l]=h.useState(null),u=h.useCallback(p=>{s(p)},[]),d=h.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),f=t[i];return c.jsxs(c.Fragment,{children:[c.jsx(rn,{id:"".concat(r,"-action-menu"),button:c.jsx(oe,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:hl,mode:"ghost",ref:o}),menu:c.jsx(zt,{padding:1,children:t.map((p,m)=>c.jsx(oBn,{actionState:p,disabled:n,index:m,onAction:u},m))}),popover:d,ref:l}),f&&f.dialog&&c.jsx(xd,{zOffset:"paneFooter",children:c.jsx(vU,{dialog:f.dialog,referenceElement:a})})]})}function oBn(e){const{actionState:t,disabled:n,index:r,onAction:o}=e,{onHandle:i}=t,s=h.useCallback(()=>{o(r),i&&i()},[r,o,i]),a=t.title&&c.jsx(M,{padding:2,children:c.jsx(L,{size:1,children:t.title})});return c.jsx(Ne,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||!!t.disabled,onClick:s,padding:0,tone:t.tone,children:c.jsx(it,{content:a,disabled:!a,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:c.jsxs(U,{align:"center",paddingX:3,children:[c.jsxs(U,{flex:1,paddingY:3,children:[t.icon&&c.jsx(M,{marginRight:3,children:c.jsxs(L,{children:[h.isValidElement(t.icon)&&t.icon,ic.isValidElementType(t.icon)&&h.createElement(t.icon)]})}),c.jsx(L,{children:t.label})]}),t.shortcut&&c.jsx(M,{marginLeft:3,children:c.jsx(Jz,{keys:String(t.shortcut).split("+").map(l=>l.slice(0,1).toUpperCase()+l.slice(1))})})]})})})}function q8e(e){const{disabled:t,showMenu:n,states:r}=e,[o,...i]=r,[s,a]=h.useState(null),l=h.useMemo(()=>!o||!o.title&&!o.shortcut?null:c.jsxs(U,{padding:2,style:{maxWidth:300},align:"center",children:[c.jsx(L,{size:1,children:o.title}),o.shortcut&&c.jsx(M,{marginLeft:o.title?2:0,children:c.jsx(Jz,{keys:String(o.shortcut).split("+").map(u=>u.slice(0,1).toUpperCase()+u.slice(1).toLowerCase())})})]}),[o]);return c.jsxs(U,{children:[o&&c.jsx(cd,{zOffset:200,children:c.jsx(it,{disabled:!l,content:l,portal:!0,placement:"top",children:c.jsx(te,{flex:1,children:c.jsx(oe,{"data-testid":"action-".concat(o.label),disabled:t||!!o.disabled,icon:o.icon,onClick:o.onHandle,ref:a,text:o.label,tone:o.tone||"primary"})})})}),n&&i.length>0&&c.jsx(M,{marginLeft:1,children:c.jsx(rBn,{actionStates:i,disabled:t})}),o&&o.dialog&&c.jsx(vU,{dialog:o.dialog,referenceElement:s})]})}const iBn=h.memo(function(){const{actions:t,connectionState:n,documentId:r,editState:o}=Vr();return!t||!o?null:c.jsx(XH,{actions:t,actionProps:o,children:i=>{let{states:s}=i;return c.jsx(q8e,{disabled:n!=="connected",showMenu:t.length>1,states:s},r)}})}),sBn=h.memo(function(){const{connectionState:t,editState:n,timelineStore:r}=Vr(),o=go(r,u=>u.revTime),i=(o==null?void 0:o.id)||"",s=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===i,a=h.useMemo(()=>({...n||{},revision:i}),[n,i]),l=h.useMemo(()=>[eU],[]);return c.jsx(XH,{actions:l,actionProps:a,children:u=>{let{states:d}=u;return c.jsx(q8e,{disabled:t!=="connected"||!!s,showMenu:!1,states:d})}})}),aBn={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function lBn(e){let{states:t}=e;return c.jsx(Zt,{space:1,children:t.map((n,r)=>c.jsx(it,{content:n.title&&c.jsx(M,{padding:2,children:c.jsx(L,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:c.jsx(q9,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?aBn[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function cBn(){const{badges:e,editState:t}=Vr();return!t||!e?null:c.jsx(oOn,{badges:e,badgeProps:t,children:n=>{let{states:r}=n;return c.jsx(lBn,{states:r})}})}var Jye=Object.freeze,uBn=Object.defineProperty,dBn=(e,t)=>Jye(uBn(e,"raw",{value:Jye(t||e.slice())})),ebe;const fBn=$(U)(ebe||(ebe=dBn([`
  cursor: default;
`])));function hBn(e){const{collapsed:t,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:i}=e,s=ai(r||"",{minimal:!0,agoSuffix:!0}),a=ai(r||"",{minimal:!0}),l=ai(o||"",{minimal:!0,agoSuffix:!0}),u=ai(o||"",{minimal:!0}),d=ai(o||"",{minimal:!1,agoSuffix:!0}),f=ai(r||"",{minimal:!1,agoSuffix:!0}),p=i?"Last updated ".concat(d):"Last published ".concat(f);return c.jsx(fBn,{align:"center","data-ui":"SessionLayout",sizing:"border",children:c.jsx(it,{placement:"top",portal:!0,content:c.jsx(te,{padding:3,space:3,children:c.jsx(L,{size:1,children:i?c.jsxs(c.Fragment,{children:["Last updated"," ",c.jsx("abbr",{"aria-label":o?d:f,children:o?l:s})]}):c.jsxs(c.Fragment,{children:["Last published ",c.jsx("abbr",{"aria-label":f,children:s})]})})}),children:c.jsx(oe,{mode:"bleed",tone:i?"critical":"positive",tabIndex:-1,disabled:n,"aria-label":p,children:c.jsxs(U,{align:"center",children:[c.jsx(M,{marginRight:t?0:3,children:c.jsx(L,{size:2,"aria-hidden":"true",children:i?c.jsx(Mxe,{}):c.jsx(d1,{})})}),!t&&c.jsx(L,{size:1,weight:"medium",children:i?c.jsx("abbr",{"aria-label":p,children:o?u:a}):c.jsx("abbr",{"aria-label":p,children:a})})]})})})})}var tbe=Object.freeze,pBn=Object.defineProperty,yU=(e,t)=>tbe(pBn(e,"raw",{value:tbe(t||e.slice())})),nbe,rbe,obe;const mBn=$(zh.path)(nbe||(nbe=yU([`
  transform-origin: center;
`]))),gBn=e=>c.jsx(zh.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),vBn=e=>c.jsx(mBn,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),yBn=e=>c.jsx(zh.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),bBn=e=>c.jsx(zh.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...e}),xBn=Km(rbe||(rbe=yU([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),wBn=$.g(obe||(obe=yU([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),xBn),CBn={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},_Bn={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},SBn={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},EBn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},kBn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function jBn(e){const{status:t}=e;return t?c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:c.jsxs(zh.g,{variants:CBn,initial:t,animate:t,children:[c.jsxs(wBn,{"data-rotate":t==="changes"?void 0:"",children:[c.jsx(vBn,{variants:SBn,initial:t,animate:t}),c.jsx(gBn,{variants:_Bn,initial:t,animate:t})]}),c.jsx(yBn,{variants:EBn,initial:t,animate:t}),c.jsx(bBn,{variants:kBn,initial:t,animate:t})]})}):null}const TBn=ne.forwardRef(function(t,n){const{collapsed:r,status:o,lastUpdated:i,...s}=t,a=ai(i||"",{minimal:!0}),l=ai(i||"",{minimal:!0,agoSuffix:!0}),u=ai(i||"",{minimal:!1,agoSuffix:!0}),d=h.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:a,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,a]);return o?c.jsx(it,{placement:"top",portal:!0,disabled:o!=="changes",content:c.jsxs(te,{padding:3,space:3,children:[c.jsx(L,{size:1,weight:"semibold",children:"Review changes"}),c.jsxs(L,{size:1,muted:!0,children:["Changes saved ",c.jsx("abbr",{"aria-label":u,children:l})]})]}),children:c.jsx(oe,{mode:"bleed",justify:"flex-start",tone:d==null?void 0:d.tone,...s,"data-testid":"review-changes-button",ref:n,"aria-label":"Review changes",children:c.jsxs(U,{align:"center",children:[c.jsx(M,{marginRight:r?0:3,"aria-hidden":"true",children:c.jsx(L,{children:c.jsx(jBn,{status:o})})}),!r&&c.jsx(L,{size:1,weight:"medium",children:d==null?void 0:d.text})]})})}):null}),ABn=ne.memo(TBn),DBn=1e3,PBn=3e3,IBn=h.memo(function(){var t;const{changesOpen:n,documentId:r,documentType:o,editState:i,onHistoryClose:s,onHistoryOpen:a,timelineStore:l,value:u}=Vr(),d=W4e(r,o),f=u==null?void 0:u._updatedAt,p=(t=i==null?void 0:i.published)==null?void 0:t._updatedAt,m=!!(i!=null&&i.liveEdit),v=!!(i!=null&&i.published),g=!!(i!=null&&i.draft),[y,x]=h.useState(null),b=Dh(y),w=!b||(b==null?void 0:b.width)<300,[C,_]=h.useState(null),S=go(l,k=>k.onOlderRevision);h.useEffect(()=>{if(C==="syncing"&&!d.isSyncing){const k=setTimeout(()=>_("saved"),DBn);return()=>clearTimeout(k)}if(C==="saved"){const k=setTimeout(()=>_(null),PBn);return()=>clearTimeout(k)}},[C,f,d.isSyncing]),h.useLayoutEffect(()=>{_(null)},[r]),h.useLayoutEffect(()=>{d.isSyncing&&_("syncing")},[d.isSyncing,f]);const E=h.useMemo(()=>c.jsx(ABn,{lastUpdated:f,status:C||(g?"changes":void 0),onClick:n?s:a,disabled:S,selected:n,collapsed:w}),[g,n,s,a,f,S,C,w]),j=h.useMemo(()=>(m||v)&&c.jsx(M,{marginRight:1,children:c.jsx(hBn,{disabled:S,lastPublished:p,lastUpdated:f,liveEdit:m,collapsed:w})}),[w,p,f,m,v,S]);return c.jsxs(U,{align:"center","data-ui":"DocumentSparkline",ref:x,children:[j,c.jsxs(U,{align:"center",flex:1,children:[E,!w&&c.jsx(M,{marginLeft:3,children:c.jsx(cBn,{})})]})]})});var ibe=Object.freeze,OBn=Object.defineProperty,$Bn=(e,t)=>ibe(OBn(e,"raw",{value:ibe(t||e.slice())})),sbe;const RBn=$(M)(sbe||(sbe=$Bn([`
  min-width: 10em;
  max-width: 16em;
`])));function MBn(e){const{actionsBoxRef:t}=e,{badges:n,timelineStore:r}=Vr(),o=go(r,i=>i.onOlderRevision);return h.useMemo(()=>c.jsx(M,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:c.jsxs(U,{align:"center",children:[c.jsx(M,{flex:[1,2],children:n&&c.jsx(IBn,{})}),c.jsx(RBn,{flex:1,marginLeft:[1,3],ref:t,children:o?c.jsx(sBn,{}):c.jsx(iBn,{})})]})}),[t,n,o])}function FBn(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:o,id:i,onActionStart:s,onKeyDown:a,rootRef:l,states:u,...d}=e,f=u[n],p=h.useCallback(m=>{const v=u.filter(y=>y.shortcut&&Ti(y.shortcut,m)),g=v[0];if(v.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(g.shortcut,'"')),g&&!g.disabled&&g.onHandle){m.preventDefault(),g.onHandle(),s(u.indexOf(g));return}a&&a(m)},[s,a,u]);return h.createElement(r,{id:i,onKeyDown:p,tabIndex:-1,...d,ref:l},[o,f&&f.dialog&&c.jsx(xd,{zOffset:"paneFooter",children:c.jsx(vU,{dialog:f.dialog,referenceElement:t})})])}const G8e=ne.memo(e=>{const{actionsBoxElement:t,as:n="div",children:r,...o}=e,{actions:i,editState:s}=Vr(),[a,l]=h.useState(-1),u=h.useCallback(f=>{l(f)},[]),d=h.useMemo(()=>s&&{...s,onComplete:()=>{},revision:void 0},[s]);return!d||!i?null:c.jsx(XH,{actionProps:d,actions:i,children:f=>{let{states:p}=f;return c.jsx(FBn,{...o,activeIndex:a,actionsBoxElement:t,as:n,onActionStart:u,states:p,children:r})}})});G8e.displayName="DocumentActionShortcuts";var abe=Object.freeze,LBn=Object.defineProperty,BBn=(e,t)=>abe(LBn(e,"raw",{value:abe(t||e.slice())})),lbe;const cbe=["fixed","fixed","absolute"],NBn=$(rnn)(lbe||(lbe=BBn([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),yzn=h.memo(function(t){const{name:n}=Nn();return c.jsx(yH,{name:t.pane.source||n,children:c.jsx(zBn,{...t})})});function zBn(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:o}=Nn().document,i=fu(),s=VBn(n.options,i.params),{documentType:a,isLoaded:l}=MTn(s.id,s.type),u=h.useMemo(()=>o({type:"document",documentId:s.id,schemaType:s.type}),[s.id,s.type,o]),[d,f]=NH({templateItems:u}),p=l&&!f,m=h.useMemo(()=>p&&a&&s.type!==a?HBn(e,s,a):e,[e,a,p,s]),{ReferenceChildLink:v,handleEditReference:g,groupIndex:y,routerPanesState:x}=i,b=((t=x[y+1])==null?void 0:t[0].params)||{},w=x.length,{parentRefPath:C}=b,_=h.useMemo(()=>C?{path:Wl(C),state:y>=w-1?"none":y>=w-2?"selected":"pressed"}:{path:[],state:"none"},[C,y,w]);return s.type==="*"&&!p?c.jsx(N8e,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document…"}):a?c.jsx(h6n,{documentId:s.id,documentType:s.type,children:c.jsx(z8e,{...m,children:c.jsx(tdn,{EditReferenceLinkComponent:v,onEditReference:g,initialValueTemplateItems:d,activePath:_,children:c.jsx(UBn,{})})},"".concat(a,"-").concat(s.id))}):c.jsx(B8e,{flex:2.5,minWidth:320,paneKey:r,title:c.jsx(c.Fragment,{children:"The document was not found"}),children:c.jsx(te,{space:4,children:c.jsxs(L,{as:"p",children:["The document type is not defined, and a document with the ",c.jsx("code",{children:s.id})," ","identifier could not be found."]})})})}function VBn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=ty();return h.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,o=r?n.find(s=>s.id===r):void 0,i=o==null?void 0:o.schemaType;return i?{...e,type:i}:e},[e,t.template,n])}function HBn(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}function UBn(){const{changesOpen:e,documentType:t,inspector:n,inspectOpen:r,onFocus:o,onPathOpen:i,onHistoryOpen:s,onKeyUp:a,paneKey:l,schemaType:u,value:d}=Vr(),{collapsed:f}=ry(),p=h$e(),[m,v]=h.useState(null),[g,y]=h.useState(null),[x,b]=h.useState(null),[w,C]=h.useState(null),_=Dh(g),S=_==null?void 0:_.height,E=h.useCallback(T=>{i(T),o(T)},[i,o]),j=W3n+(n?p6:0),k=U3n+(n?p6:0);return u?c.jsxs(G8e,{actionsBoxElement:x,as:ZP,currentMinWidth:j,"data-testid":"document-pane",flex:2.5,id:l,minWidth:k,onKeyUp:a,rootRef:v,children:[c.jsx(hF,{position:cbe,zOffset:p.portal,children:c.jsx(U,{direction:"column",flex:1,height:f?void 0:"fill",children:c.jsx(NBn,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:s,onSetFocus:E,children:c.jsx(Z7n,{footerHeight:S||null,isInspectOpen:r,rootElement:m,setDocumentPanelPortalElement:C})})})}),c.jsx(sg,{__unstable_elements:{[r6e]:w},children:c.jsx(hF,{position:cbe,zOffset:p.portal,children:c.jsx(WOn,{ref:y,children:c.jsx(MBn,{actionsBoxRef:b})})})}),c.jsx(i7n,{})]}):c.jsx(B8e,{currentMinWidth:j,flex:2.5,minWidth:k,paneKey:l,title:c.jsxs(c.Fragment,{children:["Unknown document type: ",c.jsx("code",{children:t})]}),tone:"caution",children:c.jsxs(te,{space:4,children:[t&&c.jsxs(L,{as:"p",children:["This document has the schema type ",c.jsx("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&c.jsx(L,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),cu]})})}const ube=100,P6=2e3,K8e={by:[{field:"_updatedAt",direction:"desc"}]},WBn={};function YBn(e){return rP(e).map(t=>({...t.draft||t.published,hasPublished:!!t.published,hasDraft:!!t.draft}))}const qBn=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type\b/;function Z8e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e.match(qBn);if(!n)return null;const r=(n[1]||n[2]).trim().replace(/^["']|["']$/g,"");if(r[0]==="$"){const o=r.slice(1),i=t[o];return typeof i=="string"?i:null}return r}function GBn(e){return/^_type\s*==\s*['"$]\w+['"]?\s*$/.test(e.trim())}function KBn(e,t){const n=e.by.map(r=>{if(r.mapWith)return r;const o=ZBn(t,r.field);return o?QBn(o,"datetime")?{...r,mapWith:"dateTime"}:o.jsonType==="string"?{...r,mapWith:"lower"}:r:r});return n.every((r,o)=>r===e.by[o])?e:{...e,by:n}}function ZBn(e,t){const n=Wl(t);let r=e;for(const o of n){if(!r)return;if(typeof o=="string"){r=XBn(r,o);continue}if(!(Lr(o)||Bl(o))||r.jsonType!=="array")return;const[s,a]=r.of||[];if(a||!s)return;if(!Qu(s)){r=s;continue}const[l,u]=s.to||[];if(u||!l)return;r=l}return r}function XBn(e,t){if(!("fields"in e))return;const n=e.fields.find(r=>r.name===t);return n?n.type:void 0}function QBn(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}var dbe=Object.freeze,JBn=Object.defineProperty,X8e=(e,t)=>dbe(JBn(e,"raw",{value:dbe(t||e.slice())})),fbe,hbe;const eNn=$(M)(fbe||(fbe=X8e([`
  position: relative;
`]))),tNn=$(M)(hbe||(hbe=X8e([`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`]))),nNn=[...Array(30).keys()];function rNn(e){const{layout:t}=e;return c.jsx(te,{padding:2,space:1,children:nNn.map(n=>c.jsx(Q,{padding:2,children:c.jsx(Wh,{isPlaceholder:!0,layout:t})},n))})}function oNn(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:o,hasSearchQuery:i,isActive:s,isLazyLoading:a,isLoading:l,items:u,layout:d,loadingVariant:f,onListChange:p,onRetry:m,paneTitle:v,searchInputElement:g,showIcons:y}=e,x=An(),{collapsed:b}=ry(),{collapsed:w,index:C}=Kh(),[_,S]=h.useState(!1),E=h.useCallback(()=>{l||a||!_||p()},[a,l,p,_]);h.useEffect(()=>{if(w)return;const A=setTimeout(()=>{S(!0)},0);return()=>{clearTimeout(A)}},[w,u]);const j=h.useCallback((A,D)=>{let{activeIndex:P}=D;const I=Fn(A._id),R=t===I,O=!s&&R,V=s&&R,B=P===u.length-1,H=B&&a,W=B&&o;return c.jsxs(c.Fragment,{children:[c.jsx(v3n,{icon:y===!1?!1:void 0,id:I,layout:d,marginBottom:1,pressed:O,schemaType:x.get(A._type),selected:V,value:A}),H&&c.jsx(U,{align:"center",justify:"center",padding:4,children:c.jsx(gr,{muted:!0})}),W&&c.jsx(M,{marginY:1,paddingX:3,paddingY:4,children:c.jsxs(L,{align:"center",muted:!0,size:1,children:["Displaying a maximum of ",P6," documents"]})})]})},[t,s,u.length,d,x,y,o,a]),k=h.useMemo(()=>i?c.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:c.jsx(oo,{width:1,children:c.jsx(M,{paddingX:4,paddingY:5,children:c.jsx(L,{align:"center",muted:!0,children:"No results found"})})})}):c.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:c.jsx(oo,{width:1,children:c.jsx(M,{paddingX:4,paddingY:5,children:c.jsx(L,{align:"center",muted:!0,children:r?"No documents of this type":"No matching documents"})})})}),[r,i]),T=h.useMemo(()=>{if(!_)return null;if(n)return c.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:c.jsx(oo,{width:1,children:c.jsxs(te,{paddingX:4,paddingY:5,space:4,children:[c.jsx(Xo,{as:"h3",children:"Could not fetch list items"}),c.jsxs(L,{as:"p",children:["Error: ",c.jsx("code",{children:n.message})]}),m&&c.jsx(M,{children:c.jsx(oe,{icon:f1,onClick:m,text:"Retry",tone:"primary"})})]})})});if(!l&&u.length===0)return k;if(f==="initial"&&l)return c.jsx(ZH,{ms:300,children:c.jsx(rNn,{layout:d})});if(f==="spinner"&&l)return null;const A="".concat(C,"-").concat(w);return c.jsx(eNn,{overflow:"hidden",height:"fill",children:c.jsx(tNn,{children:c.jsx(Hh,{activeItemDataAttr:"data-hovered",ariaLabel:v,canReceiveFocus:!0,focusRingOffset:-3,inputElement:g,itemHeight:51,items:u,onEndReached:E,onlyShowSelectionWhenActive:!0,overscan:10,padding:2,paddingBottom:1,renderItem:j,wrapAround:!1},A)})})},[w,n,E,C,l,u,d,f,m,j,g,_]);return c.jsx(XP,{overflow:b||f==="initial"?"hidden":"auto",children:T})}const Q8e=h.memo(e=>{let{contentAfter:t,index:n,initialValueTemplates:r=[],menuItemGroups:o=[],menuItems:i=[],setLayout:s,setSortOrder:a,title:l}=e;const{features:u}=uy(),{collapsed:d,isLast:f}=Kh(),p=f&&!d?-1:0,m=h.useMemo(()=>({setLayout:v=>{let{layout:g}=v;s(g)},setSortOrder:v=>{a(v)}}),[s,a]);return c.jsx(QH,{actions:c.jsx(p3n,{initialValueTemplateItems:r,actionHandlers:m,menuItemGroups:o,menuItems:i}),backButton:u.backButton&&n>0&&c.jsx(oe,{as:pOn,"data-as":"a",icon:dC,mode:"bleed"}),contentAfter:t,tabIndex:p,title:l})});Q8e.displayName="DocumentListPaneHeader";function iNn(e){const{client:t,schema:n,sort:r,limit:o,params:i,filter:s,searchQuery:a,staticTypeNames:l}=e,u=r.by,d=r==null?void 0:r.extendedProjection,f=xo(()=>t.listen("*[".concat(s,"]"),i,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(ft((v,g)=>g===0&&v.type!=="welcome"?ud(()=>new Error(v.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(v.type,'"'))):ve(v)),ga()),[p,m]=m7(f,v=>v.type==="welcome");return ln(p.pipe(Mi(1)),m.pipe(lw(1e3,Gl,{leading:!0,trailing:!0}))).pipe(ez(v=>(l?ve(l):t.observable.fetch("array::unique(*[".concat(s,"][]._type)"),i)).pipe(ft(y=>{const x=y.flatMap(E=>n.get(E)||[]),b={filter:s,query:a||"",types:x},w={__unstable_extendedProjection:d,comments:["findability-source: ".concat(a?"list-query":"list")],limit:o,params:i,sort:u},{query:C,params:_}=$$e(b,w),S=()=>t.observable.fetch(C,_);return v.type==="mutation"&&v.visibility!=="query"?Ko(1200).pipe(ft(S)):S()}))))}const sNn=[],pbe={error:null,onRetry:void 0,result:null},aNn={result:null,error:null};function lNn(e){const{filter:t,params:n,sortOrder:r,searchQuery:o,apiVersion:i}=e,s=yr({...un,apiVersion:i||un.apiVersion}),a=An(),[l,u]=h.useState(pbe),{onRetry:d,error:f,result:p}=l,m=p==null?void 0:p.documents,v=h.useMemo(()=>m?YBn(m):sNn,[m]),[g,y]=h.useState(!1),[x,b]=h.useState(!1),[w,C]=h.useState(!1),_=h.useMemo(()=>Z8e(t,n),[t,n]),S=p===null&&!f,E=(m==null?void 0:m.length)===P6,j=h.useCallback(()=>{S||x||w||C(!0)},[S,x,w]),k=h.useCallback(D=>{var P,I;if(D.error){u(D);return}const R=((I=(P=D.result)==null?void 0:P.documents)==null?void 0:I.length)||0;if(!D.error&&(D==null?void 0:D.result)===null&&w){y(!0);return}if(R<ube&&R!==0&&!w&&b(!0),(D==null?void 0:D.result)===null){u(V=>({...V.error?D:V}));return}y(!1),u(D)},[w]),T=h.useMemo(()=>{const D=new kr,P=()=>D.next();return iNn({client:s,filter:t,limit:w?P6:ube,params:n,schema:a,searchQuery:o||"",sort:r||K8e,staticTypeNames:_?[_]:void 0}).pipe(le(O=>({result:{documents:O},error:null})),pi(aNn),Mn(O=>O instanceof ProgressEvent?ud(()=>new Error("Request error")):ud(()=>O)),Mn((O,V)=>Kr(ve({result:null,error:O}),ln(Vi(window,"online"),D).pipe(Mi(1),ft(()=>V)))),ma((O,V)=>({...O,...V,onRetry:P})))},[s,t,n,a,o,w,r,_]);h.useEffect(()=>{const D=T.subscribe(k);return()=>{D.unsubscribe()}},[k,T]);const A=h.useCallback(()=>{b(!1),y(!1),u(pbe),C(!1)},[]);return h.useEffect(()=>{A()},[A,t,n,r,o]),{error:f,hasMaxItems:E,isLazyLoading:g,isLoading:S,isSearchReady:!f,items:v,onListChange:j,onRetry:d}}var mbe=Object.freeze,cNn=Object.defineProperty,bU=(e,t)=>mbe(cNn(e,"raw",{value:mbe(t||e.slice())})),gbe,vbe,ybe;const I6=[],uNn=Km(gbe||(gbe=bU([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),dNn=$(hC)(vbe||(vbe=bU([`
  animation: `,` 500ms linear infinite;
`])),uNn),fNn=$(Q)(ybe||(ybe=bU([`
  [data-ui='TextInput'] {
    border-radius: inherit;
  }
`])));function hNn(e){const t=h.useRef(e);return dd(t.current,e)||(t.current=e),t.current}const pNn=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t==null?void 0:t.map(o=>{var i,s,a,l;return(i=o.params)!=null&&i.layout?{...o,selected:r===((s=o.params)==null?void 0:s.layout)}:(a=o==null?void 0:o.params)!=null&&a.by?{...o,selected:Wt(n==null?void 0:n.by,((l=o==null?void 0:o.params)==null?void 0:l.by)||I6)}:{...o,selected:!1}})},bzn=h.memo(function(t){const{childItemId:n,index:r,isActive:o,isSelected:i,pane:s,paneKey:a}=t,l=An(),{name:u}=Nn(),{defaultLayout:d="default",displayOptions:f,initialValueTemplates:p=I6,menuItemGroups:m,menuItems:v,options:g,title:y}=s,{apiVersion:x,defaultOrdering:b=I6,filter:w}=g,C=hNn(g.params||WBn),_=s.source,S=h.useMemo(()=>Z8e(w,C),[w,C]),E=(f==null?void 0:f.showIcons)!==!1,[j,k]=D6(S,"layout",d),[T,A]=h.useState(""),[D,P]=h.useState(""),[I,R]=h.useState(null),O=h.useRef(!1),V=h.useMemo(()=>(b==null?void 0:b.length)>0?{by:b}:K8e,[b]),[B,H]=D6(S,"sortOrder",V),W=S&&B?KBn(B,l.get(S)):B,z=si(W),G=GBn(w),{error:ee,hasMaxItems:N,isLazyLoading:Y,isLoading:q,isSearchReady:Z,items:ie,onListChange:re,onRetry:K}=lNn({apiVersion:x,filter:w,params:C,searchQuery:T==null?void 0:T.trim(),sortOrder:z}),X=h.useMemo(()=>pNn({menuItems:v,sortOrderRaw:B,layout:j}),[j,v,B]),ce=bA(he=>he.pipe(le(be=>be.target.value),_n(P),g7(be=>be===""?ve(""):Ko(300)),_n(A)),[]),me=h.useCallback(()=>{A(""),P("")},[]),ae=h.useCallback(he=>{he.key==="Escape"&&me()},[me]);h.useEffect(()=>(O.current===!1&&!q&&(O.current=!0),()=>{O.current=!1}),[q]),h.useEffect(()=>{me(),O.current=!1},[a,me]);const Ce=h.useMemo(()=>q&&ie.length===0&&O.current?"spinner":"initial",[q,ie.length]),_e=c.jsx(M,{paddingX:2,paddingBottom:2,children:c.jsx(fNn,{radius:4,tone:"transparent",children:c.jsx(Nr,{"aria-label":"Search list",autoComplete:"off",border:!1,clearButton:!!T,disabled:!Z,fontSize:[2,2,1],icon:Ce==="spinner"?dNn:ui,onChange:ce,onClear:me,onKeyDown:ae,placeholder:"Search list",radius:2,ref:R,spellCheck:!1,value:D})})});return c.jsx(yH,{name:_||u,children:c.jsxs(ZP,{currentMaxWidth:350,"data-ui":"DocumentListPane",id:a,maxWidth:640,minWidth:320,selected:i,children:[E3n,c.jsx(Q8e,{contentAfter:_e,index:r,initialValueTemplates:p,menuItemGroups:m,menuItems:X,setLayout:k,setSortOrder:H,title:y}),c.jsx(oNn,{childItemId:n,error:ee,filterIsSimpleTypeConstraint:G,hasMaxItems:N,hasSearchQuery:!!T,isActive:o,isLazyLoading:Y,isLoading:q,items:ie,layout:j,loadingVariant:Ce,onListChange:re,onRetry:K,paneTitle:y,searchInputElement:I,showIcons:E},a)]})})}),mNn=dV(e=>{const{name:t,title:n,icon:r,...o}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||n8,component:h.lazy(()=>Q7(()=>import("./SanityVision-oM6_d46E-b0c6b1dd.js"),[])),options:o,router:Pi.create("/*")}]}});var J8e={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bbe=ne.createContext&&ne.createContext(J8e),th=globalThis&&globalThis.__assign||function(){return th=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},th.apply(this,arguments)},gNn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function e9e(e){return e&&e.map(function(t,n){return ne.createElement(t.tag,th({key:n},t.attr),e9e(t.child))})}function hy(e){return function(t){return ne.createElement(vNn,th({attr:th({},e.attr)},t),e9e(e.child))}}function vNn(e){var t=function(n){var r=e.attr,o=e.size,i=e.title,s=gNn(e,["attr","size","title"]),a=o||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),ne.createElement("svg",th({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:th(th({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ne.createElement("title",null,i),e.children)};return bbe!==void 0?ne.createElement(bbe.Consumer,null,function(n){return t(n)}):t(J8e)}function yNn(e){return hy({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}const bNn={name:"homepage",title:"Homepage",type:"document",icon:yNn,fields:[{name:"heroHeading",title:"Hero Heading",type:"string"},{name:"heroText",title:"Hero Text",type:"array",of:[{type:"block"}]},{name:"heroButtonText",title:"Hero Button Text",description:"Text shown on Hero CTA",type:"string"},{name:"heroImage",title:"Hero Image",type:"image",description:"Upload a Hero image",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string",description:"describe what is in the image let search engines know what is being shown"}]},{name:"introSection",title:"Introduction Section",type:"document",fields:[{name:"introImage",title:"Intro Image",type:"image",description:"Upload an image for the introduction section",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string",description:"describe what is in the image let search engines know what is being shown"}]},{name:"introSubheading",title:"Intro Subheading",type:"string"},{name:"introHeading",title:"Intro Heading",type:"string"},{name:"introText",title:"Introduction Text",type:"array",of:[{type:"block"}]},{name:"aboutUsButton",title:"About Us Button",description:"Text shown on About Us button",type:"string"}]},{name:"servicesSection",title:"Services Section",type:"document",fields:[{name:"servicesSubheading",title:"Services Subheading",type:"string"},{name:"servicesHeading",title:"Services Heading",type:"string"},{name:"servicesLinkTitle",title:"Link Title",type:"string"}]},{name:"mailingListCta",title:"Mailing List CTA",type:"document",fields:[{name:"mailingListHeading",title:"Mailing List Heading",type:"string"},{name:"mailingListText",title:"Mailing List Text",type:"string"},{name:"mailingListPlaceholder",title:"Input Placeholder Text",type:"string"},{name:"mailingListButtonText",title:"Button Text",description:"Text shown on mailing list CTA button",type:"string"}]},{name:"projectsSection",title:"Latest Projects Section",type:"document",fields:[{name:"projectsSubheading",title:"Projects Subheading",type:"string"},{name:"projectsHeading",title:"Projects Heading",type:"string"},{name:"projectsButtonText",title:"Button Text",description:"Text shown on projects button",type:"string"}]},{name:"totPromo",title:"Trick of the Trade's Promotion",type:"document",fields:[{name:"promoMessage",title:"Promotion Message",description:"add '\\n' to the text where you want text to return on a new line.  *NOTE - this only applies to desktop screen sizes",type:"string"}]},{name:"testimonialsSection",title:"Testimonials",type:"document",fields:[{name:"testimonialsSectionTitle",title:"Testimonials Section Title",description:"Enter a title for the testimonial section",type:"string"},{name:"testimonialsList",title:"Testimonials",type:"array",of:[{type:"object",fields:[{name:"name",title:"Name",type:"string"},{name:"message",title:"Message",type:"text"}]}]}]},{name:"awardsSection",title:"Awards",type:"document",fields:[{name:"awardsSectionSubTitle",title:"Testimonials Sub Title",type:"string"},{name:"awardsSectionTitle",title:"Awards Section Title",description:"add '\\n' to the text where you want text to return on a new line.  *NOTE - this only applies on mobile screens",type:"string"},{name:"awardsList",title:"Awards",type:"array",of:[{type:"object",fields:[{name:"awardDate",title:"Award Date",type:"string"},{name:"awardTitle",title:"Award Title",type:"string",description:"add '\\n' to the text where you want text to return on a new line"},{name:"awardLogo",title:"Award Logo",type:"image",description:"Upload the award logo",fields:[{name:"alt",title:"Alt",type:"string",description:"describe what is in the image let search engines know what is being shown"}]}]}]}]},{name:"contactUs",title:"Contact Us Section",type:"document",fields:[{name:"title",title:"Contact Section Title",type:"string"},{name:"message",title:"Contact Section Message",description:"add '\\n' to the text where you want text to return on a new line.  *NOTE - this only applies on screens bigger than mobile",type:"text"},{name:"address",title:"Address",type:"string"},{name:"contactNumber",title:"Contact Number",description:"to be shown on contact form while also updating the contact number linked to the button",type:"string"},{name:"emailAddress",title:"Email Address",description:"to be linked to the email address linked to email button",type:"string"},{name:"phoneButtonText",title:"Phone Button Text",description:"text to appear on 'Phone Us' button",type:"string"},{name:"emailButtonText",title:"Email Button Text",description:"text to appear on 'Email Us' button",type:"string"}]}],extends:"page",preview:{prepare(e){return{title:e.title||"Homepage Content"}}}};function xNn(e){return hy({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 17V7c0-2.168-3.663-4-8-4S4 4.832 4 7v10c0 2.168 3.663 4 8 4s8-1.832 8-4zM12 5c3.691 0 5.931 1.507 6 1.994C17.931 7.493 15.691 9 12 9S6.069 7.493 6 7.006C6.069 6.507 8.309 5 12 5zM6 9.607C7.479 10.454 9.637 11 12 11s4.521-.546 6-1.393v2.387c-.069.499-2.309 2.006-6 2.006s-5.931-1.507-6-2V9.607zM6 17v-2.393C7.479 15.454 9.637 16 12 16s4.521-.546 6-1.393v2.387c-.069.499-2.309 2.006-6 2.006s-5.931-1.507-6-2z"}}]})(e)}function wNn(e){return hy({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 2H8c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM8 16V4h12l.002 12H8z"}},{tag:"path",attr:{d:"M4 8H2v12c0 1.103.897 2 2 2h12v-2H4V8z"}},{tag:"path",attr:{d:"m12 12-1-1-2 3h10l-4-6z"}}]})(e)}function CNn(e){return hy({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1 16H5V5h14v14z"}},{tag:"path",attr:{d:"M11 7h2v2h-2zm0 4h2v6h-2z"}}]})(e)}function _Nn(e){return hy({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22 8a.76.76 0 0 0 0-.21v-.08a.77.77 0 0 0-.07-.16.35.35 0 0 0-.05-.08l-.1-.13-.08-.06-.12-.09-9-5a1 1 0 0 0-1 0l-9 5-.09.07-.11.08a.41.41 0 0 0-.07.11.39.39 0 0 0-.08.1.59.59 0 0 0-.06.14.3.3 0 0 0 0 .1A.76.76 0 0 0 2 8v8a1 1 0 0 0 .52.87l9 5a.75.75 0 0 0 .13.06h.1a1.06 1.06 0 0 0 .5 0h.1l.14-.06 9-5A1 1 0 0 0 22 16V8zm-10 3.87L5.06 8l2.76-1.52 6.83 3.9zm0-7.72L18.94 8 16.7 9.25 9.87 5.34zM4 9.7l7 3.92v5.68l-7-3.89zm9 9.6v-5.68l3-1.68V15l2-1v-3.18l2-1.11v5.7z"}}]})(e)}function SNn(e){return hy({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4C9.243 4 7 6.243 7 9h2c0-1.654 1.346-3 3-3s3 1.346 3 3c0 1.069-.454 1.465-1.481 2.255-.382.294-.813.626-1.226 1.038C10.981 13.604 10.995 14.897 11 15v2h2v-2.009c0-.024.023-.601.707-1.284.32-.32.682-.598 1.031-.867C15.798 12.024 17 11.1 17 9c0-2.757-2.243-5-5-5zm-1 14h2v2h-2z"}}]})(e)}const ENn={name:"service",title:"Services",description:"Service Schema",type:"document",icon:_Nn,fields:[{name:"serviceTitle",title:"Service Title",type:"string",description:"Enter the name of the service.  --NOTE add '\\n' to the text where you want text to return on a new line. Only applies to the title in purple feature section (with the autoscroll text) and in mobile screen sizes"},lT({name:"slug",title:"Slug",type:"slug",description:"Add a custom slug for the URL or generate one from the name",options:{source:"serviceTitle"},validation:e=>e.required()}),{name:"serviceSummary",title:"Service Summary Title",description:"In a few words, summarise what this service offers. --add '\\n'(desktop), '\\tabletn' or '\\mobilen' to the text where you want text to return on a new line.",type:"string"},{name:"serviceSummaryBodyVersion",title:"Service Summary Title V2(Service List title)",description:"Same text as above field but is shown on another part of the page, with different line-breaks. --add '\\n'(desktop), '\\tabletn' or '\\mobilen' to the text where you want text to return on a new line.",type:"string"},{name:"coverImage",title:"Swiper Cover Image",type:"image",description:"Upload a cover image for this service's swiper card (on the homepage)",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string"}]},{name:"servicePageImage",title:"Cover Image for service component",type:"image",description:"Upload a cover image for this service's component in the Services page",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string"}]},{name:"serviceBannerImage",title:"Background Image for Service Banner",type:"image",description:"Upload a background image for this service's banner component",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string"}]},{name:"description",title:"Description",type:"array",description:"Full description about this service",of:[{type:"block"}]},{name:"serviceAsideList",title:"Service Aside List",description:"Will revert to award if empty",type:"document",fields:[{name:"listIntro",title:"Intro Text for Summary List",type:"string"},{name:"summaryList",title:"Summary List",type:"array",of:[{name:"listItem",type:"string"}]}]},{name:"additionalInfo",title:"Additional Information",description:"Ability to add sub category details to this service",type:"document",fields:[{name:"additionalList",title:"Additional Information List",type:"array",of:[{type:"object",fields:[{name:"listItem",title:"Title",type:"string"},{name:"listItemDetails",title:"Text",type:"text"}]}]}]},{name:"awardHighlight",title:"Award",type:"document",fields:[{name:"awardDate",title:"Award Date",type:"string"},{name:"awardTitle",title:"Award Title",type:"string",description:"add '\\n' to the text where you want text to return on a new line"},{name:"awardLogo",title:"Award Logo",type:"image",description:"Upload the award logo",fields:[{name:"alt",title:"Alt",type:"string",description:"describe what is in the image let search engines know what is being shown"}]}]},{name:"gallery",type:"object",title:"Gallery",fields:[{name:"images",type:"array",title:"Images",of:[{name:"image",type:"image",title:"Image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative text"}]}],options:{layout:"grid"}}]}],extends:"page"},kNn={name:"projects",title:"Projects",description:"Projects Schema",type:"document",icon:wNn,fields:[{name:"projectTitle",title:"Project Title",type:"string",description:"Enter the title of the project"},lT({name:"slug",title:"Slug",type:"slug",description:"Add a custom slug for the URL or generate one from the name",options:{source:"projectTitle"},validation:e=>e.required()}),{name:"projectSummary",title:"Project Summary",type:"text"},{name:"categories",title:"Categories",type:"array",of:[{type:"reference",to:[{type:"service"}]}]},{name:"completionTimeframe",title:"Completion Timeframe",type:"string"},{name:"projectLocation",title:"Project Location",type:"string"},{name:"image",title:"Homepage Project Image",type:"image",description:"Upload an image for the image slider on the homepage",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string"}]},{name:"beforeAfter",title:"Before / After Images",type:"document",fields:[{name:"beforeImage",title:"Before image",type:"image",description:"Upload a BEFORE image",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string"}]},{name:"afterImage",title:"After image",type:"image",description:"Upload an AFTER image",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string"}]}]},{name:"gallery",type:"object",title:"Gallery",fields:[{name:"images",type:"array",title:"Images",of:[{name:"image",type:"image",title:"Image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative text"}]}],options:{layout:"grid"}}]}]},jNn={name:"innerPage",title:"Innerpage Content",type:"document",icon:CNn,fields:[{name:"aboutPage",title:"About Page Content",type:"document",fields:[{name:"pageHeading",title:"About Page Hero Heading",description:"Heading for the About Page. --add '\\n'(desktop), '\\tabletn' or '\\mobilen' to the text where you want text to return on a new line.",type:"string"},{name:"pageImage",title:"About Page Hero Image",type:"image",description:"Upload an About Us Hero image",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string",description:"describe what is in the image let search engines know what is being shown"}]},{name:"introHeading",title:"Heading",description:"Heading for introduction on About Page ('Who we are')",type:"string"},{name:"introText",title:"Introduction Text",description:"Introduction text on About Page ('Who we are')",type:"array",of:[{type:"block"}]},{name:"introBgImage",title:"Background Image",type:"image",description:"Background image for intro text",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string",description:"describe what is in the image let search engines know what is being shown"}]},{name:"featureText",title:"Feature text",description:"Text in highlight box. --add '\\n'(desktop), '\\tabletn' or '\\mobilen' to the text where you want text to return on a new line.",type:"text"},{name:"contentArea",title:"Content Area Text",type:"array",of:[{type:"block"}]}],extends:"page"},{name:"ServicesPage",title:"Services Page Content",type:"document",fields:[{name:"pageHeading",title:"Services Page Hero Heading",description:"Heading for the Service Page",type:"string"},{name:"pageImage",title:"Services Page Hero Image",type:"image",description:"Upload a Service Hero image",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string",description:"describe what is in the image let search engines know what is being shown"}]},{name:"introBgImage",title:"Services Page Background Image",type:"image",description:"Background image for intro text",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string",description:"describe what is in the image let search engines know what is being shown"}]},{name:"introHeading",title:"Heading",description:"Heading for introduction on Services Page ('Who we are')",type:"string"},{name:"introText",title:"Introduction Text",description:"Introduction text on Services Page ('Who we are')",type:"text"}],extends:"page"},{name:"ProjectsPage",title:"Projects Page Content",type:"document",fields:[{name:"pageHeading",title:"Projects Page Hero Heading",description:"Heading for the Projects Page. --add '\\n' to the text where you want text to return on a new line.  *NOTE - this only applies to desktop screen sizes",type:"string"},{name:"pageImage",title:"Projects Page Hero Image",type:"image",description:"Upload a Projects Hero image",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string",description:"describe what is in the image let search engines know what is being shown"}]},{name:"BgImage",title:"Background Image / Texture",type:"image",description:"Background image for each project",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string",description:"describe what is in the image let search engines know what is being shown"}]}],extends:"page"},{name:"FaqPage",title:"FAQ Page Content",type:"document",fields:[{name:"pageHeading",title:"FAQ Page Hero Heading",description:"Heading for the FAQ Page",type:"string"},{name:"pageImage",title:"FAQ Page Hero Image",type:"image",description:"Upload a FAQ Hero image",options:{hotspot:!0},fields:[{name:"alt",title:"Alt",type:"string",description:"describe what is in the image let search engines know what is being shown"}]},{name:"introTitle",title:"FAQ Page Introduction Title",description:"Heading for the FAQ Introduction",type:"string"},{name:"introMessage",title:"FAQ Page Introduction Message",description:"Message for the FAQ Introduction --add '\\n' to the text where you want text to return on a new line.  *NOTE - this only applies on mobile screens",type:"text"},{name:"formPlaceholder",title:"FAQ Search Placeholder text",description:"text inside search form to prompt user",type:"string"}],extends:"page"},{name:"ContactPage",title:"Contact Page Content",type:"document",fields:[{name:"pageHeading",title:"Contact Page Hero Heading",description:"Heading for the Contact Page. --add '\\n'(desktop), '\\tabletn' or '\\mobilen' to the text where you want text to return on a new line.",type:"string"}]}],extends:"page",preview:{prepare(e){return{title:e.title||"Inner-page Content"}}}},TNn={name:"faq",title:"FAQs",description:"Faq Schema",type:"document",icon:SNn,fields:[{name:"question",title:"Question",type:"text"},{name:"answer",title:"Answer",type:"text"}]},ANn={name:"metadata",title:"Metadata and Policies",type:"document",icon:xNn,fields:[{name:"companyName",title:"Company Name",type:"string"},{name:"description",title:"Description",description:"Aim for around 150 - 160 characters",type:"string"},{name:"contactDetails",title:"Contact Details",type:"document",fields:[{name:"telephone",title:"Telephone",type:"string"},{name:"email",title:"Email",type:"string"}]},{name:"location",title:"Location",type:"document",fields:[{name:"streetAddress",title:"Street Address",type:"string"},{name:"addressLocality",title:"Address Locality",type:"string"},{name:"addressRegion",title:"Address Region",type:"string"},{name:"addressCountry",title:"Address Country",type:"string"},{name:"postalCode",title:"Postal Code",type:"string"},{name:"geo",title:"geolocation",type:"document",fields:[{name:"latitude",title:"Latitude",type:"string"},{name:"longitude",title:"Longitude",type:"string"}]}]},{name:"openingHours",title:"Opening Hours",type:"document",fields:[{name:"open",title:"Open",type:"string"},{name:"close",title:"Close",type:"string"}]},{name:"areasServed",title:"Areas Served",type:"string"},{name:"policies",title:"Policies",type:"document",fields:[{name:"pageTitle",title:"Page Title",type:"string"},{name:"policies",title:"Policies",type:"array",of:[{type:"block"}]}]}],preview:{prepare(e){return{title:e.title||"Metadata and Policies"}}}},DNn=[bNn,ENn,kNn,jNn,TNn,ANn],PNn={name:"default",title:"Sanity Next.js Site",projectId:"vjrrsvsn",dataset:"production",basePath:"/studio",CORS:["https://rosco-liard.vercel.app"],plugins:[c9n(),mNn()],schema:{types:DNn}};Njn(document.getElementById("sanity"),PNn,{reactStrictMode:!1,basePath:"/"});export{Xo as $,dC as A,oe as B,Hh as C,yzn as D,gA as E,lzn as F,sg as G,mzn as H,cc as I,gzn as J,b1 as K,N8e as L,yH as M,vzn as N,Ur as O,ZP as P,mOn as Q,fzn as R,aw as S,hzn as T,Hi as U,KP as V,le as W,cn as X,Q as Y,oo as Z,E3n as _,bzn as a,te as a0,Ut as a1,dr as a2,L as a3,SB as a4,f1 as a5,U as a6,zr as a7,pi as a8,ma as a9,hh as aA,Nr as aB,Zt as aC,it as aD,Ju as aE,Ca as aF,n7 as aG,Xze as aH,Mxe as aI,yr as aJ,gr as aK,pke as aL,uC as aM,tOn as aN,pr as aO,nn as aP,q9 as aQ,E0 as aR,fe as aS,rt as aa,nr as ab,uEe as ac,Od as ad,IH as ae,hV as af,Rat as ag,jr as ah,ve as ai,Kr as aj,p7 as ak,pzn as al,b_t as am,Ml as an,Rl as ao,Ds as ap,Pe as aq,qxe as ar,ne as as,INn as at,xyt as au,fd as av,ge as aw,de as ax,rOn as ay,tn as az,ic as b,QH as c,p3n as d,pOn as e,Kh as f,M as g,ry as h,v3n as i,c as j,XP as k,Yt as l,oc as m,FA as n,yn as o,xt as p,bl as q,h as r,$ as s,Q7 as t,uy as u,Wt as v,Ti as w,Qo as x,An as y,zs as z};
